# Comparing `tmp/sparsezoo_nightly-1.5.0.20230502-py3-none-any.whl.zip` & `tmp/sparsezoo_nightly-1.5.0.20230509-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,69 +1,69 @@
-Zip file size: 135099 bytes, number of entries: 67
--rw-rw-r--  2.0 unx     1002 b- defN 23-May-02 00:30 sparsezoo/__init__.py
--rw-rw-r--  2.0 unx     5138 b- defN 23-May-02 00:30 sparsezoo/analytics.py
--rw-rw-r--  2.0 unx     5048 b- defN 23-May-02 00:30 sparsezoo/analyze_cli.py
--rw-rw-r--  2.0 unx     3015 b- defN 23-May-02 00:30 sparsezoo/download_main.py
--rw-rw-r--  2.0 unx    14757 b- defN 23-May-02 00:30 sparsezoo/main.py
--rw-rw-r--  2.0 unx     4134 b- defN 23-May-02 00:30 sparsezoo/package.py
--rw-rw-r--  2.0 unx     1492 b- defN 23-May-02 00:30 sparsezoo/version.py
--rw-rw-r--  2.0 unx      685 b- defN 23-May-02 00:30 sparsezoo/analyze/__init__.py
--rw-rw-r--  2.0 unx    52910 b- defN 23-May-02 00:30 sparsezoo/analyze/analysis.py
--rw-rw-r--  2.0 unx     5518 b- defN 23-May-02 00:30 sparsezoo/analyze/cli.py
--rw-rw-r--  2.0 unx      633 b- defN 23-May-02 00:30 sparsezoo/analyze/utils/__init__.py
--rw-rw-r--  2.0 unx    14722 b- defN 23-May-02 00:30 sparsezoo/analyze/utils/chart.py
--rw-rw-r--  2.0 unx    15684 b- defN 23-May-02 00:30 sparsezoo/analyze/utils/models.py
--rw-rw-r--  2.0 unx      732 b- defN 23-May-02 00:30 sparsezoo/api/__init__.py
--rw-rw-r--  2.0 unx     1332 b- defN 23-May-02 00:30 sparsezoo/api/exceptions.py
--rw-rw-r--  2.0 unx     2915 b- defN 23-May-02 00:30 sparsezoo/api/graphql.py
--rw-rw-r--  2.0 unx     6332 b- defN 23-May-02 00:30 sparsezoo/api/query_parser.py
--rw-rw-r--  2.0 unx     1750 b- defN 23-May-02 00:30 sparsezoo/api/utils.py
--rw-rw-r--  2.0 unx      653 b- defN 23-May-02 00:30 sparsezoo/deployment_package/__init__.py
--rw-rw-r--  2.0 unx     7694 b- defN 23-May-02 00:30 sparsezoo/deployment_package/cli.py
--rw-rw-r--  2.0 unx     2138 b- defN 23-May-02 00:30 sparsezoo/deployment_package/main.py
--rw-rw-r--  2.0 unx      886 b- defN 23-May-02 00:30 sparsezoo/deployment_package/docker/Dockerfile
--rw-rw-r--  2.0 unx      898 b- defN 23-May-02 00:30 sparsezoo/deployment_package/docker/helpers.py
--rw-rw-r--  2.0 unx      680 b- defN 23-May-02 00:30 sparsezoo/deployment_package/utils/__init__.py
--rw-rw-r--  2.0 unx     3450 b- defN 23-May-02 00:30 sparsezoo/deployment_package/utils/extractors.py
--rw-rw-r--  2.0 unx    12563 b- defN 23-May-02 00:30 sparsezoo/deployment_package/utils/utils.py
--rw-rw-r--  2.0 unx      666 b- defN 23-May-02 00:30 sparsezoo/inference/__init__.py
--rw-rw-r--  2.0 unx     5813 b- defN 23-May-02 00:30 sparsezoo/inference/inference_runner.py
--rw-rw-r--  2.0 unx      676 b- defN 23-May-02 00:30 sparsezoo/model/__init__.py
--rw-rw-r--  2.0 unx    27803 b- defN 23-May-02 00:30 sparsezoo/model/model.py
--rw-rw-r--  2.0 unx     2127 b- defN 23-May-02 00:30 sparsezoo/model/result_utils.py
--rw-rw-r--  2.0 unx    22638 b- defN 23-May-02 00:30 sparsezoo/model/utils.py
--rw-rw-r--  2.0 unx      706 b- defN 23-May-02 00:30 sparsezoo/objects/__init__.py
--rw-rw-r--  2.0 unx     9619 b- defN 23-May-02 00:30 sparsezoo/objects/directories.py
--rw-rw-r--  2.0 unx    11279 b- defN 23-May-02 00:30 sparsezoo/objects/directory.py
--rw-rw-r--  2.0 unx    11323 b- defN 23-May-02 00:30 sparsezoo/objects/file.py
--rw-rw-r--  2.0 unx      656 b- defN 23-May-02 00:30 sparsezoo/search/__init__.py
--rw-rw-r--  2.0 unx     5796 b- defN 23-May-02 00:30 sparsezoo/search/search.py
--rw-rw-r--  2.0 unx     1238 b- defN 23-May-02 00:30 sparsezoo/utils/__init__.py
--rw-rw-r--  2.0 unx     5449 b- defN 23-May-02 00:30 sparsezoo/utils/authentication.py
--rw-rw-r--  2.0 unx    11681 b- defN 23-May-02 00:30 sparsezoo/utils/calculate_ops.py
--rw-rw-r--  2.0 unx     3993 b- defN 23-May-02 00:30 sparsezoo/utils/constants.py
--rw-rw-r--  2.0 unx    11125 b- defN 23-May-02 00:30 sparsezoo/utils/data.py
--rw-rw-r--  2.0 unx     6835 b- defN 23-May-02 00:30 sparsezoo/utils/download.py
--rw-rw-r--  2.0 unx     1877 b- defN 23-May-02 00:30 sparsezoo/utils/gdpr.py
--rw-rw-r--  2.0 unx     9003 b- defN 23-May-02 00:30 sparsezoo/utils/graph_editor.py
--rw-rw-r--  2.0 unx     2647 b- defN 23-May-02 00:30 sparsezoo/utils/helpers.py
--rw-rw-r--  2.0 unx    11721 b- defN 23-May-02 00:30 sparsezoo/utils/node_inference.py
--rw-rw-r--  2.0 unx     8786 b- defN 23-May-02 00:30 sparsezoo/utils/numpy.py
--rw-rw-r--  2.0 unx    14420 b- defN 23-May-02 00:30 sparsezoo/utils/onnx.py
--rw-rw-r--  2.0 unx     3269 b- defN 23-May-02 00:30 sparsezoo/utils/task_name.py
--rw-rw-r--  2.0 unx      935 b- defN 23-May-02 00:30 sparsezoo/utils/standardization/__init__.py
--rw-rw-r--  2.0 unx     2833 b- defN 23-May-02 00:30 sparsezoo/utils/standardization/feature_status.py
--rw-rw-r--  2.0 unx     6783 b- defN 23-May-02 00:30 sparsezoo/utils/standardization/feature_status_page.py
--rw-rw-r--  2.0 unx     5935 b- defN 23-May-02 00:30 sparsezoo/utils/standardization/feature_status_table.py
--rw-rw-r--  2.0 unx     2376 b- defN 23-May-02 00:30 sparsezoo/utils/standardization/markdown_utils.py
--rw-rw-r--  2.0 unx     4112 b- defN 23-May-02 00:30 sparsezoo/utils/standardization/write_status_pages.py
--rw-rw-r--  2.0 unx      687 b- defN 23-May-02 00:30 sparsezoo/validation/__init__.py
--rw-rw-r--  2.0 unx     2117 b- defN 23-May-02 00:30 sparsezoo/validation/integrations.py
--rw-rw-r--  2.0 unx     8780 b- defN 23-May-02 00:30 sparsezoo/validation/validator.py
--rw-rw-r--  2.0 unx    11353 b- defN 23-May-02 00:31 sparsezoo_nightly-1.5.0.20230502.dist-info/LICENSE
--rw-rw-r--  2.0 unx    19825 b- defN 23-May-02 00:31 sparsezoo_nightly-1.5.0.20230502.dist-info/METADATA
--rw-rw-r--  2.0 unx     1414 b- defN 23-May-02 00:31 sparsezoo_nightly-1.5.0.20230502.dist-info/NOTICE
--rw-rw-r--  2.0 unx       92 b- defN 23-May-02 00:31 sparsezoo_nightly-1.5.0.20230502.dist-info/WHEEL
--rw-rw-r--  2.0 unx      217 b- defN 23-May-02 00:31 sparsezoo_nightly-1.5.0.20230502.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx       10 b- defN 23-May-02 00:31 sparsezoo_nightly-1.5.0.20230502.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     6031 b- defN 23-May-02 00:31 sparsezoo_nightly-1.5.0.20230502.dist-info/RECORD
-67 files, 431407 bytes uncompressed, 125447 bytes compressed:  70.9%
+Zip file size: 136227 bytes, number of entries: 67
+-rw-rw-r--  2.0 unx     1002 b- defN 23-May-09 00:30 sparsezoo/__init__.py
+-rw-rw-r--  2.0 unx     5138 b- defN 23-May-09 00:30 sparsezoo/analytics.py
+-rw-rw-r--  2.0 unx     5048 b- defN 23-May-09 00:30 sparsezoo/analyze_cli.py
+-rw-rw-r--  2.0 unx     3015 b- defN 23-May-09 00:30 sparsezoo/download_main.py
+-rw-rw-r--  2.0 unx    14757 b- defN 23-May-09 00:30 sparsezoo/main.py
+-rw-rw-r--  2.0 unx     4134 b- defN 23-May-09 00:30 sparsezoo/package.py
+-rw-rw-r--  2.0 unx     1492 b- defN 23-May-09 00:30 sparsezoo/version.py
+-rw-rw-r--  2.0 unx      685 b- defN 23-May-09 00:30 sparsezoo/analyze/__init__.py
+-rw-rw-r--  2.0 unx    52910 b- defN 23-May-09 00:30 sparsezoo/analyze/analysis.py
+-rw-rw-r--  2.0 unx     5518 b- defN 23-May-09 00:30 sparsezoo/analyze/cli.py
+-rw-rw-r--  2.0 unx      633 b- defN 23-May-09 00:30 sparsezoo/analyze/utils/__init__.py
+-rw-rw-r--  2.0 unx    14722 b- defN 23-May-09 00:30 sparsezoo/analyze/utils/chart.py
+-rw-rw-r--  2.0 unx    15684 b- defN 23-May-09 00:30 sparsezoo/analyze/utils/models.py
+-rw-rw-r--  2.0 unx      732 b- defN 23-May-09 00:30 sparsezoo/api/__init__.py
+-rw-rw-r--  2.0 unx     1332 b- defN 23-May-09 00:30 sparsezoo/api/exceptions.py
+-rw-rw-r--  2.0 unx     2915 b- defN 23-May-09 00:30 sparsezoo/api/graphql.py
+-rw-rw-r--  2.0 unx     6332 b- defN 23-May-09 00:30 sparsezoo/api/query_parser.py
+-rw-rw-r--  2.0 unx     1750 b- defN 23-May-09 00:30 sparsezoo/api/utils.py
+-rw-rw-r--  2.0 unx      653 b- defN 23-May-09 00:30 sparsezoo/deployment_package/__init__.py
+-rw-rw-r--  2.0 unx     7694 b- defN 23-May-09 00:30 sparsezoo/deployment_package/cli.py
+-rw-rw-r--  2.0 unx     2138 b- defN 23-May-09 00:30 sparsezoo/deployment_package/main.py
+-rw-rw-r--  2.0 unx      886 b- defN 23-May-09 00:30 sparsezoo/deployment_package/docker/Dockerfile
+-rw-rw-r--  2.0 unx      898 b- defN 23-May-09 00:30 sparsezoo/deployment_package/docker/helpers.py
+-rw-rw-r--  2.0 unx      680 b- defN 23-May-09 00:30 sparsezoo/deployment_package/utils/__init__.py
+-rw-rw-r--  2.0 unx     4177 b- defN 23-May-09 00:30 sparsezoo/deployment_package/utils/extractors.py
+-rw-rw-r--  2.0 unx    12563 b- defN 23-May-09 00:30 sparsezoo/deployment_package/utils/utils.py
+-rw-rw-r--  2.0 unx      666 b- defN 23-May-09 00:30 sparsezoo/inference/__init__.py
+-rw-rw-r--  2.0 unx     5813 b- defN 23-May-09 00:30 sparsezoo/inference/inference_runner.py
+-rw-rw-r--  2.0 unx      676 b- defN 23-May-09 00:30 sparsezoo/model/__init__.py
+-rw-rw-r--  2.0 unx    27803 b- defN 23-May-09 00:30 sparsezoo/model/model.py
+-rw-rw-r--  2.0 unx     2127 b- defN 23-May-09 00:30 sparsezoo/model/result_utils.py
+-rw-rw-r--  2.0 unx    22638 b- defN 23-May-09 00:30 sparsezoo/model/utils.py
+-rw-rw-r--  2.0 unx      706 b- defN 23-May-09 00:30 sparsezoo/objects/__init__.py
+-rw-rw-r--  2.0 unx     9619 b- defN 23-May-09 00:30 sparsezoo/objects/directories.py
+-rw-rw-r--  2.0 unx    11279 b- defN 23-May-09 00:30 sparsezoo/objects/directory.py
+-rw-rw-r--  2.0 unx    11323 b- defN 23-May-09 00:30 sparsezoo/objects/file.py
+-rw-rw-r--  2.0 unx      656 b- defN 23-May-09 00:30 sparsezoo/search/__init__.py
+-rw-rw-r--  2.0 unx     5796 b- defN 23-May-09 00:30 sparsezoo/search/search.py
+-rw-rw-r--  2.0 unx     1238 b- defN 23-May-09 00:30 sparsezoo/utils/__init__.py
+-rw-rw-r--  2.0 unx     5449 b- defN 23-May-09 00:30 sparsezoo/utils/authentication.py
+-rw-rw-r--  2.0 unx    11681 b- defN 23-May-09 00:30 sparsezoo/utils/calculate_ops.py
+-rw-rw-r--  2.0 unx     3993 b- defN 23-May-09 00:30 sparsezoo/utils/constants.py
+-rw-rw-r--  2.0 unx    11125 b- defN 23-May-09 00:30 sparsezoo/utils/data.py
+-rw-rw-r--  2.0 unx     6835 b- defN 23-May-09 00:30 sparsezoo/utils/download.py
+-rw-rw-r--  2.0 unx     1877 b- defN 23-May-09 00:30 sparsezoo/utils/gdpr.py
+-rw-rw-r--  2.0 unx     9003 b- defN 23-May-09 00:30 sparsezoo/utils/graph_editor.py
+-rw-rw-r--  2.0 unx     2647 b- defN 23-May-09 00:30 sparsezoo/utils/helpers.py
+-rw-rw-r--  2.0 unx    11721 b- defN 23-May-09 00:30 sparsezoo/utils/node_inference.py
+-rw-rw-r--  2.0 unx     8786 b- defN 23-May-09 00:30 sparsezoo/utils/numpy.py
+-rw-rw-r--  2.0 unx    17666 b- defN 23-May-09 00:30 sparsezoo/utils/onnx.py
+-rw-rw-r--  2.0 unx     3269 b- defN 23-May-09 00:30 sparsezoo/utils/task_name.py
+-rw-rw-r--  2.0 unx      935 b- defN 23-May-09 00:30 sparsezoo/utils/standardization/__init__.py
+-rw-rw-r--  2.0 unx     2833 b- defN 23-May-09 00:30 sparsezoo/utils/standardization/feature_status.py
+-rw-rw-r--  2.0 unx     6783 b- defN 23-May-09 00:30 sparsezoo/utils/standardization/feature_status_page.py
+-rw-rw-r--  2.0 unx     5935 b- defN 23-May-09 00:30 sparsezoo/utils/standardization/feature_status_table.py
+-rw-rw-r--  2.0 unx     2376 b- defN 23-May-09 00:30 sparsezoo/utils/standardization/markdown_utils.py
+-rw-rw-r--  2.0 unx     4112 b- defN 23-May-09 00:30 sparsezoo/utils/standardization/write_status_pages.py
+-rw-rw-r--  2.0 unx      687 b- defN 23-May-09 00:30 sparsezoo/validation/__init__.py
+-rw-rw-r--  2.0 unx     2117 b- defN 23-May-09 00:30 sparsezoo/validation/integrations.py
+-rw-rw-r--  2.0 unx     8780 b- defN 23-May-09 00:30 sparsezoo/validation/validator.py
+-rw-rw-r--  2.0 unx    11353 b- defN 23-May-09 00:30 sparsezoo_nightly-1.5.0.20230509.dist-info/LICENSE
+-rw-rw-r--  2.0 unx    19827 b- defN 23-May-09 00:30 sparsezoo_nightly-1.5.0.20230509.dist-info/METADATA
+-rw-rw-r--  2.0 unx     1414 b- defN 23-May-09 00:30 sparsezoo_nightly-1.5.0.20230509.dist-info/NOTICE
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-09 00:30 sparsezoo_nightly-1.5.0.20230509.dist-info/WHEEL
+-rw-rw-r--  2.0 unx      217 b- defN 23-May-09 00:30 sparsezoo_nightly-1.5.0.20230509.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx       10 b- defN 23-May-09 00:30 sparsezoo_nightly-1.5.0.20230509.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     6031 b- defN 23-May-09 00:30 sparsezoo_nightly-1.5.0.20230509.dist-info/RECORD
+67 files, 435382 bytes uncompressed, 126575 bytes compressed:  70.9%
```

## zipnote {}

```diff
@@ -174,29 +174,29 @@
 
 Filename: sparsezoo/validation/integrations.py
 Comment: 
 
 Filename: sparsezoo/validation/validator.py
 Comment: 
 
-Filename: sparsezoo_nightly-1.5.0.20230502.dist-info/LICENSE
+Filename: sparsezoo_nightly-1.5.0.20230509.dist-info/LICENSE
 Comment: 
 
-Filename: sparsezoo_nightly-1.5.0.20230502.dist-info/METADATA
+Filename: sparsezoo_nightly-1.5.0.20230509.dist-info/METADATA
 Comment: 
 
-Filename: sparsezoo_nightly-1.5.0.20230502.dist-info/NOTICE
+Filename: sparsezoo_nightly-1.5.0.20230509.dist-info/NOTICE
 Comment: 
 
-Filename: sparsezoo_nightly-1.5.0.20230502.dist-info/WHEEL
+Filename: sparsezoo_nightly-1.5.0.20230509.dist-info/WHEEL
 Comment: 
 
-Filename: sparsezoo_nightly-1.5.0.20230502.dist-info/entry_points.txt
+Filename: sparsezoo_nightly-1.5.0.20230509.dist-info/entry_points.txt
 Comment: 
 
-Filename: sparsezoo_nightly-1.5.0.20230502.dist-info/top_level.txt
+Filename: sparsezoo_nightly-1.5.0.20230509.dist-info/top_level.txt
 Comment: 
 
-Filename: sparsezoo_nightly-1.5.0.20230502.dist-info/RECORD
+Filename: sparsezoo_nightly-1.5.0.20230509.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## sparsezoo/deployment_package/utils/extractors.py

```diff
@@ -14,15 +14,15 @@
 
 """
 A file containing extractors for different optimizing metrics
 """
 
 import logging
 from types import MappingProxyType
-from typing import Optional
+from typing import List, Optional, Union
 
 from sparsezoo import Model
 
 
 _LOGGER = logging.getLogger(__name__)
 
 
@@ -71,29 +71,49 @@
 def _accuracy(model: Model, metric_name=None) -> float:
     validation_results = getattr(model, "validation_results", {}).get("validation")
     if not validation_results:
         raise ValueError(f"Validation results not found for model {model}")
 
     if metric_name is not None:
         for result in validation_results:
-            if metric_name in result.recorded_units.lower():
+            if _metric_name_matches(metric_name, result.recorded_units.lower()):
                 return result.recorded_value
         _LOGGER.info(f"metric name {metric_name} not found for model {model}")
 
     # fallback to if any accuracy metric found
     accuracy_metrics = ["accuracy", "f1", "recall", "map", "top1 accuracy"]
     for result in validation_results:
-        if result.recorded_units.lower() in accuracy_metrics:
+        if _metric_name_matches(result.recorded_units.lower(), accuracy_metrics):
             return result.recorded_value
 
     raise ValueError(
         f"Could not find any accuracy metric {accuracy_metrics} for model {model}"
     )
 
 
+def _metric_name_matches(
+    metric_name: str, target_metrics: Union[str, List[str]]
+) -> bool:
+    # returns true if metric name is included in the target metrics
+    if isinstance(target_metrics, str):
+        target_metrics = [target_metrics]
+    return any(
+        _standardized_str_eq(metric_name, target_metric)
+        for target_metric in target_metrics
+    )
+
+
+def _standardized_str_eq(str_1: str, str_2: str) -> bool:
+    # strings are equal if lowercase, striped of spaces, -, and _ are equal
+    def _standardize(string):
+        return string.lower().replace(" ", "").replace("-", "").replace("_", "")
+
+    return _standardize(str_1) == _standardize(str_2)
+
+
 EXTRACTORS = MappingProxyType(
     {
         "compression": _size,
         "file_size": _size,
         "memory_usage": _size,
         "latency": _batch_size_one_latency,
         "throughput": _throughput,
```

## sparsezoo/utils/onnx.py

```diff
@@ -8,24 +8,32 @@
 #
 # Unless required by applicable law or agreed to in writing,
 # software distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
+import logging
 from typing import Any, Dict, Optional, Tuple, Union
 
 import numpy
-from onnx import NodeProto, numpy_helper
+import onnx
+from onnx import ModelProto, NodeProto, numpy_helper
 from onnx.helper import get_attribute_value
 
 from sparsezoo.utils import ONNXGraph
+from sparsezoo.utils.helpers import clean_path
 
 
+_LOGGER = logging.getLogger(__name__)
+
 __all__ = [
+    "save_onnx",
+    "validate_onnx",
+    "load_model",
     "get_layer_and_op_counts",
     "get_node_four_block_sparsity",
     "get_node_num_four_block_zeros_and_size",
     "get_node_sparsity",
     "get_node_weight_name",
     "get_node_weight",
     "get_node_bias",
@@ -38,14 +46,104 @@
     "is_sparse_layer",
     "group_four_block",
     "extract_node_id",
     "get_node_attributes",
 ]
 
 
+def save_onnx(
+    model: ModelProto, model_path: str, external_data_file: Optional[str] = None
+) -> bool:
+    """
+    Save model to the given path.
+
+    If the model's size is larger than the maximum protobuf size:
+        -   it will be saved with external data
+    If the model's size is smaller than the maximum protobuf size:
+        -   and the user nevertheless specifies 'external_data_file',
+            the model will be saved with external data.
+
+    :param model: The model to save.
+    :param model_path: The path to save the model to.
+    :param external_data_file: The optional name save the external data to.
+    :return True if the model was saved with external data, False otherwise.
+    """
+    if external_data_file is not None:
+        _LOGGER.debug(f"Saving with external data: {external_data_file}")
+        onnx.save(
+            model,
+            model_path,
+            save_as_external_data=True,
+            all_tensors_to_one_file=True,
+            location=external_data_file,
+        )
+        return True
+
+    if model.ByteSize() > onnx.checker.MAXIMUM_PROTOBUF:
+        _LOGGER.warning(
+            "The ONNX model is too large to be saved as a single protobuf."
+            "Saving with external data... "
+        )
+
+        onnx.save(
+            model,
+            model_path,
+            save_as_external_data=True,
+            all_tensors_to_one_file=True,
+        )
+        return True
+
+    onnx.save(model, model_path)
+    return False
+
+
+def validate_onnx(model: Union[str, ModelProto]):
+    """
+    Validate that a file at a given path is a valid ONNX model.
+    Raises a ValueError if not a valid ONNX model.
+
+    :param model: the model proto or path to the model
+        ONNX file to check for validation
+    """
+    try:
+        onnx_model = load_model(model)
+        if onnx_model.ByteSize() > onnx.checker.MAXIMUM_PROTOBUF:
+            if isinstance(model, str):
+                onnx.checker.check_model(model)
+            else:
+                _LOGGER.warning(
+                    "Attempting to validate an in-memory ONNX model with "
+                    f"size > {onnx.checker.MAXIMUM_PROTOBUF} bytes."
+                    "`validate_onnx` skipped, as large ONNX models cannot "
+                    "be validated in-memory. To validate this model, save "
+                    "it to disk and call `validate_onnx` on the file path."
+                )
+            return
+        onnx.checker.check_model(onnx_model)
+    except Exception as err:
+        raise ValueError(f"Invalid onnx model: {err}")
+
+
+def load_model(model: Union[str, ModelProto]) -> ModelProto:
+    """
+    Load an ONNX model from an onnx model file path. If a ModelProto
+    is given, then it is returned.
+
+    :param model: the model proto or path to the model ONNX file to check for loading
+    :return: the loaded ONNX ModelProto
+    """
+    if isinstance(model, ModelProto):
+        return model
+
+    if isinstance(model, str):
+        return onnx.load(clean_path(model))
+
+    raise ValueError(f"unknown type given for model: {type(model)}")
+
+
 def get_node_attributes(node: NodeProto) -> Dict[str, Any]:
     """
     :param node: node to which the attributes belong to
     :return: a dictionary of attribute name and value pairs
     """
     attributes = {}
     for attribute in node.attribute:
```

## Comparing `sparsezoo_nightly-1.5.0.20230502.dist-info/LICENSE` & `sparsezoo_nightly-1.5.0.20230509.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `sparsezoo_nightly-1.5.0.20230502.dist-info/METADATA` & `sparsezoo_nightly-1.5.0.20230509.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: sparsezoo-nightly
-Version: 1.5.0.20230502
+Version: 1.5.0.20230509
 Summary: Neural network model repository for highly sparse and sparse-quantized models with matching sparsification recipes
 Home-page: https://github.com/neuralmagic/sparsezoo
 Author: Neuralmagic, Inc.
 Author-email: support@neuralmagic.com
 License: Apache
 Keywords: inference,machine learning,neural network,deep learning model,models,computer vision,nlp,pretrained transfer learning,sparsity,pruning,quantization,sparse models,resnet,mobilenet,yolov3
 Platform: UNKNOWN
@@ -132,15 +132,15 @@
 
 - [Model Stub Architecture Overview](https://docs.neuralmagic.com/sparsezoo/source/models.html)
 - [Available Model Recipes](https://docs.neuralmagic.com/sparsezoo/source/recipes.html)
 - [sparsezoo.neuralmagic.com](https://sparsezoo.neuralmagic.com)
 
 ## Installation
 
-This repository is tested on Python 3.7-3.9, and Linux/Debian systems.
+This repository is tested on Python 3.7-3.10, and Linux/Debian systems.
 It is recommended to install in a [virtual environment](https://docs.python.org/3/library/venv.html) to keep your system in order.
 
 Install with pip using:
 
 ```bash
 pip install sparsezoo
 ```
@@ -480,14 +480,14 @@
 
 ### Contribute
 
 We appreciate contributions to the code, examples, integrations, and documentation as well as bug reports and feature requests! [Learn how here.](https://github.com/neuralmagic/sparsezoo/blob/main/CONTRIBUTING.md)
 
 ### Join
 
-For user help or questions about SparseZoo, sign up or log in to our [**Deep Sparse Community Slack**](https://join.slack.com/t/discuss-neuralmagic/shared_invite/zt-q1a1cnvo-YBoICSIw3L1dmQpjBeDurQ). We are growing the community member by member and happy to see you there. Bugs, feature requests, or additional questions can also be posted to our [GitHub Issue Queue.](https://github.com/neuralmagic/sparsezoo/issues)
+For user help or questions about SparseZoo, sign up or log in to our [**Neural Magic Community Slack**](https://join.slack.com/t/discuss-neuralmagic/shared_invite/zt-q1a1cnvo-YBoICSIw3L1dmQpjBeDurQ). We are growing the community member by member and happy to see you there. Bugs, feature requests, or additional questions can also be posted to our [GitHub Issue Queue.](https://github.com/neuralmagic/sparsezoo/issues)
 
 You can get the latest news, webinar and event invites, research papers, and other ML Performance tidbits by [subscribing](https://neuralmagic.com/subscribe/) to the Neural Magic community.
 
 For more general questions about Neural Magic, please fill out this [form.](http://neuralmagic.com/contact/)
```

### html2text {}

```diff
@@ -1,8 +1,8 @@
-Metadata-Version: 2.1 Name: sparsezoo-nightly Version: 1.5.0.20230502 Summary:
+Metadata-Version: 2.1 Name: sparsezoo-nightly Version: 1.5.0.20230509 Summary:
 Neural network model repository for highly sparse and sparse-quantized models
 with matching sparsification recipes Home-page: https://github.com/neuralmagic/
 sparsezoo Author: Neuralmagic, Inc. Author-email: support@neuralmagic.com
 License: Apache Keywords: inference,machine learning,neural network,deep
 learning model,models,computer vision,nlp,pretrained transfer
 learning,sparsity,pruning,quantization,sparse models,resnet,mobilenet,yolov3
 Platform: UNKNOWN Classifier: Development Status :: 5 - Production/Stable
@@ -64,15 +64,15 @@
 architectures. The [GitHub repository](https://github.com/neuralmagic/
 sparsezoo) contains the Python API code to handle the connection and
 authentication to the cloud. [SparseZoo Flow] ## Highlights - [Model Stub
 Architecture Overview](https://docs.neuralmagic.com/sparsezoo/source/
 models.html) - [Available Model Recipes](https://docs.neuralmagic.com/
 sparsezoo/source/recipes.html) - [sparsezoo.neuralmagic.com](https://
 sparsezoo.neuralmagic.com) ## Installation This repository is tested on Python
-3.7-3.9, and Linux/Debian systems. It is recommended to install in a [virtual
+3.7-3.10, and Linux/Debian systems. It is recommended to install in a [virtual
 environment](https://docs.python.org/3/library/venv.html) to keep your system
 in order. Install with pip using: ```bash pip install sparsezoo ``` ## Quick
 Tour The SparseZoo Python API enables you to search and download sparsified
 models. Code examples are given below. We encourage users to load SparseZoo
 models by copying a stub directly from a [model page]((https://
 sparsezoo.neuralmagic.com/)). ### Introduction to Model Class Object The
 `Model` is a fundamental object that serves as a main interface with the
@@ -219,16 +219,16 @@
 project/sparsezoo-nightly/) Additionally, more information can be found via
 [GitHub Releases.](https://github.com/neuralmagic/sparsezoo/releases) ###
 License The project is licensed under the [Apache License Version 2.0.](https:/
 /github.com/neuralmagic/sparsezoo/blob/main/LICENSE) ## Community ###
 Contribute We appreciate contributions to the code, examples, integrations, and
 documentation as well as bug reports and feature requests! [Learn how here.]
 (https://github.com/neuralmagic/sparsezoo/blob/main/CONTRIBUTING.md) ### Join
-For user help or questions about SparseZoo, sign up or log in to our [**Deep
-Sparse Community Slack**](https://join.slack.com/t/discuss-neuralmagic/
+For user help or questions about SparseZoo, sign up or log in to our [**Neural
+Magic Community Slack**](https://join.slack.com/t/discuss-neuralmagic/
 shared_invite/zt-q1a1cnvo-YBoICSIw3L1dmQpjBeDurQ). We are growing the community
 member by member and happy to see you there. Bugs, feature requests, or
 additional questions can also be posted to our [GitHub Issue Queue.](https://
 github.com/neuralmagic/sparsezoo/issues) You can get the latest news, webinar
 and event invites, research papers, and other ML Performance tidbits by
 [subscribing](https://neuralmagic.com/subscribe/) to the Neural Magic
 community. For more general questions about Neural Magic, please fill out this
```

## Comparing `sparsezoo_nightly-1.5.0.20230502.dist-info/NOTICE` & `sparsezoo_nightly-1.5.0.20230509.dist-info/NOTICE`

 * *Files identical despite different names*

## Comparing `sparsezoo_nightly-1.5.0.20230502.dist-info/RECORD` & `sparsezoo_nightly-1.5.0.20230509.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -18,15 +18,15 @@
 sparsezoo/api/utils.py,sha256=vhrlo1JOg4hXQrirH2D0XxaU1hiLMvlvm6IxfW2QB_M,1750
 sparsezoo/deployment_package/__init__.py,sha256=hwgyNki_YjqwOjt4i6c3m45Bwcx78Hf4vs2jzCkHPv4,653
 sparsezoo/deployment_package/cli.py,sha256=qCQKCFFHTMRUfOJgRXhv_M0tWoB5nOuBXWZ-niYor9E,7694
 sparsezoo/deployment_package/main.py,sha256=tFkZh2ubEKHmYWZgktwmYxZ5KoWeNb0Ai96fDex6bOo,2138
 sparsezoo/deployment_package/docker/Dockerfile,sha256=__4RMXEAsYy_BKV0-eXOkTaqcfmgcUIhOjyUlWvsvAc,886
 sparsezoo/deployment_package/docker/helpers.py,sha256=DxZQb_feOawnIh-8mimksxk8jgVvSlBK5Upf0ZmfD44,898
 sparsezoo/deployment_package/utils/__init__.py,sha256=8ddpb2k4XCI6hPTAglPZSXR432pdzEXY1u8FNv2icUE,680
-sparsezoo/deployment_package/utils/extractors.py,sha256=ABjinzFiG41M4dMkUjTL-P54nPib_omPqeNkiTZsN2I,3450
+sparsezoo/deployment_package/utils/extractors.py,sha256=24zyUp3Dls3r6SnVczN8knDyZY_iQBP7ihZlky6hUgw,4177
 sparsezoo/deployment_package/utils/utils.py,sha256=PC1aYGRI6RtU3BWC2dOkkfdqODaeEDoSyM8-GmeZF2Q,12563
 sparsezoo/inference/__init__.py,sha256=1qep3wddVIyLYXd2casIa3wBDSK5Msw9rxUNro8I1BQ,666
 sparsezoo/inference/inference_runner.py,sha256=R3yAKMQ9HgM57TQ15o8qp7VZWSUy6U6F282Qs6oN92I,5813
 sparsezoo/model/__init__.py,sha256=dmczWaTIPI42TC1JXu9ODx84igsR8nhFeTXu13x2gnc,676
 sparsezoo/model/model.py,sha256=1GI4JZhyihTo7sI42ihsgerIpNQtvo1p7iAXmhWqScs,27803
 sparsezoo/model/result_utils.py,sha256=_rbWvmQY-zcP-Gv5plwv9EO1zPl8zlUkydnn0WVUjYg,2127
 sparsezoo/model/utils.py,sha256=MD7R4GV41d5anNwxFeYb8Dsx9COauuWpQb2NxDVYlj4,22638
@@ -43,25 +43,25 @@
 sparsezoo/utils/data.py,sha256=3TGMUC8q-sGPDB7xasLhMPzXjDzvZbBzOu-sYDO0aCQ,11125
 sparsezoo/utils/download.py,sha256=pgxZ6aF9_j8lH5OR8rwoDt3ZhjAGBBI33nA7mdqwoks,6835
 sparsezoo/utils/gdpr.py,sha256=bvg5wVN3teS8ySOvcwnFIOHrq9qGcmkqxNn9Z08tVqU,1877
 sparsezoo/utils/graph_editor.py,sha256=YaXpQNWB0TDo8UuyU6yrl9-UFx5WiMkqZLdU6iQpEy0,9003
 sparsezoo/utils/helpers.py,sha256=5bfikcKmgXHa9J_KJuFJ-RhfHOut4teY-mBOlFl6hVE,2647
 sparsezoo/utils/node_inference.py,sha256=KNM5xQ-DHs8SL6QaDR0X230QdyhVWpZaR8KbMFc5B1Y,11721
 sparsezoo/utils/numpy.py,sha256=FkUubiLWMIiOhKRj2cG7lRF_Ovj6U_i_0FKbJa7T3jA,8786
-sparsezoo/utils/onnx.py,sha256=kKNoSaKAf3OfaUh5YvmgK5HsOinrbIT7B7Zf_oRNjfM,14420
+sparsezoo/utils/onnx.py,sha256=6QRHSXAvqQX15Cv_Eqx-LNoP7Y0yPjFHJkJJpj4xVJ8,17666
 sparsezoo/utils/task_name.py,sha256=ZZ-RH_SvPsBDXVH0eKvxkYwnLhpptgC1fLzJaBAx09w,3269
 sparsezoo/utils/standardization/__init__.py,sha256=xoDMf9rGim6_8-VbQEFtR8qjXpuyy1ruX5j5jjR6ASw,935
 sparsezoo/utils/standardization/feature_status.py,sha256=THCD8X0MR8FD9RJ8Ttm2Csl5hy4J9Cs2i4oLIHvph7M,2833
 sparsezoo/utils/standardization/feature_status_page.py,sha256=F6F1pIvwzcixKyu6vj6Kw_ZIwV1ZwFdj9lhqObwxlkY,6783
 sparsezoo/utils/standardization/feature_status_table.py,sha256=p3BPpgcBF5GKpngt8iqSeqb9mHgtTTlaj8cEVDKz6Jw,5935
 sparsezoo/utils/standardization/markdown_utils.py,sha256=MjnZ9JFwZ9_mZ2-fG-MJPBWYnSL9MNqQ2qxLeGr0bFw,2376
 sparsezoo/utils/standardization/write_status_pages.py,sha256=K4ZscAX_xKl-d4ZQ2z4fEc4qGAcLHYCrsDTd9wV0xBc,4112
 sparsezoo/validation/__init__.py,sha256=3nxA-dWMpSjQ4Sz4kkRQP6cr2L7rZEvoNd1RCZiswAg,687
 sparsezoo/validation/integrations.py,sha256=aVLvdFQs7K1KzGFUNLe5La67MjNHW0yNaRXdJdRgI00,2117
 sparsezoo/validation/validator.py,sha256=x918oFHrvhJImljoweYvF0PVMO1sqJNwT0HKGfEXyy0,8780
-sparsezoo_nightly-1.5.0.20230502.dist-info/LICENSE,sha256=1KsbiqMUywdsP8MBywGsGxGf0Di1PHm1XIjWC24QNps,11353
-sparsezoo_nightly-1.5.0.20230502.dist-info/METADATA,sha256=v68UhcSNMY4YWlICvJfyH3yMqgSySGzohZzrPCjQsac,19825
-sparsezoo_nightly-1.5.0.20230502.dist-info/NOTICE,sha256=naAyHz-LxMVCUVA27ssHBRIifnAixYvIhas5XTnEiO8,1414
-sparsezoo_nightly-1.5.0.20230502.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
-sparsezoo_nightly-1.5.0.20230502.dist-info/entry_points.txt,sha256=2tpzvrHBD--Om3jpHnfw1gx6EqA2IPFqnfJIl-RPX3o,217
-sparsezoo_nightly-1.5.0.20230502.dist-info/top_level.txt,sha256=SE5RMAyyIBKn6fDrXXF33MqdfB2Am0a9n9HRLAcrcZI,10
-sparsezoo_nightly-1.5.0.20230502.dist-info/RECORD,,
+sparsezoo_nightly-1.5.0.20230509.dist-info/LICENSE,sha256=1KsbiqMUywdsP8MBywGsGxGf0Di1PHm1XIjWC24QNps,11353
+sparsezoo_nightly-1.5.0.20230509.dist-info/METADATA,sha256=JE3yRNmouv2g8srNppz_hU1N4uG0QKKB5AvUOtcWGyI,19827
+sparsezoo_nightly-1.5.0.20230509.dist-info/NOTICE,sha256=naAyHz-LxMVCUVA27ssHBRIifnAixYvIhas5XTnEiO8,1414
+sparsezoo_nightly-1.5.0.20230509.dist-info/WHEEL,sha256=OqRkF0eY5GHssMorFjlbTIq072vpHpF60fIQA6lS9xA,92
+sparsezoo_nightly-1.5.0.20230509.dist-info/entry_points.txt,sha256=2tpzvrHBD--Om3jpHnfw1gx6EqA2IPFqnfJIl-RPX3o,217
+sparsezoo_nightly-1.5.0.20230509.dist-info/top_level.txt,sha256=SE5RMAyyIBKn6fDrXXF33MqdfB2Am0a9n9HRLAcrcZI,10
+sparsezoo_nightly-1.5.0.20230509.dist-info/RECORD,,
```

