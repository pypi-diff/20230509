# Comparing `tmp/l3c-0.0.2-py2.py3-none-any.whl.zip` & `tmp/l3c-0.0.3-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 89973 bytes, number of entries: 38
+Zip file size: 90047 bytes, number of entries: 38
 -rw-r--r--  2.0 unx      762 b- defN 23-Feb-23 10:11 l3c/__init__.py
 -rw-r--r--  2.0 unx      838 b- defN 23-Feb-23 10:11 l3c/bandits/__init__.py
 -rw-r--r--  2.0 unx     2717 b- defN 23-Feb-23 10:11 l3c/bandits/bandits_env.py
 -rw-r--r--  2.0 unx     1022 b- defN 23-Feb-23 10:32 l3c/bandits/demo_thompson_sampling.py
 -rw-r--r--  2.0 unx     1615 b- defN 23-Feb-23 10:48 l3c/mazeworld/__init__.py
 -rw-r--r--  2.0 unx     1005 b- defN 23-Feb-23 11:00 l3c/mazeworld/keyboard_play_demo_2d.py
 -rw-r--r--  2.0 unx     1098 b- defN 23-Feb-23 11:01 l3c/mazeworld/keyboard_play_demo_continous_3d.py
@@ -22,19 +22,19 @@
 -rwxr-xr-x  2.0 unx     3680 b- defN 23-Feb-23 10:11 l3c/mazeworld/envs/img/ground_greystone.png
 -rw-r--r--  2.0 unx    11539 b- defN 23-Feb-23 10:11 l3c/mazeworld/envs/img/wall_aoi_stone.png
 -rwxr-xr-x  2.0 unx     2590 b- defN 23-Feb-23 10:11 l3c/mazeworld/envs/img/wall_bluestone.png
 -rwxr-xr-x  2.0 unx     3344 b- defN 23-Feb-23 10:11 l3c/mazeworld/envs/img/wall_colorstone.png
 -rwxr-xr-x  2.0 unx     4263 b- defN 23-Feb-23 10:11 l3c/mazeworld/envs/img/wall_mossy.png
 -rw-r--r--  2.0 unx    12425 b- defN 23-Feb-23 10:11 l3c/mazeworld/envs/img/wall_red_brick_1.png
 -rw-r--r--  2.0 unx    11814 b- defN 23-Feb-23 10:11 l3c/mazeworld/envs/img/wall_red_brick_2.png
--rw-r--r--  2.0 unx     1061 b- defN 23-Apr-19 14:10 l3c/metalm/__init__.py
--rw-r--r--  2.0 unx     2154 b- defN 23-Apr-19 14:14 l3c/metalm/data_generator.py
+-rw-r--r--  2.0 unx     1080 b- defN 23-May-09 04:51 l3c/metalm/__init__.py
+-rw-r--r--  2.0 unx     2204 b- defN 23-May-09 04:40 l3c/metalm/data_generator.py
 -rw-r--r--  2.0 unx     3297 b- defN 23-Apr-19 12:50 l3c/metalm/metalm-2.py
 -rw-r--r--  2.0 unx     4162 b- defN 23-Apr-19 12:51 l3c/metalm/metalm.py
 -rw-r--r--  2.0 unx     4164 b- defN 23-Apr-19 14:08 l3c/metalm/metalmv1.py
--rw-r--r--  2.0 unx     3854 b- defN 23-Apr-20 06:54 l3c/metalm/metalmv2.py
--rw-r--r--  2.0 unx    11357 b- defN 23-Apr-26 01:07 l3c-0.0.2.dist-info/LICENSE
--rw-r--r--  2.0 unx     1143 b- defN 23-Apr-26 01:07 l3c-0.0.2.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 23-Apr-26 01:07 l3c-0.0.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        4 b- defN 23-Apr-26 01:07 l3c-0.0.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3319 b- defN 23-Apr-26 01:07 l3c-0.0.2.dist-info/RECORD
-38 files, 156316 bytes uncompressed, 84643 bytes compressed:  45.9%
+-rw-r--r--  2.0 unx     4220 b- defN 23-May-09 04:51 l3c/metalm/metalmv2.py
+-rw-r--r--  2.0 unx    11357 b- defN 23-May-09 04:53 l3c-0.0.3.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1143 b- defN 23-May-09 04:53 l3c-0.0.3.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 23-May-09 04:53 l3c-0.0.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx        4 b- defN 23-May-09 04:53 l3c-0.0.3.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3319 b- defN 23-May-09 04:53 l3c-0.0.3.dist-info/RECORD
+38 files, 156751 bytes uncompressed, 84717 bytes compressed:  46.0%
```

## zipnote {}

```diff
@@ -93,23 +93,23 @@
 
 Filename: l3c/metalm/metalmv1.py
 Comment: 
 
 Filename: l3c/metalm/metalmv2.py
 Comment: 
 
-Filename: l3c-0.0.2.dist-info/LICENSE
+Filename: l3c-0.0.3.dist-info/LICENSE
 Comment: 
 
-Filename: l3c-0.0.2.dist-info/METADATA
+Filename: l3c-0.0.3.dist-info/METADATA
 Comment: 
 
-Filename: l3c-0.0.2.dist-info/WHEEL
+Filename: l3c-0.0.3.dist-info/WHEEL
 Comment: 
 
-Filename: l3c-0.0.2.dist-info/top_level.txt
+Filename: l3c-0.0.3.dist-info/top_level.txt
 Comment: 
 
-Filename: l3c-0.0.2.dist-info/RECORD
+Filename: l3c-0.0.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## l3c/metalm/__init__.py

```diff
@@ -29,10 +29,11 @@
 
 register(
     id='meta-lm-v2',
     entry_point='l3c.metalm:MetaLMv2',
     kwargs={"V": 64,
         "n": 16,
         "N": 16,
+        "e": 0.10,
         "L": 2048
     }
 )
```

## l3c/metalm/data_generator.py

```diff
@@ -16,15 +16,15 @@
 
 import sys
 import argparse
 from l3c.metalm import MetaLMv1
 from l3c.metalm import MetaLMv2
 
 if __name__=='__main__':
-    parser = argparse.ArgumentParser(description='Demo of argparse')
+    parser = argparse.ArgumentParser(description='Generating Pseudo-Training Data')
     parser.add_argument('--version', type=str, default='v1')
     parser.add_argument('--vocab_size', type=int, default=64)
     parser.add_argument('--embedding_size', type=int, default=16)
     parser.add_argument('--hidden_size', type=int, default=16)
     parser.add_argument('--elements_length', type=int, default=64)
     parser.add_argument('--elements_number', type=int, default=10)
     parser.add_argument('--error_rate', type=float, default=0.10)
@@ -42,13 +42,14 @@
                 e=args.error_rate,
                 L=args.sequence_length)
     elif(args.version == 'v2'):
         dataset = MetaLMv2(
                 V=args.vocab_size,
                 n=args.embedding_size,
                 N=args.hidden_size,
+                e=args.error_rate,
                 L=args.sequence_length)
 
     if(args.output is None):
         dataset.generate_to_file(args.samples, sys.stdout)
     else:
         dataset.generate_to_file(args.samples, args.output)
```

## l3c/metalm/metalmv2.py

```diff
@@ -15,78 +15,85 @@
 import sys
 import _io
 import numpy
 import gym
 from numpy import random
 
 class RandomRNN(object):
-    def __init__(self, n_emb=16, n_hidden=64, n_vocab=256):
+    def __init__(self, n_emb=16, n_hidden=64, eps=0.10, n_vocab=256):
         self.n_emb = n_emb
         self.n_hidden = n_hidden
         self.n_vocab = n_vocab
         self.emb = numpy.random.normal(0, 1.0, size=(self.n_vocab, self.n_emb))
         self.W_i = numpy.random.normal(0, 1.0, size=(self.n_emb, self.n_hidden))
         self.W_h = numpy.random.normal(0, 1.0, size=(self.n_hidden, self.n_hidden))
         self.b_h = numpy.random.normal(0, 1.0, size=(self.n_hidden))
         self.W_o = numpy.random.normal(0, 1.0, size=(self.n_hidden, self.n_vocab))
         self.b_o = numpy.random.normal(0, 1.0, size=(self.n_vocab))
+        self.eps = eps
 
     def softmax(self, x):
         e_x = numpy.exp(x - numpy.max(x, axis=-1, keepdims=True))
         return e_x / e_x.sum(axis=-1, keepdims=True)
 
     def forward(self, l, batch):
         ind = 0
+
+        # Start token
         s_tok = numpy.random.randint(0, self.n_vocab, size=(batch,))
+
         cur_tok = numpy.copy(s_tok)
+
         h = numpy.zeros((batch, self.n_hidden))
         seqs = []
         while ind < l:
             ind += 1
             i = self.emb[cur_tok]
             h = numpy.tanh(numpy.matmul(i, self.W_i) + numpy.matmul(h, self.W_h) + self.b_h)
+            o = numpy.matmul(h, self.W_o) + self.b_o
 
-            o = self.softmax(numpy.matmul(h, self.W_o) + self.b_o)
-            cum_prob = numpy.cumsum(o, axis=-1) # shape (batch,)
-            r = numpy.random.uniform(size=(batch, 1))
-
-            # argmax finds the index of the first True value in the last axis.
-            cur_tok = numpy.argmax(cum_prob > r, axis=-1)
-            h -= numpy.expand_dims((cur_tok == s_tok).astype(h.dtype), -1) * h
+            tok_greedy = numpy.argmax(o, axis=-1)
+            tok_random = numpy.random.randint(0, self.n_vocab, size=(batch,))
+            tok_select = (numpy.random.rand(batch) < self.eps)
+            cur_tok = numpy.where(numpy.random.rand(batch) < self.eps, tok_random, tok_greedy)
             seqs.append(cur_tok)
+
         return numpy.transpose(numpy.asarray(seqs, dtype="int32"))
 
 class MetaLMv2(gym.Env):
     """
     Pseudo Langauge Generated from RNN models
     V: vocabulary size
     n: embedding size (input size)
     N: hidden size
+    e: epsilon in epsilon greedy
     L: maximum length
     """
     def __init__(self, 
             V=64, 
             n=4,
             N=4,
+            e=0.10,
             L=4096):
         self.L = int(L)
         self.V = int(V)
         self.n = n
         self.N = N
+        self.eps = e
         assert n > 1 and V > 1 and N > 1 and L > 1 
 
     def data_generator(self):
-        nn = RandomRNN(n_emb = self.n, n_hidden = self.N, n_vocab = self.V)
+        nn = RandomRNN(n_emb = self.n, n_hidden = self.N, n_vocab = self.V + 1, eps=self.eps)
         tokens = nn.forward(self.L + 1, 1)[0]
         feas = tokens[:-1]
         labs = tokens[1:]
         return feas, labs
 
     def batch_generator(self, batch_size):
-        nn = RandomRNN(n_emb = self.n, n_hidden = self.N, n_vocab = self.V)
+        nn = RandomRNN(n_emb = self.n, n_hidden = self.N, n_vocab = self.V + 1, eps=self.eps)
         tokens = nn.forward(self.L + 1, batch_size)
         feas = tokens[:, :-1]
         labs = tokens[:, 1:]
         return feas, labs
 
     def generate_to_file(self, size, output_stream):
         feas,labs = self.batch_generator(size)
@@ -96,7 +103,24 @@
             output_stream = open(output_stream, "w")
             need_close = True
         for i in range(feas.shape[0]):
             output_stream.write("\t".join(map(lambda x:"%s,%s"%(x[0],x[1]), zip(feas[i].tolist(), labs[i].tolist()))))
             output_stream.write("\n")
         if(need_close):
             output_stream.close()
+
+    @property
+    def VocabSize(self):
+        return self.V + 1
+
+    @property
+    def SepID(self):
+        raise Exception("Not Defined")
+        
+
+    @property
+    def MaskID(self):
+        return 0
+
+    @property
+    def PaddingID(self):
+        return 0
```

## Comparing `l3c-0.0.2.dist-info/LICENSE` & `l3c-0.0.3.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `l3c-0.0.2.dist-info/METADATA` & `l3c-0.0.3.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: l3c
-Version: 0.0.2
+Version: 0.0.3
 Summary: L3C provide abundant environments for Lifelong Learning (L3) in Context.
 Home-page: https://github.com/FutureAGI/L3C
 Author: WorldEditors
 Author-email: 
 License: Apache
 Platform: UNKNOWN
 Requires-Python: >=3.7
```

## Comparing `l3c-0.0.2.dist-info/RECORD` & `l3c-0.0.3.dist-info/RECORD`

 * *Files 17% similar despite different names*

```diff
@@ -21,18 +21,18 @@
 l3c/mazeworld/envs/img/ground_greystone.png,sha256=t5a7w1b4djSSXA6mVbyKWZXX6eFGcNM_zraJJLsJigU,3680
 l3c/mazeworld/envs/img/wall_aoi_stone.png,sha256=ggaHDun9BEUW7eOrSk9mcF3fRsDa7TiY7nu4YJzhdxA,11539
 l3c/mazeworld/envs/img/wall_bluestone.png,sha256=GPCfU-hbFaVZ6wgME0EbYC6OEi-YSwQ7g6cu6uPaB6U,2590
 l3c/mazeworld/envs/img/wall_colorstone.png,sha256=_ULNZkPphPCw3IzbcyDnpX2xWbrlslV2N-63TWzsjII,3344
 l3c/mazeworld/envs/img/wall_mossy.png,sha256=y8IbH0vFg8sBMKjb66RHO8d7juHP5g_oM0i40AW0T7g,4263
 l3c/mazeworld/envs/img/wall_red_brick_1.png,sha256=Ecaa4NXxMVBLoggfG_GSSomA2LOv8fH2GARjsO0zXc4,12425
 l3c/mazeworld/envs/img/wall_red_brick_2.png,sha256=bYrAjiA3WB2nfdNloerjvzxzBPSElJYTvwTlGrHmg0g,11814
-l3c/metalm/__init__.py,sha256=Y3OpyeJjWeLRdLZdmafzwkpHbNbaqRZJSLgjtb5ol-0,1061
-l3c/metalm/data_generator.py,sha256=9-Na0-JBQeZA8UXlteLqgqKDclPTLIhjitupOwTyTOQ,2154
+l3c/metalm/__init__.py,sha256=6pRqrcLpK_08xBv7q3L5vMZaeoZSp2WZeGBb8d_uWGI,1080
+l3c/metalm/data_generator.py,sha256=Wx-cIow7LTzi-MSUjDJKnt1tqIfDUzGTkhtY4Gf7wAk,2204
 l3c/metalm/metalm-2.py,sha256=FJsMWE0e0k0UhlDir0aEhTlH8OUtlb9mjpedr-iAxtI,3297
 l3c/metalm/metalm.py,sha256=xKam8PyPjvYO9RYJKuELBlaNofhz4g8uouX01v75K5w,4162
 l3c/metalm/metalmv1.py,sha256=De6Mf8KP2NSruCi8cnjAQsUk0j5jANlPiG2BVQXxp88,4164
-l3c/metalm/metalmv2.py,sha256=E1dgAfnWlCl2Sn9njbdoL7E42Ob6IMVeRePsU1xP_0w,3854
-l3c-0.0.2.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
-l3c-0.0.2.dist-info/METADATA,sha256=1sHRJK1UMqAQY9mE-x0T3bhkV9BTsNaisZWo7d6R0is,1143
-l3c-0.0.2.dist-info/WHEEL,sha256=Z-nyYpwrcSqxfdux5Mbn_DQ525iP7J2DG3JgGvOYyTQ,110
-l3c-0.0.2.dist-info/top_level.txt,sha256=WeNjR4pvnQ5MwViVnFAOo0RBN1Z_cEiXuLP50lrX4v0,4
-l3c-0.0.2.dist-info/RECORD,,
+l3c/metalm/metalmv2.py,sha256=kD5oPHQ5Q-BFKSTT0FML4jjXuQm4vxLHFzOwOOTYCUA,4220
+l3c-0.0.3.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
+l3c-0.0.3.dist-info/METADATA,sha256=1EBlF7gNz5rwDN-p9S_xJ0HHWjbEyQqhZ8-lQ_VxrD4,1143
+l3c-0.0.3.dist-info/WHEEL,sha256=Z-nyYpwrcSqxfdux5Mbn_DQ525iP7J2DG3JgGvOYyTQ,110
+l3c-0.0.3.dist-info/top_level.txt,sha256=WeNjR4pvnQ5MwViVnFAOo0RBN1Z_cEiXuLP50lrX4v0,4
+l3c-0.0.3.dist-info/RECORD,,
```

