# Comparing `tmp/ccxt-3.0.97.tar.gz` & `tmp/ccxt-3.0.98.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/ccxt-3.0.97.tar", last modified: Mon May  8 09:49:36 2023, max compression
+gzip compressed data, was "dist/ccxt-3.0.98.tar", last modified: Tue May  9 08:16:12 2023, max compression
```

## Comparing `ccxt-3.0.97.tar` & `ccxt-3.0.98.tar`

### file list

```diff
@@ -1,487 +1,487 @@
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:36.012791 ccxt-3.0.97/
--rw-rw-r--   0 travis    (2000) travis    (2000)     1068 2023-05-08 09:49:20.000000 ccxt-3.0.97/LICENSE.txt
--rw-rw-r--   0 travis    (2000) travis    (2000)      100 2023-05-08 09:23:49.000000 ccxt-3.0.97/MANIFEST.in
--rw-rw-r--   0 travis    (2000) travis    (2000)   113274 2023-05-08 09:49:36.016791 ccxt-3.0.97/PKG-INFO
--rw-rw-r--   0 travis    (2000) travis    (2000)   102253 2023-05-08 09:23:49.000000 ccxt-3.0.97/README.rst
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.876779 ccxt-3.0.97/ccxt/
--rw-rw-r--   0 travis    (2000) travis    (2000)    15626 2023-05-08 09:49:19.000000 ccxt-3.0.97/ccxt/__init__.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.900781 ccxt-3.0.97/ccxt/abstract/
--rw-rw-r--   0 travis    (2000) travis    (2000)        0 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/abstract/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1448 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/ace.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1861 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/alpaca.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    11071 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/ascendex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     8376 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bequant.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2347 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bigone.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62883 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/binance.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62883 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/binancecoinm.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62883 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/binanceus.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62883 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/binanceusdm.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2830 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bit2c.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1989 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitbank.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     5482 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitbay.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     4082 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitbns.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     8376 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitcoincom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     7605 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitfinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    19171 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitfinex2.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3576 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitflyer.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2443 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitforex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    17077 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitget.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2659 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bithumb.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     8966 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitmart.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     8653 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitmex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2919 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitopro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3859 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitpanda.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3648 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitrue.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     4025 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitso.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22372 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitstamp.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1987 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitstamp1.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     9337 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bittrex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2357 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bitvavo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     7439 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bkex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2024 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bl3p.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2638 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/blockchaincom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1380 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/btcalpha.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      849 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/btcbox.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     5594 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/btcex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3690 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/btcmarkets.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1407 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/btctradeua.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1403 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/btcturk.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    71684 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/bybit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3311 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/cex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     9017 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinbase.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6952 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinbaseprime.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6952 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinbasepro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3417 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coincheck.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    14759 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2182 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinfalcon.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     5354 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinmate.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2504 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinone.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3736 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinsph.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2707 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/coinspot.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    21126 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/cryptocom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     7452 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/currencycom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3128 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/delta.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    15499 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/deribit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     9386 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/digifinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6177 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/exmo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     8376 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/fmfwio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    27864 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/gate.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    27864 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/gateio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6840 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/gemini.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     8376 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/hitbtc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    10949 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/hitbtc3.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2596 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/hollaex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    95821 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/huobi.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    14331 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/huobijp.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    95821 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/huobipro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2129 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/idex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     4165 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/independentreserve.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2266 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/indodax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     4979 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/kraken.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2867 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/krakenfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    20600 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/kucoin.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    20893 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/kucoinfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    19005 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/kuna.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     7168 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/latoken.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1474 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/lbank.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6930 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/lbank2.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3566 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/luno.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2960 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/lykke.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2357 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/mercado.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    23203 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/mexc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    23203 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/mexc3.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    11878 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/ndax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2565 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/novadax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1721 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/oceanex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    25825 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/okcoin.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    29716 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/okex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    29716 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/okex5.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    29716 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/okx.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2752 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/paymium.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    12172 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/phemex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6301 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/poloniex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     4575 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/poloniexfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1849 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/probit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    10639 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/stex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1953 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/tidex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     5875 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/timex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     4094 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/tokocrypto.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3463 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/upbit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    18450 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/wavesexchange.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2130 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/wazirx.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     7934 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/whitebit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     7689 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/woo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    25850 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/xt.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1339 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/yobit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3935 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/zaif.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     5482 2023-05-08 09:27:52.000000 ccxt-3.0.97/ccxt/abstract/zonda.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    41329 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/ace.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    33161 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/alpaca.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   127668 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/ascendex.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.940785 ccxt-3.0.97/ccxt/async_support/
--rw-rw-r--   0 travis    (2000) travis    (2000)    15429 2023-05-08 09:49:19.000000 ccxt-3.0.97/ccxt/async_support/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    41553 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/ace.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    33307 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/alpaca.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   128282 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/ascendex.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.944785 ccxt-3.0.97/ccxt/async_support/base/
--rw-rw-r--   0 travis    (2000) travis    (2000)       67 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   128268 2023-05-08 09:49:19.000000 ccxt-3.0.97/ccxt/async_support/base/exchange.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1847 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/throttler.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.948786 ccxt-3.0.97/ccxt/async_support/base/ws/
--rw-rw-r--   0 travis    (2000) travis    (2000)     1791 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     4999 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/aiohttp_client.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6085 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/cache.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     7289 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/client.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3733 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/fast_client.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1495 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/functions.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      249 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/future.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2894 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/order_book.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6079 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/base/ws/order_book_side.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1150 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bequant.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62726 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bigone.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   374663 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/binance.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1683 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/binancecoinm.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2165 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/binanceus.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2518 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/binanceusdm.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35688 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bit2c.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    39268 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitbank.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      462 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitbay.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    46227 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitbns.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      481 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitcoincom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    69752 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitfinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   111979 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitfinex2.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    38049 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitflyer.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    28522 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitforex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   204762 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitget.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    42790 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bithumb.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   132014 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitmart.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   120028 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitmex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    63629 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitopro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    87760 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitpanda.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    88471 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitrue.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    68835 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitso.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    82612 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitstamp.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    17931 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitstamp1.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    93903 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bittrex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    77171 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bitvavo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    74597 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bkex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    16351 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bl3p.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    47523 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/blockchaincom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35438 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/btcalpha.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22683 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/btcbox.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   111410 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/btcex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    48897 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/btcmarkets.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22323 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/btctradeua.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35602 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/btcturk.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    45959 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/buda.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   395491 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/bybit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    65248 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/cex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   125230 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinbase.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1233 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinbaseprime.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    74293 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinbasepro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34414 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coincheck.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   191811 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    39252 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinfalcon.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    39813 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinmate.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34679 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinone.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    81496 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinsph.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    18912 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/coinspot.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   108492 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/cryptocom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    80003 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/currencycom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    84440 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/delta.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   119560 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/deribit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   152866 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/digifinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    89266 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/exmo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1183 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/flowbtc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1252 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/fmfwio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   221908 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/gate.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      459 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/gateio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    69449 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/gemini.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62675 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/hitbtc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   117197 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/hitbtc3.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    69616 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/hollaex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   359250 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/huobi.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    87087 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/huobijp.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      586 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/huobipro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    67772 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/idex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    30046 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/independentreserve.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    42709 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/indodax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35208 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/itbit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   101946 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/kraken.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    82058 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/krakenfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   160977 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/kucoin.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    98228 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/kucoinfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    37998 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/kuna.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    70399 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/latoken.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    33953 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/lbank.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    98405 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/lbank2.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    40781 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/luno.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    48763 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/lykke.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34881 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/mercado.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   210181 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/mexc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      455 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/mexc3.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   106630 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/ndax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62006 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/novadax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    37393 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/oceanex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   178258 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/okcoin.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      448 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/okex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      455 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/okex5.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   265343 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/okx.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22933 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/paymium.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   192396 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/phemex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    88811 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/poloniex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    75472 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/poloniexfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    70102 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/probit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    47585 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/ripio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   118368 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/stex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    42655 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/tidex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    65784 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/timex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   119594 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/tokocrypto.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    75965 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/upbit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   103947 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/wavesexchange.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35792 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/wazirx.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    92591 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/whitebit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    95037 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/woo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   188868 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/xt.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    51652 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/yobit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    28959 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/zaif.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   184533 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/zb.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    74326 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/async_support/zonda.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.952786 ccxt-3.0.97/ccxt/base/
--rw-rw-r--   0 travis    (2000) travis    (2000)     1320 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/base/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6634 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/base/decimal_to_precision.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3401 2023-05-08 09:35:40.000000 ccxt-3.0.97/ccxt/base/errors.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   169527 2023-05-08 09:49:19.000000 ccxt-3.0.97/ccxt/base/exchange.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     8565 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/base/precise.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1071 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/base/types.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1136 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bequant.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62340 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bigone.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   373477 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/binance.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1645 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/binancecoinm.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2151 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/binanceus.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2480 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/binanceusdm.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35482 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bit2c.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    39008 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitbank.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      448 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitbay.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    45973 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitbns.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      467 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitcoincom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    69312 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitfinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   111509 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitfinex2.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    37741 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitflyer.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    28316 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitforex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   203912 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitget.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    42572 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bithumb.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   131376 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitmart.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   119564 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitmex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    63261 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitopro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    87308 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitpanda.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    88097 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitrue.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    68449 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitso.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    82190 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitstamp.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    17785 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitstamp1.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    93397 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bittrex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    76761 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bitvavo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    74167 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bkex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    16241 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bl3p.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    47095 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/blockchaincom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35160 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/btcalpha.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22489 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/btcbox.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   110784 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/btcex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    48547 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/btcmarkets.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22177 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/btctradeua.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35384 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/btcturk.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    45591 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/buda.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   393615 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/bybit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    64922 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/cex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   124586 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinbase.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1219 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinbaseprime.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    73787 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinbasepro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34208 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coincheck.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   190913 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    38956 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinfalcon.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    39565 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinmate.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34455 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinone.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    81092 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinsph.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    18778 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/coinspot.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   107966 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/cryptocom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    79611 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/currencycom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    84060 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/delta.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   119018 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/deribit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   152160 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/digifinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    88724 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/exmo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1169 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/flowbtc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1238 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/fmfwio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   221082 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/gate.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      445 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/gateio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    69001 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/gemini.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    62241 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/hitbtc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   116511 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/hitbtc3.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    69194 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/hollaex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   357866 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/huobi.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    86605 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/huobijp.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      572 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/huobipro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    67332 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/idex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    29810 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/independentreserve.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    42437 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/indodax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34960 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/itbit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   101404 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/kraken.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    81756 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/krakenfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   160363 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/kucoin.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    97782 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/kucoinfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    37750 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/kuna.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    70007 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/latoken.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    33717 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/lbank.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    97857 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/lbank2.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    40473 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/luno.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    48461 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/lykke.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34639 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/mercado.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   209135 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/mexc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      441 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/mexc3.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   106106 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/ndax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    61638 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/novadax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    37055 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/oceanex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   177794 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/okcoin.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      434 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/okex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      441 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/okex5.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   264325 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/okx.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22745 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/paymium.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   191812 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/phemex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    88311 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/poloniex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    75104 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/poloniexfutures.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.988789 ccxt-3.0.97/ccxt/pro/
--rw-rw-r--   0 travis    (2000) travis    (2000)     6039 2023-05-08 09:49:19.000000 ccxt-3.0.97/ccxt/pro/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    26668 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/alpaca.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34553 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/ascendex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1081 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bequant.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    77193 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/binance.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      724 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/binancecoinm.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2016 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/binanceus.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1357 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/binanceusdm.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      914 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitcoincom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    24762 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitfinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    41903 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitfinex2.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    44698 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitget.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    24486 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitmart.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    55606 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitmex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    12557 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitopro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    16235 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitrue.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    20784 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitstamp.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    36705 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bittrex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    26009 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bitvavo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    31132 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/btcex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    60648 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/bybit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    44892 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/cex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1121 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/coinbaseprime.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    29075 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/coinbasepro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    40578 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/coinex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22975 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/cryptocom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22087 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/currencycom.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34004 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/deribit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    24397 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/exmo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    41718 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/gate.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      391 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/gateio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    25142 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/gemini.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    15160 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/hitbtc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    21786 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/hollaex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    85533 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/huobi.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    23052 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/huobijp.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      400 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/huobipro.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    28068 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/idex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    11059 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/independentreserve.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    44317 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/kraken.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    52058 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/krakenfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34128 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/kucoin.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    27781 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/kucoinfutures.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    12175 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/luno.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    41886 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/mexc.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      388 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/mexc3.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22655 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/ndax.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    30234 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/okcoin.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      382 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/okex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35657 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/okx.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    59743 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/phemex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22635 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/probit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    12104 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/ripio.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     9473 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/upbit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    29862 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/wazirx.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    34279 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/whitebit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    25030 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/woo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    21557 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/pro/zb.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    69752 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/probit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    47325 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/ripio.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.988789 ccxt-3.0.97/ccxt/static_dependencies/
--rw-rw-r--   0 travis    (2000) travis    (2000)       30 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/__init__.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.992789 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/
--rw-rw-r--   0 travis    (2000) travis    (2000)      594 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    18461 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/_version.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1886 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/curves.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6942 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/der.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    11336 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/ecdsa.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     5517 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/ellipticcurve.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    14201 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/keys.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    13468 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/numbertheory.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2572 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/rfc6979.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    10037 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/ecdsa/util.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.996790 ccxt-3.0.97/ccxt/static_dependencies/keccak/
--rw-rw-r--   0 travis    (2000) travis    (2000)       45 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/keccak/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     6934 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/static_dependencies/keccak/keccak.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   117868 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/stex.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.996790 ccxt-3.0.97/ccxt/test/
--rw-rw-r--   0 travis    (2000) travis    (2000)      141 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/test/__init__.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:36.012791 ccxt-3.0.97/ccxt/test/base/
--rw-rw-r--   0 travis    (2000) travis    (2000)     1745 2023-05-08 09:35:45.000000 ccxt-3.0.97/ccxt/test/base/__init__.py
--rw-rw-r--   0 travis    (2000) travis    (2000)      922 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_account.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2110 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_balance.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1705 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_borrow_interest.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1362 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_borrow_rate.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1177 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/test/base/test_calculate_fee.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     7702 2023-05-08 09:35:43.000000 ccxt-3.0.97/ccxt/test/base/test_crypto.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2145 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_currency.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     5234 2023-05-08 09:35:42.000000 ccxt-3.0.97/ccxt/test/base/test_datetime.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    20934 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/test/base/test_decimal_to_precision.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1402 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/test/base/test_deep_extend.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1957 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_deposit_withdrawal.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3592 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/test/base/test_exchange_datetime_functions.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1140 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_funding_rate_history.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2155 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_ledger_entry.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2154 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/test/base/test_ledger_item.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1525 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_leverage_tier.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1551 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_margin_modification.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     5671 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_market.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    22034 2023-05-08 09:35:42.000000 ccxt-3.0.97/ccxt/test/base/test_number.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2025 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_ohlcv.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1327 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_open_interest.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3392 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_order.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     2983 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_order_book.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3526 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_position.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    10987 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_shared_methods.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1226 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_status.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     3123 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/test/base/test_throttle.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     4935 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_ticker.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1850 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_trade.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1081 2023-05-08 09:36:54.000000 ccxt-3.0.97/ccxt/test/base/test_trading_fee.py
--rw-rw-r--   0 travis    (2000) travis    (2000)     1434 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/test/base/test_transaction.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    26500 2023-05-08 09:35:44.000000 ccxt-3.0.97/ccxt/test/test_async.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    26096 2023-05-08 09:35:45.000000 ccxt-3.0.97/ccxt/test/test_sync.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    42407 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/tidex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    65452 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/timex.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   119250 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/tokocrypto.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    75531 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/upbit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   103453 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/wavesexchange.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    35544 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/wazirx.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    92139 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/whitebit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    94453 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/woo.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   187767 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/xt.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    51368 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/yobit.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    28777 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/zaif.py
--rw-rw-r--   0 travis    (2000) travis    (2000)   183857 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/zb.py
--rw-rw-r--   0 travis    (2000) travis    (2000)    74036 2023-05-08 09:23:49.000000 ccxt-3.0.97/ccxt/zonda.py
-drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-08 09:49:35.876779 ccxt-3.0.97/ccxt.egg-info/
--rw-rw-r--   0 travis    (2000) travis    (2000)   113274 2023-05-08 09:49:35.000000 ccxt-3.0.97/ccxt.egg-info/PKG-INFO
--rw-rw-r--   0 travis    (2000) travis    (2000)    11640 2023-05-08 09:49:35.000000 ccxt-3.0.97/ccxt.egg-info/SOURCES.txt
--rw-rw-r--   0 travis    (2000) travis    (2000)        1 2023-05-08 09:49:35.000000 ccxt-3.0.97/ccxt.egg-info/dependency_links.txt
--rw-rw-r--   0 travis    (2000) travis    (2000)      162 2023-05-08 09:49:35.000000 ccxt-3.0.97/ccxt.egg-info/requires.txt
--rw-rw-r--   0 travis    (2000) travis    (2000)        5 2023-05-08 09:49:35.000000 ccxt-3.0.97/ccxt.egg-info/top_level.txt
--rw-rw-r--   0 travis    (2000) travis    (2000)     8459 2023-05-08 09:49:20.000000 ccxt-3.0.97/package.json
--rw-rw-r--   0 travis    (2000) travis    (2000)      205 2023-05-08 09:49:36.020792 ccxt-3.0.97/setup.cfg
--rwxrwxr-x   0 travis    (2000) travis    (2000)     2891 2023-05-08 09:23:49.000000 ccxt-3.0.97/setup.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.508049 ccxt-3.0.98/
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1068 2023-05-09 08:15:56.000000 ccxt-3.0.98/LICENSE.txt
+-rw-rw-r--   0 travis    (2000) travis    (2000)      100 2023-05-09 07:50:19.000000 ccxt-3.0.98/MANIFEST.in
+-rw-rw-r--   0 travis    (2000) travis    (2000)   113274 2023-05-09 08:16:12.512049 ccxt-3.0.98/PKG-INFO
+-rw-rw-r--   0 travis    (2000) travis    (2000)   102253 2023-05-09 07:50:19.000000 ccxt-3.0.98/README.rst
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.372036 ccxt-3.0.98/ccxt/
+-rw-rw-r--   0 travis    (2000) travis    (2000)    15626 2023-05-09 08:15:55.000000 ccxt-3.0.98/ccxt/__init__.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.400039 ccxt-3.0.98/ccxt/abstract/
+-rw-rw-r--   0 travis    (2000) travis    (2000)        0 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/abstract/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1448 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/ace.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1861 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/alpaca.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    11071 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/ascendex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     8376 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bequant.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2347 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bigone.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62883 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/binance.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62883 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/binancecoinm.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62883 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/binanceus.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62883 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/binanceusdm.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2830 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bit2c.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1989 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitbank.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     5482 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitbay.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     4082 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitbns.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     8376 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitcoincom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     7605 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitfinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    19171 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitfinex2.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3576 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitflyer.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2443 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitforex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    17077 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitget.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2659 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bithumb.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     8966 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitmart.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     8653 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitmex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2919 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitopro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3859 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitpanda.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3648 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitrue.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     4025 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitso.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22372 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitstamp.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1987 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitstamp1.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     9337 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bittrex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2357 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bitvavo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     7439 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bkex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2024 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bl3p.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2638 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/blockchaincom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1380 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/btcalpha.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      849 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/btcbox.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     5594 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/btcex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3690 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/btcmarkets.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1407 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/btctradeua.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1403 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/btcturk.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    71684 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/bybit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3311 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/cex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     9017 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinbase.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6952 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinbaseprime.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6952 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinbasepro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3417 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coincheck.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    14759 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2182 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinfalcon.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     5354 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinmate.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2504 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinone.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3736 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinsph.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2707 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/coinspot.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    21126 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/cryptocom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     7452 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/currencycom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3128 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/delta.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    15499 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/deribit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     9386 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/digifinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6177 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/exmo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     8376 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/fmfwio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    27864 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/gate.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    27864 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/gateio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6840 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/gemini.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     8376 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/hitbtc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    10949 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/hitbtc3.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2596 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/hollaex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    95821 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/huobi.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    14331 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/huobijp.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    95821 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/huobipro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2129 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/idex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     4165 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/independentreserve.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2266 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/indodax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     4979 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/kraken.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2867 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/krakenfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    20600 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/kucoin.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    20893 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/kucoinfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    19005 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/kuna.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     7168 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/latoken.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1474 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/lbank.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6930 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/lbank2.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3566 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/luno.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2960 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/lykke.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2357 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/mercado.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    23203 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/mexc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    23203 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/mexc3.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    11878 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/ndax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2565 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/novadax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1721 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/oceanex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    25825 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/okcoin.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    29716 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/okex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    29716 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/okex5.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    29716 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/okx.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2752 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/paymium.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    12172 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/phemex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6301 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/poloniex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     4575 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/poloniexfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1849 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/probit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    10639 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/stex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1953 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/tidex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     5875 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/timex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     4094 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/tokocrypto.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3463 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/upbit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    18450 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/wavesexchange.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2130 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/wazirx.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     7934 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/whitebit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     7689 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/woo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    25850 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/xt.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1339 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/yobit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3935 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/zaif.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     5482 2023-05-09 07:54:30.000000 ccxt-3.0.98/ccxt/abstract/zonda.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    41329 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/ace.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    33161 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/alpaca.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   127668 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/ascendex.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.444043 ccxt-3.0.98/ccxt/async_support/
+-rw-rw-r--   0 travis    (2000) travis    (2000)    15429 2023-05-09 08:15:55.000000 ccxt-3.0.98/ccxt/async_support/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    41553 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/ace.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    33307 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/alpaca.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   128282 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/ascendex.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.444043 ccxt-3.0.98/ccxt/async_support/base/
+-rw-rw-r--   0 travis    (2000) travis    (2000)       67 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   128268 2023-05-09 08:15:55.000000 ccxt-3.0.98/ccxt/async_support/base/exchange.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1847 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/throttler.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.448043 ccxt-3.0.98/ccxt/async_support/base/ws/
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1791 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     4999 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/aiohttp_client.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6085 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/cache.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     7289 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/client.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3733 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/fast_client.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1495 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/functions.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      249 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/future.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2894 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/order_book.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6079 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/base/ws/order_book_side.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1150 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bequant.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62726 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bigone.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   374663 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/binance.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1683 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/binancecoinm.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2165 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/binanceus.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2518 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/binanceusdm.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35688 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bit2c.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    39268 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitbank.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      462 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitbay.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    46227 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitbns.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      481 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitcoincom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    69752 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitfinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   111979 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitfinex2.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    38049 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitflyer.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    28522 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitforex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   204762 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitget.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    42790 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bithumb.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   132014 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitmart.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   120028 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitmex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    63629 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitopro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    87760 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitpanda.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    88471 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitrue.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    68835 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitso.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    82612 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitstamp.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    17931 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitstamp1.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    93903 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bittrex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    77171 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bitvavo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    74597 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bkex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    16351 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bl3p.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    47523 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/blockchaincom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35438 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/btcalpha.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22683 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/btcbox.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   111410 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/btcex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    48897 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/btcmarkets.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22323 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/btctradeua.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35602 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/btcturk.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    45959 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/buda.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   395491 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/bybit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    65248 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/cex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   125230 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinbase.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1233 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinbaseprime.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    74293 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinbasepro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34414 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coincheck.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   192675 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    39252 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinfalcon.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    39813 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinmate.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34679 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinone.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    81496 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinsph.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    18912 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/coinspot.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   108492 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/cryptocom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    80003 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/currencycom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    84440 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/delta.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   119560 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/deribit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   152866 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/digifinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    89266 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/exmo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1183 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/flowbtc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1252 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/fmfwio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   221908 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/gate.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      459 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/gateio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    69449 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/gemini.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62675 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/hitbtc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   117197 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/hitbtc3.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    69616 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/hollaex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   362532 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/huobi.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    87087 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/huobijp.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      586 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/huobipro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    67772 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/idex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    30046 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/independentreserve.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    42709 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/indodax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35208 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/itbit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   101946 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/kraken.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    82058 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/krakenfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   160977 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/kucoin.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    98228 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/kucoinfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    37998 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/kuna.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    70399 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/latoken.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    33953 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/lbank.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    98405 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/lbank2.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    40781 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/luno.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    48763 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/lykke.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34881 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/mercado.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   210181 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/mexc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      455 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/mexc3.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   106630 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/ndax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62006 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/novadax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    37393 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/oceanex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   178258 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/okcoin.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      448 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/okex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      455 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/okex5.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   265343 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/okx.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22933 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/paymium.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   192390 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/phemex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    88811 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/poloniex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    75472 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/poloniexfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    70102 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/probit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    47585 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/ripio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   118368 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/stex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    42655 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/tidex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    65784 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/timex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   119594 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/tokocrypto.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    75965 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/upbit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   103947 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/wavesexchange.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35792 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/wazirx.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    92591 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/whitebit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    95037 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/woo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   188868 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/xt.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    51652 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/yobit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    28959 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/zaif.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   184533 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/zb.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    74326 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/async_support/zonda.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.448043 ccxt-3.0.98/ccxt/base/
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1320 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/base/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6634 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/base/decimal_to_precision.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3401 2023-05-09 08:02:15.000000 ccxt-3.0.98/ccxt/base/errors.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   169527 2023-05-09 08:15:55.000000 ccxt-3.0.98/ccxt/base/exchange.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     8565 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/base/precise.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1071 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/base/types.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1136 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bequant.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62340 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bigone.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   373477 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/binance.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1645 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/binancecoinm.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2151 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/binanceus.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2480 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/binanceusdm.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35482 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bit2c.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    39008 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitbank.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      448 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitbay.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    45973 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitbns.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      467 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitcoincom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    69312 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitfinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   111509 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitfinex2.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    37741 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitflyer.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    28316 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitforex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   203912 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitget.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    42572 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bithumb.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   131376 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitmart.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   119564 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitmex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    63261 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitopro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    87308 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitpanda.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    88097 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitrue.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    68449 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitso.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    82190 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitstamp.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    17785 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitstamp1.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    93397 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bittrex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    76761 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bitvavo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    74167 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bkex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    16241 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bl3p.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    47095 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/blockchaincom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35160 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/btcalpha.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22489 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/btcbox.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   110784 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/btcex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    48547 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/btcmarkets.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22177 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/btctradeua.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35384 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/btcturk.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    45591 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/buda.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   393615 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/bybit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    64922 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/cex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   124586 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinbase.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1219 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinbaseprime.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    73787 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinbasepro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34208 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coincheck.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   191777 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    38956 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinfalcon.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    39565 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinmate.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34455 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinone.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    81092 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinsph.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    18778 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/coinspot.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   107966 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/cryptocom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    79611 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/currencycom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    84060 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/delta.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   119018 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/deribit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   152160 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/digifinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    88724 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/exmo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1169 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/flowbtc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1238 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/fmfwio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   221082 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/gate.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      445 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/gateio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    69001 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/gemini.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    62241 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/hitbtc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   116511 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/hitbtc3.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    69194 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/hollaex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   361004 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/huobi.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    86605 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/huobijp.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      572 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/huobipro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    67332 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/idex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    29810 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/independentreserve.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    42437 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/indodax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34960 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/itbit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   101404 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/kraken.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    81756 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/krakenfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   160363 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/kucoin.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    97782 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/kucoinfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    37750 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/kuna.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    70007 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/latoken.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    33717 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/lbank.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    97857 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/lbank2.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    40473 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/luno.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    48461 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/lykke.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34639 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/mercado.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   209135 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/mexc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      441 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/mexc3.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   106106 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/ndax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    61638 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/novadax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    37055 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/oceanex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   177794 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/okcoin.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      434 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/okex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      441 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/okex5.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   264325 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/okx.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22745 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/paymium.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   191806 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/phemex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    88311 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/poloniex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    75104 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/poloniexfutures.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.476046 ccxt-3.0.98/ccxt/pro/
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6039 2023-05-09 08:15:55.000000 ccxt-3.0.98/ccxt/pro/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    26668 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/alpaca.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34553 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/ascendex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1081 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bequant.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    77193 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/binance.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      724 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/binancecoinm.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2016 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/binanceus.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1357 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/binanceusdm.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      914 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitcoincom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    24762 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitfinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    42069 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitfinex2.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    44698 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitget.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    24486 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitmart.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    55606 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitmex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    12557 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitopro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    16235 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitrue.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    20784 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitstamp.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    36705 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bittrex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    26009 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bitvavo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    31132 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/btcex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    60648 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/bybit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    44892 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/cex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1121 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/coinbaseprime.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    29075 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/coinbasepro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    40578 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/coinex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22975 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/cryptocom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22087 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/currencycom.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34004 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/deribit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    24397 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/exmo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    41718 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/gate.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      391 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/gateio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    25142 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/gemini.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    15160 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/hitbtc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    21786 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/hollaex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    85533 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/huobi.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    23052 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/huobijp.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      400 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/huobipro.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    28068 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/idex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    11059 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/independentreserve.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    44317 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/kraken.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    52058 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/krakenfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34128 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/kucoin.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    27781 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/kucoinfutures.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    12175 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/luno.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    41886 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/mexc.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      388 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/mexc3.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22655 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/ndax.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    30234 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/okcoin.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      382 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/okex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35657 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/okx.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    59743 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/phemex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22635 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/probit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    12104 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/ripio.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     9473 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/upbit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    29862 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/wazirx.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    34279 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/whitebit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    25030 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/woo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    21557 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/pro/zb.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    69752 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/probit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    47325 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/ripio.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.476046 ccxt-3.0.98/ccxt/static_dependencies/
+-rw-rw-r--   0 travis    (2000) travis    (2000)       30 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/__init__.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.488047 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/
+-rw-rw-r--   0 travis    (2000) travis    (2000)      594 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    18461 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/_version.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1886 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/curves.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6942 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/der.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    11336 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/ecdsa.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     5517 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/ellipticcurve.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    14201 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/keys.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    13468 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/numbertheory.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2572 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/rfc6979.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    10037 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/ecdsa/util.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.488047 ccxt-3.0.98/ccxt/static_dependencies/keccak/
+-rw-rw-r--   0 travis    (2000) travis    (2000)       45 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/keccak/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     6934 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/static_dependencies/keccak/keccak.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   117868 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/stex.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.488047 ccxt-3.0.98/ccxt/test/
+-rw-rw-r--   0 travis    (2000) travis    (2000)      141 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/test/__init__.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.504048 ccxt-3.0.98/ccxt/test/base/
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1745 2023-05-09 08:02:19.000000 ccxt-3.0.98/ccxt/test/base/__init__.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)      922 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_account.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2110 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_balance.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1705 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_borrow_interest.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1362 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_borrow_rate.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1177 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/test/base/test_calculate_fee.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     7702 2023-05-09 08:02:18.000000 ccxt-3.0.98/ccxt/test/base/test_crypto.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2145 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_currency.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     5234 2023-05-09 08:02:17.000000 ccxt-3.0.98/ccxt/test/base/test_datetime.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    20934 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/test/base/test_decimal_to_precision.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1402 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/test/base/test_deep_extend.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1957 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_deposit_withdrawal.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3592 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/test/base/test_exchange_datetime_functions.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1140 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_funding_rate_history.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2155 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_ledger_entry.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2154 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/test/base/test_ledger_item.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1525 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_leverage_tier.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1551 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_margin_modification.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     5671 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_market.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    22034 2023-05-09 08:02:17.000000 ccxt-3.0.98/ccxt/test/base/test_number.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2025 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_ohlcv.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1327 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_open_interest.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3392 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_order.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     2983 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_order_book.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3526 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_position.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    10987 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_shared_methods.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1226 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_status.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     3123 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/test/base/test_throttle.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     4935 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_ticker.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1850 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_trade.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1081 2023-05-09 08:03:29.000000 ccxt-3.0.98/ccxt/test/base/test_trading_fee.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)     1434 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/test/base/test_transaction.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    26476 2023-05-09 08:02:19.000000 ccxt-3.0.98/ccxt/test/test_async.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    26072 2023-05-09 08:02:19.000000 ccxt-3.0.98/ccxt/test/test_sync.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    42407 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/tidex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    65452 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/timex.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   119250 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/tokocrypto.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    75531 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/upbit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   103453 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/wavesexchange.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    35544 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/wazirx.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    92139 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/whitebit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    94453 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/woo.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   187767 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/xt.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    51368 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/yobit.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    28777 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/zaif.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)   183857 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/zb.py
+-rw-rw-r--   0 travis    (2000) travis    (2000)    74036 2023-05-09 07:50:19.000000 ccxt-3.0.98/ccxt/zonda.py
+drwxrwxr-x   0 travis    (2000) travis    (2000)        0 2023-05-09 08:16:12.372036 ccxt-3.0.98/ccxt.egg-info/
+-rw-rw-r--   0 travis    (2000) travis    (2000)   113274 2023-05-09 08:16:12.000000 ccxt-3.0.98/ccxt.egg-info/PKG-INFO
+-rw-rw-r--   0 travis    (2000) travis    (2000)    11640 2023-05-09 08:16:12.000000 ccxt-3.0.98/ccxt.egg-info/SOURCES.txt
+-rw-rw-r--   0 travis    (2000) travis    (2000)        1 2023-05-09 08:16:12.000000 ccxt-3.0.98/ccxt.egg-info/dependency_links.txt
+-rw-rw-r--   0 travis    (2000) travis    (2000)      162 2023-05-09 08:16:12.000000 ccxt-3.0.98/ccxt.egg-info/requires.txt
+-rw-rw-r--   0 travis    (2000) travis    (2000)        5 2023-05-09 08:16:12.000000 ccxt-3.0.98/ccxt.egg-info/top_level.txt
+-rw-rw-r--   0 travis    (2000) travis    (2000)     8459 2023-05-09 08:15:56.000000 ccxt-3.0.98/package.json
+-rw-rw-r--   0 travis    (2000) travis    (2000)      205 2023-05-09 08:16:12.516049 ccxt-3.0.98/setup.cfg
+-rwxrwxr-x   0 travis    (2000) travis    (2000)     2891 2023-05-09 07:50:19.000000 ccxt-3.0.98/setup.py
```

### Comparing `ccxt-3.0.97/LICENSE.txt` & `ccxt-3.0.98/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/PKG-INFO` & `ccxt-3.0.98/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: ccxt
-Version: 3.0.97
+Version: 3.0.98
 Summary: A JavaScript / Python / PHP cryptocurrency trading library with support for 130+ exchanges
 Home-page: https://ccxt.com
 Author: Igor Kroitor
 Author-email: igor.kroitor@gmail.com
 License: MIT
 Project-URL: Homepage, https://ccxt.com
 Project-URL: Documentation, https://docs.ccxt.com
@@ -227,21 +227,21 @@
         console.log(version, Object.keys(exchanges));
         ```
         
         ### JavaScript (for use with the `<script>` tag):
         
         All-in-one browser bundle (dependencies included), served from a CDN of your choice:
         
-        * jsDelivr: https://cdn.jsdelivr.net/npm/ccxt@3.0.97/dist/ccxt.browser.js
-        * unpkg: https://unpkg.com/ccxt@3.0.97/dist/ccxt.browser.js
+        * jsDelivr: https://cdn.jsdelivr.net/npm/ccxt@3.0.98/dist/ccxt.browser.js
+        * unpkg: https://unpkg.com/ccxt@3.0.98/dist/ccxt.browser.js
         
         CDNs are not updated in real-time and may have delays. Defaulting to the most recent version without specifying the version number is not recommended. Please, keep in mind that we are not responsible for the correct operation of those CDN servers.
         
         ```HTML
-        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ccxt@3.0.97/dist/ccxt.browser.js"></script>
+        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ccxt@3.0.98/dist/ccxt.browser.js"></script>
         ```
         
         Creates a global `ccxt` object:
         
         ```JavaScript
         console.log (ccxt.exchanges) // print all available exchanges
         ```
```

### Comparing `ccxt-3.0.97/README.rst` & `ccxt-3.0.98/README.rst`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/__init__.py` & `ccxt-3.0.98/ccxt/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -18,15 +18,15 @@
 # AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 # LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 # OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 # SOFTWARE.
 
 # ----------------------------------------------------------------------------
 
-__version__ = '3.0.97'
+__version__ = '3.0.98'
 
 # ----------------------------------------------------------------------------
 
 from ccxt.base.exchange import Exchange                     # noqa: F401
 from ccxt.base.precise import Precise                       # noqa: F401
 
 from ccxt.base.decimal_to_precision import decimal_to_precision  # noqa: F401
```

### Comparing `ccxt-3.0.97/ccxt/abstract/ace.py` & `ccxt-3.0.98/ccxt/abstract/ace.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/alpaca.py` & `ccxt-3.0.98/ccxt/abstract/alpaca.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/ascendex.py` & `ccxt-3.0.98/ccxt/abstract/ascendex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bequant.py` & `ccxt-3.0.98/ccxt/abstract/bequant.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bigone.py` & `ccxt-3.0.98/ccxt/abstract/bigone.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/binance.py` & `ccxt-3.0.98/ccxt/abstract/binance.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/binancecoinm.py` & `ccxt-3.0.98/ccxt/abstract/binancecoinm.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/binanceus.py` & `ccxt-3.0.98/ccxt/abstract/binanceus.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/binanceusdm.py` & `ccxt-3.0.98/ccxt/abstract/binanceusdm.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bit2c.py` & `ccxt-3.0.98/ccxt/abstract/bit2c.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitbank.py` & `ccxt-3.0.98/ccxt/abstract/bitbank.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitbay.py` & `ccxt-3.0.98/ccxt/abstract/bitbay.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitbns.py` & `ccxt-3.0.98/ccxt/abstract/bitbns.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitcoincom.py` & `ccxt-3.0.98/ccxt/abstract/bitcoincom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitfinex.py` & `ccxt-3.0.98/ccxt/abstract/bitfinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitfinex2.py` & `ccxt-3.0.98/ccxt/abstract/bitfinex2.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitflyer.py` & `ccxt-3.0.98/ccxt/abstract/bitflyer.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitforex.py` & `ccxt-3.0.98/ccxt/abstract/bitforex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitget.py` & `ccxt-3.0.98/ccxt/abstract/bitget.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bithumb.py` & `ccxt-3.0.98/ccxt/abstract/bithumb.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitmart.py` & `ccxt-3.0.98/ccxt/abstract/bitmart.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitmex.py` & `ccxt-3.0.98/ccxt/abstract/bitmex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitopro.py` & `ccxt-3.0.98/ccxt/abstract/bitopro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitpanda.py` & `ccxt-3.0.98/ccxt/abstract/bitpanda.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitrue.py` & `ccxt-3.0.98/ccxt/abstract/bitrue.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitso.py` & `ccxt-3.0.98/ccxt/abstract/bitso.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitstamp.py` & `ccxt-3.0.98/ccxt/abstract/bitstamp.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitstamp1.py` & `ccxt-3.0.98/ccxt/abstract/bitstamp1.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bittrex.py` & `ccxt-3.0.98/ccxt/abstract/bittrex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bitvavo.py` & `ccxt-3.0.98/ccxt/abstract/bitvavo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bkex.py` & `ccxt-3.0.98/ccxt/abstract/bkex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bl3p.py` & `ccxt-3.0.98/ccxt/abstract/bl3p.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/blockchaincom.py` & `ccxt-3.0.98/ccxt/abstract/blockchaincom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/btcalpha.py` & `ccxt-3.0.98/ccxt/abstract/btcalpha.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/btcbox.py` & `ccxt-3.0.98/ccxt/abstract/btcbox.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/btcex.py` & `ccxt-3.0.98/ccxt/abstract/btcex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/btcmarkets.py` & `ccxt-3.0.98/ccxt/abstract/btcmarkets.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/btctradeua.py` & `ccxt-3.0.98/ccxt/abstract/btctradeua.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/btcturk.py` & `ccxt-3.0.98/ccxt/abstract/btcturk.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/bybit.py` & `ccxt-3.0.98/ccxt/abstract/bybit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/cex.py` & `ccxt-3.0.98/ccxt/abstract/cex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinbase.py` & `ccxt-3.0.98/ccxt/abstract/coinbase.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinbaseprime.py` & `ccxt-3.0.98/ccxt/abstract/coinbaseprime.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinbasepro.py` & `ccxt-3.0.98/ccxt/abstract/coinbasepro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coincheck.py` & `ccxt-3.0.98/ccxt/abstract/coincheck.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinex.py` & `ccxt-3.0.98/ccxt/abstract/coinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinfalcon.py` & `ccxt-3.0.98/ccxt/abstract/coinfalcon.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinmate.py` & `ccxt-3.0.98/ccxt/abstract/coinmate.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinone.py` & `ccxt-3.0.98/ccxt/abstract/coinone.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinsph.py` & `ccxt-3.0.98/ccxt/abstract/coinsph.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/coinspot.py` & `ccxt-3.0.98/ccxt/abstract/coinspot.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/cryptocom.py` & `ccxt-3.0.98/ccxt/abstract/cryptocom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/currencycom.py` & `ccxt-3.0.98/ccxt/abstract/currencycom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/delta.py` & `ccxt-3.0.98/ccxt/abstract/delta.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/deribit.py` & `ccxt-3.0.98/ccxt/abstract/deribit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/digifinex.py` & `ccxt-3.0.98/ccxt/abstract/digifinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/exmo.py` & `ccxt-3.0.98/ccxt/abstract/exmo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/fmfwio.py` & `ccxt-3.0.98/ccxt/abstract/fmfwio.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/gate.py` & `ccxt-3.0.98/ccxt/abstract/gate.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/gateio.py` & `ccxt-3.0.98/ccxt/abstract/gateio.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/gemini.py` & `ccxt-3.0.98/ccxt/abstract/gemini.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/hitbtc.py` & `ccxt-3.0.98/ccxt/abstract/hitbtc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/hitbtc3.py` & `ccxt-3.0.98/ccxt/abstract/hitbtc3.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/hollaex.py` & `ccxt-3.0.98/ccxt/abstract/hollaex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/huobi.py` & `ccxt-3.0.98/ccxt/abstract/huobi.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/huobijp.py` & `ccxt-3.0.98/ccxt/abstract/huobijp.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/huobipro.py` & `ccxt-3.0.98/ccxt/abstract/huobipro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/idex.py` & `ccxt-3.0.98/ccxt/abstract/idex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/independentreserve.py` & `ccxt-3.0.98/ccxt/abstract/independentreserve.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/indodax.py` & `ccxt-3.0.98/ccxt/abstract/indodax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/kraken.py` & `ccxt-3.0.98/ccxt/abstract/kraken.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/krakenfutures.py` & `ccxt-3.0.98/ccxt/abstract/krakenfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/kucoin.py` & `ccxt-3.0.98/ccxt/abstract/kucoin.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/kucoinfutures.py` & `ccxt-3.0.98/ccxt/abstract/kucoinfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/kuna.py` & `ccxt-3.0.98/ccxt/abstract/kuna.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/latoken.py` & `ccxt-3.0.98/ccxt/abstract/latoken.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/lbank.py` & `ccxt-3.0.98/ccxt/abstract/lbank.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/lbank2.py` & `ccxt-3.0.98/ccxt/abstract/lbank2.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/luno.py` & `ccxt-3.0.98/ccxt/abstract/luno.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/lykke.py` & `ccxt-3.0.98/ccxt/abstract/lykke.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/mercado.py` & `ccxt-3.0.98/ccxt/abstract/mercado.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/mexc.py` & `ccxt-3.0.98/ccxt/abstract/mexc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/mexc3.py` & `ccxt-3.0.98/ccxt/abstract/mexc3.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/ndax.py` & `ccxt-3.0.98/ccxt/abstract/ndax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/novadax.py` & `ccxt-3.0.98/ccxt/abstract/novadax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/oceanex.py` & `ccxt-3.0.98/ccxt/abstract/oceanex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/okcoin.py` & `ccxt-3.0.98/ccxt/abstract/okcoin.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/okex.py` & `ccxt-3.0.98/ccxt/abstract/okex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/okex5.py` & `ccxt-3.0.98/ccxt/abstract/okex5.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/okx.py` & `ccxt-3.0.98/ccxt/abstract/okx.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/paymium.py` & `ccxt-3.0.98/ccxt/abstract/paymium.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/phemex.py` & `ccxt-3.0.98/ccxt/abstract/phemex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/poloniex.py` & `ccxt-3.0.98/ccxt/abstract/poloniex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/poloniexfutures.py` & `ccxt-3.0.98/ccxt/abstract/poloniexfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/probit.py` & `ccxt-3.0.98/ccxt/abstract/probit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/stex.py` & `ccxt-3.0.98/ccxt/abstract/stex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/tidex.py` & `ccxt-3.0.98/ccxt/abstract/tidex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/timex.py` & `ccxt-3.0.98/ccxt/abstract/timex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/tokocrypto.py` & `ccxt-3.0.98/ccxt/abstract/tokocrypto.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/upbit.py` & `ccxt-3.0.98/ccxt/abstract/upbit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/wavesexchange.py` & `ccxt-3.0.98/ccxt/abstract/wavesexchange.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/wazirx.py` & `ccxt-3.0.98/ccxt/abstract/wazirx.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/whitebit.py` & `ccxt-3.0.98/ccxt/abstract/whitebit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/woo.py` & `ccxt-3.0.98/ccxt/abstract/woo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/xt.py` & `ccxt-3.0.98/ccxt/abstract/xt.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/yobit.py` & `ccxt-3.0.98/ccxt/abstract/yobit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/zaif.py` & `ccxt-3.0.98/ccxt/abstract/zaif.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/abstract/zonda.py` & `ccxt-3.0.98/ccxt/abstract/zonda.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/ace.py` & `ccxt-3.0.98/ccxt/ace.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/alpaca.py` & `ccxt-3.0.98/ccxt/alpaca.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/ascendex.py` & `ccxt-3.0.98/ccxt/ascendex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/__init__.py` & `ccxt-3.0.98/ccxt/async_support/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 # -*- coding: utf-8 -*-
 
 """CCXT: CryptoCurrency eXchange Trading Library (Async)"""
 
 # -----------------------------------------------------------------------------
 
-__version__ = '3.0.97'
+__version__ = '3.0.98'
 
 # -----------------------------------------------------------------------------
 
 from ccxt.async_support.base.exchange import Exchange                   # noqa: F401
 
 from ccxt.base.decimal_to_precision import decimal_to_precision  # noqa: F401
 from ccxt.base.decimal_to_precision import TRUNCATE              # noqa: F401
```

### Comparing `ccxt-3.0.97/ccxt/async_support/ace.py` & `ccxt-3.0.98/ccxt/async_support/ace.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/alpaca.py` & `ccxt-3.0.98/ccxt/async_support/alpaca.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/ascendex.py` & `ccxt-3.0.98/ccxt/async_support/ascendex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/exchange.py` & `ccxt-3.0.98/ccxt/async_support/base/exchange.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 # -*- coding: utf-8 -*-
 
 # -----------------------------------------------------------------------------
 
-__version__ = '3.0.97'
+__version__ = '3.0.98'
 
 # -----------------------------------------------------------------------------
 
 import asyncio
 import concurrent.futures
 import socket
 import certifi
```

### Comparing `ccxt-3.0.97/ccxt/async_support/base/throttler.py` & `ccxt-3.0.98/ccxt/async_support/base/throttler.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/ws/__init__.py` & `ccxt-3.0.98/ccxt/async_support/base/ws/__init__.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/ws/aiohttp_client.py` & `ccxt-3.0.98/ccxt/async_support/base/ws/aiohttp_client.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/ws/cache.py` & `ccxt-3.0.98/ccxt/async_support/base/ws/cache.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/ws/client.py` & `ccxt-3.0.98/ccxt/async_support/base/ws/client.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/ws/fast_client.py` & `ccxt-3.0.98/ccxt/async_support/base/ws/fast_client.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/ws/functions.py` & `ccxt-3.0.98/ccxt/async_support/base/ws/functions.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/ws/order_book.py` & `ccxt-3.0.98/ccxt/async_support/base/ws/order_book.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/base/ws/order_book_side.py` & `ccxt-3.0.98/ccxt/async_support/base/ws/order_book_side.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bequant.py` & `ccxt-3.0.98/ccxt/async_support/bequant.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bigone.py` & `ccxt-3.0.98/ccxt/async_support/bigone.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/binance.py` & `ccxt-3.0.98/ccxt/async_support/binance.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/binancecoinm.py` & `ccxt-3.0.98/ccxt/async_support/binancecoinm.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/binanceus.py` & `ccxt-3.0.98/ccxt/async_support/binanceus.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/binanceusdm.py` & `ccxt-3.0.98/ccxt/async_support/binanceusdm.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bit2c.py` & `ccxt-3.0.98/ccxt/async_support/bit2c.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitbank.py` & `ccxt-3.0.98/ccxt/async_support/bitbank.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitbns.py` & `ccxt-3.0.98/ccxt/async_support/bitbns.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitfinex.py` & `ccxt-3.0.98/ccxt/async_support/bitfinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitfinex2.py` & `ccxt-3.0.98/ccxt/async_support/bitfinex2.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitflyer.py` & `ccxt-3.0.98/ccxt/async_support/bitflyer.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitforex.py` & `ccxt-3.0.98/ccxt/async_support/bitforex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitget.py` & `ccxt-3.0.98/ccxt/async_support/bitget.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bithumb.py` & `ccxt-3.0.98/ccxt/async_support/bithumb.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitmart.py` & `ccxt-3.0.98/ccxt/async_support/bitmart.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitmex.py` & `ccxt-3.0.98/ccxt/async_support/bitmex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitopro.py` & `ccxt-3.0.98/ccxt/async_support/bitopro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitpanda.py` & `ccxt-3.0.98/ccxt/async_support/bitpanda.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitrue.py` & `ccxt-3.0.98/ccxt/async_support/bitrue.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitso.py` & `ccxt-3.0.98/ccxt/async_support/bitso.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitstamp.py` & `ccxt-3.0.98/ccxt/async_support/bitstamp.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitstamp1.py` & `ccxt-3.0.98/ccxt/async_support/bitstamp1.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bittrex.py` & `ccxt-3.0.98/ccxt/async_support/bittrex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bitvavo.py` & `ccxt-3.0.98/ccxt/async_support/bitvavo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bkex.py` & `ccxt-3.0.98/ccxt/async_support/bkex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bl3p.py` & `ccxt-3.0.98/ccxt/async_support/bl3p.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/blockchaincom.py` & `ccxt-3.0.98/ccxt/async_support/blockchaincom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/btcalpha.py` & `ccxt-3.0.98/ccxt/async_support/btcalpha.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/btcbox.py` & `ccxt-3.0.98/ccxt/async_support/btcbox.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/btcex.py` & `ccxt-3.0.98/ccxt/async_support/btcex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/btcmarkets.py` & `ccxt-3.0.98/ccxt/async_support/btcmarkets.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/btctradeua.py` & `ccxt-3.0.98/ccxt/async_support/btctradeua.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/btcturk.py` & `ccxt-3.0.98/ccxt/async_support/btcturk.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/buda.py` & `ccxt-3.0.98/ccxt/async_support/buda.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/bybit.py` & `ccxt-3.0.98/ccxt/async_support/bybit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/cex.py` & `ccxt-3.0.98/ccxt/async_support/cex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coinbase.py` & `ccxt-3.0.98/ccxt/async_support/coinbase.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coinbaseprime.py` & `ccxt-3.0.98/ccxt/async_support/coinbaseprime.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coinbasepro.py` & `ccxt-3.0.98/ccxt/async_support/coinbasepro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coincheck.py` & `ccxt-3.0.98/ccxt/async_support/coincheck.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coinex.py` & `ccxt-3.0.98/ccxt/async_support/coinex.py`

 * *Files 0% similar despite different names*

```diff
@@ -1675,44 +1675,53 @@
             },
             'info': order,
         }, market)
 
     async def create_order(self, symbol: str, type, side: OrderSide, amount, price=None, params={}):
         """
         create a trade order
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http017_put_limit
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http018_put_market
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http019_put_limit_stop
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http020_put_market_stop
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http031_market_close
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http030_limit_close
         :param str symbol: unified symbol of the market to create an order in
         :param str type: 'market' or 'limit'
         :param str side: 'buy' or 'sell'
         :param float amount: how much of currency you want to trade in units of base currency
         :param float|None price: the price at which the order is to be fullfilled, in units of the quote currency, ignored in market orders
         :param dict params: extra parameters specific to the coinex api endpoint
         :param float triggerPrice: price at which to triger stop orders
         :param float stopPrice: price at which to triger stop orders
         :param float stopLossPrice: price at which to trigger stop-loss orders
         :param float takeProfitPrice: price at which to trigger take-profit orders
         :param str params['timeInForce']: "GTC", "IOC", "FOK", "PO"
         :param bool params.postOnly:
         :param bool params.reduceOnly:
+        :param bool|None params['position_id']: *required for reduce only orders* the position id to reduce
         :returns dict: an `order structure <https://docs.ccxt.com/#/?id=order-structure>`
         """
         await self.load_markets()
         market = self.market(symbol)
         swap = market['swap']
         stopPrice = self.safe_value_2(params, 'stopPrice', 'triggerPrice')
         stopLossPrice = self.safe_value(params, 'stopLossPrice')
         takeProfitPrice = self.safe_value(params, 'takeProfitPrice')
         option = self.safe_string(params, 'option')
         isMarketOrder = type == 'market'
         postOnly = self.is_post_only(isMarketOrder, option == 'MAKER_ONLY', params)
         positionId = self.safe_integer_2(params, 'position_id', 'positionId')  # Required for closing swap positions
         timeInForceRaw = self.safe_string(params, 'timeInForce')  # Spot: IOC, FOK, PO, GTC, ... NORMAL(default), MAKER_ONLY
         reduceOnly = self.safe_value(params, 'reduceOnly')
-        if reduceOnly is not None:
+        if reduceOnly:
             if market['type'] != 'swap':
                 raise InvalidOrder(self.id + ' createOrder() does not support reduceOnly for ' + market['type'] + ' orders, reduceOnly orders are supported for swap markets only')
+            if positionId is None:
+                raise ArgumentsRequired(self.id + ' createOrder() requires a position_id/positionId parameter for reduceOnly orders')
         method = None
         request = {
             'market': market['id'],
         }
         if swap:
             if stopLossPrice or takeProfitPrice:
                 request['stop_type'] = self.safe_integer(params, 'stop_type', 1)  # 1: triggered by the latest transaction, 2: mark price, 3: index price
```

### Comparing `ccxt-3.0.97/ccxt/async_support/coinfalcon.py` & `ccxt-3.0.98/ccxt/async_support/coinfalcon.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coinmate.py` & `ccxt-3.0.98/ccxt/async_support/coinmate.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coinone.py` & `ccxt-3.0.98/ccxt/async_support/coinone.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coinsph.py` & `ccxt-3.0.98/ccxt/async_support/coinsph.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/coinspot.py` & `ccxt-3.0.98/ccxt/async_support/coinspot.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/cryptocom.py` & `ccxt-3.0.98/ccxt/async_support/cryptocom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/currencycom.py` & `ccxt-3.0.98/ccxt/async_support/currencycom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/delta.py` & `ccxt-3.0.98/ccxt/async_support/delta.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/deribit.py` & `ccxt-3.0.98/ccxt/async_support/deribit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/digifinex.py` & `ccxt-3.0.98/ccxt/async_support/digifinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/exmo.py` & `ccxt-3.0.98/ccxt/async_support/exmo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/flowbtc.py` & `ccxt-3.0.98/ccxt/async_support/flowbtc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/fmfwio.py` & `ccxt-3.0.98/ccxt/async_support/fmfwio.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/gate.py` & `ccxt-3.0.98/ccxt/async_support/gate.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/gemini.py` & `ccxt-3.0.98/ccxt/async_support/gemini.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/hitbtc.py` & `ccxt-3.0.98/ccxt/async_support/hitbtc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/hitbtc3.py` & `ccxt-3.0.98/ccxt/async_support/hitbtc3.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/hollaex.py` & `ccxt-3.0.98/ccxt/async_support/hollaex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/huobi.py` & `ccxt-3.0.98/ccxt/async_support/huobi.py`

 * *Files 1% similar despite different names*

```diff
@@ -2305,16 +2305,15 @@
             if limit is not None:
                 request['size'] = limit  # default 100, max 500
             if since is not None:
                 request['start-time'] = since  # a date within 120 days from today
                 # request['end-time'] = self.sum(since, 172800000)  # 48 hours window
             method = 'spotPrivateGetV1OrderMatchresults'
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' fetchMyTrades() requires a symbol for ' + marketType + ' orders')
+            self.check_required_symbol('fetchMyTrades', symbol)
             request['contract'] = market['id']
             request['trade_type'] = 0  # 0 all, 1 open long, 2 open short, 3 close short, 4 close long, 5 liquidate long positions, 6 liquidate short positions
             if since is not None:
                 request['start_time'] = since  # a date within 120 days from today
                 # request['end_time'] = self.sum(request['start_time'], 172800000)  # 48 hours window
             if limit is not None:
                 request['page_size'] = limit  # default 100, max 500
@@ -3091,16 +3090,15 @@
                 method = 'spotPrivateGetV1OrderOrdersGetClientOrder'
                 # will be filled below in self.extend()
                 # they expect clientOrderId instead of client-order-id
                 # request['clientOrderId'] = clientOrderId
             else:
                 request['order-id'] = id
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' fetchOrder() requires a symbol for ' + marketType + ' orders')
+            self.check_required_symbol('fetchOrder', symbol)
             request['contract_code'] = market['id']
             if market['linear']:
                 marginMode = None
                 marginMode, params = self.handle_margin_mode_and_params('fetchOrder', params)
                 marginMode = 'cross' if (marginMode is None) else marginMode
                 if marginMode == 'isolated':
                     method = 'contractPrivatePostLinearSwapApiV1SwapOrderInfo'
@@ -3262,16 +3260,15 @@
         if balance['type'] == 'frozen':
             account['used'] = self.safe_string(balance, 'balance')
         return account
 
     async def fetch_spot_orders_by_states(self, states, symbol: Optional[str] = None, since: Optional[int] = None, limit: Optional[int] = None, params={}):
         method = self.safe_string(self.options, 'fetchOrdersByStatesMethod', 'spot_private_get_v1_order_orders')  # spot_private_get_v1_order_history
         if method == 'spot_private_get_v1_order_orders':
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' fetchOrders() requires a symbol argument')
+            self.check_required_symbol('fetchOrders', symbol)
         await self.load_markets()
         market = None
         request = {
             # spot_private_get_v1_order_orders GET /v1/order/orders ----------
             # 'symbol': market['id'],  # required
             # 'types': 'buy-market,sell-market,buy-limit,sell-limit,buy-ioc,sell-ioc,buy-stop-limit,sell-stop-limit,buy-limit-fok,sell-limit-fok,buy-stop-limit-fok,sell-stop-limit-fok',
             # 'start-time': since,  # max window of 48h within a range of 180 days, within past 2 hours for cancelled orders
@@ -3328,16 +3325,15 @@
     async def fetch_spot_orders(self, symbol: Optional[str] = None, since: Optional[int] = None, limit: Optional[int] = None, params={}):
         return await self.fetch_spot_orders_by_states('pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled', symbol, since, limit, params)
 
     async def fetch_closed_spot_orders(self, symbol: Optional[str] = None, since: Optional[int] = None, limit: Optional[int] = None, params={}):
         return await self.fetch_spot_orders_by_states('filled,partial-canceled,canceled', symbol, since, limit, params)
 
     async def fetch_contract_orders(self, symbol: Optional[str] = None, since: Optional[int] = None, limit: Optional[int] = None, params={}):
-        if symbol is None:
-            raise ArgumentsRequired(self.id + ' fetchContractOrders() requires a symbol argument')
+        self.check_required_symbol('fetchContractOrders', symbol)
         await self.load_markets()
         market = self.market(symbol)
         request = {
             # POST /api/v1/contract_hisorders inverse futures ----------------
             # 'symbol': market['settleId'],  # BTC, ETH, ...
             # 'order_type': '1',  # 1 limit3 opponent4 lightning, 5 trigger order, 6 pst_only, 7 optimal_5, 8 optimal_10, 9 optimal_20, 10 fok, 11 ioc
             # POST /swap-api/v3/swap_hisorders inverse swap ------------------
@@ -3636,16 +3632,15 @@
                             break
             request['account-id'] = accountId
             if limit is not None:
                 request['size'] = limit
             params = self.omit(params, 'account-id')
             response = await self.spotPrivateGetV1OrderOpenOrders(self.extend(request, params))
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' fetchOpenOrders() requires a symbol for ' + marketType + ' orders')
+            self.check_required_symbol('fetchOpenOrders', symbol)
             if limit is not None:
                 request['page_size'] = limit
             request['contract_code'] = market['id']
             stop = self.safe_value(params, 'stop')
             stopLossTakeProfit = self.safe_value(params, 'stopLossTakeProfit')
             params = self.omit(params, ['stop', 'stopLossTakeProfit'])
             if market['linear']:
@@ -4514,16 +4509,15 @@
                 request['order-id'] = id
                 response = await self.spotPrivatePostV1OrderOrdersOrderIdSubmitcancel(self.extend(request, params))
             else:
                 request['client-order-id'] = clientOrderId
                 params = self.omit(params, ['client-order-id', 'clientOrderId'])
                 response = await self.spotPrivatePostV1OrderOrdersSubmitCancelClientOrder(self.extend(request, params))
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' cancelOrder() requires a symbol for ' + marketType + ' orders')
+            self.check_required_symbol('cancelOrder', symbol)
             clientOrderId = self.safe_string_2(params, 'client_order_id', 'clientOrderId')
             if clientOrderId is None:
                 request['order_id'] = id
             else:
                 request['client_order_id'] = clientOrderId
                 params = self.omit(params, ['client_order_id', 'clientOrderId'])
             if market['future']:
@@ -4594,77 +4588,101 @@
 
     async def cancel_orders(self, ids, symbol: Optional[str] = None, params={}):
         """
         cancel multiple orders
         :param [str] ids: order ids
         :param str|None symbol: unified market symbol, default is None
         :param dict params: extra parameters specific to the huobi api endpoint
+        :param bool|None params['stop']: *contract only* if the orders are stop trigger orders or not
+        :param bool|None params['stopLossTakeProfit']: *contract only* if the orders are stop-loss or take-profit orders
         :returns dict: an list of `order structures <https://docs.ccxt.com/#/?id=order-structure>`
         """
         await self.load_markets()
         market = None
         if symbol is not None:
             market = self.market(symbol)
         marketType = None
         marketType, params = self.handle_market_type_and_params('cancelOrders', market, params)
         request = {
             # spot -----------------------------------------------------------
-            # 'order-ids': ids.jsoin(','),  # max 50
+            # 'order-ids': ','.join(ids),  # max 50
             # 'client-order-ids': ','.join(ids),  # max 50
             # contracts ------------------------------------------------------
             # 'order_id': id,  # comma separated, max 10
             # 'client_order_id': clientOrderId,  # comma separated, max 10
             # 'contract_code': market['id'],
             # 'symbol': market['settleId'],
         }
-        method = None
+        response = None
         if marketType == 'spot':
             clientOrderIds = self.safe_value_2(params, 'client-order-id', 'clientOrderId')
             clientOrderIds = self.safe_value_2(params, 'client-order-ids', 'clientOrderIds', clientOrderIds)
             if clientOrderIds is None:
                 if isinstance(clientOrderIds, str):
-                    request['order-ids'] = ids
+                    request['order-ids'] = [ids]
                 else:
-                    request['order-ids'] = ','.join(ids)
+                    request['order-ids'] = ids
             else:
                 if isinstance(clientOrderIds, str):
-                    request['client-order-ids'] = clientOrderIds
+                    request['client-order-ids'] = [clientOrderIds]
                 else:
-                    request['client-order-ids'] = ','.join(clientOrderIds)
+                    request['client-order-ids'] = clientOrderIds
                 params = self.omit(params, ['client-order-id', 'client-order-ids', 'clientOrderId', 'clientOrderIds'])
-            method = 'spotPrivatePostV1OrderOrdersBatchcancel'
+            response = await self.spotPrivatePostV1OrderOrdersBatchcancel(self.extend(request, params))
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' cancelOrders() requires a symbol for ' + marketType + ' orders')
-            marketInner = self.market(symbol)
-            request['contract_code'] = marketInner['id']
-            if marketInner['linear']:
-                marginMode = None
-                marginMode, params = self.handle_margin_mode_and_params('cancelOrders', params)
-                marginMode = 'cross' if (marginMode is None) else marginMode
-                if marginMode == 'isolated':
-                    method = 'contractPrivatePostLinearSwapApiV1SwapCancel'
-                elif marginMode == 'cross':
-                    method = 'contractPrivatePostLinearSwapApiV1SwapCrossCancel'
-            elif marketInner['inverse']:
-                if marketInner['future']:
-                    method = 'contractPrivatePostApiV1ContractCancel'
-                    request['symbol'] = marketInner['settleId']
-                elif marketInner['swap']:
-                    method = 'contractPrivatePostSwapApiV1SwapCancel'
-                else:
-                    raise NotSupported(self.id + ' cancelOrders() does not support ' + marketType + ' markets')
+            self.check_required_symbol('cancelOrders', symbol)
             clientOrderIds = self.safe_string_2(params, 'client_order_id', 'clientOrderId')
             clientOrderIds = self.safe_string_2(params, 'client_order_ids', 'clientOrderIds', clientOrderIds)
             if clientOrderIds is None:
                 request['order_id'] = ','.join(ids)
             else:
                 request['client_order_id'] = clientOrderIds
                 params = self.omit(params, ['client_order_id', 'client_order_ids', 'clientOrderId', 'clientOrderIds'])
-        response = await getattr(self, method)(self.extend(request, params))
+            if market['future']:
+                request['symbol'] = market['settleId']
+            else:
+                request['contract_code'] = market['id']
+            stop = self.safe_value(params, 'stop')
+            stopLossTakeProfit = self.safe_value(params, 'stopLossTakeProfit')
+            params = self.omit(params, ['stop', 'stopLossTakeProfit'])
+            if market['linear']:
+                marginMode = None
+                marginMode, params = self.handle_margin_mode_and_params('cancelOrders', params)
+                marginMode = 'cross' if (marginMode is None) else marginMode
+                if marginMode == 'isolated':
+                    if stop:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapTriggerCancel(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapTpslCancel(self.extend(request, params))
+                    else:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapCancel(self.extend(request, params))
+                elif marginMode == 'cross':
+                    if stop:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapCrossTriggerCancel(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapCrossTpslCancel(self.extend(request, params))
+                    else:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapCrossCancel(self.extend(request, params))
+            elif market['inverse']:
+                if market['swap']:
+                    if stop:
+                        response = await self.contractPrivatePostSwapApiV1SwapTriggerCancel(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = await self.contractPrivatePostSwapApiV1SwapTpslCancel(self.extend(request, params))
+                    else:
+                        response = await self.contractPrivatePostSwapApiV1SwapCancel(self.extend(request, params))
+                elif market['future']:
+                    if stop:
+                        response = await self.contractPrivatePostApiV1ContractTriggerCancel(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = await self.contractPrivatePostApiV1ContractTpslCancel(self.extend(request, params))
+                    else:
+                        response = await self.contractPrivatePostApiV1ContractCancel(self.extend(request, params))
+            else:
+                raise NotSupported(self.id + ' cancelOrders() does not support ' + marketType + ' markets')
         #
         # spot
         #
         #     {
         #         "status": "ok",
         #         "data": {
         #             "success": [
@@ -4691,15 +4709,15 @@
         #                     "err-code": "base-not-found",
         #                     "client-order-id": "third"
         #                 }
         #             ]
         #         }
         #     }
         #
-        # contracts
+        # future and swap
         #
         #     {
         #         "status": "ok",
         #         "data": {
         #             "errors": [
         #                 {
         #                     "order_id": "769206471845261312",
@@ -4715,14 +4733,16 @@
         return response
 
     async def cancel_all_orders(self, symbol: Optional[str] = None, params={}):
         """
         cancel all open orders
         :param str|None symbol: unified market symbol, only orders in the market of self symbol are cancelled when symbol is not None
         :param dict params: extra parameters specific to the huobi api endpoint
+        :param bool|None params['stop']: *contract only* if the orders are stop trigger orders or not
+        :param bool|None params['stopLossTakeProfit']: *contract only* if the orders are stop-loss or take-profit orders
         :returns [dict]: a list of `order structures <https://docs.ccxt.com/#/?id=order-structure>`
         """
         await self.load_markets()
         market = None
         if symbol is not None:
             market = self.market(symbol)
         marketType = None
@@ -4737,52 +4757,85 @@
             # contract -------------------------------------------------------
             # 'symbol': market['settleId'],  # required
             # 'contract_code': market['id'],
             # 'contract_type': 'this_week',  # swap, self_week, next_week, quarter, next_ quarter
             # 'direction': 'buy':  # buy, sell
             # 'offset': 'open',  # open, close
         }
-        method = None
+        response = None
         if marketType == 'spot':
             if symbol is not None:
-                market = self.market(symbol)
                 request['symbol'] = market['id']
-            method = 'spotPrivatePostV1OrderOrdersBatchCancelOpenOrders'
+            response = await self.spotPrivatePostV1OrderOrdersBatchCancelOpenOrders(self.extend(request, params))
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' cancelAllOrders() requires a symbol for ' + marketType + ' orders')
-            marketInner = self.market(symbol)
-            request['contract_code'] = marketInner['id']
-            if marketInner['linear']:
+            self.check_required_symbol('cancelAllOrders', symbol)
+            if market['future']:
+                request['symbol'] = market['settleId']
+            request['contract_code'] = market['id']
+            stop = self.safe_value(params, 'stop')
+            stopLossTakeProfit = self.safe_value(params, 'stopLossTakeProfit')
+            params = self.omit(params, ['stop', 'stopLossTakeProfit'])
+            if market['linear']:
                 marginMode = None
                 marginMode, params = self.handle_margin_mode_and_params('cancelAllOrders', params)
                 marginMode = 'cross' if (marginMode is None) else marginMode
                 if marginMode == 'isolated':
-                    method = 'contractPrivatePostLinearSwapApiV1SwapCancelallall'
+                    if stop:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapTriggerCancelall(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapTpslCancelall(self.extend(request, params))
+                    else:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapCancelall(self.extend(request, params))
                 elif marginMode == 'cross':
-                    method = 'contractPrivatePostLinearSwapApiV1SwapCrossCancelall'
-            elif marketInner['inverse']:
-                if marketType == 'future':
-                    method = 'contractPrivatePostApiV1ContractCancelall'
-                    request['symbol'] = marketInner['settleId']
-                elif marketType == 'swap':
-                    method = 'contractPrivatePostSwapApiV1SwapCancelall'
-                else:
-                    raise NotSupported(self.id + ' cancelAllOrders() does not support ' + marketType + ' markets')
-        response = await getattr(self, method)(self.extend(request, params))
+                    if stop:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapCrossTriggerCancelall(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapCrossTpslCancelall(self.extend(request, params))
+                    else:
+                        response = await self.contractPrivatePostLinearSwapApiV1SwapCrossCancelall(self.extend(request, params))
+            elif market['inverse']:
+                if market['swap']:
+                    if stop:
+                        response = await self.contractPrivatePostSwapApiV1SwapTriggerCancelall(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = await self.contractPrivatePostSwapApiV1SwapTpslCancelall(self.extend(request, params))
+                    else:
+                        response = await self.contractPrivatePostSwapApiV1SwapCancelall(self.extend(request, params))
+                elif market['future']:
+                    if stop:
+                        response = await self.contractPrivatePostApiV1ContractTriggerCancelall(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = await self.contractPrivatePostApiV1ContractTpslCancelall(self.extend(request, params))
+                    else:
+                        response = await self.contractPrivatePostApiV1ContractCancelall(self.extend(request, params))
+            else:
+                raise NotSupported(self.id + ' cancelAllOrders() does not support ' + marketType + ' markets')
+        #
+        # spot
         #
         #     {
         #         code: 200,
         #         data: {
         #             "success-count": 2,
         #             "failed-count": 0,
         #             "next-id": 5454600
         #         }
         #     }
         #
+        # future and swap
+        #
+        #     {
+        #         status: "ok",
+        #         data: {
+        #             errors: [],
+        #             successes: "1104754904426696704"
+        #         },
+        #         ts: "1683435723755"
+        #     }
+        #
         return response
 
     def parse_deposit_address(self, depositAddress, currency=None):
         #
         #     {
         #         currency: "usdt",
         #         address: "0xf7292eb9ba7bc50358e27f0e025a4d225a64127b",
@@ -5376,16 +5429,15 @@
         fetches historical funding rate prices
         :param str|None symbol: unified symbol of the market to fetch the funding rate history for
         :param int|None since: not used by huobi, but filtered internally by ccxt
         :param int|None limit: not used by huobi, but filtered internally by ccxt
         :param dict params: extra parameters specific to the huobi api endpoint
         :returns [dict]: a list of `funding rate structures <https://docs.ccxt.com/en/latest/manual.html?#funding-rate-history-structure>`
         """
-        if symbol is None:
-            raise ArgumentsRequired(self.id + ' fetchFundingRateHistory() requires a symbol argument')
+        self.check_required_symbol('fetchFundingRateHistory', symbol)
         await self.load_markets()
         market = self.market(symbol)
         request = {
             'contract_code': market['id'],
         }
         method = None
         if market['inverse']:
@@ -5881,16 +5933,15 @@
         """
         set the level of leverage for a market
         :param float leverage: the rate of leverage
         :param str symbol: unified market symbol
         :param dict params: extra parameters specific to the huobi api endpoint
         :returns dict: response from the exchange
         """
-        if symbol is None:
-            raise ArgumentsRequired(self.id + ' setLeverage() requires a symbol argument')
+        self.check_required_symbol('setLeverage', symbol)
         await self.load_markets()
         market = self.market(symbol)
         marketType, query = self.handle_market_type_and_params('setLeverage', market, params)
         method = None
         if market['linear']:
             marginMode = None
             marginMode, params = self.handle_margin_mode_and_params('setLeverage', params)
@@ -6961,16 +7012,15 @@
             'amount': self.currency_to_precision(code, amount),
         }
         marginMode = None
         marginMode, params = self.handle_margin_mode_and_params('borrowMargin', params)
         marginMode = 'cross' if (marginMode is None) else marginMode
         method = None
         if marginMode == 'isolated':
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' borrowMargin() requires a symbol argument for isolated margin')
+            self.check_required_symbol('borrowMargin', symbol)
             market = self.market(symbol)
             request['symbol'] = market['id']
             method = 'privatePostMarginOrders'
         elif marginMode == 'cross':
             method = 'privatePostCrossMarginOrders'
         response = await getattr(self, method)(self.extend(request, params))
         #
```

### Comparing `ccxt-3.0.97/ccxt/async_support/huobijp.py` & `ccxt-3.0.98/ccxt/async_support/huobijp.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/huobipro.py` & `ccxt-3.0.98/ccxt/async_support/huobipro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/idex.py` & `ccxt-3.0.98/ccxt/async_support/idex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/independentreserve.py` & `ccxt-3.0.98/ccxt/async_support/independentreserve.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/indodax.py` & `ccxt-3.0.98/ccxt/async_support/indodax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/itbit.py` & `ccxt-3.0.98/ccxt/async_support/itbit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/kraken.py` & `ccxt-3.0.98/ccxt/async_support/kraken.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/krakenfutures.py` & `ccxt-3.0.98/ccxt/async_support/krakenfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/kucoin.py` & `ccxt-3.0.98/ccxt/async_support/kucoin.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/kucoinfutures.py` & `ccxt-3.0.98/ccxt/async_support/kucoinfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/kuna.py` & `ccxt-3.0.98/ccxt/async_support/kuna.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/latoken.py` & `ccxt-3.0.98/ccxt/async_support/latoken.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/lbank.py` & `ccxt-3.0.98/ccxt/async_support/lbank.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/lbank2.py` & `ccxt-3.0.98/ccxt/async_support/lbank2.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/luno.py` & `ccxt-3.0.98/ccxt/async_support/luno.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/lykke.py` & `ccxt-3.0.98/ccxt/async_support/lykke.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/mercado.py` & `ccxt-3.0.98/ccxt/async_support/mercado.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/mexc.py` & `ccxt-3.0.98/ccxt/async_support/mexc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/ndax.py` & `ccxt-3.0.98/ccxt/async_support/ndax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/novadax.py` & `ccxt-3.0.98/ccxt/async_support/novadax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/oceanex.py` & `ccxt-3.0.98/ccxt/async_support/oceanex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/okcoin.py` & `ccxt-3.0.98/ccxt/async_support/okcoin.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/okx.py` & `ccxt-3.0.98/ccxt/async_support/okx.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/paymium.py` & `ccxt-3.0.98/ccxt/async_support/paymium.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/phemex.py` & `ccxt-3.0.98/ccxt/async_support/phemex.py`

 * *Files 0% similar despite different names*

```diff
@@ -7492,4534 +7492,4534 @@
 0001d430: 616d 2064 6963 7420 7061 7261 6d73 3a20  am dict params: 
 0001d440: 6578 7472 6120 7061 7261 6d65 7465 7273  extra parameters
 0001d450: 2073 7065 6369 6669 6320 746f 2074 6865   specific to the
 0001d460: 2070 6865 6d65 7820 6170 6920 656e 6470   phemex api endp
 0001d470: 6f69 6e74 0a20 2020 2020 2020 203a 7061  oint.        :pa
 0001d480: 7261 6d20 7374 727c 4e6f 6e65 2070 6172  ram str|None par
 0001d490: 616d 735b 2770 6f73 5369 6465 275d 3a20  ams['posSide']: 
-0001d4a0: 6569 7468 6572 2027 4865 6467 6564 2720  either 'Hedged' 
-0001d4b0: 6f72 2027 4f6e 6557 6179 2720 6f72 2027  or 'OneWay' or '
-0001d4c0: 4d65 7267 6564 270a 2020 2020 2020 2020  Merged'.        
-0001d4d0: 3a72 6574 7572 6e73 2064 6963 743a 2061  :returns dict: a
-0001d4e0: 6e20 606f 7264 6572 2073 7472 7563 7475  n `order structu
-0001d4f0: 7265 203c 6874 7470 733a 2f2f 646f 6373  re <https://docs
-0001d500: 2e63 6378 742e 636f 6d2f 232f 3f69 643d  .ccxt.com/#/?id=
-0001d510: 6f72 6465 722d 7374 7275 6374 7572 653e  order-structure>
-0001d520: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
-0001d530: 2020 2020 2020 6966 2073 796d 626f 6c20        if symbol 
-0001d540: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0001d550: 2020 2020 2072 6169 7365 2041 7267 756d       raise Argum
-0001d560: 656e 7473 5265 7175 6972 6564 2873 656c  entsRequired(sel
-0001d570: 662e 6964 202b 2027 2065 6469 744f 7264  f.id + ' editOrd
-0001d580: 6572 2829 2072 6571 7569 7265 7320 6120  er() requires a 
-0001d590: 7379 6d62 6f6c 2061 7267 756d 656e 7427  symbol argument'
-0001d5a0: 290a 2020 2020 2020 2020 6177 6169 7420  ).        await 
-0001d5b0: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
-0001d5c0: 7328 290a 2020 2020 2020 2020 6d61 726b  s().        mark
-0001d5d0: 6574 203d 2073 656c 662e 6d61 726b 6574  et = self.market
-0001d5e0: 2873 796d 626f 6c29 0a20 2020 2020 2020  (symbol).       
-0001d5f0: 2072 6571 7565 7374 203d 207b 0a20 2020   request = {.   
-0001d600: 2020 2020 2020 2020 2027 7379 6d62 6f6c           'symbol
-0001d610: 273a 206d 6172 6b65 745b 2769 6427 5d2c  ': market['id'],
-0001d620: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-0001d630: 2020 2063 6c69 656e 744f 7264 6572 4964     clientOrderId
-0001d640: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
-0001d650: 696e 675f 3228 7061 7261 6d73 2c20 2763  ing_2(params, 'c
-0001d660: 6c69 656e 744f 7264 6572 4964 272c 2027  lientOrderId', '
-0001d670: 636c 4f72 6449 4427 290a 2020 2020 2020  clOrdID').      
-0001d680: 2020 7061 7261 6d73 203d 2073 656c 662e    params = self.
-0001d690: 6f6d 6974 2870 6172 616d 732c 205b 2763  omit(params, ['c
-0001d6a0: 6c69 656e 744f 7264 6572 4964 272c 2027  lientOrderId', '
-0001d6b0: 636c 4f72 6449 4427 5d29 0a20 2020 2020  clOrdID']).     
-0001d6c0: 2020 2069 7355 5344 5453 6574 746c 6564     isUSDTSettled
-0001d6d0: 203d 2028 6d61 726b 6574 5b27 7365 7474   = (market['sett
-0001d6e0: 6c65 275d 203d 3d20 2755 5344 5427 290a  le'] == 'USDT').
-0001d6f0: 2020 2020 2020 2020 6966 2063 6c69 656e          if clien
-0001d700: 744f 7264 6572 4964 2069 7320 6e6f 7420  tOrderId is not 
-0001d710: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-0001d720: 2020 7265 7175 6573 745b 2763 6c4f 7264    request['clOrd
-0001d730: 4944 275d 203d 2063 6c69 656e 744f 7264  ID'] = clientOrd
-0001d740: 6572 4964 0a20 2020 2020 2020 2065 6c73  erId.        els
-0001d750: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-0001d760: 6571 7565 7374 5b27 6f72 6465 7249 4427  equest['orderID'
-0001d770: 5d20 3d20 6964 0a20 2020 2020 2020 2069  ] = id.        i
-0001d780: 6620 7072 6963 6520 6973 206e 6f74 204e  f price is not N
-0001d790: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0001d7a0: 2069 6620 6973 5553 4454 5365 7474 6c65   if isUSDTSettle
-0001d7b0: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
-0001d7c0: 2020 2072 6571 7565 7374 5b27 7072 6963     request['pric
-0001d7d0: 6552 7027 5d20 3d20 7365 6c66 2e70 7269  eRp'] = self.pri
-0001d7e0: 6365 5f74 6f5f 7072 6563 6973 696f 6e28  ce_to_precision(
-0001d7f0: 6d61 726b 6574 5b27 7379 6d62 6f6c 275d  market['symbol']
-0001d800: 2c20 7072 6963 6529 0a20 2020 2020 2020  , price).       
-0001d810: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001d820: 2020 2020 2020 2020 2020 2072 6571 7565             reque
-0001d830: 7374 5b27 7072 6963 6545 7027 5d20 3d20  st['priceEp'] = 
-0001d840: 7365 6c66 2e74 6f5f 6570 2870 7269 6365  self.to_ep(price
-0001d850: 2c20 6d61 726b 6574 290a 2020 2020 2020  , market).      
-0001d860: 2020 2320 4e6f 7465 2074 6865 2075 7070    # Note the upp
-0001d870: 6572 6361 7365 2027 5627 2069 6e20 2762  ercase 'V' in 'b
-0001d880: 6173 6551 7479 4556 2720 7265 7175 6573  aseQtyEV' reques
-0001d890: 742e 2074 6861 7420 6973 2065 7863 6861  t. that is excha
-0001d8a0: 6e67 6527 7320 7265 7175 6972 656d 656e  nge's requiremen
-0001d8b0: 7420 6174 2073 656c 6620 6d6f 6d65 6e74  t at self moment
-0001d8c0: 2e20 486f 7765 7665 722c 2074 6f20 6176  . However, to av
-0001d8d0: 6f69 6420 6d69 7374 616b 6573 2066 726f  oid mistakes fro
-0001d8e0: 6d20 7573 6572 2073 6964 652c 206c 6574  m user side, let
-0001d8f0: 2773 2073 7570 706f 7274 206c 6f77 6572  's support lower
-0001d900: 6361 7365 6420 2762 6173 6551 7479 4576  cased 'baseQtyEv
-0001d910: 2720 746f 6f0a 2020 2020 2020 2020 6669  ' too.        fi
-0001d920: 6e61 6c51 7479 203d 2073 656c 662e 7361  nalQty = self.sa
-0001d930: 6665 5f73 7472 696e 6728 7061 7261 6d73  fe_string(params
-0001d940: 2c20 2762 6173 6551 7479 4576 2729 0a20  , 'baseQtyEv'). 
-0001d950: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0001d960: 7365 6c66 2e6f 6d69 7428 7061 7261 6d73  self.omit(params
-0001d970: 2c20 5b27 6261 7365 5174 7945 7627 5d29  , ['baseQtyEv'])
-0001d980: 0a20 2020 2020 2020 2069 6620 6669 6e61  .        if fina
-0001d990: 6c51 7479 2069 7320 6e6f 7420 4e6f 6e65  lQty is not None
-0001d9a0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0001d9b0: 7175 6573 745b 2762 6173 6551 7479 4556  quest['baseQtyEV
-0001d9c0: 275d 203d 2066 696e 616c 5174 790a 2020  '] = finalQty.  
-0001d9d0: 2020 2020 2020 656c 6966 2061 6d6f 756e        elif amoun
-0001d9e0: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
-0001d9f0: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-0001da00: 5553 4454 5365 7474 6c65 643a 0a20 2020  USDTSettled:.   
-0001da10: 2020 2020 2020 2020 2020 2020 2072 6571               req
-0001da20: 7565 7374 5b27 6261 7365 5174 7945 5627  uest['baseQtyEV'
-0001da30: 5d20 3d20 7365 6c66 2e61 6d6f 756e 745f  ] = self.amount_
-0001da40: 746f 5f70 7265 6369 7369 6f6e 286d 6172  to_precision(mar
-0001da50: 6b65 745b 2773 796d 626f 6c27 5d2c 2061  ket['symbol'], a
-0001da60: 6d6f 756e 7429 0a20 2020 2020 2020 2020  mount).         
-0001da70: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0001da80: 2020 2020 2020 2020 2072 6571 7565 7374           request
-0001da90: 5b27 6261 7365 5174 7945 5627 5d20 3d20  ['baseQtyEV'] = 
-0001daa0: 7365 6c66 2e74 6f5f 6576 2861 6d6f 756e  self.to_ev(amoun
-0001dab0: 742c 206d 6172 6b65 7429 0a20 2020 2020  t, market).     
-0001dac0: 2020 2073 746f 7050 7269 6365 203d 2073     stopPrice = s
-0001dad0: 656c 662e 7361 6665 5f73 7472 696e 675f  elf.safe_string_
-0001dae0: 3228 7061 7261 6d73 2c20 2773 746f 7050  2(params, 'stopP
-0001daf0: 7827 2c20 2773 746f 7050 7269 6365 2729  x', 'stopPrice')
-0001db00: 0a20 2020 2020 2020 2069 6620 7374 6f70  .        if stop
-0001db10: 5072 6963 6520 6973 206e 6f74 204e 6f6e  Price is not Non
-0001db20: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
-0001db30: 6620 6973 5553 4454 5365 7474 6c65 643a  f isUSDTSettled:
-0001db40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001db50: 2072 6571 7565 7374 5b27 7374 6f70 5078   request['stopPx
-0001db60: 5270 275d 203d 2073 656c 662e 7072 6963  Rp'] = self.pric
-0001db70: 655f 746f 5f70 7265 6369 7369 6f6e 2873  e_to_precision(s
-0001db80: 796d 626f 6c2c 2073 746f 7050 7269 6365  ymbol, stopPrice
-0001db90: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-0001dba0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0001dbb0: 2020 2020 7265 7175 6573 745b 2773 746f      request['sto
-0001dbc0: 7050 7845 7027 5d20 3d20 7365 6c66 2e74  pPxEp'] = self.t
-0001dbd0: 6f5f 6570 2873 746f 7050 7269 6365 2c20  o_ep(stopPrice, 
-0001dbe0: 6d61 726b 6574 290a 2020 2020 2020 2020  market).        
-0001dbf0: 7061 7261 6d73 203d 2073 656c 662e 6f6d  params = self.om
-0001dc00: 6974 2870 6172 616d 732c 205b 2773 746f  it(params, ['sto
-0001dc10: 7050 7827 2c20 2773 746f 7050 7269 6365  pPx', 'stopPrice
-0001dc20: 275d 290a 2020 2020 2020 2020 6d65 7468  ']).        meth
-0001dc30: 6f64 203d 2027 7072 6976 6174 6550 7574  od = 'privatePut
-0001dc40: 5370 6f74 4f72 6465 7273 270a 2020 2020  SpotOrders'.    
-0001dc50: 2020 2020 6966 2069 7355 5344 5453 6574      if isUSDTSet
-0001dc60: 746c 6564 3a0a 2020 2020 2020 2020 2020  tled:.          
-0001dc70: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
-0001dc80: 6174 6550 7574 474f 7264 6572 7352 6570  atePutGOrdersRep
-0001dc90: 6c61 6365 270a 2020 2020 2020 2020 2020  lace'.          
-0001dca0: 2020 706f 7353 6964 6520 3d20 7365 6c66    posSide = self
-0001dcb0: 2e73 6166 655f 7374 7269 6e67 2870 6172  .safe_string(par
-0001dcc0: 616d 732c 2027 706f 7353 6964 6527 290a  ams, 'posSide').
-0001dcd0: 2020 2020 2020 2020 2020 2020 6966 2070              if p
-0001dce0: 6f73 5369 6465 2069 7320 4e6f 6e65 3a0a  osSide is None:.
-0001dcf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001dd00: 7265 7175 6573 745b 2770 6f73 5369 6465  request['posSide
-0001dd10: 275d 203d 2027 4d65 7267 6564 270a 2020  '] = 'Merged'.  
-0001dd20: 2020 2020 2020 656c 6966 206d 6172 6b65        elif marke
-0001dd30: 745b 2773 7761 7027 5d3a 0a20 2020 2020  t['swap']:.     
-0001dd40: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
-0001dd50: 2770 7269 7661 7465 5075 744f 7264 6572  'privatePutOrder
-0001dd60: 7352 6570 6c61 6365 270a 2020 2020 2020  sReplace'.      
-0001dd70: 2020 7265 7370 6f6e 7365 203d 2061 7761    response = awa
-0001dd80: 6974 2067 6574 6174 7472 2873 656c 662c  it getattr(self,
-0001dd90: 206d 6574 686f 6429 2873 656c 662e 6578   method)(self.ex
-0001dda0: 7465 6e64 2872 6571 7565 7374 2c20 7061  tend(request, pa
-0001ddb0: 7261 6d73 2929 0a20 2020 2020 2020 2064  rams)).        d
-0001ddc0: 6174 6120 3d20 7365 6c66 2e73 6166 655f  ata = self.safe_
-0001ddd0: 7661 6c75 6528 7265 7370 6f6e 7365 2c20  value(response, 
-0001dde0: 2764 6174 6127 2c20 7b7d 290a 2020 2020  'data', {}).    
-0001ddf0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-0001de00: 7061 7273 655f 6f72 6465 7228 6461 7461  parse_order(data
-0001de10: 2c20 6d61 726b 6574 290a 0a20 2020 2061  , market)..    a
-0001de20: 7379 6e63 2064 6566 2063 616e 6365 6c5f  sync def cancel_
-0001de30: 6f72 6465 7228 7365 6c66 2c20 6964 3a20  order(self, id: 
-0001de40: 7374 722c 2073 796d 626f 6c3a 204f 7074  str, symbol: Opt
-0001de50: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
-0001de60: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
-0001de70: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0001de80: 2020 2063 616e 6365 6c73 2061 6e20 6f70     cancels an op
-0001de90: 656e 206f 7264 6572 0a20 2020 2020 2020  en order.       
-0001dea0: 2073 6565 2068 7474 7073 3a2f 2f67 6974   see https://git
-0001deb0: 6875 622e 636f 6d2f 7068 656d 6578 2f70  hub.com/phemex/p
-0001dec0: 6865 6d65 782d 6170 692d 646f 6373 2f62  hemex-api-docs/b
-0001ded0: 6c6f 622f 6d61 7374 6572 2f50 7562 6c69  lob/master/Publi
-0001dee0: 632d 4865 6467 6564 2d50 6572 7065 7475  c-Hedged-Perpetu
-0001def0: 616c 2d41 5049 2e6d 6423 6361 6e63 656c  al-API.md#cancel
-0001df00: 2d73 696e 676c 652d 6f72 6465 722d 6279  -single-order-by
-0001df10: 2d6f 7264 6572 6964 0a20 2020 2020 2020  -orderid.       
-0001df20: 203a 7061 7261 6d20 7374 7220 6964 3a20   :param str id: 
-0001df30: 6f72 6465 7220 6964 0a20 2020 2020 2020  order id.       
-0001df40: 203a 7061 7261 6d20 7374 7220 7379 6d62   :param str symb
-0001df50: 6f6c 3a20 756e 6966 6965 6420 7379 6d62  ol: unified symb
-0001df60: 6f6c 206f 6620 7468 6520 6d61 726b 6574  ol of the market
-0001df70: 2074 6865 206f 7264 6572 2077 6173 206d   the order was m
-0001df80: 6164 6520 696e 0a20 2020 2020 2020 203a  ade in.        :
-0001df90: 7061 7261 6d20 6469 6374 2070 6172 616d  param dict param
-0001dfa0: 733a 2065 7874 7261 2070 6172 616d 6574  s: extra paramet
-0001dfb0: 6572 7320 7370 6563 6966 6963 2074 6f20  ers specific to 
-0001dfc0: 7468 6520 7068 656d 6578 2061 7069 2065  the phemex api e
-0001dfd0: 6e64 706f 696e 740a 2020 2020 2020 2020  ndpoint.        
-0001dfe0: 3a70 6172 616d 2073 7472 7c4e 6f6e 6520  :param str|None 
-0001dff0: 7061 7261 6d73 5b27 706f 7353 6964 6527  params['posSide'
-0001e000: 5d3a 2065 6974 6865 7220 2748 6564 6765  ]: either 'Hedge
-0001e010: 6427 206f 7220 274f 6e65 5761 7927 206f  d' or 'OneWay' o
-0001e020: 7220 274d 6572 6765 6427 0a20 2020 2020  r 'Merged'.     
-0001e030: 2020 203a 7265 7475 726e 7320 6469 6374     :returns dict
-0001e040: 3a20 416e 2060 6f72 6465 7220 7374 7275  : An `order stru
-0001e050: 6374 7572 6520 3c68 7474 7073 3a2f 2f64  cture <https://d
-0001e060: 6f63 732e 6363 7874 2e63 6f6d 2f23 2f3f  ocs.ccxt.com/#/?
-0001e070: 6964 3d6f 7264 6572 2d73 7472 7563 7475  id=order-structu
-0001e080: 7265 3e60 0a20 2020 2020 2020 2022 2222  re>`.        """
-0001e090: 0a20 2020 2020 2020 2069 6620 7379 6d62  .        if symb
-0001e0a0: 6f6c 2069 7320 4e6f 6e65 3a0a 2020 2020  ol is None:.    
-0001e0b0: 2020 2020 2020 2020 7261 6973 6520 4172          raise Ar
-0001e0c0: 6775 6d65 6e74 7352 6571 7569 7265 6428  gumentsRequired(
-0001e0d0: 7365 6c66 2e69 6420 2b20 2720 6361 6e63  self.id + ' canc
-0001e0e0: 656c 4f72 6465 7228 2920 7265 7175 6972  elOrder() requir
-0001e0f0: 6573 2061 2073 796d 626f 6c20 6172 6775  es a symbol argu
-0001e100: 6d65 6e74 2729 0a20 2020 2020 2020 2061  ment').        a
-0001e110: 7761 6974 2073 656c 662e 6c6f 6164 5f6d  wait self.load_m
-0001e120: 6172 6b65 7473 2829 0a20 2020 2020 2020  arkets().       
-0001e130: 206d 6172 6b65 7420 3d20 7365 6c66 2e6d   market = self.m
-0001e140: 6172 6b65 7428 7379 6d62 6f6c 290a 2020  arket(symbol).  
-0001e150: 2020 2020 2020 7265 7175 6573 7420 3d20        request = 
-0001e160: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
-0001e170: 796d 626f 6c27 3a20 6d61 726b 6574 5b27  ymbol': market['
-0001e180: 6964 275d 2c0a 2020 2020 2020 2020 7d0a  id'],.        }.
-0001e190: 2020 2020 2020 2020 636c 6965 6e74 4f72          clientOr
-0001e1a0: 6465 7249 6420 3d20 7365 6c66 2e73 6166  derId = self.saf
-0001e1b0: 655f 7374 7269 6e67 5f32 2870 6172 616d  e_string_2(param
-0001e1c0: 732c 2027 636c 6965 6e74 4f72 6465 7249  s, 'clientOrderI
-0001e1d0: 6427 2c20 2763 6c4f 7264 4944 2729 0a20  d', 'clOrdID'). 
-0001e1e0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0001e1f0: 7365 6c66 2e6f 6d69 7428 7061 7261 6d73  self.omit(params
-0001e200: 2c20 5b27 636c 6965 6e74 4f72 6465 7249  , ['clientOrderI
-0001e210: 6427 2c20 2763 6c4f 7264 4944 275d 290a  d', 'clOrdID']).
-0001e220: 2020 2020 2020 2020 6966 2063 6c69 656e          if clien
-0001e230: 744f 7264 6572 4964 2069 7320 6e6f 7420  tOrderId is not 
-0001e240: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-0001e250: 2020 7265 7175 6573 745b 2763 6c4f 7264    request['clOrd
-0001e260: 4944 275d 203d 2063 6c69 656e 744f 7264  ID'] = clientOrd
-0001e270: 6572 4964 0a20 2020 2020 2020 2065 6c73  erId.        els
-0001e280: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-0001e290: 6571 7565 7374 5b27 6f72 6465 7249 4427  equest['orderID'
-0001e2a0: 5d20 3d20 6964 0a20 2020 2020 2020 206d  ] = id.        m
-0001e2b0: 6574 686f 6420 3d20 2770 7269 7661 7465  ethod = 'private
-0001e2c0: 4465 6c65 7465 5370 6f74 4f72 6465 7273  DeleteSpotOrders
-0001e2d0: 270a 2020 2020 2020 2020 6966 206d 6172  '.        if mar
-0001e2e0: 6b65 745b 2773 6574 746c 6527 5d20 3d3d  ket['settle'] ==
-0001e2f0: 2027 5553 4454 273a 0a20 2020 2020 2020   'USDT':.       
-0001e300: 2020 2020 206d 6574 686f 6420 3d20 2770       method = 'p
-0001e310: 7269 7661 7465 4465 6c65 7465 474f 7264  rivateDeleteGOrd
-0001e320: 6572 7343 616e 6365 6c27 0a20 2020 2020  ersCancel'.     
-0001e330: 2020 2020 2020 2070 6f73 5369 6465 203d         posSide =
-0001e340: 2073 656c 662e 7361 6665 5f73 7472 696e   self.safe_strin
-0001e350: 6728 7061 7261 6d73 2c20 2770 6f73 5369  g(params, 'posSi
-0001e360: 6465 2729 0a20 2020 2020 2020 2020 2020  de').           
-0001e370: 2069 6620 706f 7353 6964 6520 6973 204e   if posSide is N
-0001e380: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0001e390: 2020 2020 2072 6571 7565 7374 5b27 706f       request['po
-0001e3a0: 7353 6964 6527 5d20 3d20 274d 6572 6765  sSide'] = 'Merge
-0001e3b0: 6427 0a20 2020 2020 2020 2065 6c69 6620  d'.        elif 
-0001e3c0: 6d61 726b 6574 5b27 7377 6170 275d 3a0a  market['swap']:.
-0001e3d0: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
-0001e3e0: 6f64 203d 2027 7072 6976 6174 6544 656c  od = 'privateDel
-0001e3f0: 6574 654f 7264 6572 7343 616e 6365 6c27  eteOrdersCancel'
-0001e400: 0a20 2020 2020 2020 2072 6573 706f 6e73  .        respons
-0001e410: 6520 3d20 6177 6169 7420 6765 7461 7474  e = await getatt
-0001e420: 7228 7365 6c66 2c20 6d65 7468 6f64 2928  r(self, method)(
-0001e430: 7365 6c66 2e65 7874 656e 6428 7265 7175  self.extend(requ
-0001e440: 6573 742c 2070 6172 616d 7329 290a 2020  est, params)).  
-0001e450: 2020 2020 2020 6461 7461 203d 2073 656c        data = sel
-0001e460: 662e 7361 6665 5f76 616c 7565 2872 6573  f.safe_value(res
-0001e470: 706f 6e73 652c 2027 6461 7461 272c 207b  ponse, 'data', {
-0001e480: 7d29 0a20 2020 2020 2020 2072 6574 7572  }).        retur
-0001e490: 6e20 7365 6c66 2e70 6172 7365 5f6f 7264  n self.parse_ord
-0001e4a0: 6572 2864 6174 612c 206d 6172 6b65 7429  er(data, market)
-0001e4b0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0001e4c0: 6361 6e63 656c 5f61 6c6c 5f6f 7264 6572  cancel_all_order
-0001e4d0: 7328 7365 6c66 2c20 7379 6d62 6f6c 3a20  s(self, symbol: 
-0001e4e0: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
-0001e4f0: 4e6f 6e65 2c20 7061 7261 6d73 3d7b 7d29  None, params={})
-0001e500: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001e510: 2020 2020 2020 6361 6e63 656c 2061 6c6c        cancel all
-0001e520: 206f 7065 6e20 6f72 6465 7273 2069 6e20   open orders in 
-0001e530: 6120 6d61 726b 6574 0a20 2020 2020 2020  a market.       
-0001e540: 2073 6565 2068 7474 7073 3a2f 2f67 6974   see https://git
-0001e550: 6875 622e 636f 6d2f 7068 656d 6578 2f70  hub.com/phemex/p
-0001e560: 6865 6d65 782d 6170 692d 646f 6373 2f62  hemex-api-docs/b
-0001e570: 6c6f 622f 6d61 7374 6572 2f50 7562 6c69  lob/master/Publi
-0001e580: 632d 4865 6467 6564 2d50 6572 7065 7475  c-Hedged-Perpetu
-0001e590: 616c 2d41 5049 2e6d 6423 6361 6e63 656c  al-API.md#cancel
-0001e5a0: 616c 6c0a 2020 2020 2020 2020 3a70 6172  all.        :par
-0001e5b0: 616d 2073 7472 2073 796d 626f 6c3a 2075  am str symbol: u
-0001e5c0: 6e69 6669 6564 206d 6172 6b65 7420 7379  nified market sy
-0001e5d0: 6d62 6f6c 206f 6620 7468 6520 6d61 726b  mbol of the mark
-0001e5e0: 6574 2074 6f20 6361 6e63 656c 206f 7264  et to cancel ord
-0001e5f0: 6572 7320 696e 0a20 2020 2020 2020 203a  ers in.        :
-0001e600: 7061 7261 6d20 6469 6374 2070 6172 616d  param dict param
-0001e610: 733a 2065 7874 7261 2070 6172 616d 6574  s: extra paramet
-0001e620: 6572 7320 7370 6563 6966 6963 2074 6f20  ers specific to 
-0001e630: 7468 6520 7068 656d 6578 2061 7069 2065  the phemex api e
-0001e640: 6e64 706f 696e 740a 2020 2020 2020 2020  ndpoint.        
-0001e650: 3a72 6574 7572 6e73 205b 6469 6374 5d3a  :returns [dict]:
-0001e660: 2061 206c 6973 7420 6f66 2060 6f72 6465   a list of `orde
-0001e670: 7220 7374 7275 6374 7572 6573 203c 6874  r structures <ht
-0001e680: 7470 733a 2f2f 646f 6373 2e63 6378 742e  tps://docs.ccxt.
-0001e690: 636f 6d2f 232f 3f69 643d 6f72 6465 722d  com/#/?id=order-
-0001e6a0: 7374 7275 6374 7572 653e 600a 2020 2020  structure>`.    
-0001e6b0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001e6c0: 6966 2073 796d 626f 6c20 6973 204e 6f6e  if symbol is Non
-0001e6d0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-0001e6e0: 6169 7365 2041 7267 756d 656e 7473 5265  aise ArgumentsRe
-0001e6f0: 7175 6972 6564 2873 656c 662e 6964 202b  quired(self.id +
-0001e700: 2027 2063 616e 6365 6c41 6c6c 4f72 6465   ' cancelAllOrde
-0001e710: 7273 2829 2072 6571 7569 7265 7320 6120  rs() requires a 
-0001e720: 7379 6d62 6f6c 2061 7267 756d 656e 7427  symbol argument'
-0001e730: 290a 2020 2020 2020 2020 6177 6169 7420  ).        await 
-0001e740: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
-0001e750: 7328 290a 2020 2020 2020 2020 7265 7175  s().        requ
-0001e760: 6573 7420 3d20 7b0a 2020 2020 2020 2020  est = {.        
-0001e770: 2020 2020 2320 2773 796d 626f 6c27 3a20      # 'symbol': 
-0001e780: 6d61 726b 6574 5b27 6964 275d 2c0a 2020  market['id'],.  
-0001e790: 2020 2020 2020 2020 2020 2320 2775 6e74            # 'unt
-0001e7a0: 7269 6767 6572 7265 6427 3a20 4661 6c73  riggerred': Fals
-0001e7b0: 652c 2020 2320 4661 6c73 6520 746f 2063  e,  # False to c
-0001e7c0: 616e 6365 6c20 6e6f 6e2d 636f 6e64 6974  ancel non-condit
-0001e7d0: 696f 6e61 6c20 6f72 6465 7273 2c20 5472  ional orders, Tr
-0001e7e0: 7565 2074 6f20 6361 6e63 656c 2063 6f6e  ue to cancel con
-0001e7f0: 6469 7469 6f6e 616c 206f 7264 6572 730a  ditional orders.
-0001e800: 2020 2020 2020 2020 2020 2020 2320 2774              # 't
-0001e810: 6578 7427 3a20 2775 7020 746f 2034 3020  ext': 'up to 40 
-0001e820: 6368 6172 6163 7465 7273 206d 6178 272c  characters max',
-0001e830: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-0001e840: 2020 206d 6172 6b65 7420 3d20 7365 6c66     market = self
-0001e850: 2e6d 6172 6b65 7428 7379 6d62 6f6c 290a  .market(symbol).
-0001e860: 2020 2020 2020 2020 6d65 7468 6f64 203d          method =
-0001e870: 2027 7072 6976 6174 6544 656c 6574 6553   'privateDeleteS
-0001e880: 706f 744f 7264 6572 7341 6c6c 270a 2020  potOrdersAll'.  
-0001e890: 2020 2020 2020 6966 206d 6172 6b65 745b        if market[
-0001e8a0: 2773 6574 746c 6527 5d20 3d3d 2027 5553  'settle'] == 'US
-0001e8b0: 4454 273a 0a20 2020 2020 2020 2020 2020  DT':.           
-0001e8c0: 206d 6574 686f 6420 3d20 2770 7269 7661   method = 'priva
-0001e8d0: 7465 4465 6c65 7465 474f 7264 6572 7341  teDeleteGOrdersA
-0001e8e0: 6c6c 270a 2020 2020 2020 2020 656c 6966  ll'.        elif
-0001e8f0: 206d 6172 6b65 745b 2773 7761 7027 5d3a   market['swap']:
-0001e900: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-0001e910: 686f 6420 3d20 2770 7269 7661 7465 4465  hod = 'privateDe
-0001e920: 6c65 7465 4f72 6465 7273 416c 6c27 0a20  leteOrdersAll'. 
-0001e930: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
-0001e940: 7379 6d62 6f6c 275d 203d 206d 6172 6b65  symbol'] = marke
-0001e950: 745b 2769 6427 5d0a 2020 2020 2020 2020  t['id'].        
-0001e960: 7265 7475 726e 2061 7761 6974 2067 6574  return await get
-0001e970: 6174 7472 2873 656c 662c 206d 6574 686f  attr(self, metho
-0001e980: 6429 2873 656c 662e 6578 7465 6e64 2872  d)(self.extend(r
-0001e990: 6571 7565 7374 2c20 7061 7261 6d73 2929  equest, params))
-0001e9a0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0001e9b0: 6665 7463 685f 6f72 6465 7228 7365 6c66  fetch_order(self
-0001e9c0: 2c20 6964 3a20 7374 722c 2073 796d 626f  , id: str, symbo
-0001e9d0: 6c3a 204f 7074 696f 6e61 6c5b 7374 725d  l: Optional[str]
-0001e9e0: 203d 204e 6f6e 652c 2070 6172 616d 733d   = None, params=
-0001e9f0: 7b7d 293a 0a20 2020 2020 2020 2022 2222  {}):.        """
-0001ea00: 0a20 2020 2020 2020 2066 6574 6368 6573  .        fetches
-0001ea10: 2069 6e66 6f72 6d61 7469 6f6e 206f 6e20   information on 
-0001ea20: 616e 206f 7264 6572 206d 6164 6520 6279  an order made by
-0001ea30: 2074 6865 2075 7365 720a 2020 2020 2020   the user.      
-0001ea40: 2020 3a70 6172 616d 2073 7472 2073 796d    :param str sym
-0001ea50: 626f 6c3a 2075 6e69 6669 6564 2073 796d  bol: unified sym
-0001ea60: 626f 6c20 6f66 2074 6865 206d 6172 6b65  bol of the marke
-0001ea70: 7420 7468 6520 6f72 6465 7220 7761 7320  t the order was 
-0001ea80: 6d61 6465 2069 6e0a 2020 2020 2020 2020  made in.        
-0001ea90: 3a70 6172 616d 2064 6963 7420 7061 7261  :param dict para
-0001eaa0: 6d73 3a20 6578 7472 6120 7061 7261 6d65  ms: extra parame
-0001eab0: 7465 7273 2073 7065 6369 6669 6320 746f  ters specific to
-0001eac0: 2074 6865 2070 6865 6d65 7820 6170 6920   the phemex api 
-0001ead0: 656e 6470 6f69 6e74 0a20 2020 2020 2020  endpoint.       
-0001eae0: 203a 7265 7475 726e 7320 6469 6374 3a20   :returns dict: 
-0001eaf0: 416e 2060 6f72 6465 7220 7374 7275 6374  An `order struct
-0001eb00: 7572 6520 3c68 7474 7073 3a2f 2f64 6f63  ure <https://doc
-0001eb10: 732e 6363 7874 2e63 6f6d 2f23 2f3f 6964  s.ccxt.com/#/?id
-0001eb20: 3d6f 7264 6572 2d73 7472 7563 7475 7265  =order-structure
-0001eb30: 3e60 0a20 2020 2020 2020 2022 2222 0a20  >`.        """. 
-0001eb40: 2020 2020 2020 2069 6620 7379 6d62 6f6c         if symbol
-0001eb50: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-0001eb60: 2020 2020 2020 7261 6973 6520 4172 6775        raise Argu
-0001eb70: 6d65 6e74 7352 6571 7569 7265 6428 7365  mentsRequired(se
-0001eb80: 6c66 2e69 6420 2b20 2720 6665 7463 684f  lf.id + ' fetchO
-0001eb90: 7264 6572 2829 2072 6571 7569 7265 7320  rder() requires 
-0001eba0: 6120 7379 6d62 6f6c 2061 7267 756d 656e  a symbol argumen
-0001ebb0: 7427 290a 2020 2020 2020 2020 6177 6169  t').        awai
-0001ebc0: 7420 7365 6c66 2e6c 6f61 645f 6d61 726b  t self.load_mark
-0001ebd0: 6574 7328 290a 2020 2020 2020 2020 6d61  ets().        ma
-0001ebe0: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
-0001ebf0: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
-0001ec00: 2020 2069 6620 6d61 726b 6574 5b27 7365     if market['se
-0001ec10: 7474 6c65 275d 203d 3d20 2755 5344 5427  ttle'] == 'USDT'
-0001ec20: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0001ec30: 6973 6520 4e6f 7453 7570 706f 7274 6564  ise NotSupported
-0001ec40: 2873 656c 662e 6964 202b 2027 6665 7463  (self.id + 'fetc
-0001ec50: 684f 7264 6572 2829 2069 7320 6e6f 7420  hOrder() is not 
-0001ec60: 7375 7070 6f72 7465 6420 7965 7420 666f  supported yet fo
-0001ec70: 7220 5553 4454 2073 6574 746c 6564 2073  r USDT settled s
-0001ec80: 7761 7020 6d61 726b 6574 7327 2920 2023  wap markets')  #
-0001ec90: 2068 7474 7073 3a2f 2f67 6974 6875 622e   https://github.
-0001eca0: 636f 6d2f 7068 656d 6578 2f70 6865 6d65  com/phemex/pheme
-0001ecb0: 782d 6170 692d 646f 6373 2f62 6c6f 622f  x-api-docs/blob/
-0001ecc0: 6d61 7374 6572 2f50 7562 6c69 632d 4865  master/Public-He
-0001ecd0: 6467 6564 2d50 6572 7065 7475 616c 2d41  dged-Perpetual-A
-0001ece0: 5049 2e6d 6423 7175 6572 792d 7573 6572  PI.md#query-user
-0001ecf0: 2d6f 7264 6572 2d62 792d 6f72 6465 7269  -order-by-orderi
-0001ed00: 642d 6f72 2d71 7565 7279 2d75 7365 722d  d-or-query-user-
-0001ed10: 6f72 6465 722d 6279 2d63 6c69 656e 742d  order-by-client-
-0001ed20: 6f72 6465 722d 6964 0a20 2020 2020 2020  order-id.       
-0001ed30: 206d 6574 686f 6420 3d20 2770 7269 7661   method = 'priva
-0001ed40: 7465 4765 7453 706f 744f 7264 6572 7341  teGetSpotOrdersA
-0001ed50: 6374 6976 6527 2069 6620 6d61 726b 6574  ctive' if market
-0001ed60: 5b27 7370 6f74 275d 2065 6c73 6520 2770  ['spot'] else 'p
-0001ed70: 7269 7661 7465 4765 7445 7863 6861 6e67  rivateGetExchang
-0001ed80: 654f 7264 6572 270a 2020 2020 2020 2020  eOrder'.        
-0001ed90: 7265 7175 6573 7420 3d20 7b0a 2020 2020  request = {.    
-0001eda0: 2020 2020 2020 2020 2773 796d 626f 6c27          'symbol'
-0001edb0: 3a20 6d61 726b 6574 5b27 6964 275d 2c0a  : market['id'],.
-0001edc0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-0001edd0: 2020 636c 6965 6e74 4f72 6465 7249 6420    clientOrderId 
-0001ede0: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
-0001edf0: 6e67 5f32 2870 6172 616d 732c 2027 636c  ng_2(params, 'cl
-0001ee00: 6965 6e74 4f72 6465 7249 6427 2c20 2763  ientOrderId', 'c
-0001ee10: 6c4f 7264 4944 2729 0a20 2020 2020 2020  lOrdID').       
-0001ee20: 2070 6172 616d 7320 3d20 7365 6c66 2e6f   params = self.o
-0001ee30: 6d69 7428 7061 7261 6d73 2c20 5b27 636c  mit(params, ['cl
-0001ee40: 6965 6e74 4f72 6465 7249 6427 2c20 2763  ientOrderId', 'c
-0001ee50: 6c4f 7264 4944 275d 290a 2020 2020 2020  lOrdID']).      
-0001ee60: 2020 6966 2063 6c69 656e 744f 7264 6572    if clientOrder
-0001ee70: 4964 2069 7320 6e6f 7420 4e6f 6e65 3a0a  Id is not None:.
-0001ee80: 2020 2020 2020 2020 2020 2020 7265 7175              requ
-0001ee90: 6573 745b 2763 6c4f 7264 4944 275d 203d  est['clOrdID'] =
-0001eea0: 2063 6c69 656e 744f 7264 6572 4964 0a20   clientOrderId. 
-0001eeb0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001eec0: 2020 2020 2020 2020 2072 6571 7565 7374           request
-0001eed0: 5b27 6f72 6465 7249 4427 5d20 3d20 6964  ['orderID'] = id
-0001eee0: 0a20 2020 2020 2020 2072 6573 706f 6e73  .        respons
-0001eef0: 6520 3d20 6177 6169 7420 6765 7461 7474  e = await getatt
-0001ef00: 7228 7365 6c66 2c20 6d65 7468 6f64 2928  r(self, method)(
-0001ef10: 7365 6c66 2e65 7874 656e 6428 7265 7175  self.extend(requ
-0001ef20: 6573 742c 2070 6172 616d 7329 290a 2020  est, params)).  
-0001ef30: 2020 2020 2020 6461 7461 203d 2073 656c        data = sel
-0001ef40: 662e 7361 6665 5f76 616c 7565 2872 6573  f.safe_value(res
-0001ef50: 706f 6e73 652c 2027 6461 7461 272c 207b  ponse, 'data', {
-0001ef60: 7d29 0a20 2020 2020 2020 206f 7264 6572  }).        order
-0001ef70: 203d 2064 6174 610a 2020 2020 2020 2020   = data.        
-0001ef80: 6966 2069 7369 6e73 7461 6e63 6528 6461  if isinstance(da
-0001ef90: 7461 2c20 6c69 7374 293a 0a20 2020 2020  ta, list):.     
-0001efa0: 2020 2020 2020 206e 756d 4f72 6465 7273         numOrders
-0001efb0: 203d 206c 656e 2864 6174 6129 0a20 2020   = len(data).   
-0001efc0: 2020 2020 2020 2020 2069 6620 6e75 6d4f           if numO
-0001efd0: 7264 6572 7320 3c20 313a 0a20 2020 2020  rders < 1:.     
-0001efe0: 2020 2020 2020 2020 2020 2069 6620 636c             if cl
-0001eff0: 6965 6e74 4f72 6465 7249 6420 6973 206e  ientOrderId is n
-0001f000: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-0001f010: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-0001f020: 7365 204f 7264 6572 4e6f 7446 6f75 6e64  se OrderNotFound
-0001f030: 2873 656c 662e 6964 202b 2027 2066 6574  (self.id + ' fet
-0001f040: 6368 4f72 6465 7228 2920 2720 2b20 7379  chOrder() ' + sy
-0001f050: 6d62 6f6c 202b 2027 206f 7264 6572 2077  mbol + ' order w
-0001f060: 6974 6820 636c 6965 6e74 4f72 6465 7249  ith clientOrderI
-0001f070: 6420 2720 2b20 636c 6965 6e74 4f72 6465  d ' + clientOrde
-0001f080: 7249 6420 2b20 2720 6e6f 7420 666f 756e  rId + ' not foun
-0001f090: 6427 290a 2020 2020 2020 2020 2020 2020  d').            
-0001f0a0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001f0b0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-0001f0c0: 6973 6520 4f72 6465 724e 6f74 466f 756e  ise OrderNotFoun
-0001f0d0: 6428 7365 6c66 2e69 6420 2b20 2720 6665  d(self.id + ' fe
-0001f0e0: 7463 684f 7264 6572 2829 2027 202b 2073  tchOrder() ' + s
-0001f0f0: 796d 626f 6c20 2b20 2720 6f72 6465 7220  ymbol + ' order 
-0001f100: 7769 7468 2069 6420 2720 2b20 6964 202b  with id ' + id +
-0001f110: 2027 206e 6f74 2066 6f75 6e64 2729 0a20   ' not found'). 
-0001f120: 2020 2020 2020 2020 2020 206f 7264 6572             order
-0001f130: 203d 2073 656c 662e 7361 6665 5f76 616c   = self.safe_val
-0001f140: 7565 2864 6174 612c 2030 2c20 7b7d 290a  ue(data, 0, {}).
-0001f150: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0001f160: 656c 662e 7061 7273 655f 6f72 6465 7228  elf.parse_order(
-0001f170: 6f72 6465 722c 206d 6172 6b65 7429 0a0a  order, market)..
-0001f180: 2020 2020 6173 796e 6320 6465 6620 6665      async def fe
-0001f190: 7463 685f 6f72 6465 7273 2873 656c 662c  tch_orders(self,
-0001f1a0: 2073 796d 626f 6c3a 204f 7074 696f 6e61   symbol: Optiona
-0001f1b0: 6c5b 7374 725d 203d 204e 6f6e 652c 2073  l[str] = None, s
-0001f1c0: 696e 6365 3a20 4f70 7469 6f6e 616c 5b69  ince: Optional[i
-0001f1d0: 6e74 5d20 3d20 4e6f 6e65 2c20 6c69 6d69  nt] = None, limi
-0001f1e0: 743a 204f 7074 696f 6e61 6c5b 696e 745d  t: Optional[int]
-0001f1f0: 203d 204e 6f6e 652c 2070 6172 616d 733d   = None, params=
-0001f200: 7b7d 293a 0a20 2020 2020 2020 2022 2222  {}):.        """
-0001f210: 0a20 2020 2020 2020 2066 6574 6368 6573  .        fetches
-0001f220: 2069 6e66 6f72 6d61 7469 6f6e 206f 6e20   information on 
-0001f230: 6d75 6c74 6970 6c65 206f 7264 6572 7320  multiple orders 
-0001f240: 6d61 6465 2062 7920 7468 6520 7573 6572  made by the user
-0001f250: 0a20 2020 2020 2020 2073 6565 2068 7474  .        see htt
-0001f260: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001f270: 7068 656d 6578 2f70 6865 6d65 782d 6170  phemex/phemex-ap
-0001f280: 692d 646f 6373 2f62 6c6f 622f 6d61 7374  i-docs/blob/mast
-0001f290: 6572 2f50 7562 6c69 632d 4865 6467 6564  er/Public-Hedged
-0001f2a0: 2d50 6572 7065 7475 616c 2d41 5049 2e6d  -Perpetual-API.m
-0001f2b0: 6423 7175 6572 796f 7264 6572 0a20 2020  d#queryorder.   
-0001f2c0: 2020 2020 203a 7061 7261 6d20 7374 7220       :param str 
-0001f2d0: 7379 6d62 6f6c 3a20 756e 6966 6965 6420  symbol: unified 
-0001f2e0: 6d61 726b 6574 2073 796d 626f 6c20 6f66  market symbol of
-0001f2f0: 2074 6865 206d 6172 6b65 7420 6f72 6465   the market orde
-0001f300: 7273 2077 6572 6520 6d61 6465 2069 6e0a  rs were made in.
-0001f310: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
-0001f320: 6e74 7c4e 6f6e 6520 7369 6e63 653a 2074  nt|None since: t
-0001f330: 6865 2065 6172 6c69 6573 7420 7469 6d65  he earliest time
-0001f340: 2069 6e20 6d73 2074 6f20 6665 7463 6820   in ms to fetch 
-0001f350: 6f72 6465 7273 2066 6f72 0a20 2020 2020  orders for.     
-0001f360: 2020 203a 7061 7261 6d20 696e 747c 4e6f     :param int|No
-0001f370: 6e65 206c 696d 6974 3a20 7468 6520 6d61  ne limit: the ma
-0001f380: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
-0001f390: 206f 7264 6520 7374 7275 6374 7572 6573   orde structures
-0001f3a0: 2074 6f20 7265 7472 6965 7665 0a20 2020   to retrieve.   
-0001f3b0: 2020 2020 203a 7061 7261 6d20 6469 6374       :param dict
-0001f3c0: 2070 6172 616d 733a 2065 7874 7261 2070   params: extra p
-0001f3d0: 6172 616d 6574 6572 7320 7370 6563 6966  arameters specif
-0001f3e0: 6963 2074 6f20 7468 6520 7068 656d 6578  ic to the phemex
-0001f3f0: 2061 7069 2065 6e64 706f 696e 740a 2020   api endpoint.  
-0001f400: 2020 2020 2020 3a72 6574 7572 6e73 205b        :returns [
-0001f410: 6469 6374 5d3a 2061 206c 6973 7420 6f66  dict]: a list of
-0001f420: 2060 6f72 6465 7220 7374 7275 6374 7572   `order structur
-0001f430: 6573 203c 6874 7470 733a 2f2f 646f 6373  es <https://docs
-0001f440: 2e63 6378 742e 636f 6d2f 232f 3f69 643d  .ccxt.com/#/?id=
-0001f450: 6f72 6465 722d 7374 7275 6374 7572 653e  order-structure>
-0001f460: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
-0001f470: 2020 2020 2020 6966 2073 796d 626f 6c20        if symbol 
-0001f480: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0001f490: 2020 2020 2072 6169 7365 2041 7267 756d       raise Argum
-0001f4a0: 656e 7473 5265 7175 6972 6564 2873 656c  entsRequired(sel
-0001f4b0: 662e 6964 202b 2027 2066 6574 6368 4f72  f.id + ' fetchOr
-0001f4c0: 6465 7273 2829 2072 6571 7569 7265 7320  ders() requires 
-0001f4d0: 6120 7379 6d62 6f6c 2061 7267 756d 656e  a symbol argumen
-0001f4e0: 7427 290a 2020 2020 2020 2020 6177 6169  t').        awai
-0001f4f0: 7420 7365 6c66 2e6c 6f61 645f 6d61 726b  t self.load_mark
-0001f500: 6574 7328 290a 2020 2020 2020 2020 6d61  ets().        ma
-0001f510: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
-0001f520: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
-0001f530: 2020 2072 6571 7565 7374 203d 207b 0a20     request = {. 
-0001f540: 2020 2020 2020 2020 2020 2027 7379 6d62             'symb
-0001f550: 6f6c 273a 206d 6172 6b65 745b 2769 6427  ol': market['id'
-0001f560: 5d2c 0a20 2020 2020 2020 207d 0a20 2020  ],.        }.   
-0001f570: 2020 2020 206d 6574 686f 6420 3d20 2770       method = 'p
-0001f580: 7269 7661 7465 4765 7453 706f 744f 7264  rivateGetSpotOrd
-0001f590: 6572 7327 0a20 2020 2020 2020 2069 6620  ers'.        if 
-0001f5a0: 6d61 726b 6574 5b27 7365 7474 6c65 275d  market['settle']
-0001f5b0: 203d 3d20 2755 5344 5427 3a0a 2020 2020   == 'USDT':.    
-0001f5c0: 2020 2020 2020 2020 7265 7175 6573 745b          request[
-0001f5d0: 2763 7572 7265 6e63 7927 5d20 3d20 6d61  'currency'] = ma
-0001f5e0: 726b 6574 5b27 7365 7474 6c65 275d 0a20  rket['settle']. 
-0001f5f0: 2020 2020 2020 2020 2020 206d 6574 686f             metho
-0001f600: 6420 3d20 2770 7269 7661 7465 4765 7445  d = 'privateGetE
-0001f610: 7863 6861 6e67 654f 7264 6572 5632 4f72  xchangeOrderV2Or
-0001f620: 6465 724c 6973 7427 0a20 2020 2020 2020  derList'.       
-0001f630: 2065 6c69 6620 6d61 726b 6574 5b27 7377   elif market['sw
-0001f640: 6170 275d 3a0a 2020 2020 2020 2020 2020  ap']:.          
-0001f650: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
-0001f660: 6174 6547 6574 4578 6368 616e 6765 4f72  ateGetExchangeOr
-0001f670: 6465 724c 6973 7427 0a20 2020 2020 2020  derList'.       
-0001f680: 2069 6620 7369 6e63 6520 6973 206e 6f74   if since is not
-0001f690: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-0001f6a0: 2020 2072 6571 7565 7374 5b27 7374 6172     request['star
-0001f6b0: 7427 5d20 3d20 7369 6e63 650a 2020 2020  t'] = since.    
-0001f6c0: 2020 2020 6966 206c 696d 6974 2069 7320      if limit is 
-0001f6d0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-0001f6e0: 2020 2020 2020 7265 7175 6573 745b 276c        request['l
-0001f6f0: 696d 6974 275d 203d 206c 696d 6974 0a20  imit'] = limit. 
-0001f700: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
-0001f710: 3d20 6177 6169 7420 6765 7461 7474 7228  = await getattr(
-0001f720: 7365 6c66 2c20 6d65 7468 6f64 2928 7365  self, method)(se
-0001f730: 6c66 2e65 7874 656e 6428 7265 7175 6573  lf.extend(reques
-0001f740: 742c 2070 6172 616d 7329 290a 2020 2020  t, params)).    
-0001f750: 2020 2020 6461 7461 203d 2073 656c 662e      data = self.
-0001f760: 7361 6665 5f76 616c 7565 2872 6573 706f  safe_value(respo
-0001f770: 6e73 652c 2027 6461 7461 272c 207b 7d29  nse, 'data', {})
-0001f780: 0a20 2020 2020 2020 2072 6f77 7320 3d20  .        rows = 
-0001f790: 7365 6c66 2e73 6166 655f 7661 6c75 6528  self.safe_value(
-0001f7a0: 6461 7461 2c20 2772 6f77 7327 2c20 6461  data, 'rows', da
-0001f7b0: 7461 290a 2020 2020 2020 2020 7265 7475  ta).        retu
-0001f7c0: 726e 2073 656c 662e 7061 7273 655f 6f72  rn self.parse_or
-0001f7d0: 6465 7273 2872 6f77 732c 206d 6172 6b65  ders(rows, marke
-0001f7e0: 742c 2073 696e 6365 2c20 6c69 6d69 7429  t, since, limit)
-0001f7f0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0001f800: 6665 7463 685f 6f70 656e 5f6f 7264 6572  fetch_open_order
-0001f810: 7328 7365 6c66 2c20 7379 6d62 6f6c 3a20  s(self, symbol: 
-0001f820: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
-0001f830: 4e6f 6e65 2c20 7369 6e63 653a 204f 7074  None, since: Opt
-0001f840: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
-0001f850: 652c 206c 696d 6974 3a20 4f70 7469 6f6e  e, limit: Option
-0001f860: 616c 5b69 6e74 5d20 3d20 4e6f 6e65 2c20  al[int] = None, 
-0001f870: 7061 7261 6d73 3d7b 7d29 3a0a 2020 2020  params={}):.    
-0001f880: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001f890: 6665 7463 6820 616c 6c20 756e 6669 6c6c  fetch all unfill
-0001f8a0: 6564 2063 7572 7265 6e74 6c79 206f 7065  ed currently ope
-0001f8b0: 6e20 6f72 6465 7273 0a20 2020 2020 2020  n orders.       
-0001f8c0: 2073 6565 2068 7474 7073 3a2f 2f67 6974   see https://git
-0001f8d0: 6875 622e 636f 6d2f 7068 656d 6578 2f70  hub.com/phemex/p
-0001f8e0: 6865 6d65 782d 6170 692d 646f 6373 2f62  hemex-api-docs/b
-0001f8f0: 6c6f 622f 6d61 7374 6572 2f50 7562 6c69  lob/master/Publi
-0001f900: 632d 4865 6467 6564 2d50 6572 7065 7475  c-Hedged-Perpetu
-0001f910: 616c 2d41 5049 2e6d 6423 7175 6572 796f  al-API.md#queryo
-0001f920: 7065 6e6f 7264 6572 0a20 2020 2020 2020  penorder.       
-0001f930: 2073 6565 2068 7474 7073 3a2f 2f67 6974   see https://git
-0001f940: 6875 622e 636f 6d2f 7068 656d 6578 2f70  hub.com/phemex/p
-0001f950: 6865 6d65 782d 6170 692d 646f 6373 2f62  hemex-api-docs/b
-0001f960: 6c6f 622f 6d61 7374 6572 2f50 7562 6c69  lob/master/Publi
-0001f970: 632d 436f 6e74 7261 6374 2d41 5049 2d65  c-Contract-API-e
-0001f980: 6e2e 6d64 0a20 2020 2020 2020 203a 7061  n.md.        :pa
-0001f990: 7261 6d20 7374 7220 7379 6d62 6f6c 3a20  ram str symbol: 
-0001f9a0: 756e 6966 6965 6420 6d61 726b 6574 2073  unified market s
-0001f9b0: 796d 626f 6c0a 2020 2020 2020 2020 3a70  ymbol.        :p
-0001f9c0: 6172 616d 2069 6e74 7c4e 6f6e 6520 7369  aram int|None si
-0001f9d0: 6e63 653a 2074 6865 2065 6172 6c69 6573  nce: the earlies
-0001f9e0: 7420 7469 6d65 2069 6e20 6d73 2074 6f20  t time in ms to 
-0001f9f0: 6665 7463 6820 6f70 656e 206f 7264 6572  fetch open order
-0001fa00: 7320 666f 720a 2020 2020 2020 2020 3a70  s for.        :p
-0001fa10: 6172 616d 2069 6e74 7c4e 6f6e 6520 6c69  aram int|None li
-0001fa20: 6d69 743a 2074 6865 206d 6178 696d 756d  mit: the maximum
-0001fa30: 206e 756d 6265 7220 6f66 2020 6f70 656e   number of  open
-0001fa40: 206f 7264 6572 7320 7374 7275 6374 7572   orders structur
-0001fa50: 6573 2074 6f20 7265 7472 6965 7665 0a20  es to retrieve. 
-0001fa60: 2020 2020 2020 203a 7061 7261 6d20 6469         :param di
-0001fa70: 6374 2070 6172 616d 733a 2065 7874 7261  ct params: extra
-0001fa80: 2070 6172 616d 6574 6572 7320 7370 6563   parameters spec
-0001fa90: 6966 6963 2074 6f20 7468 6520 7068 656d  ific to the phem
-0001faa0: 6578 2061 7069 2065 6e64 706f 696e 740a  ex api endpoint.
-0001fab0: 2020 2020 2020 2020 3a72 6574 7572 6e73          :returns
-0001fac0: 205b 6469 6374 5d3a 2061 206c 6973 7420   [dict]: a list 
-0001fad0: 6f66 2060 6f72 6465 7220 7374 7275 6374  of `order struct
-0001fae0: 7572 6573 203c 6874 7470 733a 2f2f 646f  ures <https://do
-0001faf0: 6373 2e63 6378 742e 636f 6d2f 232f 3f69  cs.ccxt.com/#/?i
-0001fb00: 643d 6f72 6465 722d 7374 7275 6374 7572  d=order-structur
-0001fb10: 653e 600a 2020 2020 2020 2020 2222 220a  e>`.        """.
-0001fb20: 2020 2020 2020 2020 6966 2073 796d 626f          if symbo
-0001fb30: 6c20 6973 204e 6f6e 653a 0a20 2020 2020  l is None:.     
-0001fb40: 2020 2020 2020 2072 6169 7365 2041 7267         raise Arg
-0001fb50: 756d 656e 7473 5265 7175 6972 6564 2873  umentsRequired(s
-0001fb60: 656c 662e 6964 202b 2027 2066 6574 6368  elf.id + ' fetch
-0001fb70: 4f70 656e 4f72 6465 7273 2829 2072 6571  OpenOrders() req
-0001fb80: 7569 7265 7320 6120 7379 6d62 6f6c 2061  uires a symbol a
-0001fb90: 7267 756d 656e 7427 290a 2020 2020 2020  rgument').      
-0001fba0: 2020 6177 6169 7420 7365 6c66 2e6c 6f61    await self.loa
-0001fbb0: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
-0001fbc0: 2020 2020 6d61 726b 6574 203d 2073 656c      market = sel
-0001fbd0: 662e 6d61 726b 6574 2873 796d 626f 6c29  f.market(symbol)
-0001fbe0: 0a20 2020 2020 2020 206d 6574 686f 6420  .        method 
-0001fbf0: 3d20 2770 7269 7661 7465 4765 7453 706f  = 'privateGetSpo
-0001fc00: 744f 7264 6572 7327 0a20 2020 2020 2020  tOrders'.       
-0001fc10: 2069 6620 6d61 726b 6574 5b27 7365 7474   if market['sett
-0001fc20: 6c65 275d 203d 3d20 2755 5344 5427 3a0a  le'] == 'USDT':.
-0001fc30: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
-0001fc40: 6f64 203d 2027 7072 6976 6174 6547 6574  od = 'privateGet
-0001fc50: 474f 7264 6572 7341 6374 6976 654c 6973  GOrdersActiveLis
-0001fc60: 7427 0a20 2020 2020 2020 2065 6c69 6620  t'.        elif 
-0001fc70: 6d61 726b 6574 5b27 7377 6170 275d 3a0a  market['swap']:.
-0001fc80: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
-0001fc90: 6f64 203d 2027 7072 6976 6174 6547 6574  od = 'privateGet
-0001fca0: 4f72 6465 7273 4163 7469 7665 4c69 7374  OrdersActiveList
-0001fcb0: 270a 2020 2020 2020 2020 7265 7175 6573  '.        reques
-0001fcc0: 7420 3d20 7b0a 2020 2020 2020 2020 2020  t = {.          
-0001fcd0: 2020 2773 796d 626f 6c27 3a20 6d61 726b    'symbol': mark
-0001fce0: 6574 5b27 6964 275d 2c0a 2020 2020 2020  et['id'],.      
-0001fcf0: 2020 7d0a 2020 2020 2020 2020 7265 7370    }.        resp
-0001fd00: 6f6e 7365 203d 204e 6f6e 650a 2020 2020  onse = None.    
-0001fd10: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0001fd20: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
-0001fd30: 6177 6169 7420 6765 7461 7474 7228 7365  await getattr(se
-0001fd40: 6c66 2c20 6d65 7468 6f64 2928 7365 6c66  lf, method)(self
-0001fd50: 2e65 7874 656e 6428 7265 7175 6573 742c  .extend(request,
-0001fd60: 2070 6172 616d 7329 290a 2020 2020 2020   params)).      
-0001fd70: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-0001fd80: 6f6e 2061 7320 653a 0a20 2020 2020 2020  on as e:.       
-0001fd90: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0001fda0: 6365 2865 2c20 4f72 6465 724e 6f74 466f  ce(e, OrderNotFo
-0001fdb0: 756e 6429 3a0a 2020 2020 2020 2020 2020  und):.          
-0001fdc0: 2020 2020 2020 7265 7475 726e 205b 5d0a        return [].
-0001fdd0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0001fde0: 6520 650a 2020 2020 2020 2020 6461 7461  e e.        data
-0001fdf0: 203d 2073 656c 662e 7361 6665 5f76 616c   = self.safe_val
-0001fe00: 7565 2872 6573 706f 6e73 652c 2027 6461  ue(response, 'da
-0001fe10: 7461 272c 207b 7d29 0a20 2020 2020 2020  ta', {}).       
-0001fe20: 2069 6620 6973 696e 7374 616e 6365 2864   if isinstance(d
-0001fe30: 6174 612c 206c 6973 7429 3a0a 2020 2020  ata, list):.    
-0001fe40: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0001fe50: 656c 662e 7061 7273 655f 6f72 6465 7273  elf.parse_orders
-0001fe60: 2864 6174 612c 206d 6172 6b65 742c 2073  (data, market, s
-0001fe70: 696e 6365 2c20 6c69 6d69 7429 0a20 2020  ince, limit).   
-0001fe80: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001fe90: 2020 2020 2020 2072 6f77 7320 3d20 7365         rows = se
-0001fea0: 6c66 2e73 6166 655f 7661 6c75 6528 6461  lf.safe_value(da
-0001feb0: 7461 2c20 2772 6f77 7327 2c20 5b5d 290a  ta, 'rows', []).
-0001fec0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0001fed0: 726e 2073 656c 662e 7061 7273 655f 6f72  rn self.parse_or
-0001fee0: 6465 7273 2872 6f77 732c 206d 6172 6b65  ders(rows, marke
-0001fef0: 742c 2073 696e 6365 2c20 6c69 6d69 7429  t, since, limit)
-0001ff00: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0001ff10: 6665 7463 685f 636c 6f73 6564 5f6f 7264  fetch_closed_ord
-0001ff20: 6572 7328 7365 6c66 2c20 7379 6d62 6f6c  ers(self, symbol
-0001ff30: 3a20 4f70 7469 6f6e 616c 5b73 7472 5d20  : Optional[str] 
-0001ff40: 3d20 4e6f 6e65 2c20 7369 6e63 653a 204f  = None, since: O
-0001ff50: 7074 696f 6e61 6c5b 696e 745d 203d 204e  ptional[int] = N
-0001ff60: 6f6e 652c 206c 696d 6974 3a20 4f70 7469  one, limit: Opti
-0001ff70: 6f6e 616c 5b69 6e74 5d20 3d20 4e6f 6e65  onal[int] = None
-0001ff80: 2c20 7061 7261 6d73 3d7b 7d29 3a0a 2020  , params={}):.  
-0001ff90: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001ffa0: 2020 6665 7463 6865 7320 696e 666f 726d    fetches inform
-0001ffb0: 6174 696f 6e20 6f6e 206d 756c 7469 706c  ation on multipl
-0001ffc0: 6520 636c 6f73 6564 206f 7264 6572 7320  e closed orders 
-0001ffd0: 6d61 6465 2062 7920 7468 6520 7573 6572  made by the user
-0001ffe0: 0a20 2020 2020 2020 2073 6565 2068 7474  .        see htt
-0001fff0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00020000: 7068 656d 6578 2f70 6865 6d65 782d 6170  phemex/phemex-ap
-00020010: 692d 646f 6373 2f62 6c6f 622f 6d61 7374  i-docs/blob/mast
-00020020: 6572 2f50 7562 6c69 632d 4865 6467 6564  er/Public-Hedged
-00020030: 2d50 6572 7065 7475 616c 2d41 5049 2e6d  -Perpetual-API.m
-00020040: 6423 7175 6572 796f 7264 6572 0a20 2020  d#queryorder.   
-00020050: 2020 2020 203a 7061 7261 6d20 7374 7220       :param str 
-00020060: 7379 6d62 6f6c 3a20 756e 6966 6965 6420  symbol: unified 
-00020070: 6d61 726b 6574 2073 796d 626f 6c20 6f66  market symbol of
-00020080: 2074 6865 206d 6172 6b65 7420 6f72 6465   the market orde
-00020090: 7273 2077 6572 6520 6d61 6465 2069 6e0a  rs were made in.
-000200a0: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
-000200b0: 6e74 7c4e 6f6e 6520 7369 6e63 653a 2074  nt|None since: t
-000200c0: 6865 2065 6172 6c69 6573 7420 7469 6d65  he earliest time
-000200d0: 2069 6e20 6d73 2074 6f20 6665 7463 6820   in ms to fetch 
-000200e0: 6f72 6465 7273 2066 6f72 0a20 2020 2020  orders for.     
-000200f0: 2020 203a 7061 7261 6d20 696e 747c 4e6f     :param int|No
-00020100: 6e65 206c 696d 6974 3a20 7468 6520 6d61  ne limit: the ma
-00020110: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
-00020120: 206f 7264 6520 7374 7275 6374 7572 6573   orde structures
-00020130: 2074 6f20 7265 7472 6965 7665 0a20 2020   to retrieve.   
-00020140: 2020 2020 203a 7061 7261 6d20 6469 6374       :param dict
-00020150: 2070 6172 616d 733a 2065 7874 7261 2070   params: extra p
-00020160: 6172 616d 6574 6572 7320 7370 6563 6966  arameters specif
-00020170: 6963 2074 6f20 7468 6520 7068 656d 6578  ic to the phemex
-00020180: 2061 7069 2065 6e64 706f 696e 740a 2020   api endpoint.  
-00020190: 2020 2020 2020 3a72 6574 7572 6e73 205b        :returns [
-000201a0: 6469 6374 5d3a 2061 206c 6973 7420 6f66  dict]: a list of
-000201b0: 2060 6f72 6465 7220 7374 7275 6374 7572   `order structur
-000201c0: 6573 203c 6874 7470 733a 2f2f 646f 6373  es <https://docs
-000201d0: 2e63 6378 742e 636f 6d2f 232f 3f69 643d  .ccxt.com/#/?id=
-000201e0: 6f72 6465 722d 7374 7275 6374 7572 653e  order-structure>
-000201f0: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
-00020200: 2020 2020 2020 6966 2073 796d 626f 6c20        if symbol 
-00020210: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00020220: 2020 2020 2072 6169 7365 2041 7267 756d       raise Argum
-00020230: 656e 7473 5265 7175 6972 6564 2873 656c  entsRequired(sel
-00020240: 662e 6964 202b 2027 2066 6574 6368 436c  f.id + ' fetchCl
-00020250: 6f73 6564 4f72 6465 7273 2829 2072 6571  osedOrders() req
-00020260: 7569 7265 7320 6120 7379 6d62 6f6c 2061  uires a symbol a
-00020270: 7267 756d 656e 7427 290a 2020 2020 2020  rgument').      
-00020280: 2020 6177 6169 7420 7365 6c66 2e6c 6f61    await self.loa
-00020290: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
-000202a0: 2020 2020 6d61 726b 6574 203d 2073 656c      market = sel
-000202b0: 662e 6d61 726b 6574 2873 796d 626f 6c29  f.market(symbol)
-000202c0: 0a20 2020 2020 2020 2072 6571 7565 7374  .        request
-000202d0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-000202e0: 2027 7379 6d62 6f6c 273a 206d 6172 6b65   'symbol': marke
-000202f0: 745b 2769 6427 5d2c 0a20 2020 2020 2020  t['id'],.       
-00020300: 207d 0a20 2020 2020 2020 206d 6574 686f   }.        metho
-00020310: 6420 3d20 2770 7269 7661 7465 4765 7445  d = 'privateGetE
-00020320: 7863 6861 6e67 6553 706f 744f 7264 6572  xchangeSpotOrder
-00020330: 270a 2020 2020 2020 2020 6966 206d 6172  '.        if mar
-00020340: 6b65 745b 2773 6574 746c 6527 5d20 3d3d  ket['settle'] ==
-00020350: 2027 5553 4454 273a 0a20 2020 2020 2020   'USDT':.       
-00020360: 2020 2020 2072 6571 7565 7374 5b27 6375       request['cu
-00020370: 7272 656e 6379 275d 203d 206d 6172 6b65  rrency'] = marke
-00020380: 745b 2773 6574 746c 6527 5d0a 2020 2020  t['settle'].    
-00020390: 2020 2020 2020 2020 6d65 7468 6f64 203d          method =
-000203a0: 2027 7072 6976 6174 6547 6574 4578 6368   'privateGetExch
-000203b0: 616e 6765 4f72 6465 7256 324f 7264 6572  angeOrderV2Order
-000203c0: 4c69 7374 270a 2020 2020 2020 2020 656c  List'.        el
-000203d0: 6966 206d 6172 6b65 745b 2773 7761 7027  if market['swap'
-000203e0: 5d3a 0a20 2020 2020 2020 2020 2020 206d  ]:.            m
-000203f0: 6574 686f 6420 3d20 2770 7269 7661 7465  ethod = 'private
-00020400: 4765 7445 7863 6861 6e67 654f 7264 6572  GetExchangeOrder
-00020410: 4c69 7374 270a 2020 2020 2020 2020 6966  List'.        if
-00020420: 2073 696e 6365 2069 7320 6e6f 7420 4e6f   since is not No
-00020430: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00020440: 7265 7175 6573 745b 2773 7461 7274 275d  request['start']
-00020450: 203d 2073 696e 6365 0a20 2020 2020 2020   = since.       
-00020460: 2069 6620 6c69 6d69 7420 6973 206e 6f74   if limit is not
-00020470: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00020480: 2020 2072 6571 7565 7374 5b27 6c69 6d69     request['limi
-00020490: 7427 5d20 3d20 6c69 6d69 740a 2020 2020  t'] = limit.    
-000204a0: 2020 2020 7265 7370 6f6e 7365 203d 2061      response = a
-000204b0: 7761 6974 2067 6574 6174 7472 2873 656c  wait getattr(sel
-000204c0: 662c 206d 6574 686f 6429 2873 656c 662e  f, method)(self.
-000204d0: 6578 7465 6e64 2872 6571 7565 7374 2c20  extend(request, 
-000204e0: 7061 7261 6d73 2929 0a20 2020 2020 2020  params)).       
-000204f0: 2023 0a20 2020 2020 2020 2023 2073 706f   #.        # spo
-00020500: 740a 2020 2020 2020 2020 230a 2020 2020  t.        #.    
-00020510: 2020 2020 2320 2020 2020 7b0a 2020 2020      #     {.    
-00020520: 2020 2020 2320 2020 2020 2020 2020 2263      #         "c
-00020530: 6f64 6522 3a30 2c0a 2020 2020 2020 2020  ode":0,.        
-00020540: 2320 2020 2020 2020 2020 226d 7367 223a  #         "msg":
-00020550: 224f 4b22 2c0a 2020 2020 2020 2020 2320  "OK",.        # 
-00020560: 2020 2020 2020 2020 2264 6174 6122 3a7b          "data":{
-00020570: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00020580: 2020 2020 2020 2022 746f 7461 6c22 3a38         "total":8
-00020590: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-000205a0: 2020 2020 2020 2020 2272 6f77 7322 3a5b          "rows":[
-000205b0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000205c0: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
-000205d0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-000205e0: 2020 2020 2020 2020 2020 2022 6f72 6465             "orde
-000205f0: 7249 4422 3a22 3939 3233 3263 3365 2d33  rID":"99232c3e-3
-00020600: 6436 612d 3435 3566 2d39 3863 632d 3230  d6a-455f-98cc-20
-00020610: 3631 6364 6665 3931 6263 222c 0a20 2020  61cdfe91bc",.   
-00020620: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00020630: 2020 2020 2020 2020 2020 2022 7374 6f70             "stop
-00020640: 5078 4570 223a 302c 0a20 2020 2020 2020  PxEp":0,.       
-00020650: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00020660: 2020 2020 2020 2022 6176 6750 7269 6365         "avgPrice
-00020670: 4570 223a 302c 0a20 2020 2020 2020 2023  Ep":0,.        #
-00020680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020690: 2020 2020 2022 7174 7954 7970 6522 3a22       "qtyType":"
-000206a0: 4279 4261 7365 222c 0a20 2020 2020 2020  ByBase",.       
-000206b0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-000206c0: 2020 2020 2020 2022 6c65 6176 6573 4261         "leavesBa
-000206d0: 7365 5174 7945 7622 3a30 2c0a 2020 2020  seQtyEv":0,.    
-000206e0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-000206f0: 2020 2020 2020 2020 2020 226c 6561 7665            "leave
-00020700: 7351 756f 7465 5174 7945 7622 3a30 2c0a  sQuoteQtyEv":0,.
-00020710: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00020720: 2020 2020 2020 2020 2020 2020 2020 2262                "b
-00020730: 6173 6551 7479 4576 223a 2231 3030 3030  aseQtyEv":"10000
-00020740: 3030 3030 3022 2c0a 2020 2020 2020 2020  00000",.        
-00020750: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00020760: 2020 2020 2020 2266 6565 4375 7272 656e        "feeCurren
-00020770: 6379 223a 2234 222c 0a20 2020 2020 2020  cy":"4",.       
-00020780: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00020790: 2020 2020 2020 2022 7374 6f70 4469 7265         "stopDire
-000207a0: 6374 696f 6e22 3a22 554e 5350 4543 4946  ction":"UNSPECIF
-000207b0: 4945 4422 2c0a 2020 2020 2020 2020 2320  IED",.        # 
-000207c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000207d0: 2020 2020 2273 796d 626f 6c22 3a22 7345      "symbol":"sE
-000207e0: 5448 5553 4454 222c 0a20 2020 2020 2020  THUSDT",.       
-000207f0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00020800: 2020 2020 2020 2022 7369 6465 223a 2242         "side":"B
-00020810: 7579 222c 0a20 2020 2020 2020 2023 2020  uy",.        #  
-00020820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020830: 2020 2022 7175 6f74 6551 7479 4576 223a     "quoteQtyEv":
-00020840: 3235 3030 3030 3030 3030 3030 2c0a 2020  250000000000,.  
-00020850: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00020860: 2020 2020 2020 2020 2020 2020 2270 7269              "pri
-00020870: 6365 4570 223a 3235 3030 3030 3030 3030  ceEp":2500000000
-00020880: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00020890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000208a0: 2022 6f72 6454 7970 6522 3a22 4c69 6d69   "ordType":"Limi
-000208b0: 7422 2c0a 2020 2020 2020 2020 2320 2020  t",.        #   
-000208c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000208d0: 2020 2274 696d 6549 6e46 6f72 6365 223a    "timeInForce":
-000208e0: 2247 6f6f 6454 696c 6c43 616e 6365 6c22  "GoodTillCancel"
-000208f0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00020900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020910: 226f 7264 5374 6174 7573 223a 2252 656a  "ordStatus":"Rej
-00020920: 6563 7465 6422 2c0a 2020 2020 2020 2020  ected",.        
-00020930: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00020940: 2020 2020 2020 2265 7865 6353 7461 7475        "execStatu
-00020950: 7322 3a22 4e65 7752 656a 6563 7465 6422  s":"NewRejected"
-00020960: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00020970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020980: 2263 7265 6174 6554 696d 654e 7322 3a31  "createTimeNs":1
-00020990: 3539 3236 3735 3330 3532 3636 3033 3731  5926753052660371
-000209a0: 3330 2c0a 2020 2020 2020 2020 2320 2020  30,.        #   
-000209b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000209c0: 2020 2263 756d 4665 6545 7622 3a30 2c0a    "cumFeeEv":0,.
-000209d0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000209e0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-000209f0: 756d 4261 7365 5661 6c75 6545 7622 3a30  umBaseValueEv":0
-00020a00: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00020a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020a20: 2263 756d 5175 6f74 6556 616c 7565 4576  "cumQuoteValueEv
-00020a30: 223a 300a 2020 2020 2020 2020 2320 2020  ":0.        #   
-00020a40: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
-00020a50: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00020a60: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-00020a70: 2023 2020 2020 2020 2020 207d 0a20 2020   #         }.   
-00020a80: 2020 2020 2023 2020 2020 207d 0a20 2020       #     }.   
-00020a90: 2020 2020 2023 0a20 2020 2020 2020 2064       #.        d
-00020aa0: 6174 6120 3d20 7365 6c66 2e73 6166 655f  ata = self.safe_
-00020ab0: 7661 6c75 6528 7265 7370 6f6e 7365 2c20  value(response, 
-00020ac0: 2764 6174 6127 2c20 7b7d 290a 2020 2020  'data', {}).    
-00020ad0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00020ae0: 6528 6461 7461 2c20 6c69 7374 293a 0a20  e(data, list):. 
-00020af0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00020b00: 6e20 7365 6c66 2e70 6172 7365 5f6f 7264  n self.parse_ord
-00020b10: 6572 7328 6461 7461 2c20 6d61 726b 6574  ers(data, market
-00020b20: 2c20 7369 6e63 652c 206c 696d 6974 290a  , since, limit).
-00020b30: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00020b40: 2020 2020 2020 2020 2020 726f 7773 203d            rows =
-00020b50: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
-00020b60: 2864 6174 612c 2027 726f 7773 272c 205b  (data, 'rows', [
-00020b70: 5d29 0a20 2020 2020 2020 2020 2020 2072  ]).            r
-00020b80: 6574 7572 6e20 7365 6c66 2e70 6172 7365  eturn self.parse
-00020b90: 5f6f 7264 6572 7328 726f 7773 2c20 6d61  _orders(rows, ma
-00020ba0: 726b 6574 2c20 7369 6e63 652c 206c 696d  rket, since, lim
-00020bb0: 6974 290a 0a20 2020 2061 7379 6e63 2064  it)..    async d
-00020bc0: 6566 2066 6574 6368 5f6d 795f 7472 6164  ef fetch_my_trad
-00020bd0: 6573 2873 656c 662c 2073 796d 626f 6c3a  es(self, symbol:
-00020be0: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
-00020bf0: 204e 6f6e 652c 2073 696e 6365 3a20 4f70   None, since: Op
-00020c00: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
-00020c10: 6e65 2c20 6c69 6d69 743a 204f 7074 696f  ne, limit: Optio
-00020c20: 6e61 6c5b 696e 745d 203d 204e 6f6e 652c  nal[int] = None,
-00020c30: 2070 6172 616d 733d 7b7d 293a 0a20 2020   params={}):.   
-00020c40: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00020c50: 2066 6574 6368 2061 6c6c 2074 7261 6465   fetch all trade
-00020c60: 7320 6d61 6465 2062 7920 7468 6520 7573  s made by the us
-00020c70: 6572 0a20 2020 2020 2020 2073 6565 2068  er.        see h
-00020c80: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00020c90: 6d2f 7068 656d 6578 2f70 6865 6d65 782d  m/phemex/phemex-
-00020ca0: 6170 692d 646f 6373 2f62 6c6f 622f 6d61  api-docs/blob/ma
-00020cb0: 7374 6572 2f50 7562 6c69 632d 436f 6e74  ster/Public-Cont
-00020cc0: 7261 6374 2d41 5049 2d65 6e2e 6d64 2371  ract-API-en.md#q
-00020cd0: 7565 7279 2d75 7365 722d 7472 6164 650a  uery-user-trade.
-00020ce0: 2020 2020 2020 2020 7365 6520 6874 7470          see http
-00020cf0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
-00020d00: 6865 6d65 782f 7068 656d 6578 2d61 7069  hemex/phemex-api
-00020d10: 2d64 6f63 732f 626c 6f62 2f6d 6173 7465  -docs/blob/maste
-00020d20: 722f 5075 626c 6963 2d48 6564 6765 642d  r/Public-Hedged-
-00020d30: 5065 7270 6574 7561 6c2d 4150 492e 6d64  Perpetual-API.md
-00020d40: 2371 7565 7279 2d75 7365 722d 7472 6164  #query-user-trad
-00020d50: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-00020d60: 2073 7472 2073 796d 626f 6c3a 2075 6e69   str symbol: uni
-00020d70: 6669 6564 206d 6172 6b65 7420 7379 6d62  fied market symb
-00020d80: 6f6c 0a20 2020 2020 2020 203a 7061 7261  ol.        :para
-00020d90: 6d20 696e 747c 4e6f 6e65 2073 696e 6365  m int|None since
-00020da0: 3a20 7468 6520 6561 726c 6965 7374 2074  : the earliest t
-00020db0: 696d 6520 696e 206d 7320 746f 2066 6574  ime in ms to fet
-00020dc0: 6368 2074 7261 6465 7320 666f 720a 2020  ch trades for.  
-00020dd0: 2020 2020 2020 3a70 6172 616d 2069 6e74        :param int
-00020de0: 7c4e 6f6e 6520 6c69 6d69 743a 2074 6865  |None limit: the
-00020df0: 206d 6178 696d 756d 206e 756d 6265 7220   maximum number 
-00020e00: 6f66 2074 7261 6465 7320 7374 7275 6374  of trades struct
-00020e10: 7572 6573 2074 6f20 7265 7472 6965 7665  ures to retrieve
-00020e20: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00020e30: 6469 6374 2070 6172 616d 733a 2065 7874  dict params: ext
-00020e40: 7261 2070 6172 616d 6574 6572 7320 7370  ra parameters sp
-00020e50: 6563 6966 6963 2074 6f20 7468 6520 7068  ecific to the ph
-00020e60: 656d 6578 2061 7069 2065 6e64 706f 696e  emex api endpoin
-00020e70: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
-00020e80: 6e73 205b 6469 6374 5d3a 2061 206c 6973  ns [dict]: a lis
-00020e90: 7420 6f66 2060 7472 6164 6520 7374 7275  t of `trade stru
-00020ea0: 6374 7572 6573 203c 6874 7470 733a 2f2f  ctures <https://
-00020eb0: 646f 6373 2e63 6378 742e 636f 6d2f 232f  docs.ccxt.com/#/
-00020ec0: 3f69 643d 7472 6164 652d 7374 7275 6374  ?id=trade-struct
-00020ed0: 7572 653e 600a 2020 2020 2020 2020 2222  ure>`.        ""
-00020ee0: 220a 2020 2020 2020 2020 6966 2073 796d  ".        if sym
-00020ef0: 626f 6c20 6973 204e 6f6e 653a 0a20 2020  bol is None:.   
-00020f00: 2020 2020 2020 2020 2072 6169 7365 2041           raise A
-00020f10: 7267 756d 656e 7473 5265 7175 6972 6564  rgumentsRequired
-00020f20: 2873 656c 662e 6964 202b 2027 2066 6574  (self.id + ' fet
-00020f30: 6368 4d79 5472 6164 6573 2829 2072 6571  chMyTrades() req
-00020f40: 7569 7265 7320 6120 7379 6d62 6f6c 2061  uires a symbol a
-00020f50: 7267 756d 656e 7427 290a 2020 2020 2020  rgument').      
-00020f60: 2020 6177 6169 7420 7365 6c66 2e6c 6f61    await self.loa
-00020f70: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
-00020f80: 2020 2020 6d61 726b 6574 203d 2073 656c      market = sel
-00020f90: 662e 6d61 726b 6574 2873 796d 626f 6c29  f.market(symbol)
-00020fa0: 0a20 2020 2020 2020 206d 6574 686f 6420  .        method 
-00020fb0: 3d20 2770 7269 7661 7465 4765 7445 7863  = 'privateGetExc
-00020fc0: 6861 6e67 6553 706f 744f 7264 6572 5472  hangeSpotOrderTr
-00020fd0: 6164 6573 270a 2020 2020 2020 2020 6966  ades'.        if
-00020fe0: 206d 6172 6b65 745b 2773 7761 7027 5d3a   market['swap']:
-00020ff0: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-00021000: 686f 6420 3d20 2770 7269 7661 7465 4765  hod = 'privateGe
-00021010: 7445 7863 6861 6e67 654f 7264 6572 5472  tExchangeOrderTr
-00021020: 6164 6527 0a20 2020 2020 2020 2020 2020  ade'.           
-00021030: 2069 6620 6d61 726b 6574 5b27 7365 7474   if market['sett
-00021040: 6c65 275d 203d 3d20 2755 5344 5427 3a0a  le'] == 'USDT':.
-00021050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021060: 6d65 7468 6f64 203d 2027 7072 6976 6174  method = 'privat
-00021070: 6547 6574 4578 6368 616e 6765 4f72 6465  eGetExchangeOrde
-00021080: 7256 3254 7261 6469 6e67 4c69 7374 270a  rV2TradingList'.
-00021090: 2020 2020 2020 2020 7265 7175 6573 7420          request 
-000210a0: 3d20 7b7d 0a20 2020 2020 2020 2069 6620  = {}.        if 
-000210b0: 6c69 6d69 7420 6973 206e 6f74 204e 6f6e  limit is not Non
-000210c0: 653a 0a20 2020 2020 2020 2020 2020 206c  e:.            l
-000210d0: 696d 6974 203d 206d 696e 2832 3030 2c20  imit = min(200, 
-000210e0: 6c69 6d69 7429 0a20 2020 2020 2020 2020  limit).         
-000210f0: 2020 2072 6571 7565 7374 5b27 6c69 6d69     request['limi
-00021100: 7427 5d20 3d20 6c69 6d69 740a 2020 2020  t'] = limit.    
-00021110: 2020 2020 6966 206d 6172 6b65 745b 2773      if market['s
-00021120: 6574 746c 6527 5d20 3d3d 2027 5553 4454  ettle'] == 'USDT
-00021130: 273a 0a20 2020 2020 2020 2020 2020 2072  ':.            r
-00021140: 6571 7565 7374 5b27 6375 7272 656e 6379  equest['currency
-00021150: 275d 203d 2027 5553 4454 270a 2020 2020  '] = 'USDT'.    
-00021160: 2020 2020 2020 2020 7265 7175 6573 745b          request[
-00021170: 276f 6666 7365 7427 5d20 3d20 300a 2020  'offset'] = 0.  
-00021180: 2020 2020 2020 2020 2020 6966 206c 696d            if lim
-00021190: 6974 2069 7320 4e6f 6e65 3a0a 2020 2020  it is None:.    
-000211a0: 2020 2020 2020 2020 2020 2020 7265 7175              requ
-000211b0: 6573 745b 276c 696d 6974 275d 203d 2032  est['limit'] = 2
-000211c0: 3030 0a20 2020 2020 2020 2065 6c73 653a  00.        else:
-000211d0: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
-000211e0: 7565 7374 5b27 7379 6d62 6f6c 275d 203d  uest['symbol'] =
-000211f0: 206d 6172 6b65 745b 2769 6427 5d0a 2020   market['id'].  
-00021200: 2020 2020 2020 6966 2073 696e 6365 2069        if since i
-00021210: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00021220: 2020 2020 2020 2020 7265 7175 6573 745b          request[
-00021230: 2773 7461 7274 275d 203d 2073 696e 6365  'start'] = since
-00021240: 0a20 2020 2020 2020 2069 6620 6d61 726b  .        if mark
-00021250: 6574 5b27 7377 6170 275d 2061 6e64 2028  et['swap'] and (
-00021260: 6c69 6d69 7420 6973 206e 6f74 204e 6f6e  limit is not Non
-00021270: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-00021280: 7265 7175 6573 745b 276c 696d 6974 275d  request['limit']
-00021290: 203d 206c 696d 6974 0a20 2020 2020 2020   = limit.       
-000212a0: 2072 6573 706f 6e73 6520 3d20 6177 6169   response = awai
-000212b0: 7420 6765 7461 7474 7228 7365 6c66 2c20  t getattr(self, 
-000212c0: 6d65 7468 6f64 2928 7365 6c66 2e65 7874  method)(self.ext
-000212d0: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
-000212e0: 616d 7329 290a 2020 2020 2020 2020 230a  ams)).        #.
-000212f0: 2020 2020 2020 2020 2320 7370 6f74 0a20          # spot. 
-00021300: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-00021310: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
-00021320: 2023 2020 2020 2020 2020 2022 636f 6465   #         "code
-00021330: 223a 2030 2c0a 2020 2020 2020 2020 2320  ": 0,.        # 
-00021340: 2020 2020 2020 2020 226d 7367 223a 2022          "msg": "
-00021350: 4f4b 222c 0a20 2020 2020 2020 2023 2020  OK",.        #  
-00021360: 2020 2020 2020 2022 6461 7461 223a 207b         "data": {
-00021370: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00021380: 2020 2020 2020 2022 746f 7461 6c22 3a20         "total": 
-00021390: 312c 0a20 2020 2020 2020 2023 2020 2020  1,.        #    
-000213a0: 2020 2020 2020 2020 2022 726f 7773 223a           "rows":
-000213b0: 205b 0a20 2020 2020 2020 2023 2020 2020   [.        #    
-000213c0: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
-000213d0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000213e0: 2020 2020 2020 2020 2020 2020 2022 7174               "qt
-000213f0: 7954 7970 6522 3a20 2242 7951 756f 7465  yType": "ByQuote
-00021400: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-00021410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021420: 2022 7472 616e 7361 6374 5469 6d65 4e73   "transactTimeNs
-00021430: 223a 2031 3538 3934 3530 3937 3438 3030  ": 1589450974800
-00021440: 3535 3031 3030 2c0a 2020 2020 2020 2020  550100,.        
-00021450: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021460: 2020 2020 2020 2263 6c4f 7264 4944 223a        "clOrdID":
-00021470: 2022 3862 6135 3964 3430 2d64 6632 352d   "8ba59d40-df25-
-00021480: 6434 6230 2d31 3463 662d 3037 3033 6634  d4b0-14cf-0703f4
-00021490: 3465 3936 3930 222c 0a20 2020 2020 2020  4e9690",.       
-000214a0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-000214b0: 2020 2020 2020 2022 6f72 6465 7249 4422         "orderID"
-000214c0: 3a20 2262 3262 3730 3138 642d 6630 3266  : "b2b7018d-f02f
-000214d0: 2d34 6335 392d 6234 6366 2d30 3531 6239  -4c59-b4cf-051b9
-000214e0: 6332 6432 6538 3322 2c0a 2020 2020 2020  c2d2e83",.      
-000214f0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00021500: 2020 2020 2020 2020 2273 796d 626f 6c22          "symbol"
-00021510: 3a20 2273 4254 4355 5344 5422 2c0a 2020  : "sBTCUSDT",.  
-00021520: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021530: 2020 2020 2020 2020 2020 2020 2273 6964              "sid
-00021540: 6522 3a20 2242 7579 222c 0a20 2020 2020  e": "Buy",.     
-00021550: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00021560: 2020 2020 2020 2020 2022 7072 6963 6545           "priceE
-00021570: 5022 3a20 3937 3030 3536 3030 3030 3030  P": 970056000000
-00021580: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00021590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000215a0: 2262 6173 6551 7479 4576 223a 2030 2c0a  "baseQtyEv": 0,.
-000215b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000215c0: 2020 2020 2020 2020 2020 2020 2020 2271                "q
-000215d0: 756f 7465 5174 7945 7622 3a20 3130 3030  uoteQtyEv": 1000
-000215e0: 3030 3030 3030 2c0a 2020 2020 2020 2020  000000,.        
-000215f0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021600: 2020 2020 2020 2261 6374 696f 6e22 3a20        "action": 
-00021610: 224e 6577 222c 0a20 2020 2020 2020 2023  "New",.        #
-00021620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021630: 2020 2020 2022 6578 6563 5374 6174 7573       "execStatus
-00021640: 223a 2022 4d61 6b65 7246 696c 6c22 2c0a  ": "MakerFill",.
-00021650: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00021660: 2020 2020 2020 2020 2020 2020 2020 226f                "o
-00021670: 7264 5374 6174 7573 223a 2022 4669 6c6c  rdStatus": "Fill
-00021680: 6564 222c 0a20 2020 2020 2020 2023 2020  ed",.        #  
-00021690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000216a0: 2020 2022 6f72 6454 7970 6522 3a20 224c     "ordType": "L
-000216b0: 696d 6974 222c 0a20 2020 2020 2020 2023  imit",.        #
-000216c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000216d0: 2020 2020 2022 6578 6563 496e 7374 223a       "execInst":
-000216e0: 2022 4e6f 6e65 222c 0a20 2020 2020 2020   "None",.       
-000216f0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00021700: 2020 2020 2020 2022 7469 6d65 496e 466f         "timeInFo
-00021710: 7263 6522 3a20 2247 6f6f 6454 696c 6c43  rce": "GoodTillC
-00021720: 616e 6365 6c22 2c0a 2020 2020 2020 2020  ancel",.        
-00021730: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021740: 2020 2020 2020 2273 746f 7044 6972 6563        "stopDirec
-00021750: 7469 6f6e 223a 2022 554e 5350 4543 4946  tion": "UNSPECIF
-00021760: 4945 4422 2c0a 2020 2020 2020 2020 2320  IED",.        # 
-00021770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021780: 2020 2020 2274 7261 6465 5479 7065 223a      "tradeType":
-00021790: 2022 5472 6164 6522 2c0a 2020 2020 2020   "Trade",.      
-000217a0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-000217b0: 2020 2020 2020 2020 2273 746f 7050 7845          "stopPxE
-000217c0: 7022 3a20 302c 0a20 2020 2020 2020 2023  p": 0,.        #
-000217d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000217e0: 2020 2020 2022 6578 6563 4964 223a 2022       "execId": "
-000217f0: 6336 6264 3839 3739 2d30 3762 612d 3539  c6bd8979-07ba-59
-00021800: 3436 2d62 3037 652d 6638 6236 3531 3335  46-b07e-f8b65135
-00021810: 6462 6231 222c 0a20 2020 2020 2020 2023  dbb1",.        #
-00021820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021830: 2020 2020 2022 6578 6563 5072 6963 6545       "execPriceE
-00021840: 7022 3a20 3937 3030 3536 3030 3030 3030  p": 970056000000
-00021850: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00021860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021870: 2265 7865 6342 6173 6551 7479 4576 223a  "execBaseQtyEv":
-00021880: 2031 3033 3030 302c 0a20 2020 2020 2020   103000,.       
-00021890: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-000218a0: 2020 2020 2020 2022 6578 6563 5175 6f74         "execQuot
-000218b0: 6551 7479 4576 223a 2039 3939 3135 3736  eQtyEv": 9991576
-000218c0: 3830 2c0a 2020 2020 2020 2020 2320 2020  80,.        #   
-000218d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000218e0: 2020 226c 6561 7665 7342 6173 6551 7479    "leavesBaseQty
-000218f0: 4576 223a 2030 2c0a 2020 2020 2020 2020  Ev": 0,.        
-00021900: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021910: 2020 2020 2020 226c 6561 7665 7351 756f        "leavesQuo
-00021920: 7465 5174 7945 7622 3a20 302c 0a20 2020  teQtyEv": 0,.   
-00021930: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00021940: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
-00021950: 4665 6545 7622 3a20 302c 0a20 2020 2020  FeeEv": 0,.     
-00021960: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00021970: 2020 2020 2020 2020 2022 6665 6552 6174           "feeRat
-00021980: 6545 7222 3a20 300a 2020 2020 2020 2020  eEr": 0.        
-00021990: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-000219a0: 2020 7d0a 2020 2020 2020 2020 2320 2020    }.        #   
-000219b0: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
-000219c0: 2020 2020 2320 2020 2020 2020 2020 7d0a      #         }.
-000219d0: 2020 2020 2020 2020 2320 2020 2020 7d0a          #     }.
-000219e0: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-000219f0: 2020 230a 2020 2020 2020 2020 2320 7377    #.        # sw
-00021a00: 6170 0a20 2020 2020 2020 2023 0a20 2020  ap.        #.   
-00021a10: 2020 2020 2023 2020 2020 207b 0a20 2020       #     {.   
-00021a20: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-00021a30: 636f 6465 223a 2030 2c0a 2020 2020 2020  code": 0,.      
-00021a40: 2020 2320 2020 2020 2020 2020 226d 7367    #         "msg
-00021a50: 223a 2022 4f4b 222c 0a20 2020 2020 2020  ": "OK",.       
-00021a60: 2023 2020 2020 2020 2020 2022 6461 7461   #         "data
-00021a70: 223a 207b 0a20 2020 2020 2020 2023 2020  ": {.        #  
-00021a80: 2020 2020 2020 2020 2020 2022 746f 7461             "tota
-00021a90: 6c22 3a20 3739 2c0a 2020 2020 2020 2020  l": 79,.        
-00021aa0: 2320 2020 2020 2020 2020 2020 2020 2272  #             "r
-00021ab0: 6f77 7322 3a20 5b0a 2020 2020 2020 2020  ows": [.        
-00021ac0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021ad0: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
-00021ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021af0: 2020 2274 7261 6e73 6163 7454 696d 654e    "transactTimeN
-00021b00: 7322 3a20 3136 3036 3035 3438 3739 3333  s": 160605487933
-00021b10: 3135 3635 3330 302c 0a20 2020 2020 2020  1565300,.       
-00021b20: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00021b30: 2020 2020 2020 2022 7379 6d62 6f6c 223a         "symbol":
-00021b40: 2022 4254 4355 5344 222c 0a20 2020 2020   "BTCUSD",.     
-00021b50: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00021b60: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
-00021b70: 6379 223a 2022 4254 4322 2c0a 2020 2020  cy": "BTC",.    
-00021b80: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00021b90: 2020 2020 2020 2020 2020 2261 6374 696f            "actio
-00021ba0: 6e22 3a20 224e 6577 222c 0a20 2020 2020  n": "New",.     
-00021bb0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00021bc0: 2020 2020 2020 2020 2022 7369 6465 223a           "side":
-00021bd0: 2022 4275 7922 2c0a 2020 2020 2020 2020   "Buy",.        
-00021be0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021bf0: 2020 2020 2020 2274 7261 6465 5479 7065        "tradeType
-00021c00: 223a 2022 5472 6164 6522 2c0a 2020 2020  ": "Trade",.    
-00021c10: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00021c20: 2020 2020 2020 2020 2020 2265 7865 6351            "execQ
-00021c30: 7479 223a 2035 2c0a 2020 2020 2020 2020  ty": 5,.        
-00021c40: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021c50: 2020 2020 2020 2265 7865 6350 7269 6365        "execPrice
-00021c60: 4570 223a 2031 3832 3939 3030 3030 2c0a  Ep": 182990000,.
-00021c70: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00021c80: 2020 2020 2020 2020 2020 2020 2020 226f                "o
-00021c90: 7264 6572 5174 7922 3a20 352c 0a20 2020  rderQty": 5,.   
-00021ca0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00021cb0: 2020 2020 2020 2020 2020 2022 7072 6963             "pric
-00021cc0: 6545 7022 3a20 3138 3338 3730 3030 302c  eEp": 183870000,
-00021cd0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00021ce0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00021cf0: 6578 6563 5661 6c75 6545 7622 3a20 3237  execValueEv": 27
-00021d00: 3332 332c 0a20 2020 2020 2020 2023 2020  323,.        #  
-00021d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021d20: 2020 2022 6665 6552 6174 6545 7222 3a20     "feeRateEr": 
-00021d30: 3735 3030 302c 0a20 2020 2020 2020 2023  75000,.        #
-00021d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021d50: 2020 2020 2022 6578 6563 4665 6545 7622       "execFeeEv"
-00021d60: 3a20 3231 2c0a 2020 2020 2020 2020 2320  : 21,.        # 
-00021d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021d80: 2020 2020 226f 7264 5479 7065 223a 2022      "ordType": "
-00021d90: 4d61 726b 6574 222c 0a20 2020 2020 2020  Market",.       
-00021da0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00021db0: 2020 2020 2020 2022 6578 6563 4944 223a         "execID":
-00021dc0: 2022 3565 6565 3536 6134 2d30 3461 392d   "5eee56a4-04a9-
-00021dd0: 3536 3737 2d38 6562 302d 6332 6665 3232  5677-8eb0-c2fe22
-00021de0: 6165 3336 3435 222c 0a20 2020 2020 2020  ae3645",.       
-00021df0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00021e00: 2020 2020 2020 2022 6f72 6465 7249 4422         "orderID"
-00021e10: 3a20 2265 6530 6163 6238 322d 6637 3132  : "ee0acb82-f712
-00021e20: 2d34 3534 332d 6131 3164 2d64 3233 6566  -4543-a11d-d23ef
-00021e30: 6361 3733 3139 3722 2c0a 2020 2020 2020  ca73197",.      
-00021e40: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00021e50: 2020 2020 2020 2020 2263 6c4f 7264 4944          "clOrdID
-00021e60: 223a 2022 222c 0a20 2020 2020 2020 2023  ": "",.        #
-00021e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021e80: 2020 2020 2022 6578 6563 5374 6174 7573       "execStatus
-00021e90: 223a 2022 5461 6b65 7246 696c 6c22 0a20  ": "TakerFill". 
-00021ea0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00021eb0: 2020 2020 2020 2020 207d 2c0a 2020 2020           },.    
-00021ec0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00021ed0: 2020 5d0a 2020 2020 2020 2020 2320 2020    ].        #   
-00021ee0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-00021ef0: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
-00021f00: 230a 2020 2020 2020 2020 2320 7377 6170  #.        # swap
-00021f10: 202d 2075 7364 740a 2020 2020 2020 2020   - usdt.        
-00021f20: 230a 2020 2020 2020 2020 2320 7b0a 2020  #.        # {.  
-00021f30: 2020 2020 2020 2320 2020 2020 2263 6f64        #     "cod
-00021f40: 6522 3a20 302c 0a20 2020 2020 2020 2023  e": 0,.        #
-00021f50: 2020 2020 2022 6d73 6722 3a20 224f 4b22       "msg": "OK"
-00021f60: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00021f70: 2264 6174 6122 3a20 7b0a 2020 2020 2020  "data": {.      
-00021f80: 2020 2320 2020 2020 2020 2020 2274 6f74    #         "tot
-00021f90: 616c 223a 2034 2c0a 2020 2020 2020 2020  al": 4,.        
-00021fa0: 2320 2020 2020 2020 2020 2272 6f77 7322  #         "rows"
-00021fb0: 3a20 5b0a 2020 2020 2020 2020 2320 2020  : [.        #   
-00021fc0: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
-00021fd0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00021fe0: 2020 2020 2020 2263 7265 6174 6564 4174        "createdAt
-00021ff0: 223a 2031 3636 3632 3236 3933 3232 3539  ": 1666226932259
-00022000: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00022010: 2020 2020 2020 2020 2020 2020 2273 796d              "sym
-00022020: 626f 6c22 3a20 2245 5448 5553 4454 222c  bol": "ETHUSDT",
-00022030: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00022040: 2020 2020 2020 2020 2020 2022 6375 7272             "curr
-00022050: 656e 6379 223a 2022 5553 4454 222c 0a20  ency": "USDT",. 
-00022060: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00022070: 2020 2020 2020 2020 2022 6163 7469 6f6e           "action
-00022080: 223a 2031 2c0a 2020 2020 2020 2020 2320  ": 1,.        # 
-00022090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000220a0: 2274 7261 6465 5479 7065 223a 2031 2c0a  "tradeType": 1,.
-000220b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000220c0: 2020 2020 2020 2020 2020 2265 7865 6351            "execQ
-000220d0: 7479 5271 223a 2022 302e 3031 222c 0a20  tyRq": "0.01",. 
-000220e0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000220f0: 2020 2020 2020 2020 2022 6578 6563 5072           "execPr
-00022100: 6963 6552 7022 3a20 2231 3237 312e 3922  iceRp": "1271.9"
-00022110: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00022120: 2020 2020 2020 2020 2020 2020 2273 6964              "sid
-00022130: 6522 3a20 312c 0a20 2020 2020 2020 2023  e": 1,.        #
-00022140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022150: 2022 6f72 6465 7251 7479 5271 223a 2022   "orderQtyRq": "
-00022160: 302e 3738 222c 0a20 2020 2020 2020 2023  0.78",.        #
-00022170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022180: 2022 7072 6963 6552 7022 3a20 2231 3237   "priceRp": "127
-00022190: 312e 3922 2c0a 2020 2020 2020 2020 2320  1.9",.        # 
-000221a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000221b0: 2265 7865 6356 616c 7565 5276 223a 2022  "execValueRv": "
-000221c0: 3132 2e37 3139 222c 0a20 2020 2020 2020  12.719",.       
-000221d0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-000221e0: 2020 2022 6665 6552 6174 6552 7222 3a20     "feeRateRr": 
-000221f0: 2230 2e30 3030 3122 2c0a 2020 2020 2020  "0.0001",.      
-00022200: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00022210: 2020 2020 2265 7865 6346 6565 5276 223a      "execFeeRv":
-00022220: 2022 302e 3030 3132 3731 3922 2c0a 2020   "0.0012719",.  
-00022230: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00022240: 2020 2020 2020 2020 226f 7264 5479 7065          "ordType
-00022250: 223a 2032 2c0a 2020 2020 2020 2020 2320  ": 2,.        # 
-00022260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022270: 2265 7865 6349 6422 3a20 2238 3731 3863  "execId": "8718c
-00022280: 6165 222c 0a20 2020 2020 2020 2023 2020  ae",.        #  
-00022290: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000222a0: 6578 6563 5374 6174 7573 223a 2036 0a20  execStatus": 6. 
-000222b0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000222c0: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-000222d0: 2320 2020 2020 2020 2020 5d0a 2020 2020  #         ].    
-000222e0: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
-000222f0: 2020 2020 2320 7d0a 2020 2020 2020 2020      # }.        
-00022300: 230a 2020 2020 2020 2020 6461 7461 203d  #.        data =
-00022310: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
-00022320: 2872 6573 706f 6e73 652c 2027 6461 7461  (response, 'data
-00022330: 272c 207b 7d29 0a20 2020 2020 2020 2069  ', {}).        i
-00022340: 6620 6d65 7468 6f64 2021 3d20 2770 7269  f method != 'pri
-00022350: 7661 7465 4765 7445 7863 6861 6e67 654f  vateGetExchangeO
-00022360: 7264 6572 5632 5472 6164 696e 674c 6973  rderV2TradingLis
-00022370: 7427 3a0a 2020 2020 2020 2020 2020 2020  t':.            
-00022380: 726f 7773 203d 2073 656c 662e 7361 6665  rows = self.safe
-00022390: 5f76 616c 7565 2864 6174 612c 2027 726f  _value(data, 'ro
-000223a0: 7773 272c 205b 5d29 0a20 2020 2020 2020  ws', []).       
-000223b0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-000223c0: 2e70 6172 7365 5f74 7261 6465 7328 726f  .parse_trades(ro
-000223d0: 7773 2c20 6d61 726b 6574 2c20 7369 6e63  ws, market, sinc
-000223e0: 652c 206c 696d 6974 290a 2020 2020 2020  e, limit).      
-000223f0: 2020 7265 7475 726e 2073 656c 662e 7061    return self.pa
-00022400: 7273 655f 7472 6164 6573 2864 6174 612c  rse_trades(data,
-00022410: 206d 6172 6b65 742c 2073 696e 6365 2c20   market, since, 
-00022420: 6c69 6d69 7429 0a0a 2020 2020 6173 796e  limit)..    asyn
-00022430: 6320 6465 6620 6665 7463 685f 6465 706f  c def fetch_depo
-00022440: 7369 745f 6164 6472 6573 7328 7365 6c66  sit_address(self
-00022450: 2c20 636f 6465 3a20 7374 722c 2070 6172  , code: str, par
-00022460: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
-00022470: 2022 2222 0a20 2020 2020 2020 2066 6574   """.        fet
-00022480: 6368 2074 6865 2064 6570 6f73 6974 2061  ch the deposit a
-00022490: 6464 7265 7373 2066 6f72 2061 2063 7572  ddress for a cur
-000224a0: 7265 6e63 7920 6173 736f 6369 6174 6564  rency associated
-000224b0: 2077 6974 6820 7365 6c66 2061 6363 6f75   with self accou
-000224c0: 6e74 0a20 2020 2020 2020 203a 7061 7261  nt.        :para
-000224d0: 6d20 7374 7220 636f 6465 3a20 756e 6966  m str code: unif
-000224e0: 6965 6420 6375 7272 656e 6379 2063 6f64  ied currency cod
-000224f0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-00022500: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
-00022510: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
-00022520: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
-00022530: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
-00022540: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
-00022550: 726e 7320 6469 6374 3a20 616e 2060 6164  rns dict: an `ad
-00022560: 6472 6573 7320 7374 7275 6374 7572 6520  dress structure 
-00022570: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
-00022580: 7874 2e63 6f6d 2f23 2f3f 6964 3d61 6464  xt.com/#/?id=add
-00022590: 7265 7373 2d73 7472 7563 7475 7265 3e60  ress-structure>`
-000225a0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000225b0: 2020 2020 2061 7761 6974 2073 656c 662e       await self.
-000225c0: 6c6f 6164 5f6d 6172 6b65 7473 2829 0a20  load_markets(). 
-000225d0: 2020 2020 2020 2063 7572 7265 6e63 7920         currency 
-000225e0: 3d20 7365 6c66 2e63 7572 7265 6e63 7928  = self.currency(
-000225f0: 636f 6465 290a 2020 2020 2020 2020 7265  code).        re
-00022600: 7175 6573 7420 3d20 7b0a 2020 2020 2020  quest = {.      
-00022610: 2020 2020 2020 2763 7572 7265 6e63 7927        'currency'
-00022620: 3a20 6375 7272 656e 6379 5b27 6964 275d  : currency['id']
-00022630: 2c0a 2020 2020 2020 2020 7d0a 2020 2020  ,.        }.    
-00022640: 2020 2020 6465 6661 756c 744e 6574 776f      defaultNetwo
-00022650: 726b 7320 3d20 7365 6c66 2e73 6166 655f  rks = self.safe_
-00022660: 7661 6c75 6528 7365 6c66 2e6f 7074 696f  value(self.optio
-00022670: 6e73 2c20 2764 6566 6175 6c74 4e65 7477  ns, 'defaultNetw
-00022680: 6f72 6b73 2729 0a20 2020 2020 2020 2064  orks').        d
-00022690: 6566 6175 6c74 4e65 7477 6f72 6b20 3d20  efaultNetwork = 
-000226a0: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
-000226b0: 5f75 7070 6572 2864 6566 6175 6c74 4e65  _upper(defaultNe
-000226c0: 7477 6f72 6b73 2c20 636f 6465 290a 2020  tworks, code).  
-000226d0: 2020 2020 2020 6e65 7477 6f72 6b73 203d        networks =
-000226e0: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
-000226f0: 2873 656c 662e 6f70 7469 6f6e 732c 2027  (self.options, '
-00022700: 6e65 7477 6f72 6b73 272c 207b 7d29 0a20  networks', {}). 
-00022710: 2020 2020 2020 206e 6574 776f 726b 203d         network =
-00022720: 2073 656c 662e 7361 6665 5f73 7472 696e   self.safe_strin
-00022730: 675f 7570 7065 7228 7061 7261 6d73 2c20  g_upper(params, 
-00022740: 276e 6574 776f 726b 272c 2064 6566 6175  'network', defau
-00022750: 6c74 4e65 7477 6f72 6b29 0a20 2020 2020  ltNetwork).     
-00022760: 2020 206e 6574 776f 726b 203d 2073 656c     network = sel
-00022770: 662e 7361 6665 5f73 7472 696e 6728 6e65  f.safe_string(ne
-00022780: 7477 6f72 6b73 2c20 6e65 7477 6f72 6b2c  tworks, network,
-00022790: 206e 6574 776f 726b 290a 2020 2020 2020   network).      
-000227a0: 2020 6966 206e 6574 776f 726b 2069 7320    if network is 
-000227b0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-000227c0: 2020 7265 7175 6573 745b 2763 6861 696e    request['chain
-000227d0: 4e61 6d65 275d 203d 2063 7572 7265 6e63  Name'] = currenc
-000227e0: 795b 2769 6427 5d0a 2020 2020 2020 2020  y['id'].        
-000227f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00022800: 2020 7265 7175 6573 745b 2763 6861 696e    request['chain
-00022810: 4e61 6d65 275d 203d 206e 6574 776f 726b  Name'] = network
-00022820: 0a20 2020 2020 2020 2020 2020 2070 6172  .            par
-00022830: 616d 7320 3d20 7365 6c66 2e6f 6d69 7428  ams = self.omit(
-00022840: 7061 7261 6d73 2c20 276e 6574 776f 726b  params, 'network
-00022850: 2729 0a20 2020 2020 2020 2072 6573 706f  ').        respo
-00022860: 6e73 6520 3d20 6177 6169 7420 7365 6c66  nse = await self
-00022870: 2e70 7269 7661 7465 4765 7450 6865 6d65  .privateGetPheme
-00022880: 7855 7365 7257 616c 6c65 7473 5632 4465  xUserWalletsV2De
-00022890: 706f 7369 7441 6464 7265 7373 2873 656c  positAddress(sel
-000228a0: 662e 6578 7465 6e64 2872 6571 7565 7374  f.extend(request
-000228b0: 2c20 7061 7261 6d73 2929 0a20 2020 2020  , params)).     
-000228c0: 2020 2023 2020 2020 207b 0a20 2020 2020     #     {.     
-000228d0: 2020 2023 2020 2020 2020 2020 2022 636f     #         "co
-000228e0: 6465 223a 302c 0a20 2020 2020 2020 2023  de":0,.        #
-000228f0: 2020 2020 2020 2020 2022 6d73 6722 3a22           "msg":"
-00022900: 4f4b 222c 0a20 2020 2020 2020 2023 2020  OK",.        #  
-00022910: 2020 2020 2020 2022 6461 7461 223a 7b0a         "data":{.
-00022920: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00022930: 2020 2020 2020 2261 6464 7265 7373 223a        "address":
-00022940: 2230 7835 6266 6266 3630 6530 6661 3766  "0x5bfbf60e0fa7f
-00022950: 3633 3539 3865 3663 6664 3861 3766 6433  63598e6cfd8a7fd3
-00022960: 6666 6163 3463 6363 3661 6422 2c0a 2020  ffac4ccc6ad",.  
-00022970: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00022980: 2020 2020 2274 6167 223a 6e75 6c6c 0a20      "tag":null. 
-00022990: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000229a0: 207d 0a20 2020 2020 2020 2023 2020 2020   }.        #    
-000229b0: 207d 0a20 2020 2020 2020 2023 0a20 2020   }.        #.   
-000229c0: 2020 2020 2064 6174 6120 3d20 7365 6c66       data = self
-000229d0: 2e73 6166 655f 7661 6c75 6528 7265 7370  .safe_value(resp
-000229e0: 6f6e 7365 2c20 2764 6174 6127 2c20 7b7d  onse, 'data', {}
-000229f0: 290a 2020 2020 2020 2020 6164 6472 6573  ).        addres
-00022a00: 7320 3d20 7365 6c66 2e73 6166 655f 7374  s = self.safe_st
-00022a10: 7269 6e67 2864 6174 612c 2027 6164 6472  ring(data, 'addr
-00022a20: 6573 7327 290a 2020 2020 2020 2020 7461  ess').        ta
-00022a30: 6720 3d20 7365 6c66 2e73 6166 655f 7374  g = self.safe_st
-00022a40: 7269 6e67 2864 6174 612c 2027 7461 6727  ring(data, 'tag'
-00022a50: 290a 2020 2020 2020 2020 7365 6c66 2e63  ).        self.c
-00022a60: 6865 636b 5f61 6464 7265 7373 2861 6464  heck_address(add
-00022a70: 7265 7373 290a 2020 2020 2020 2020 7265  ress).        re
-00022a80: 7475 726e 207b 0a20 2020 2020 2020 2020  turn {.         
-00022a90: 2020 2027 6375 7272 656e 6379 273a 2063     'currency': c
-00022aa0: 6f64 652c 0a20 2020 2020 2020 2020 2020  ode,.           
-00022ab0: 2027 6164 6472 6573 7327 3a20 6164 6472   'address': addr
-00022ac0: 6573 732c 0a20 2020 2020 2020 2020 2020  ess,.           
-00022ad0: 2027 7461 6727 3a20 7461 672c 0a20 2020   'tag': tag,.   
-00022ae0: 2020 2020 2020 2020 2027 6e65 7477 6f72           'networ
-00022af0: 6b27 3a20 4e6f 6e65 2c0a 2020 2020 2020  k': None,.      
-00022b00: 2020 2020 2020 2769 6e66 6f27 3a20 7265        'info': re
-00022b10: 7370 6f6e 7365 2c0a 2020 2020 2020 2020  sponse,.        
-00022b20: 7d0a 0a20 2020 2061 7379 6e63 2064 6566  }..    async def
-00022b30: 2066 6574 6368 5f64 6570 6f73 6974 7328   fetch_deposits(
-00022b40: 7365 6c66 2c20 636f 6465 3a20 4f70 7469  self, code: Opti
-00022b50: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-00022b60: 2c20 7369 6e63 653a 204f 7074 696f 6e61  , since: Optiona
-00022b70: 6c5b 696e 745d 203d 204e 6f6e 652c 206c  l[int] = None, l
-00022b80: 696d 6974 3a20 4f70 7469 6f6e 616c 5b69  imit: Optional[i
-00022b90: 6e74 5d20 3d20 4e6f 6e65 2c20 7061 7261  nt] = None, para
-00022ba0: 6d73 3d7b 7d29 3a0a 2020 2020 2020 2020  ms={}):.        
-00022bb0: 2222 220a 2020 2020 2020 2020 6665 7463  """.        fetc
-00022bc0: 6820 616c 6c20 6465 706f 7369 7473 206d  h all deposits m
-00022bd0: 6164 6520 746f 2061 6e20 6163 636f 756e  ade to an accoun
-00022be0: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
-00022bf0: 2073 7472 7c4e 6f6e 6520 636f 6465 3a20   str|None code: 
-00022c00: 756e 6966 6965 6420 6375 7272 656e 6379  unified currency
-00022c10: 2063 6f64 650a 2020 2020 2020 2020 3a70   code.        :p
-00022c20: 6172 616d 2069 6e74 7c4e 6f6e 6520 7369  aram int|None si
-00022c30: 6e63 653a 2074 6865 2065 6172 6c69 6573  nce: the earlies
-00022c40: 7420 7469 6d65 2069 6e20 6d73 2074 6f20  t time in ms to 
-00022c50: 6665 7463 6820 6465 706f 7369 7473 2066  fetch deposits f
-00022c60: 6f72 0a20 2020 2020 2020 203a 7061 7261  or.        :para
-00022c70: 6d20 696e 747c 4e6f 6e65 206c 696d 6974  m int|None limit
-00022c80: 3a20 7468 6520 6d61 7869 6d75 6d20 6e75  : the maximum nu
-00022c90: 6d62 6572 206f 6620 6465 706f 7369 7473  mber of deposits
-00022ca0: 2073 7472 7563 7475 7265 7320 746f 2072   structures to r
-00022cb0: 6574 7269 6576 650a 2020 2020 2020 2020  etrieve.        
-00022cc0: 3a70 6172 616d 2064 6963 7420 7061 7261  :param dict para
-00022cd0: 6d73 3a20 6578 7472 6120 7061 7261 6d65  ms: extra parame
-00022ce0: 7465 7273 2073 7065 6369 6669 6320 746f  ters specific to
-00022cf0: 2074 6865 2070 6865 6d65 7820 6170 6920   the phemex api 
-00022d00: 656e 6470 6f69 6e74 0a20 2020 2020 2020  endpoint.       
-00022d10: 203a 7265 7475 726e 7320 5b64 6963 745d   :returns [dict]
-00022d20: 3a20 6120 6c69 7374 206f 6620 6074 7261  : a list of `tra
-00022d30: 6e73 6163 7469 6f6e 2073 7472 7563 7475  nsaction structu
-00022d40: 7265 7320 3c68 7474 7073 3a2f 2f64 6f63  res <https://doc
-00022d50: 732e 6363 7874 2e63 6f6d 2f23 2f3f 6964  s.ccxt.com/#/?id
-00022d60: 3d74 7261 6e73 6163 7469 6f6e 2d73 7472  =transaction-str
-00022d70: 7563 7475 7265 3e60 0a20 2020 2020 2020  ucture>`.       
-00022d80: 2022 2222 0a20 2020 2020 2020 2061 7761   """.        awa
-00022d90: 6974 2073 656c 662e 6c6f 6164 5f6d 6172  it self.load_mar
-00022da0: 6b65 7473 2829 0a20 2020 2020 2020 2063  kets().        c
-00022db0: 7572 7265 6e63 7920 3d20 4e6f 6e65 0a20  urrency = None. 
-00022dc0: 2020 2020 2020 2069 6620 636f 6465 2069         if code i
-00022dd0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00022de0: 2020 2020 2020 2020 6375 7272 656e 6379          currency
-00022df0: 203d 2073 656c 662e 6375 7272 656e 6379   = self.currency
-00022e00: 2863 6f64 6529 0a20 2020 2020 2020 2072  (code).        r
-00022e10: 6573 706f 6e73 6520 3d20 6177 6169 7420  esponse = await 
-00022e20: 7365 6c66 2e70 7269 7661 7465 4765 7445  self.privateGetE
-00022e30: 7863 6861 6e67 6557 616c 6c65 7473 4465  xchangeWalletsDe
-00022e40: 706f 7369 744c 6973 7428 7061 7261 6d73  positList(params
-00022e50: 290a 2020 2020 2020 2020 230a 2020 2020  ).        #.    
-00022e60: 2020 2020 2320 2020 2020 7b0a 2020 2020      #     {.    
-00022e70: 2020 2020 2320 2020 2020 2020 2020 2263      #         "c
-00022e80: 6f64 6522 3a30 2c0a 2020 2020 2020 2020  ode":0,.        
-00022e90: 2320 2020 2020 2020 2020 226d 7367 223a  #         "msg":
-00022ea0: 224f 4b22 2c0a 2020 2020 2020 2020 2320  "OK",.        # 
-00022eb0: 2020 2020 2020 2020 2264 6174 6122 3a5b          "data":[
-00022ec0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00022ed0: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
-00022ee0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00022ef0: 2020 2022 6964 223a 3239 3230 302c 0a20     "id":29200,. 
-00022f00: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00022f10: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
-00022f20: 6379 223a 2255 5344 5422 2c0a 2020 2020  cy":"USDT",.    
-00022f30: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00022f40: 2020 2020 2020 2263 7572 7265 6e63 7943        "currencyC
-00022f50: 6f64 6522 3a33 2c0a 2020 2020 2020 2020  ode":3,.        
-00022f60: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00022f70: 2020 2274 7848 6173 6822 3a22 3078 3062    "txHash":"0x0b
-00022f80: 6462 6463 3437 3830 3737 3639 6130 3362  dbdc47807769a03b
-00022f90: 3135 3864 3537 3533 6635 3464 6663 3538  158d5753f54dfc58
-00022fa0: 6239 3239 3933 6432 6635 6538 3138 6462  b92993d2f5e818db
-00022fb0: 3231 3836 3365 3031 3233 3865 3564 222c  21863e01238e5d",
-00022fc0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00022fd0: 2020 2020 2020 2020 2020 2022 6164 6472             "addr
-00022fe0: 6573 7322 3a22 3078 3562 6662 6636 3065  ess":"0x5bfbf60e
-00022ff0: 3066 6137 6636 3335 3938 6536 6366 6438  0fa7f63598e6cfd8
-00023000: 6137 6664 3366 6661 6334 6363 6336 6164  a7fd3ffac4ccc6ad
-00023010: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-00023020: 2020 2020 2020 2020 2020 2020 2022 616d               "am
-00023030: 6f75 6e74 4576 223a 3330 3030 3030 3030  ountEv":30000000
-00023040: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
-00023050: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00023060: 6f6e 6669 726d 6174 696f 6e73 223a 3133  onfirmations":13
-00023070: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00023080: 2020 2020 2020 2020 2020 2020 2274 7970              "typ
-00023090: 6522 3a22 4465 706f 7369 7422 2c0a 2020  e":"Deposit",.  
-000230a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000230b0: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
-000230c0: 3a22 5375 6363 6573 7322 2c0a 2020 2020  :"Success",.    
-000230d0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-000230e0: 2020 2020 2020 2263 7265 6174 6564 4174        "createdAt
-000230f0: 223a 3135 3932 3732 3235 3635 3030 300a  ":1592722565000.
-00023100: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00023110: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-00023120: 2320 2020 2020 2020 2020 5d0a 2020 2020  #         ].    
-00023130: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
-00023140: 2020 2020 230a 2020 2020 2020 2020 6461      #.        da
-00023150: 7461 203d 2073 656c 662e 7361 6665 5f76  ta = self.safe_v
-00023160: 616c 7565 2872 6573 706f 6e73 652c 2027  alue(response, '
-00023170: 6461 7461 272c 207b 7d29 0a20 2020 2020  data', {}).     
-00023180: 2020 2072 6574 7572 6e20 7365 6c66 2e70     return self.p
-00023190: 6172 7365 5f74 7261 6e73 6163 7469 6f6e  arse_transaction
-000231a0: 7328 6461 7461 2c20 6375 7272 656e 6379  s(data, currency
-000231b0: 2c20 7369 6e63 652c 206c 696d 6974 290a  , since, limit).
-000231c0: 0a20 2020 2061 7379 6e63 2064 6566 2066  .    async def f
-000231d0: 6574 6368 5f77 6974 6864 7261 7761 6c73  etch_withdrawals
-000231e0: 2873 656c 662c 2063 6f64 653a 204f 7074  (self, code: Opt
-000231f0: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
-00023200: 652c 2073 696e 6365 3a20 4f70 7469 6f6e  e, since: Option
-00023210: 616c 5b69 6e74 5d20 3d20 4e6f 6e65 2c20  al[int] = None, 
-00023220: 6c69 6d69 743a 204f 7074 696f 6e61 6c5b  limit: Optional[
-00023230: 696e 745d 203d 204e 6f6e 652c 2070 6172  int] = None, par
-00023240: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
-00023250: 2022 2222 0a20 2020 2020 2020 2066 6574   """.        fet
-00023260: 6368 2061 6c6c 2077 6974 6864 7261 7761  ch all withdrawa
-00023270: 6c73 206d 6164 6520 6672 6f6d 2061 6e20  ls made from an 
-00023280: 6163 636f 756e 740a 2020 2020 2020 2020  account.        
-00023290: 3a70 6172 616d 2073 7472 7c4e 6f6e 6520  :param str|None 
-000232a0: 636f 6465 3a20 756e 6966 6965 6420 6375  code: unified cu
-000232b0: 7272 656e 6379 2063 6f64 650a 2020 2020  rrency code.    
-000232c0: 2020 2020 3a70 6172 616d 2069 6e74 7c4e      :param int|N
-000232d0: 6f6e 6520 7369 6e63 653a 2074 6865 2065  one since: the e
-000232e0: 6172 6c69 6573 7420 7469 6d65 2069 6e20  arliest time in 
-000232f0: 6d73 2074 6f20 6665 7463 6820 7769 7468  ms to fetch with
-00023300: 6472 6177 616c 7320 666f 720a 2020 2020  drawals for.    
-00023310: 2020 2020 3a70 6172 616d 2069 6e74 7c4e      :param int|N
-00023320: 6f6e 6520 6c69 6d69 743a 2074 6865 206d  one limit: the m
-00023330: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
-00023340: 2077 6974 6864 7261 7761 6c73 2073 7472   withdrawals str
-00023350: 7563 7475 7265 7320 746f 2072 6574 7269  uctures to retri
-00023360: 6576 650a 2020 2020 2020 2020 3a70 6172  eve.        :par
-00023370: 616d 2064 6963 7420 7061 7261 6d73 3a20  am dict params: 
-00023380: 6578 7472 6120 7061 7261 6d65 7465 7273  extra parameters
-00023390: 2073 7065 6369 6669 6320 746f 2074 6865   specific to the
-000233a0: 2070 6865 6d65 7820 6170 6920 656e 6470   phemex api endp
-000233b0: 6f69 6e74 0a20 2020 2020 2020 203a 7265  oint.        :re
-000233c0: 7475 726e 7320 5b64 6963 745d 3a20 6120  turns [dict]: a 
-000233d0: 6c69 7374 206f 6620 6074 7261 6e73 6163  list of `transac
-000233e0: 7469 6f6e 2073 7472 7563 7475 7265 7320  tion structures 
-000233f0: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
-00023400: 7874 2e63 6f6d 2f23 2f3f 6964 3d74 7261  xt.com/#/?id=tra
-00023410: 6e73 6163 7469 6f6e 2d73 7472 7563 7475  nsaction-structu
-00023420: 7265 3e60 0a20 2020 2020 2020 2022 2222  re>`.        """
-00023430: 0a20 2020 2020 2020 2061 7761 6974 2073  .        await s
-00023440: 656c 662e 6c6f 6164 5f6d 6172 6b65 7473  elf.load_markets
-00023450: 2829 0a20 2020 2020 2020 2063 7572 7265  ().        curre
-00023460: 6e63 7920 3d20 4e6f 6e65 0a20 2020 2020  ncy = None.     
-00023470: 2020 2069 6620 636f 6465 2069 7320 6e6f     if code is no
-00023480: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-00023490: 2020 2020 6375 7272 656e 6379 203d 2073      currency = s
-000234a0: 656c 662e 6375 7272 656e 6379 2863 6f64  elf.currency(cod
-000234b0: 6529 0a20 2020 2020 2020 2072 6573 706f  e).        respo
-000234c0: 6e73 6520 3d20 6177 6169 7420 7365 6c66  nse = await self
-000234d0: 2e70 7269 7661 7465 4765 7445 7863 6861  .privateGetExcha
-000234e0: 6e67 6557 616c 6c65 7473 5769 7468 6472  ngeWalletsWithdr
-000234f0: 6177 4c69 7374 2870 6172 616d 7329 0a20  awList(params). 
-00023500: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-00023510: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
-00023520: 2023 2020 2020 2020 2020 2022 636f 6465   #         "code
-00023530: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
-00023540: 2020 2020 2020 2022 6d73 6722 3a22 4f4b         "msg":"OK
-00023550: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-00023560: 2020 2020 2022 6461 7461 223a 5b0a 2020       "data":[.  
-00023570: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00023580: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-00023590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000235a0: 2261 6464 7265 7373 223a 2022 314c 7878  "address": "1Lxx
-000235b0: 7878 7878 7878 7878 7822 0a20 2020 2020  xxxxxxxxx".     
-000235c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-000235d0: 2020 2020 2022 616d 6f75 6e74 4576 223a       "amountEv":
-000235e0: 2032 3030 3030 300a 2020 2020 2020 2020   200000.        
-000235f0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00023600: 2020 2263 7572 7265 6e63 7922 3a20 2242    "currency": "B
-00023610: 5443 220a 2020 2020 2020 2020 2320 2020  TC".        #   
-00023620: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00023630: 7572 7265 6e63 7943 6f64 6522 3a20 310a  urrencyCode": 1.
-00023640: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00023650: 2020 2020 2020 2020 2020 2265 7870 6972            "expir
-00023660: 6564 5469 6d65 223a 2030 0a20 2020 2020  edTime": 0.     
-00023670: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00023680: 2020 2020 2022 6665 6545 7622 3a20 3530       "feeEv": 50
-00023690: 3030 300a 2020 2020 2020 2020 2320 2020  000.        #   
-000236a0: 2020 2020 2020 2020 2020 2020 2020 2272                "r
-000236b0: 656a 6563 7452 6561 736f 6e22 3a20 6e75  ejectReason": nu
-000236c0: 6c6c 0a20 2020 2020 2020 2023 2020 2020  ll.        #    
-000236d0: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-000236e0: 6174 7573 223a 2022 5375 6363 6565 6422  atus": "Succeed"
-000236f0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00023700: 2020 2020 2020 2020 2020 2022 7478 4861             "txHa
-00023710: 7368 223a 2022 3434 6578 7878 7878 7878  sh": "44exxxxxxx
-00023720: 7878 7878 7878 7878 7878 7878 7878 7822  xxxxxxxxxxxxxxx"
-00023730: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00023740: 2020 2020 2020 2020 2020 2022 7769 7468             "with
-00023750: 6472 6177 5374 6174 7573 3a20 2222 0a20  drawStatus: "". 
-00023760: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00023770: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
-00023780: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
-00023790: 2020 2023 2020 2020 207d 0a20 2020 2020     #     }.     
-000237a0: 2020 2023 0a20 2020 2020 2020 2064 6174     #.        dat
-000237b0: 6120 3d20 7365 6c66 2e73 6166 655f 7661  a = self.safe_va
-000237c0: 6c75 6528 7265 7370 6f6e 7365 2c20 2764  lue(response, 'd
-000237d0: 6174 6127 2c20 7b7d 290a 2020 2020 2020  ata', {}).      
-000237e0: 2020 7265 7475 726e 2073 656c 662e 7061    return self.pa
-000237f0: 7273 655f 7472 616e 7361 6374 696f 6e73  rse_transactions
-00023800: 2864 6174 612c 2063 7572 7265 6e63 792c  (data, currency,
-00023810: 2073 696e 6365 2c20 6c69 6d69 7429 0a0a   since, limit)..
-00023820: 2020 2020 6465 6620 7061 7273 655f 7472      def parse_tr
-00023830: 616e 7361 6374 696f 6e5f 7374 6174 7573  ansaction_status
-00023840: 2873 656c 662c 2073 7461 7475 7329 3a0a  (self, status):.
-00023850: 2020 2020 2020 2020 7374 6174 7573 6573          statuses
-00023860: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00023870: 2027 5375 6363 6573 7327 3a20 276f 6b27   'Success': 'ok'
-00023880: 2c0a 2020 2020 2020 2020 2020 2020 2753  ,.            'S
-00023890: 7563 6365 6564 273a 2027 6f6b 272c 0a20  ucceed': 'ok',. 
-000238a0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
-000238b0: 2072 6574 7572 6e20 7365 6c66 2e73 6166   return self.saf
-000238c0: 655f 7374 7269 6e67 2873 7461 7475 7365  e_string(statuse
-000238d0: 732c 2073 7461 7475 732c 2073 7461 7475  s, status, statu
-000238e0: 7329 0a0a 2020 2020 6465 6620 7061 7273  s)..    def pars
-000238f0: 655f 7472 616e 7361 6374 696f 6e28 7365  e_transaction(se
-00023900: 6c66 2c20 7472 616e 7361 6374 696f 6e2c  lf, transaction,
-00023910: 2063 7572 7265 6e63 793d 4e6f 6e65 293a   currency=None):
-00023920: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
-00023930: 2020 2023 2077 6974 6864 7261 770a 2020     # withdraw.  
-00023940: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-00023950: 2320 2020 2020 2e2e 2e0a 2020 2020 2020  #     ....      
-00023960: 2020 230a 2020 2020 2020 2020 2320 6665    #.        # fe
-00023970: 7463 6844 6570 6f73 6974 730a 2020 2020  tchDeposits.    
-00023980: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
-00023990: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-000239a0: 2020 2020 2020 2020 2269 6422 3a32 3932          "id":292
-000239b0: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
-000239c0: 2020 2020 2020 2263 7572 7265 6e63 7922        "currency"
-000239d0: 3a22 5553 4454 222c 0a20 2020 2020 2020  :"USDT",.       
-000239e0: 2023 2020 2020 2020 2020 2022 6375 7272   #         "curr
-000239f0: 656e 6379 436f 6465 223a 332c 0a20 2020  encyCode":3,.   
-00023a00: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-00023a10: 7478 4861 7368 223a 2230 7830 6264 6264  txHash":"0x0bdbd
-00023a20: 6334 3738 3037 3736 3961 3033 6231 3538  c47807769a03b158
-00023a30: 6435 3735 3366 3534 6466 6335 3862 3932  d5753f54dfc58b92
-00023a40: 3939 3364 3266 3565 3831 3864 6232 3138  993d2f5e818db218
-00023a50: 3633 6530 3132 3338 6535 6422 2c0a 2020  63e01238e5d",.  
-00023a60: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00023a70: 2261 6464 7265 7373 223a 2230 7835 6266  "address":"0x5bf
-00023a80: 6266 3630 6530 6661 3766 3633 3539 3865  bf60e0fa7f63598e
-00023a90: 3663 6664 3861 3766 6433 6666 6163 3463  6cfd8a7fd3ffac4c
-00023aa0: 6363 3661 6422 2c0a 2020 2020 2020 2020  cc6ad",.        
-00023ab0: 2320 2020 2020 2020 2020 2261 6d6f 756e  #         "amoun
-00023ac0: 7445 7622 3a33 3030 3030 3030 3030 302c  tEv":3000000000,
-00023ad0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00023ae0: 2020 2022 636f 6e66 6972 6d61 7469 6f6e     "confirmation
-00023af0: 7322 3a31 332c 0a20 2020 2020 2020 2023  s":13,.        #
-00023b00: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
-00023b10: 2244 6570 6f73 6974 222c 0a20 2020 2020  "Deposit",.     
-00023b20: 2020 2023 2020 2020 2020 2020 2022 7374     #         "st
-00023b30: 6174 7573 223a 2253 7563 6365 7373 222c  atus":"Success",
-00023b40: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00023b50: 2020 2022 6372 6561 7465 6441 7422 3a31     "createdAt":1
-00023b60: 3539 3237 3232 3536 3530 3030 0a20 2020  592722565000.   
-00023b70: 2020 2020 2023 2020 2020 207d 0a20 2020       #     }.   
-00023b80: 2020 2020 2023 0a20 2020 2020 2020 2023       #.        #
-00023b90: 2066 6574 6368 5769 7468 6472 6177 616c   fetchWithdrawal
-00023ba0: 730a 2020 2020 2020 2020 230a 2020 2020  s.        #.    
-00023bb0: 2020 2020 2320 2020 2020 7b0a 2020 2020      #     {.    
-00023bc0: 2020 2020 2320 2020 2020 2020 2020 2261      #         "a
-00023bd0: 6464 7265 7373 223a 2022 314c 7878 7878  ddress": "1Lxxxx
-00023be0: 7878 7878 7878 7822 0a20 2020 2020 2020  xxxxxxx".       
-00023bf0: 2023 2020 2020 2020 2020 2022 616d 6f75   #         "amou
-00023c00: 6e74 4576 223a 2032 3030 3030 300a 2020  ntEv": 200000.  
-00023c10: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00023c20: 2263 7572 7265 6e63 7922 3a20 2242 5443  "currency": "BTC
-00023c30: 220a 2020 2020 2020 2020 2320 2020 2020  ".        #     
-00023c40: 2020 2020 2263 7572 7265 6e63 7943 6f64      "currencyCod
-00023c50: 6522 3a20 310a 2020 2020 2020 2020 2320  e": 1.        # 
-00023c60: 2020 2020 2020 2020 2265 7870 6972 6564          "expired
-00023c70: 5469 6d65 223a 2030 0a20 2020 2020 2020  Time": 0.       
-00023c80: 2023 2020 2020 2020 2020 2022 6665 6545   #         "feeE
-00023c90: 7622 3a20 3530 3030 300a 2020 2020 2020  v": 50000.      
-00023ca0: 2020 2320 2020 2020 2020 2020 2272 656a    #         "rej
-00023cb0: 6563 7452 6561 736f 6e22 3a20 6e75 6c6c  ectReason": null
-00023cc0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00023cd0: 2020 2022 7374 6174 7573 223a 2022 5375     "status": "Su
-00023ce0: 6363 6565 6422 0a20 2020 2020 2020 2023  cceed".        #
-00023cf0: 2020 2020 2020 2020 2022 7478 4861 7368           "txHash
-00023d00: 223a 2022 3434 6578 7878 7878 7878 7878  ": "44exxxxxxxxx
-00023d10: 7878 7878 7878 7878 7878 7878 7822 0a20  xxxxxxxxxxxxx". 
-00023d20: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00023d30: 2022 7769 7468 6472 6177 5374 6174 7573   "withdrawStatus
-00023d40: 3a20 2222 0a20 2020 2020 2020 2023 2020  : "".        #  
-00023d50: 2020 207d 0a20 2020 2020 2020 2023 0a20     }.        #. 
-00023d60: 2020 2020 2020 2069 6420 3d20 7365 6c66         id = self
-00023d70: 2e73 6166 655f 7374 7269 6e67 2874 7261  .safe_string(tra
-00023d80: 6e73 6163 7469 6f6e 2c20 2769 6427 290a  nsaction, 'id').
-00023d90: 2020 2020 2020 2020 6164 6472 6573 7320          address 
-00023da0: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
-00023db0: 6e67 2874 7261 6e73 6163 7469 6f6e 2c20  ng(transaction, 
-00023dc0: 2761 6464 7265 7373 2729 0a20 2020 2020  'address').     
-00023dd0: 2020 2074 6167 203d 204e 6f6e 650a 2020     tag = None.  
-00023de0: 2020 2020 2020 7478 6964 203d 2073 656c        txid = sel
-00023df0: 662e 7361 6665 5f73 7472 696e 6728 7472  f.safe_string(tr
-00023e00: 616e 7361 6374 696f 6e2c 2027 7478 4861  ansaction, 'txHa
-00023e10: 7368 2729 0a20 2020 2020 2020 2063 7572  sh').        cur
-00023e20: 7265 6e63 7949 6420 3d20 7365 6c66 2e73  rencyId = self.s
-00023e30: 6166 655f 7374 7269 6e67 2874 7261 6e73  afe_string(trans
-00023e40: 6163 7469 6f6e 2c20 2763 7572 7265 6e63  action, 'currenc
-00023e50: 7927 290a 2020 2020 2020 2020 6375 7272  y').        curr
-00023e60: 656e 6379 203d 2073 656c 662e 7361 6665  ency = self.safe
-00023e70: 5f63 7572 7265 6e63 7928 6375 7272 656e  _currency(curren
-00023e80: 6379 4964 2c20 6375 7272 656e 6379 290a  cyId, currency).
-00023e90: 2020 2020 2020 2020 636f 6465 203d 2063          code = c
-00023ea0: 7572 7265 6e63 795b 2763 6f64 6527 5d0a  urrency['code'].
-00023eb0: 2020 2020 2020 2020 7469 6d65 7374 616d          timestam
-00023ec0: 7020 3d20 7365 6c66 2e73 6166 655f 696e  p = self.safe_in
-00023ed0: 7465 6765 725f 3228 7472 616e 7361 6374  teger_2(transact
-00023ee0: 696f 6e2c 2027 6372 6561 7465 6441 7427  ion, 'createdAt'
-00023ef0: 2c20 2773 7562 6d69 7465 6441 7427 290a  , 'submitedAt').
-00023f00: 2020 2020 2020 2020 7479 7065 203d 2073          type = s
-00023f10: 656c 662e 7361 6665 5f73 7472 696e 675f  elf.safe_string_
-00023f20: 6c6f 7765 7228 7472 616e 7361 6374 696f  lower(transactio
-00023f30: 6e2c 2027 7479 7065 2729 0a20 2020 2020  n, 'type').     
-00023f40: 2020 2066 6565 436f 7374 203d 2073 656c     feeCost = sel
-00023f50: 662e 7061 7273 655f 6e75 6d62 6572 2873  f.parse_number(s
-00023f60: 656c 662e 6672 6f6d 5f65 6e28 7365 6c66  elf.from_en(self
-00023f70: 2e73 6166 655f 7374 7269 6e67 2874 7261  .safe_string(tra
-00023f80: 6e73 6163 7469 6f6e 2c20 2766 6565 4576  nsaction, 'feeEv
-00023f90: 2729 2c20 6375 7272 656e 6379 5b27 7661  '), currency['va
-00023fa0: 6c75 6553 6361 6c65 275d 2929 0a20 2020  lueScale'])).   
-00023fb0: 2020 2020 2066 6565 203d 204e 6f6e 650a       fee = None.
-00023fc0: 2020 2020 2020 2020 6966 2066 6565 436f          if feeCo
-00023fd0: 7374 2069 7320 6e6f 7420 4e6f 6e65 3a0a  st is not None:.
-00023fe0: 2020 2020 2020 2020 2020 2020 7479 7065              type
-00023ff0: 203d 2027 7769 7468 6472 6177 616c 270a   = 'withdrawal'.
-00024000: 2020 2020 2020 2020 2020 2020 6665 6520              fee 
-00024010: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00024020: 2020 2020 2763 6f73 7427 3a20 6665 6543      'cost': feeC
-00024030: 6f73 742c 0a20 2020 2020 2020 2020 2020  ost,.           
-00024040: 2020 2020 2027 6375 7272 656e 6379 273a       'currency':
-00024050: 2063 6f64 652c 0a20 2020 2020 2020 2020   code,.         
-00024060: 2020 207d 0a20 2020 2020 2020 2073 7461     }.        sta
-00024070: 7475 7320 3d20 7365 6c66 2e70 6172 7365  tus = self.parse
-00024080: 5f74 7261 6e73 6163 7469 6f6e 5f73 7461  _transaction_sta
-00024090: 7475 7328 7365 6c66 2e73 6166 655f 7374  tus(self.safe_st
-000240a0: 7269 6e67 2874 7261 6e73 6163 7469 6f6e  ring(transaction
-000240b0: 2c20 2773 7461 7475 7327 2929 0a20 2020  , 'status')).   
-000240c0: 2020 2020 2061 6d6f 756e 7420 3d20 7365       amount = se
-000240d0: 6c66 2e70 6172 7365 5f6e 756d 6265 7228  lf.parse_number(
-000240e0: 7365 6c66 2e66 726f 6d5f 656e 2873 656c  self.from_en(sel
-000240f0: 662e 7361 6665 5f73 7472 696e 6728 7472  f.safe_string(tr
-00024100: 616e 7361 6374 696f 6e2c 2027 616d 6f75  ansaction, 'amou
-00024110: 6e74 4576 2729 2c20 6375 7272 656e 6379  ntEv'), currency
-00024120: 5b27 7661 6c75 6553 6361 6c65 275d 2929  ['valueScale']))
-00024130: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00024140: 7b0a 2020 2020 2020 2020 2020 2020 2769  {.            'i
-00024150: 6e66 6f27 3a20 7472 616e 7361 6374 696f  nfo': transactio
-00024160: 6e2c 0a20 2020 2020 2020 2020 2020 2027  n,.            '
-00024170: 6964 273a 2069 642c 0a20 2020 2020 2020  id': id,.       
-00024180: 2020 2020 2027 7478 6964 273a 2074 7869       'txid': txi
-00024190: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
-000241a0: 7469 6d65 7374 616d 7027 3a20 7469 6d65  timestamp': time
-000241b0: 7374 616d 702c 0a20 2020 2020 2020 2020  stamp,.         
-000241c0: 2020 2027 6461 7465 7469 6d65 273a 2073     'datetime': s
-000241d0: 656c 662e 6973 6f38 3630 3128 7469 6d65  elf.iso8601(time
-000241e0: 7374 616d 7029 2c0a 2020 2020 2020 2020  stamp),.        
-000241f0: 2020 2020 276e 6574 776f 726b 273a 204e      'network': N
-00024200: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00024210: 2027 6164 6472 6573 7327 3a20 6164 6472   'address': addr
-00024220: 6573 732c 0a20 2020 2020 2020 2020 2020  ess,.           
-00024230: 2027 6164 6472 6573 7354 6f27 3a20 6164   'addressTo': ad
-00024240: 6472 6573 732c 0a20 2020 2020 2020 2020  dress,.         
-00024250: 2020 2027 6164 6472 6573 7346 726f 6d27     'addressFrom'
-00024260: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
-00024270: 2020 2020 2774 6167 273a 2074 6167 2c0a      'tag': tag,.
-00024280: 2020 2020 2020 2020 2020 2020 2774 6167              'tag
-00024290: 546f 273a 2074 6167 2c0a 2020 2020 2020  To': tag,.      
-000242a0: 2020 2020 2020 2774 6167 4672 6f6d 273a        'tagFrom':
-000242b0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-000242c0: 2020 2027 7479 7065 273a 2074 7970 652c     'type': type,
-000242d0: 0a20 2020 2020 2020 2020 2020 2027 616d  .            'am
-000242e0: 6f75 6e74 273a 2061 6d6f 756e 742c 0a20  ount': amount,. 
-000242f0: 2020 2020 2020 2020 2020 2027 6375 7272             'curr
-00024300: 656e 6379 273a 2063 6f64 652c 0a20 2020  ency': code,.   
-00024310: 2020 2020 2020 2020 2027 7374 6174 7573           'status
-00024320: 273a 2073 7461 7475 732c 0a20 2020 2020  ': status,.     
-00024330: 2020 2020 2020 2027 7570 6461 7465 6427         'updated'
-00024340: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
-00024350: 2020 2020 2766 6565 273a 2066 6565 2c0a      'fee': fee,.
-00024360: 2020 2020 2020 2020 7d0a 0a20 2020 2061          }..    a
-00024370: 7379 6e63 2064 6566 2066 6574 6368 5f70  sync def fetch_p
-00024380: 6f73 6974 696f 6e73 2873 656c 662c 2073  ositions(self, s
-00024390: 796d 626f 6c73 3a20 4f70 7469 6f6e 616c  ymbols: Optional
-000243a0: 5b4c 6973 745b 7374 725d 5d20 3d20 4e6f  [List[str]] = No
-000243b0: 6e65 2c20 7061 7261 6d73 3d7b 7d29 3a0a  ne, params={}):.
-000243c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000243d0: 2020 2020 6665 7463 6820 616c 6c20 6f70      fetch all op
-000243e0: 656e 2070 6f73 6974 696f 6e73 0a20 2020  en positions.   
-000243f0: 2020 2020 2073 6565 2068 7474 7073 3a2f       see https:/
-00024400: 2f67 6974 6875 622e 636f 6d2f 7068 656d  /github.com/phem
-00024410: 6578 2f70 6865 6d65 782d 6170 692d 646f  ex/phemex-api-do
-00024420: 6373 2f62 6c6f 622f 6d61 7374 6572 2f50  cs/blob/master/P
-00024430: 7562 6c69 632d 436f 6e74 7261 6374 2d41  ublic-Contract-A
-00024440: 5049 2d65 6e2e 6d64 2371 7565 7279 2d74  PI-en.md#query-t
-00024450: 7261 6469 6e67 2d61 6363 6f75 6e74 2d61  rading-account-a
-00024460: 6e64 2d70 6f73 6974 696f 6e73 0a20 2020  nd-positions.   
-00024470: 2020 2020 2073 6565 2068 7474 7073 3a2f       see https:/
-00024480: 2f67 6974 6875 622e 636f 6d2f 7068 656d  /github.com/phem
-00024490: 6578 2f70 6865 6d65 782d 6170 692d 646f  ex/phemex-api-do
-000244a0: 6373 2f62 6c6f 622f 6d61 7374 6572 2f50  cs/blob/master/P
-000244b0: 7562 6c69 632d 4865 6467 6564 2d50 6572  ublic-Hedged-Per
-000244c0: 7065 7475 616c 2d41 5049 2e6d 6423 7175  petual-API.md#qu
-000244d0: 6572 792d 6163 636f 756e 742d 706f 7369  ery-account-posi
-000244e0: 7469 6f6e 730a 2020 2020 2020 2020 3a70  tions.        :p
-000244f0: 6172 616d 205b 7374 725d 7c4e 6f6e 6520  aram [str]|None 
-00024500: 7379 6d62 6f6c 733a 206c 6973 7420 6f66  symbols: list of
-00024510: 2075 6e69 6669 6564 206d 6172 6b65 7420   unified market 
-00024520: 7379 6d62 6f6c 730a 2020 2020 2020 2020  symbols.        
-00024530: 3a70 6172 616d 2064 6963 7420 7061 7261  :param dict para
-00024540: 6d73 3a20 6578 7472 6120 7061 7261 6d65  ms: extra parame
-00024550: 7465 7273 2073 7065 6369 6669 6320 746f  ters specific to
-00024560: 2074 6865 2070 6865 6d65 7820 6170 6920   the phemex api 
-00024570: 656e 6470 6f69 6e74 0a20 2020 2020 2020  endpoint.       
-00024580: 203a 7265 7475 726e 7320 5b64 6963 745d   :returns [dict]
-00024590: 3a20 6120 6c69 7374 206f 6620 6070 6f73  : a list of `pos
-000245a0: 6974 696f 6e20 7374 7275 6374 7572 6520  ition structure 
-000245b0: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
-000245c0: 7874 2e63 6f6d 2f23 2f3f 6964 3d70 6f73  xt.com/#/?id=pos
-000245d0: 6974 696f 6e2d 7374 7275 6374 7572 653e  ition-structure>
-000245e0: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
-000245f0: 2020 2020 2020 6177 6169 7420 7365 6c66        await self
-00024600: 2e6c 6f61 645f 6d61 726b 6574 7328 290a  .load_markets().
-00024610: 2020 2020 2020 2020 7379 6d62 6f6c 7320          symbols 
-00024620: 3d20 7365 6c66 2e6d 6172 6b65 745f 7379  = self.market_sy
-00024630: 6d62 6f6c 7328 7379 6d62 6f6c 7329 0a20  mbols(symbols). 
-00024640: 2020 2020 2020 2073 7562 5479 7065 203d         subType =
-00024650: 204e 6f6e 650a 2020 2020 2020 2020 6d65   None.        me
-00024660: 7468 6f64 203d 2027 7072 6976 6174 6547  thod = 'privateG
-00024670: 6574 4163 636f 756e 7473 4163 636f 756e  etAccountsAccoun
-00024680: 7450 6f73 6974 696f 6e73 270a 2020 2020  tPositions'.    
-00024690: 2020 2020 636f 6465 203d 2073 656c 662e      code = self.
-000246a0: 7361 6665 5f73 7472 696e 6728 7061 7261  safe_string(para
-000246b0: 6d73 2c20 2763 7572 7265 6e63 7927 290a  ms, 'currency').
-000246c0: 2020 2020 2020 2020 7365 7474 6c65 203d          settle =
-000246d0: 204e 6f6e 650a 2020 2020 2020 2020 6d61   None.        ma
-000246e0: 726b 6574 203d 204e 6f6e 650a 2020 2020  rket = None.    
-000246f0: 2020 2020 6669 7273 7453 796d 626f 6c20      firstSymbol 
-00024700: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
-00024710: 6e67 2873 796d 626f 6c73 2c20 3029 0a20  ng(symbols, 0). 
-00024720: 2020 2020 2020 2069 6620 6669 7273 7453         if firstS
-00024730: 796d 626f 6c20 6973 206e 6f74 204e 6f6e  ymbol is not Non
-00024740: 653a 0a20 2020 2020 2020 2020 2020 206d  e:.            m
-00024750: 6172 6b65 7420 3d20 7365 6c66 2e6d 6172  arket = self.mar
-00024760: 6b65 7428 6669 7273 7453 796d 626f 6c29  ket(firstSymbol)
-00024770: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
-00024780: 746c 6520 3d20 6d61 726b 6574 5b27 7365  tle = market['se
-00024790: 7474 6c65 275d 0a20 2020 2020 2020 2020  ttle'].         
-000247a0: 2020 2063 6f64 6520 3d20 6d61 726b 6574     code = market
-000247b0: 5b27 7365 7474 6c65 275d 0a20 2020 2020  ['settle'].     
-000247c0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000247d0: 2020 2020 2073 6574 746c 652c 2070 6172       settle, par
-000247e0: 616d 7320 3d20 7365 6c66 2e68 616e 646c  ams = self.handl
-000247f0: 655f 6f70 7469 6f6e 5f61 6e64 5f70 6172  e_option_and_par
-00024800: 616d 7328 7061 7261 6d73 2c20 2766 6574  ams(params, 'fet
-00024810: 6368 506f 7369 7469 6f6e 7327 2c20 2773  chPositions', 's
-00024820: 6574 746c 6527 2c20 2755 5344 2729 0a20  ettle', 'USD'). 
-00024830: 2020 2020 2020 2073 7562 5479 7065 2c20         subType, 
-00024840: 7061 7261 6d73 203d 2073 656c 662e 6861  params = self.ha
-00024850: 6e64 6c65 5f73 7562 5f74 7970 655f 616e  ndle_sub_type_an
-00024860: 645f 7061 7261 6d73 2827 6665 7463 6850  d_params('fetchP
-00024870: 6f73 6974 696f 6e73 272c 206d 6172 6b65  ositions', marke
-00024880: 742c 2070 6172 616d 7329 0a20 2020 2020  t, params).     
-00024890: 2020 2069 6620 7365 7474 6c65 203d 3d20     if settle == 
-000248a0: 2755 5344 5427 3a0a 2020 2020 2020 2020  'USDT':.        
-000248b0: 2020 2020 636f 6465 203d 2027 5553 4454      code = 'USDT
-000248c0: 270a 2020 2020 2020 2020 2020 2020 6d65  '.            me
-000248d0: 7468 6f64 203d 2027 7072 6976 6174 6547  thod = 'privateG
-000248e0: 6574 4741 6363 6f75 6e74 7341 6363 6f75  etGAccountsAccou
-000248f0: 6e74 506f 7369 7469 6f6e 7327 0a20 2020  ntPositions'.   
-00024900: 2020 2020 2065 6c69 6620 636f 6465 2069       elif code i
-00024910: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-00024920: 2020 2020 636f 6465 203d 2027 5553 4427      code = 'USD'
-00024930: 2069 6620 2873 7562 5479 7065 203d 3d20   if (subType == 
-00024940: 276c 696e 6561 7227 2920 656c 7365 2027  'linear') else '
-00024950: 4254 4327 0a20 2020 2020 2020 2065 6c73  BTC'.        els
-00024960: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
-00024970: 6172 616d 7320 3d20 7365 6c66 2e6f 6d69  arams = self.omi
-00024980: 7428 7061 7261 6d73 2c20 2763 6f64 6527  t(params, 'code'
-00024990: 290a 2020 2020 2020 2020 6375 7272 656e  ).        curren
-000249a0: 6379 203d 2073 656c 662e 6375 7272 656e  cy = self.curren
-000249b0: 6379 2863 6f64 6529 0a20 2020 2020 2020  cy(code).       
-000249c0: 2072 6571 7565 7374 203d 207b 0a20 2020   request = {.   
-000249d0: 2020 2020 2020 2020 2027 6375 7272 656e           'curren
-000249e0: 6379 273a 2063 7572 7265 6e63 795b 2769  cy': currency['i
-000249f0: 6427 5d2c 0a20 2020 2020 2020 207d 0a20  d'],.        }. 
-00024a00: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
-00024a10: 3d20 6177 6169 7420 6765 7461 7474 7228  = await getattr(
-00024a20: 7365 6c66 2c20 6d65 7468 6f64 2928 7365  self, method)(se
-00024a30: 6c66 2e65 7874 656e 6428 7265 7175 6573  lf.extend(reques
-00024a40: 742c 2070 6172 616d 7329 290a 2020 2020  t, params)).    
-00024a50: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
-00024a60: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-00024a70: 2020 2020 2020 2020 2263 6f64 6522 3a30          "code":0
-00024a80: 2c22 6d73 6722 3a22 222c 0a20 2020 2020  ,"msg":"",.     
-00024a90: 2020 2023 2020 2020 2020 2020 2022 6461     #         "da
-00024aa0: 7461 223a 7b0a 2020 2020 2020 2020 2320  ta":{.        # 
-00024ab0: 2020 2020 2020 2020 2020 2020 2261 6363              "acc
-00024ac0: 6f75 6e74 223a 7b0a 2020 2020 2020 2020  ount":{.        
-00024ad0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00024ae0: 2020 2261 6363 6f75 6e74 4964 223a 3631    "accountId":61
-00024af0: 3932 3132 3030 3031 2c0a 2020 2020 2020  92120001,.      
-00024b00: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00024b10: 2020 2020 2263 7572 7265 6e63 7922 3a22      "currency":"
-00024b20: 4254 4322 2c0a 2020 2020 2020 2020 2320  BTC",.        # 
-00024b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024b40: 2261 6363 6f75 6e74 4261 6c61 6e63 6545  "accountBalanceE
-00024b50: 7622 3a31 3235 3437 3434 2c0a 2020 2020  v":1254744,.    
-00024b60: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00024b70: 2020 2020 2020 2274 6f74 616c 5573 6564        "totalUsed
-00024b80: 4261 6c61 6e63 6545 7622 3a30 2c0a 2020  BalanceEv":0,.  
-00024b90: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024ba0: 2020 2020 2020 2020 2262 6f6e 7573 4261          "bonusBa
-00024bb0: 6c61 6e63 6545 7622 3a31 3235 3437 3434  lanceEv":1254744
-00024bc0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00024bd0: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
-00024be0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00024bf0: 2270 6f73 6974 696f 6e73 223a 5b0a 2020  "positions":[.  
-00024c00: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024c10: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
-00024c20: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00024c30: 2020 2020 2020 2020 2261 6363 6f75 6e74          "account
-00024c40: 4944 223a 3631 3932 3132 3030 3031 2c0a  ID":6192120001,.
-00024c50: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00024c60: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-00024c70: 796d 626f 6c22 3a22 4254 4355 5344 222c  ymbol":"BTCUSD",
-00024c80: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00024c90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00024ca0: 6375 7272 656e 6379 223a 2242 5443 222c  currency":"BTC",
-00024cb0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00024cc0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00024cd0: 7369 6465 223a 224e 6f6e 6522 2c0a 2020  side":"None",.  
-00024ce0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024cf0: 2020 2020 2020 2020 2020 2020 2270 6f73              "pos
-00024d00: 6974 696f 6e53 7461 7475 7322 3a22 4e6f  itionStatus":"No
-00024d10: 726d 616c 222c 0a20 2020 2020 2020 2023  rmal",.        #
-00024d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024d30: 2020 2020 2022 6372 6f73 734d 6172 6769       "crossMargi
-00024d40: 6e22 3a66 616c 7365 2c0a 2020 2020 2020  n":false,.      
-00024d50: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00024d60: 2020 2020 2020 2020 226c 6576 6572 6167          "leverag
-00024d70: 6545 7222 3a31 3030 3030 3030 3030 2c0a  eEr":100000000,.
-00024d80: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00024d90: 2020 2020 2020 2020 2020 2020 2020 226c                "l
-00024da0: 6576 6572 6167 6522 3a31 2e30 3030 3030  everage":1.00000
-00024db0: 3030 302c 0a20 2020 2020 2020 2023 2020  000,.        #  
-00024dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024dd0: 2020 2022 696e 6974 4d61 7267 696e 5265     "initMarginRe
-00024de0: 7145 7222 3a31 3030 3030 3030 3030 2c0a  qEr":100000000,.
-00024df0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00024e00: 2020 2020 2020 2020 2020 2020 2020 2269                "i
-00024e10: 6e69 744d 6172 6769 6e52 6571 223a 312e  nitMarginReq":1.
-00024e20: 3030 3030 3030 3030 2c0a 2020 2020 2020  00000000,.      
-00024e30: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00024e40: 2020 2020 2020 2020 226d 6169 6e74 4d61          "maintMa
-00024e50: 7267 696e 5265 7145 7222 3a35 3030 3030  rginReqEr":50000
-00024e60: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00024e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024e80: 2022 6d61 696e 744d 6172 6769 6e52 6571   "maintMarginReq
-00024e90: 223a 302e 3030 3530 3030 3030 2c0a 2020  ":0.00500000,.  
-00024ea0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024eb0: 2020 2020 2020 2020 2020 2020 2272 6973              "ris
-00024ec0: 6b4c 696d 6974 4576 223a 3130 3030 3030  kLimitEv":100000
-00024ed0: 3030 3030 302c 0a20 2020 2020 2020 2023  00000,.        #
-00024ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024ef0: 2020 2020 2022 7269 736b 4c69 6d69 7422       "riskLimit"
-00024f00: 3a31 3030 2e30 3030 3030 3030 302c 0a20  :100.00000000,. 
-00024f10: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00024f20: 2020 2020 2020 2020 2020 2020 2022 7369               "si
-00024f30: 7a65 223a 302c 0a20 2020 2020 2020 2023  ze":0,.        #
-00024f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024f50: 2020 2020 2022 7661 6c75 6522 3a30 452d       "value":0E-
-00024f60: 382c 0a20 2020 2020 2020 2023 2020 2020  8,.        #    
-00024f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024f80: 2022 7661 6c75 6545 7622 3a30 2c0a 2020   "valueEv":0,.  
-00024f90: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024fa0: 2020 2020 2020 2020 2020 2020 2261 7667              "avg
-00024fb0: 456e 7472 7950 7269 6365 4570 223a 302c  EntryPriceEp":0,
-00024fc0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00024fd0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00024fe0: 6176 6745 6e74 7279 5072 6963 6522 3a30  avgEntryPrice":0
-00024ff0: 452d 382c 0a20 2020 2020 2020 2023 2020  E-8,.        #  
-00025000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025010: 2020 2022 706f 7343 6f73 7445 7622 3a30     "posCostEv":0
-00025020: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025040: 2270 6f73 436f 7374 223a 3045 2d38 2c0a  "posCost":0E-8,.
-00025050: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00025060: 2020 2020 2020 2020 2020 2020 2020 2261                "a
-00025070: 7373 6967 6e65 6450 6f73 4261 6c61 6e63  ssignedPosBalanc
-00025080: 6545 7622 3a30 2c0a 2020 2020 2020 2020  eEv":0,.        
-00025090: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-000250a0: 2020 2020 2020 2261 7373 6967 6e65 6450        "assignedP
-000250b0: 6f73 4261 6c61 6e63 6522 3a30 452d 382c  osBalance":0E-8,
-000250c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000250d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000250e0: 6261 6e6b 7275 7074 436f 6d6d 4576 223a  bankruptCommEv":
-000250f0: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00025100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025110: 2022 6261 6e6b 7275 7074 436f 6d6d 223a   "bankruptComm":
-00025120: 3045 2d38 2c0a 2020 2020 2020 2020 2320  0E-8,.        # 
-00025130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025140: 2020 2020 2262 616e 6b72 7570 7450 7269      "bankruptPri
-00025150: 6365 4570 223a 302c 0a20 2020 2020 2020  ceEp":0,.       
-00025160: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00025170: 2020 2020 2020 2022 6261 6e6b 7275 7074         "bankrupt
-00025180: 5072 6963 6522 3a30 452d 382c 0a20 2020  Price":0E-8,.   
-00025190: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-000251a0: 2020 2020 2020 2020 2020 2022 706f 7369             "posi
-000251b0: 7469 6f6e 4d61 7267 696e 4576 223a 302c  tionMarginEv":0,
-000251c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000251d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000251e0: 706f 7369 7469 6f6e 4d61 7267 696e 223a  positionMargin":
-000251f0: 3045 2d38 2c0a 2020 2020 2020 2020 2320  0E-8,.        # 
-00025200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025210: 2020 2020 226c 6971 7569 6461 7469 6f6e      "liquidation
-00025220: 5072 6963 6545 7022 3a30 2c0a 2020 2020  PriceEp":0,.    
-00025230: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00025240: 2020 2020 2020 2020 2020 226c 6971 7569            "liqui
-00025250: 6461 7469 6f6e 5072 6963 6522 3a30 452d  dationPrice":0E-
-00025260: 382c 0a20 2020 2020 2020 2023 2020 2020  8,.        #    
-00025270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025280: 2022 6465 6c65 7665 7261 6765 5065 7263   "deleveragePerc
-00025290: 656e 7469 6c65 4572 223a 302c 0a20 2020  entileEr":0,.   
-000252a0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-000252b0: 2020 2020 2020 2020 2020 2022 6465 6c65             "dele
-000252c0: 7665 7261 6765 5065 7263 656e 7469 6c65  veragePercentile
-000252d0: 223a 3045 2d38 2c0a 2020 2020 2020 2020  ":0E-8,.        
-000252e0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-000252f0: 2020 2020 2020 2262 7579 5661 6c75 6554        "buyValueT
-00025300: 6f43 6f73 7445 7222 3a31 3030 3232 3530  oCostEr":1002250
-00025310: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
-00025320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025330: 2020 2262 7579 5661 6c75 6554 6f43 6f73    "buyValueToCos
-00025340: 7422 3a31 2e30 3032 3235 3030 302c 0a20  t":1.00225000,. 
-00025350: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00025360: 2020 2020 2020 2020 2020 2020 2022 7365               "se
-00025370: 6c6c 5661 6c75 6554 6f43 6f73 7445 7222  llValueToCostEr"
-00025380: 3a31 3030 3037 3530 3030 2c0a 2020 2020  :100075000,.    
-00025390: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-000253a0: 2020 2020 2020 2020 2020 2273 656c 6c56            "sellV
-000253b0: 616c 7565 546f 436f 7374 223a 312e 3030  alueToCost":1.00
-000253c0: 3037 3530 3030 2c0a 2020 2020 2020 2020  075000,.        
-000253d0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-000253e0: 2020 2020 2020 226d 6172 6b50 7269 6365        "markPrice
-000253f0: 4570 223a 3133 3537 3336 3037 302c 0a20  Ep":135736070,. 
-00025400: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00025410: 2020 2020 2020 2020 2020 2020 2022 6d61               "ma
-00025420: 726b 5072 6963 6522 3a31 3335 3733 2e36  rkPrice":13573.6
-00025430: 3037 3030 3030 302c 0a20 2020 2020 2020  0700000,.       
-00025440: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00025450: 2020 2020 2020 2022 6d61 726b 5661 6c75         "markValu
-00025460: 6545 7622 3a30 2c0a 2020 2020 2020 2020  eEv":0,.        
-00025470: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00025480: 2020 2020 2020 226d 6172 6b56 616c 7565        "markValue
-00025490: 223a 6e75 6c6c 2c0a 2020 2020 2020 2020  ":null,.        
-000254a0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-000254b0: 2020 2020 2020 2275 6e52 6561 6c69 7365        "unRealise
-000254c0: 6450 6f73 4c6f 7373 4576 223a 302c 0a20  dPosLossEv":0,. 
-000254d0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000254e0: 2020 2020 2020 2020 2020 2020 2022 756e               "un
-000254f0: 5265 616c 6973 6564 506f 734c 6f73 7322  RealisedPosLoss"
-00025500: 3a6e 756c 6c2c 0a20 2020 2020 2020 2023  :null,.        #
-00025510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025520: 2020 2020 2022 6573 7469 6d61 7465 644f       "estimatedO
-00025530: 7264 4c6f 7373 4576 223a 302c 0a20 2020  rdLossEv":0,.   
-00025540: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00025550: 2020 2020 2020 2020 2020 2022 6573 7469             "esti
-00025560: 6d61 7465 644f 7264 4c6f 7373 223a 3045  matedOrdLoss":0E
-00025570: 2d38 2c0a 2020 2020 2020 2020 2320 2020  -8,.        #   
-00025580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025590: 2020 2275 7365 6442 616c 616e 6365 4576    "usedBalanceEv
-000255a0: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
-000255b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000255c0: 2020 2022 7573 6564 4261 6c61 6e63 6522     "usedBalance"
-000255d0: 3a30 452d 382c 0a20 2020 2020 2020 2023  :0E-8,.        #
-000255e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000255f0: 2020 2020 2022 7461 6b65 5072 6f66 6974       "takeProfit
-00025600: 4570 223a 302c 0a20 2020 2020 2020 2023  Ep":0,.        #
-00025610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025620: 2020 2020 2022 7461 6b65 5072 6f66 6974       "takeProfit
-00025630: 223a 6e75 6c6c 2c0a 2020 2020 2020 2020  ":null,.        
-00025640: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00025650: 2020 2020 2020 2273 746f 704c 6f73 7345        "stopLossE
-00025660: 7022 3a30 2c0a 2020 2020 2020 2020 2320  p":0,.        # 
-00025670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025680: 2020 2020 2273 746f 704c 6f73 7322 3a6e      "stopLoss":n
-00025690: 756c 6c2c 0a20 2020 2020 2020 2023 2020  ull,.        #  
-000256a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000256b0: 2020 2022 6375 6d43 6c6f 7365 6450 6e6c     "cumClosedPnl
-000256c0: 4576 223a 302c 0a20 2020 2020 2020 2023  Ev":0,.        #
-000256d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000256e0: 2020 2020 2022 6375 6d46 756e 6469 6e67       "cumFunding
-000256f0: 4665 6545 7622 3a30 2c0a 2020 2020 2020  FeeEv":0,.      
-00025700: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00025710: 2020 2020 2020 2020 2263 756d 5472 616e          "cumTran
-00025720: 7361 6374 4665 6545 7622 3a30 2c0a 2020  sactFeeEv":0,.  
-00025730: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00025740: 2020 2020 2020 2020 2020 2020 2272 6561              "rea
-00025750: 6c69 7365 6450 6e6c 4576 223a 302c 0a20  lisedPnlEv":0,. 
-00025760: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00025770: 2020 2020 2020 2020 2020 2020 2022 7265               "re
-00025780: 616c 6973 6564 506e 6c22 3a6e 756c 6c2c  alisedPnl":null,
-00025790: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000257a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000257b0: 6375 6d52 6561 6c69 7365 6450 6e6c 4576  cumRealisedPnlEv
-000257c0: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
-000257d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000257e0: 2020 2022 6375 6d52 6561 6c69 7365 6450     "cumRealisedP
-000257f0: 6e6c 223a 6e75 6c6c 0a20 2020 2020 2020  nl":null.       
-00025800: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00025810: 2020 207d 0a20 2020 2020 2020 2023 2020     }.        #  
-00025820: 2020 2020 2020 2020 2020 205d 0a20 2020             ].   
-00025830: 2020 2020 2023 2020 2020 2020 2020 207d       #         }
-00025840: 0a20 2020 2020 2020 2023 2020 2020 207d  .        #     }
-00025850: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
-00025860: 2020 2064 6174 6120 3d20 7365 6c66 2e73     data = self.s
-00025870: 6166 655f 7661 6c75 6528 7265 7370 6f6e  afe_value(respon
-00025880: 7365 2c20 2764 6174 6127 2c20 7b7d 290a  se, 'data', {}).
-00025890: 2020 2020 2020 2020 706f 7369 7469 6f6e          position
-000258a0: 7320 3d20 7365 6c66 2e73 6166 655f 7661  s = self.safe_va
-000258b0: 6c75 6528 6461 7461 2c20 2770 6f73 6974  lue(data, 'posit
-000258c0: 696f 6e73 272c 205b 5d29 0a20 2020 2020  ions', []).     
-000258d0: 2020 2072 6573 756c 7420 3d20 5b5d 0a20     result = []. 
-000258e0: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
-000258f0: 7261 6e67 6528 302c 206c 656e 2870 6f73  range(0, len(pos
-00025900: 6974 696f 6e73 2929 3a0a 2020 2020 2020  itions)):.      
-00025910: 2020 2020 2020 706f 7369 7469 6f6e 203d        position =
-00025920: 2070 6f73 6974 696f 6e73 5b69 5d0a 2020   positions[i].  
-00025930: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-00025940: 2e61 7070 656e 6428 7365 6c66 2e70 6172  .append(self.par
-00025950: 7365 5f70 6f73 6974 696f 6e28 706f 7369  se_position(posi
-00025960: 7469 6f6e 2929 0a20 2020 2020 2020 2072  tion)).        r
-00025970: 6574 7572 6e20 7365 6c66 2e66 696c 7465  eturn self.filte
-00025980: 725f 6279 5f61 7272 6179 2872 6573 756c  r_by_array(resul
-00025990: 742c 2027 7379 6d62 6f6c 272c 2073 796d  t, 'symbol', sym
-000259a0: 626f 6c73 2c20 4661 6c73 6529 0a0a 2020  bols, False)..  
-000259b0: 2020 6465 6620 7061 7273 655f 706f 7369    def parse_posi
-000259c0: 7469 6f6e 2873 656c 662c 2070 6f73 6974  tion(self, posit
-000259d0: 696f 6e2c 206d 6172 6b65 743d 4e6f 6e65  ion, market=None
-000259e0: 293a 0a20 2020 2020 2020 2023 0a20 2020  ):.        #.   
-000259f0: 2020 2020 2023 2020 207b 0a20 2020 2020       #   {.     
-00025a00: 2020 2023 2020 2020 2075 7365 7249 443a     #     userID:
-00025a10: 2027 3831 3133 3730 272c 0a20 2020 2020   '811370',.     
-00025a20: 2020 2023 2020 2020 2061 6363 6f75 6e74     #     account
-00025a30: 4944 3a20 2738 3131 3337 3030 3030 3227  ID: '8113700002'
-00025a40: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025a50: 7379 6d62 6f6c 3a20 2745 5448 5553 4427  symbol: 'ETHUSD'
-00025a60: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025a70: 6375 7272 656e 6379 3a20 2755 5344 272c  currency: 'USD',
-00025a80: 0a20 2020 2020 2020 2023 2020 2020 2073  .        #     s
-00025a90: 6964 653a 2027 4275 7927 2c0a 2020 2020  ide: 'Buy',.    
-00025aa0: 2020 2020 2320 2020 2020 706f 7369 7469      #     positi
-00025ab0: 6f6e 5374 6174 7573 3a20 274e 6f72 6d61  onStatus: 'Norma
-00025ac0: 6c27 2c0a 2020 2020 2020 2020 2320 2020  l',.        #   
-00025ad0: 2020 6372 6f73 734d 6172 6769 6e3a 2046    crossMargin: F
-00025ae0: 616c 7365 2c0a 2020 2020 2020 2020 2320  alse,.        # 
-00025af0: 2020 2020 6c65 7665 7261 6765 4572 3a20      leverageEr: 
-00025b00: 2732 3030 3030 3030 3030 272c 0a20 2020  '200000000',.   
-00025b10: 2020 2020 2023 2020 2020 206c 6576 6572       #     lever
-00025b20: 6167 653a 2027 322e 3030 3030 3030 3030  age: '2.00000000
-00025b30: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-00025b40: 2069 6e69 744d 6172 6769 6e52 6571 4572   initMarginReqEr
-00025b50: 3a20 2735 3030 3030 3030 3027 2c0a 2020  : '50000000',.  
-00025b60: 2020 2020 2020 2320 2020 2020 696e 6974        #     init
-00025b70: 4d61 7267 696e 5265 713a 2027 302e 3530  MarginReq: '0.50
-00025b80: 3030 3030 3030 272c 0a20 2020 2020 2020  000000',.       
-00025b90: 2023 2020 2020 206d 6169 6e74 4d61 7267   #     maintMarg
-00025ba0: 696e 5265 7145 723a 2027 3130 3030 3030  inReqEr: '100000
-00025bb0: 3027 2c0a 2020 2020 2020 2020 2320 2020  0',.        #   
-00025bc0: 2020 6d61 696e 744d 6172 6769 6e52 6571    maintMarginReq
-00025bd0: 3a20 2730 2e30 3130 3030 3030 3027 2c0a  : '0.01000000',.
-00025be0: 2020 2020 2020 2020 2320 2020 2020 7269          #     ri
-00025bf0: 736b 4c69 6d69 7445 763a 2027 3530 3030  skLimitEv: '5000
-00025c00: 3030 3030 3030 272c 0a20 2020 2020 2020  000000',.       
-00025c10: 2023 2020 2020 2072 6973 6b4c 696d 6974   #     riskLimit
-00025c20: 3a20 2735 3030 3030 302e 3030 3030 3030  : '500000.000000
-00025c30: 3030 272c 0a20 2020 2020 2020 2023 2020  00',.        #  
-00025c40: 2020 2073 697a 653a 2027 3127 2c0a 2020     size: '1',.  
-00025c50: 2020 2020 2020 2320 2020 2020 7661 6c75        #     valu
-00025c60: 653a 2027 3232 2e32 3233 3730 3030 3027  e: '22.22370000'
-00025c70: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025c80: 7661 6c75 6545 763a 2027 3232 3232 3337  valueEv: '222237
-00025c90: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-00025ca0: 2061 7667 456e 7472 7950 7269 6365 4570   avgEntryPriceEp
-00025cb0: 3a20 2734 3434 3437 3430 3027 2c0a 2020  : '44447400',.  
-00025cc0: 2020 2020 2020 2320 2020 2020 6176 6745        #     avgE
-00025cd0: 6e74 7279 5072 6963 653a 2027 3434 3434  ntryPrice: '4444
-00025ce0: 2e37 3430 3030 3030 3027 2c0a 2020 2020  .74000000',.    
-00025cf0: 2020 2020 2320 2020 2020 706f 7343 6f73      #     posCos
-00025d00: 7445 763a 2027 3131 3132 3032 272c 0a20  tEv: '111202',. 
-00025d10: 2020 2020 2020 2023 2020 2020 2070 6f73         #     pos
-00025d20: 436f 7374 3a20 2731 312e 3132 3032 3030  Cost: '11.120200
-00025d30: 3030 272c 0a20 2020 2020 2020 2023 2020  00',.        #  
-00025d40: 2020 2061 7373 6967 6e65 6450 6f73 4261     assignedPosBa
-00025d50: 6c61 6e63 6545 763a 2027 3131 3132 3032  lanceEv: '111202
-00025d60: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-00025d70: 2061 7373 6967 6e65 6450 6f73 4261 6c61   assignedPosBala
-00025d80: 6e63 653a 2027 3131 2e31 3230 3230 3030  nce: '11.1202000
-00025d90: 3027 2c0a 2020 2020 2020 2020 2320 2020  0',.        #   
-00025da0: 2020 6261 6e6b 7275 7074 436f 6d6d 4576    bankruptCommEv
-00025db0: 3a20 2738 3427 2c0a 2020 2020 2020 2020  : '84',.        
-00025dc0: 2320 2020 2020 6261 6e6b 7275 7074 436f  #     bankruptCo
-00025dd0: 6d6d 3a20 2730 2e30 3038 3430 3030 3027  mm: '0.00840000'
-00025de0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025df0: 6261 6e6b 7275 7074 5072 6963 6545 703a  bankruptPriceEp:
-00025e00: 2027 3232 3232 3430 3030 272c 0a20 2020   '22224000',.   
-00025e10: 2020 2020 2023 2020 2020 2062 616e 6b72       #     bankr
-00025e20: 7570 7450 7269 6365 3a20 2732 3232 322e  uptPrice: '2222.
-00025e30: 3430 3030 3030 3030 272c 0a20 2020 2020  40000000',.     
-00025e40: 2020 2023 2020 2020 2070 6f73 6974 696f     #     positio
-00025e50: 6e4d 6172 6769 6e45 763a 2027 3131 3131  nMarginEv: '1111
-00025e60: 3138 272c 0a20 2020 2020 2020 2023 2020  18',.        #  
-00025e70: 2020 2070 6f73 6974 696f 6e4d 6172 6769     positionMargi
-00025e80: 6e3a 2027 3131 2e31 3131 3830 3030 3027  n: '11.11180000'
-00025e90: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025ea0: 6c69 7175 6964 6174 696f 6e50 7269 6365  liquidationPrice
-00025eb0: 4570 3a20 2732 3236 3639 3030 3027 2c0a  Ep: '22669000',.
-00025ec0: 2020 2020 2020 2020 2320 2020 2020 6c69          #     li
-00025ed0: 7175 6964 6174 696f 6e50 7269 6365 3a20  quidationPrice: 
-00025ee0: 2732 3236 362e 3930 3030 3030 3030 272c  '2266.90000000',
-00025ef0: 0a20 2020 2020 2020 2023 2020 2020 2064  .        #     d
-00025f00: 656c 6576 6572 6167 6550 6572 6365 6e74  eleveragePercent
-00025f10: 696c 6545 723a 2027 3027 2c0a 2020 2020  ileEr: '0',.    
-00025f20: 2020 2020 2320 2020 2020 6465 6c65 7665      #     deleve
-00025f30: 7261 6765 5065 7263 656e 7469 6c65 3a20  ragePercentile: 
-00025f40: 2730 452d 3827 2c0a 2020 2020 2020 2020  '0E-8',.        
-00025f50: 2320 2020 2020 6275 7956 616c 7565 546f  #     buyValueTo
-00025f60: 436f 7374 4572 3a20 2735 3031 3132 3530  CostEr: '5011250
-00025f70: 3027 2c0a 2020 2020 2020 2020 2320 2020  0',.        #   
-00025f80: 2020 6275 7956 616c 7565 546f 436f 7374    buyValueToCost
-00025f90: 3a20 2730 2e35 3031 3132 3530 3027 2c0a  : '0.50112500',.
-00025fa0: 2020 2020 2020 2020 2320 2020 2020 7365          #     se
-00025fb0: 6c6c 5661 6c75 6554 6f43 6f73 7445 723a  llValueToCostEr:
-00025fc0: 2027 3530 3138 3735 3030 272c 0a20 2020   '50187500',.   
-00025fd0: 2020 2020 2023 2020 2020 2073 656c 6c56       #     sellV
-00025fe0: 616c 7565 546f 436f 7374 3a20 2730 2e35  alueToCost: '0.5
-00025ff0: 3031 3837 3530 3027 2c0a 2020 2020 2020  0187500',.      
-00026000: 2020 2320 2020 2020 6d61 726b 5072 6963    #     markPric
-00026010: 6545 703a 2027 3331 3333 3234 3939 272c  eEp: '31332499',
-00026020: 0a20 2020 2020 2020 2023 2020 2020 206d  .        #     m
-00026030: 6172 6b50 7269 6365 3a20 2733 3133 332e  arkPrice: '3133.
-00026040: 3234 3939 3030 3030 272c 0a20 2020 2020  24990000',.     
-00026050: 2020 2023 2020 2020 206d 6172 6b56 616c     #     markVal
-00026060: 7565 4576 3a20 2730 272c 0a20 2020 2020  ueEv: '0',.     
-00026070: 2020 2023 2020 2020 206d 6172 6b56 616c     #     markVal
-00026080: 7565 3a20 6e75 6c6c 2c0a 2020 2020 2020  ue: null,.      
-00026090: 2020 2320 2020 2020 756e 5265 616c 6973    #     unRealis
-000260a0: 6564 506f 734c 6f73 7345 763a 2027 3027  edPosLossEv: '0'
-000260b0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-000260c0: 756e 5265 616c 6973 6564 506f 734c 6f73  unRealisedPosLos
-000260d0: 733a 206e 756c 6c2c 0a20 2020 2020 2020  s: null,.       
-000260e0: 2023 2020 2020 2065 7374 696d 6174 6564   #     estimated
-000260f0: 4f72 644c 6f73 7345 763a 2027 3027 2c0a  OrdLossEv: '0',.
-00026100: 2020 2020 2020 2020 2320 2020 2020 6573          #     es
-00026110: 7469 6d61 7465 644f 7264 4c6f 7373 3a20  timatedOrdLoss: 
-00026120: 2730 452d 3827 2c0a 2020 2020 2020 2020  '0E-8',.        
-00026130: 2320 2020 2020 7573 6564 4261 6c61 6e63  #     usedBalanc
-00026140: 6545 763a 2027 3131 3132 3032 272c 0a20  eEv: '111202',. 
-00026150: 2020 2020 2020 2023 2020 2020 2075 7365         #     use
-00026160: 6442 616c 616e 6365 3a20 2731 312e 3132  dBalance: '11.12
-00026170: 3032 3030 3030 272c 0a20 2020 2020 2020  020000',.       
-00026180: 2023 2020 2020 2074 616b 6550 726f 6669   #     takeProfi
-00026190: 7445 703a 2027 3027 2c0a 2020 2020 2020  tEp: '0',.      
-000261a0: 2020 2320 2020 2020 7461 6b65 5072 6f66    #     takeProf
-000261b0: 6974 3a20 6e75 6c6c 2c0a 2020 2020 2020  it: null,.      
-000261c0: 2020 2320 2020 2020 7374 6f70 4c6f 7373    #     stopLoss
-000261d0: 4570 3a20 2730 272c 0a20 2020 2020 2020  Ep: '0',.       
-000261e0: 2023 2020 2020 2073 746f 704c 6f73 733a   #     stopLoss:
-000261f0: 206e 756c 6c2c 0a20 2020 2020 2020 2023   null,.        #
-00026200: 2020 2020 2063 756d 436c 6f73 6564 506e       cumClosedPn
-00026210: 6c45 763a 2027 2d31 3534 3627 2c0a 2020  lEv: '-1546',.  
-00026220: 2020 2020 2020 2320 2020 2020 6375 6d46        #     cumF
-00026230: 756e 6469 6e67 4665 6545 763a 2027 3136  undingFeeEv: '16
-00026240: 3035 272c 0a20 2020 2020 2020 2023 2020  05',.        #  
-00026250: 2020 2063 756d 5472 616e 7361 6374 4665     cumTransactFe
-00026260: 6545 763a 2027 3834 3338 272c 0a20 2020  eEv: '8438',.   
-00026270: 2020 2020 2023 2020 2020 2072 6561 6c69       #     reali
-00026280: 7365 6450 6e6c 4576 3a20 2730 272c 0a20  sedPnlEv: '0',. 
-00026290: 2020 2020 2020 2023 2020 2020 2072 6561         #     rea
-000262a0: 6c69 7365 6450 6e6c 3a20 6e75 6c6c 2c0a  lisedPnl: null,.
-000262b0: 2020 2020 2020 2020 2320 2020 2020 6375          #     cu
-000262c0: 6d52 6561 6c69 7365 6450 6e6c 4576 3a20  mRealisedPnlEv: 
-000262d0: 2730 272c 0a20 2020 2020 2020 2023 2020  '0',.        #  
-000262e0: 2020 2063 756d 5265 616c 6973 6564 506e     cumRealisedPn
-000262f0: 6c3a 206e 756c 6c2c 0a20 2020 2020 2020  l: null,.       
-00026300: 2023 2020 2020 2074 7261 6e73 6163 7454   #     transactT
-00026310: 696d 654e 733a 2027 3136 3431 3537 3132  imeNs: '16415712
-00026320: 3030 3030 3138 3835 3332 3427 2c0a 2020  00001885324',.  
-00026330: 2020 2020 2020 2320 2020 2020 7461 6b65        #     take
-00026340: 7246 6565 5261 7465 4572 3a20 2730 272c  rFeeRateEr: '0',
-00026350: 0a20 2020 2020 2020 2023 2020 2020 206d  .        #     m
-00026360: 616b 6572 4665 6552 6174 6545 723a 2027  akerFeeRateEr: '
-00026370: 3027 2c0a 2020 2020 2020 2020 2320 2020  0',.        #   
-00026380: 2020 7465 726d 3a20 2736 272c 0a20 2020    term: '6',.   
-00026390: 2020 2020 2023 2020 2020 206c 6173 7454       #     lastT
-000263a0: 6572 6d45 6e64 5469 6d65 4e73 3a20 2731  ermEndTimeNs: '1
-000263b0: 3630 3737 3131 3838 3235 3035 3734 3533  6077118825057453
-000263c0: 3536 272c 0a20 2020 2020 2020 2023 2020  56',.        #  
-000263d0: 2020 206c 6173 7446 756e 6469 6e67 5469     lastFundingTi
-000263e0: 6d65 4e73 3a20 2731 3634 3135 3731 3230  meNs: '164157120
-000263f0: 3030 3030 3030 3030 3030 272c 0a20 2020  0000000000',.   
-00026400: 2020 2020 2023 2020 2020 2063 7572 5465       #     curTe
-00026410: 726d 5265 616c 6973 6564 506e 6c45 763a  rmRealisedPnlEv:
-00026420: 2027 2d31 3536 3727 2c0a 2020 2020 2020   '-1567',.      
-00026430: 2020 2320 2020 2020 6578 6563 5365 713a    #     execSeq:
-00026440: 2027 3132 3131 3237 3631 3536 3127 0a20   '12112761561'. 
-00026450: 2020 2020 2020 2023 2020 207d 0a20 2020         #   }.   
-00026460: 2020 2020 2023 0a20 2020 2020 2020 206d       #.        m
-00026470: 6172 6b65 7449 6420 3d20 7365 6c66 2e73  arketId = self.s
-00026480: 6166 655f 7374 7269 6e67 2870 6f73 6974  afe_string(posit
-00026490: 696f 6e2c 2027 7379 6d62 6f6c 2729 0a20  ion, 'symbol'). 
-000264a0: 2020 2020 2020 206d 6172 6b65 7420 3d20         market = 
-000264b0: 7365 6c66 2e73 6166 655f 6d61 726b 6574  self.safe_market
-000264c0: 286d 6172 6b65 7449 642c 206d 6172 6b65  (marketId, marke
-000264d0: 7429 0a20 2020 2020 2020 2073 796d 626f  t).        symbo
-000264e0: 6c20 3d20 6d61 726b 6574 5b27 7379 6d62  l = market['symb
-000264f0: 6f6c 275d 0a20 2020 2020 2020 2063 6f6c  ol'].        col
-00026500: 6c61 7465 7261 6c20 3d20 7365 6c66 2e73  lateral = self.s
-00026510: 6166 655f 7374 7269 6e67 5f32 2870 6f73  afe_string_2(pos
-00026520: 6974 696f 6e2c 2027 706f 7369 7469 6f6e  ition, 'position
-00026530: 4d61 7267 696e 272c 2027 706f 7369 7469  Margin', 'positi
-00026540: 6f6e 4d61 7267 696e 5276 2729 0a20 2020  onMarginRv').   
-00026550: 2020 2020 206e 6f74 696f 6e61 6c53 7472       notionalStr
-00026560: 696e 6720 3d20 7365 6c66 2e73 6166 655f  ing = self.safe_
-00026570: 7374 7269 6e67 5f32 2870 6f73 6974 696f  string_2(positio
-00026580: 6e2c 2027 7661 6c75 6527 2c20 2776 616c  n, 'value', 'val
-00026590: 7565 5276 2729 0a20 2020 2020 2020 206d  ueRv').        m
-000265a0: 6169 6e74 656e 616e 6365 4d61 7267 696e  aintenanceMargin
-000265b0: 5065 7263 656e 7461 6765 5374 7269 6e67  PercentageString
-000265c0: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
-000265d0: 696e 675f 3228 706f 7369 7469 6f6e 2c20  ing_2(position, 
-000265e0: 276d 6169 6e74 4d61 7267 696e 5265 7127  'maintMarginReq'
-000265f0: 2c20 276d 6169 6e74 4d61 7267 696e 5265  , 'maintMarginRe
-00026600: 7152 7227 290a 2020 2020 2020 2020 6d61  qRr').        ma
-00026610: 696e 7465 6e61 6e63 654d 6172 6769 6e53  intenanceMarginS
-00026620: 7472 696e 6720 3d20 5072 6563 6973 652e  tring = Precise.
-00026630: 7374 7269 6e67 5f6d 756c 286e 6f74 696f  string_mul(notio
-00026640: 6e61 6c53 7472 696e 672c 206d 6169 6e74  nalString, maint
-00026650: 656e 616e 6365 4d61 7267 696e 5065 7263  enanceMarginPerc
-00026660: 656e 7461 6765 5374 7269 6e67 290a 2020  entageString).  
-00026670: 2020 2020 2020 696e 6974 6961 6c4d 6172        initialMar
-00026680: 6769 6e53 7472 696e 6720 3d20 7365 6c66  ginString = self
-00026690: 2e73 6166 655f 7374 7269 6e67 5f32 2870  .safe_string_2(p
-000266a0: 6f73 6974 696f 6e2c 2027 6173 7369 676e  osition, 'assign
-000266b0: 6564 506f 7342 616c 616e 6365 272c 2027  edPosBalance', '
-000266c0: 6173 7369 676e 6564 506f 7342 616c 616e  assignedPosBalan
-000266d0: 6365 5276 2729 0a20 2020 2020 2020 2069  ceRv').        i
-000266e0: 6e69 7469 616c 4d61 7267 696e 5065 7263  nitialMarginPerc
-000266f0: 656e 7461 6765 5374 7269 6e67 203d 2050  entageString = P
-00026700: 7265 6369 7365 2e73 7472 696e 675f 6469  recise.string_di
-00026710: 7628 696e 6974 6961 6c4d 6172 6769 6e53  v(initialMarginS
-00026720: 7472 696e 672c 206e 6f74 696f 6e61 6c53  tring, notionalS
-00026730: 7472 696e 6729 0a20 2020 2020 2020 206c  tring).        l
-00026740: 6971 7569 6461 7469 6f6e 5072 6963 6520  iquidationPrice 
-00026750: 3d20 7365 6c66 2e73 6166 655f 6e75 6d62  = self.safe_numb
-00026760: 6572 5f32 2870 6f73 6974 696f 6e2c 2027  er_2(position, '
-00026770: 6c69 7175 6964 6174 696f 6e50 7269 6365  liquidationPrice
-00026780: 272c 2027 6c69 7175 6964 6174 696f 6e50  ', 'liquidationP
-00026790: 7269 6365 5270 2729 0a20 2020 2020 2020  riceRp').       
-000267a0: 206d 6172 6b50 7269 6365 5374 7269 6e67   markPriceString
-000267b0: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
-000267c0: 696e 675f 3228 706f 7369 7469 6f6e 2c20  ing_2(position, 
-000267d0: 276d 6172 6b50 7269 6365 272c 2027 6d61  'markPrice', 'ma
-000267e0: 726b 5072 6963 6552 7027 290a 2020 2020  rkPriceRp').    
-000267f0: 2020 2020 636f 6e74 7261 6374 7320 3d20      contracts = 
-00026800: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
-00026810: 2870 6f73 6974 696f 6e2c 2027 7369 7a65  (position, 'size
-00026820: 2729 0a20 2020 2020 2020 2063 6f6e 7472  ').        contr
-00026830: 6163 7453 697a 6520 3d20 7365 6c66 2e73  actSize = self.s
-00026840: 6166 655f 7661 6c75 6528 6d61 726b 6574  afe_value(market
-00026850: 2c20 2763 6f6e 7472 6163 7453 697a 6527  , 'contractSize'
-00026860: 290a 2020 2020 2020 2020 636f 6e74 7261  ).        contra
-00026870: 6374 5369 7a65 5374 7269 6e67 203d 2073  ctSizeString = s
-00026880: 656c 662e 6e75 6d62 6572 5f74 6f5f 7374  elf.number_to_st
-00026890: 7269 6e67 2863 6f6e 7472 6163 7453 697a  ring(contractSiz
-000268a0: 6529 0a20 2020 2020 2020 206c 6576 6572  e).        lever
-000268b0: 6167 6520 3d20 7365 6c66 2e73 6166 655f  age = self.safe_
-000268c0: 6e75 6d62 6572 5f32 2870 6f73 6974 696f  number_2(positio
-000268d0: 6e2c 2027 6c65 7665 7261 6765 272c 2027  n, 'leverage', '
-000268e0: 6c65 7665 7261 6765 5272 2729 0a20 2020  leverageRr').   
-000268f0: 2020 2020 2065 6e74 7279 5072 6963 6553       entryPriceS
-00026900: 7472 696e 6720 3d20 7365 6c66 2e73 6166  tring = self.saf
-00026910: 655f 7374 7269 6e67 5f32 2870 6f73 6974  e_string_2(posit
-00026920: 696f 6e2c 2027 6176 6745 6e74 7279 5072  ion, 'avgEntryPr
-00026930: 6963 6527 2c20 2761 7667 456e 7472 7950  ice', 'avgEntryP
-00026940: 7269 6365 5270 2729 0a20 2020 2020 2020  riceRp').       
-00026950: 2072 6177 5369 6465 203d 2073 656c 662e   rawSide = self.
-00026960: 7361 6665 5f73 7472 696e 6728 706f 7369  safe_string(posi
-00026970: 7469 6f6e 2c20 2773 6964 6527 290a 2020  tion, 'side').  
-00026980: 2020 2020 2020 7369 6465 203d 204e 6f6e        side = Non
-00026990: 650a 2020 2020 2020 2020 6966 2072 6177  e.        if raw
-000269a0: 5369 6465 2069 7320 6e6f 7420 4e6f 6e65  Side is not None
-000269b0: 3a0a 2020 2020 2020 2020 2020 2020 7369  :.            si
-000269c0: 6465 203d 2027 6c6f 6e67 2720 6966 2028  de = 'long' if (
-000269d0: 7261 7753 6964 6520 3d3d 2027 4275 7927  rawSide == 'Buy'
-000269e0: 2920 656c 7365 2027 7368 6f72 7427 0a20  ) else 'short'. 
-000269f0: 2020 2020 2020 2070 7269 6365 4469 6666         priceDiff
-00026a00: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-00026a10: 6375 7272 656e 6379 203d 2073 656c 662e  currency = self.
-00026a20: 7361 6665 5f73 7472 696e 6728 706f 7369  safe_string(posi
-00026a30: 7469 6f6e 2c20 2763 7572 7265 6e63 7927  tion, 'currency'
-00026a40: 290a 2020 2020 2020 2020 6966 2063 7572  ).        if cur
-00026a50: 7265 6e63 7920 3d3d 2027 5553 4427 3a0a  rency == 'USD':.
-00026a60: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00026a70: 6964 6520 3d3d 2027 6c6f 6e67 273a 0a20  ide == 'long':. 
-00026a80: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00026a90: 7269 6365 4469 6666 203d 2050 7265 6369  riceDiff = Preci
-00026aa0: 7365 2e73 7472 696e 675f 7375 6228 6d61  se.string_sub(ma
-00026ab0: 726b 5072 6963 6553 7472 696e 672c 2065  rkPriceString, e
-00026ac0: 6e74 7279 5072 6963 6553 7472 696e 6729  ntryPriceString)
-00026ad0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-00026ae0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00026af0: 2020 2070 7269 6365 4469 6666 203d 2050     priceDiff = P
-00026b00: 7265 6369 7365 2e73 7472 696e 675f 7375  recise.string_su
-00026b10: 6228 656e 7472 7950 7269 6365 5374 7269  b(entryPriceStri
-00026b20: 6e67 2c20 6d61 726b 5072 6963 6553 7472  ng, markPriceStr
-00026b30: 696e 6729 0a20 2020 2020 2020 2065 6c73  ing).        els
-00026b40: 653a 0a20 2020 2020 2020 2020 2020 2023  e:.            #
-00026b50: 2069 6e76 6572 7365 0a20 2020 2020 2020   inverse.       
-00026b60: 2020 2020 2069 6620 7369 6465 203d 3d20       if side == 
-00026b70: 276c 6f6e 6727 3a0a 2020 2020 2020 2020  'long':.        
-00026b80: 2020 2020 2020 2020 7072 6963 6544 6966          priceDif
-00026b90: 6620 3d20 5072 6563 6973 652e 7374 7269  f = Precise.stri
-00026ba0: 6e67 5f73 7562 2850 7265 6369 7365 2e73  ng_sub(Precise.s
-00026bb0: 7472 696e 675f 6469 7628 2731 272c 2065  tring_div('1', e
-00026bc0: 6e74 7279 5072 6963 6553 7472 696e 6729  ntryPriceString)
-00026bd0: 2c20 5072 6563 6973 652e 7374 7269 6e67  , Precise.string
-00026be0: 5f64 6976 2827 3127 2c20 6d61 726b 5072  _div('1', markPr
-00026bf0: 6963 6553 7472 696e 6729 290a 2020 2020  iceString)).    
-00026c00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00026c10: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00026c20: 6963 6544 6966 6620 3d20 5072 6563 6973  iceDiff = Precis
-00026c30: 652e 7374 7269 6e67 5f73 7562 2850 7265  e.string_sub(Pre
-00026c40: 6369 7365 2e73 7472 696e 675f 6469 7628  cise.string_div(
-00026c50: 2731 272c 206d 6172 6b50 7269 6365 5374  '1', markPriceSt
-00026c60: 7269 6e67 292c 2050 7265 6369 7365 2e73  ring), Precise.s
-00026c70: 7472 696e 675f 6469 7628 2731 272c 2065  tring_div('1', e
-00026c80: 6e74 7279 5072 6963 6553 7472 696e 6729  ntryPriceString)
-00026c90: 290a 2020 2020 2020 2020 756e 7265 616c  ).        unreal
-00026ca0: 697a 6564 506e 6c20 3d20 5072 6563 6973  izedPnl = Precis
-00026cb0: 652e 7374 7269 6e67 5f6d 756c 2850 7265  e.string_mul(Pre
-00026cc0: 6369 7365 2e73 7472 696e 675f 6d75 6c28  cise.string_mul(
-00026cd0: 7072 6963 6544 6966 662c 2063 6f6e 7472  priceDiff, contr
-00026ce0: 6163 7473 292c 2063 6f6e 7472 6163 7453  acts), contractS
-00026cf0: 697a 6553 7472 696e 6729 0a20 2020 2020  izeString).     
-00026d00: 2020 206d 6172 6769 6e52 6174 696f 203d     marginRatio =
-00026d10: 2050 7265 6369 7365 2e73 7472 696e 675f   Precise.string_
-00026d20: 6469 7628 6d61 696e 7465 6e61 6e63 654d  div(maintenanceM
-00026d30: 6172 6769 6e53 7472 696e 672c 2063 6f6c  arginString, col
-00026d40: 6c61 7465 7261 6c29 0a20 2020 2020 2020  lateral).       
-00026d50: 2072 6574 7572 6e20 7365 6c66 2e73 6166   return self.saf
-00026d60: 655f 706f 7369 7469 6f6e 287b 0a20 2020  e_position({.   
-00026d70: 2020 2020 2020 2020 2027 696e 666f 273a           'info':
-00026d80: 2070 6f73 6974 696f 6e2c 0a20 2020 2020   position,.     
-00026d90: 2020 2020 2020 2027 6964 273a 204e 6f6e         'id': Non
-00026da0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-00026db0: 7379 6d62 6f6c 273a 2073 796d 626f 6c2c  symbol': symbol,
-00026dc0: 0a20 2020 2020 2020 2020 2020 2027 636f  .            'co
-00026dd0: 6e74 7261 6374 7327 3a20 7365 6c66 2e70  ntracts': self.p
-00026de0: 6172 7365 5f6e 756d 6265 7228 636f 6e74  arse_number(cont
-00026df0: 7261 6374 7329 2c0a 2020 2020 2020 2020  racts),.        
-00026e00: 2020 2020 2763 6f6e 7472 6163 7453 697a      'contractSiz
-00026e10: 6527 3a20 636f 6e74 7261 6374 5369 7a65  e': contractSize
-00026e20: 2c0a 2020 2020 2020 2020 2020 2020 2775  ,.            'u
-00026e30: 6e72 6561 6c69 7a65 6450 6e6c 273a 2073  nrealizedPnl': s
-00026e40: 656c 662e 7061 7273 655f 6e75 6d62 6572  elf.parse_number
-00026e50: 2875 6e72 6561 6c69 7a65 6450 6e6c 292c  (unrealizedPnl),
-00026e60: 0a20 2020 2020 2020 2020 2020 2027 6c65  .            'le
-00026e70: 7665 7261 6765 273a 206c 6576 6572 6167  verage': leverag
-00026e80: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-00026e90: 6c69 7175 6964 6174 696f 6e50 7269 6365  liquidationPrice
-00026ea0: 273a 206c 6971 7569 6461 7469 6f6e 5072  ': liquidationPr
-00026eb0: 6963 652c 0a20 2020 2020 2020 2020 2020  ice,.           
-00026ec0: 2027 636f 6c6c 6174 6572 616c 273a 2073   'collateral': s
-00026ed0: 656c 662e 7061 7273 655f 6e75 6d62 6572  elf.parse_number
-00026ee0: 2863 6f6c 6c61 7465 7261 6c29 2c0a 2020  (collateral),.  
-00026ef0: 2020 2020 2020 2020 2020 276e 6f74 696f            'notio
-00026f00: 6e61 6c27 3a20 7365 6c66 2e70 6172 7365  nal': self.parse
-00026f10: 5f6e 756d 6265 7228 6e6f 7469 6f6e 616c  _number(notional
-00026f20: 5374 7269 6e67 292c 0a20 2020 2020 2020  String),.       
-00026f30: 2020 2020 2027 6d61 726b 5072 6963 6527       'markPrice'
-00026f40: 3a20 7365 6c66 2e70 6172 7365 5f6e 756d  : self.parse_num
-00026f50: 6265 7228 6d61 726b 5072 6963 6553 7472  ber(markPriceStr
-00026f60: 696e 6729 2c20 2023 206d 6172 6b50 7269  ing),  # markPri
-00026f70: 6365 206c 6167 7320 6120 6269 7420 c2af  ce lags a bit ..
-00026f80: 5c5f 28e3 8384 295f 2fc2 af0a 2020 2020  \_(...)_/...    
-00026f90: 2020 2020 2020 2020 276c 6173 7450 7269          'lastPri
-00026fa0: 6365 273a 204e 6f6e 652c 0a20 2020 2020  ce': None,.     
-00026fb0: 2020 2020 2020 2027 656e 7472 7950 7269         'entryPri
-00026fc0: 6365 273a 2073 656c 662e 7061 7273 655f  ce': self.parse_
-00026fd0: 6e75 6d62 6572 2865 6e74 7279 5072 6963  number(entryPric
-00026fe0: 6553 7472 696e 6729 2c0a 2020 2020 2020  eString),.      
-00026ff0: 2020 2020 2020 2774 696d 6573 7461 6d70        'timestamp
-00027000: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
-00027010: 2020 2020 2027 6c61 7374 5570 6461 7465       'lastUpdate
-00027020: 5469 6d65 7374 616d 7027 3a20 4e6f 6e65  Timestamp': None
-00027030: 2c0a 2020 2020 2020 2020 2020 2020 2769  ,.            'i
-00027040: 6e69 7469 616c 4d61 7267 696e 273a 2073  nitialMargin': s
-00027050: 656c 662e 7061 7273 655f 6e75 6d62 6572  elf.parse_number
-00027060: 2869 6e69 7469 616c 4d61 7267 696e 5374  (initialMarginSt
-00027070: 7269 6e67 292c 0a20 2020 2020 2020 2020  ring),.         
-00027080: 2020 2027 696e 6974 6961 6c4d 6172 6769     'initialMargi
-00027090: 6e50 6572 6365 6e74 6167 6527 3a20 7365  nPercentage': se
-000270a0: 6c66 2e70 6172 7365 5f6e 756d 6265 7228  lf.parse_number(
-000270b0: 696e 6974 6961 6c4d 6172 6769 6e50 6572  initialMarginPer
-000270c0: 6365 6e74 6167 6553 7472 696e 6729 2c0a  centageString),.
-000270d0: 2020 2020 2020 2020 2020 2020 276d 6169              'mai
-000270e0: 6e74 656e 616e 6365 4d61 7267 696e 273a  ntenanceMargin':
-000270f0: 2073 656c 662e 7061 7273 655f 6e75 6d62   self.parse_numb
-00027100: 6572 286d 6169 6e74 656e 616e 6365 4d61  er(maintenanceMa
-00027110: 7267 696e 5374 7269 6e67 292c 0a20 2020  rginString),.   
-00027120: 2020 2020 2020 2020 2027 6d61 696e 7465           'mainte
-00027130: 6e61 6e63 654d 6172 6769 6e50 6572 6365  nanceMarginPerce
-00027140: 6e74 6167 6527 3a20 7365 6c66 2e70 6172  ntage': self.par
-00027150: 7365 5f6e 756d 6265 7228 6d61 696e 7465  se_number(mainte
-00027160: 6e61 6e63 654d 6172 6769 6e50 6572 6365  nanceMarginPerce
-00027170: 6e74 6167 6553 7472 696e 6729 2c0a 2020  ntageString),.  
-00027180: 2020 2020 2020 2020 2020 276d 6172 6769            'margi
-00027190: 6e52 6174 696f 273a 2073 656c 662e 7061  nRatio': self.pa
-000271a0: 7273 655f 6e75 6d62 6572 286d 6172 6769  rse_number(margi
-000271b0: 6e52 6174 696f 292c 0a20 2020 2020 2020  nRatio),.       
-000271c0: 2020 2020 2027 6461 7465 7469 6d65 273a       'datetime':
-000271d0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-000271e0: 2020 2027 6d61 7267 696e 4d6f 6465 273a     'marginMode':
-000271f0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00027200: 2020 2027 7369 6465 273a 2073 6964 652c     'side': side,
-00027210: 0a20 2020 2020 2020 2020 2020 2027 6865  .            'he
-00027220: 6467 6564 273a 2046 616c 7365 2c0a 2020  dged': False,.  
-00027230: 2020 2020 2020 2020 2020 2770 6572 6365            'perce
-00027240: 6e74 6167 6527 3a20 4e6f 6e65 2c0a 2020  ntage': None,.  
-00027250: 2020 2020 2020 7d29 0a0a 2020 2020 6173        })..    as
-00027260: 796e 6320 6465 6620 6665 7463 685f 6675  ync def fetch_fu
-00027270: 6e64 696e 675f 6869 7374 6f72 7928 7365  nding_history(se
-00027280: 6c66 2c20 7379 6d62 6f6c 3a20 4f70 7469  lf, symbol: Opti
-00027290: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-000272a0: 2c20 7369 6e63 653a 204f 7074 696f 6e61  , since: Optiona
-000272b0: 6c5b 696e 745d 203d 204e 6f6e 652c 206c  l[int] = None, l
-000272c0: 696d 6974 3a20 4f70 7469 6f6e 616c 5b69  imit: Optional[i
-000272d0: 6e74 5d20 3d20 4e6f 6e65 2c20 7061 7261  nt] = None, para
-000272e0: 6d73 3d7b 7d29 3a0a 2020 2020 2020 2020  ms={}):.        
-000272f0: 2222 220a 2020 2020 2020 2020 6665 7463  """.        fetc
-00027300: 6820 7468 6520 6869 7374 6f72 7920 6f66  h the history of
-00027310: 2066 756e 6469 6e67 2070 6179 6d65 6e74   funding payment
-00027320: 7320 7061 6964 2061 6e64 2072 6563 6569  s paid and recei
-00027330: 7665 6420 6f6e 2073 656c 6620 6163 636f  ved on self acco
-00027340: 756e 740a 2020 2020 2020 2020 7365 6520  unt.        see 
-00027350: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00027360: 6f6d 2f70 6865 6d65 782f 7068 656d 6578  om/phemex/phemex
-00027370: 2d61 7069 2d64 6f63 732f 626c 6f62 2f6d  -api-docs/blob/m
-00027380: 6173 7465 722f 5075 626c 6963 2d48 6564  aster/Public-Hed
-00027390: 6765 642d 5065 7270 6574 7561 6c2d 4150  ged-Perpetual-AP
-000273a0: 492e 6d64 2366 7574 7572 6544 6174 6146  I.md#futureDataF
-000273b0: 756e 6469 6e67 4665 6573 4869 7374 0a20  undingFeesHist. 
-000273c0: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
-000273d0: 7220 7379 6d62 6f6c 3a20 756e 6966 6965  r symbol: unifie
-000273e0: 6420 6d61 726b 6574 2073 796d 626f 6c0a  d market symbol.
-000273f0: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
-00027400: 6e74 7c4e 6f6e 6520 7369 6e63 653a 2074  nt|None since: t
-00027410: 6865 2065 6172 6c69 6573 7420 7469 6d65  he earliest time
-00027420: 2069 6e20 6d73 2074 6f20 6665 7463 6820   in ms to fetch 
-00027430: 6675 6e64 696e 6720 6869 7374 6f72 7920  funding history 
-00027440: 666f 720a 2020 2020 2020 2020 3a70 6172  for.        :par
-00027450: 616d 2069 6e74 7c4e 6f6e 6520 6c69 6d69  am int|None limi
-00027460: 743a 2074 6865 206d 6178 696d 756d 206e  t: the maximum n
-00027470: 756d 6265 7220 6f66 2066 756e 6469 6e67  umber of funding
-00027480: 2068 6973 746f 7279 2073 7472 7563 7475   history structu
-00027490: 7265 7320 746f 2072 6574 7269 6576 650a  res to retrieve.
-000274a0: 2020 2020 2020 2020 3a70 6172 616d 2064          :param d
-000274b0: 6963 7420 7061 7261 6d73 3a20 6578 7472  ict params: extr
-000274c0: 6120 7061 7261 6d65 7465 7273 2073 7065  a parameters spe
-000274d0: 6369 6669 6320 746f 2074 6865 2070 6865  cific to the phe
-000274e0: 6d65 7820 6170 6920 656e 6470 6f69 6e74  mex api endpoint
-000274f0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-00027500: 7320 6469 6374 3a20 6120 6066 756e 6469  s dict: a `fundi
-00027510: 6e67 2068 6973 746f 7279 2073 7472 7563  ng history struc
-00027520: 7475 7265 203c 6874 7470 733a 2f2f 646f  ture <https://do
-00027530: 6373 2e63 6378 742e 636f 6d2f 232f 3f69  cs.ccxt.com/#/?i
-00027540: 643d 6675 6e64 696e 672d 6869 7374 6f72  d=funding-histor
-00027550: 792d 7374 7275 6374 7572 653e 600a 2020  y-structure>`.  
-00027560: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00027570: 2020 6177 6169 7420 7365 6c66 2e6c 6f61    await self.loa
-00027580: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
-00027590: 2020 2020 6966 2073 796d 626f 6c20 6973      if symbol is
-000275a0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-000275b0: 2020 2072 6169 7365 2041 7267 756d 656e     raise Argumen
-000275c0: 7473 5265 7175 6972 6564 2873 656c 662e  tsRequired(self.
-000275d0: 6964 202b 2027 2066 6574 6368 4675 6e64  id + ' fetchFund
-000275e0: 696e 6748 6973 746f 7279 2829 2072 6571  ingHistory() req
-000275f0: 7569 7265 7320 6120 7379 6d62 6f6c 2061  uires a symbol a
-00027600: 7267 756d 656e 7427 290a 2020 2020 2020  rgument').      
-00027610: 2020 6d61 726b 6574 203d 2073 656c 662e    market = self.
-00027620: 6d61 726b 6574 2873 796d 626f 6c29 0a20  market(symbol). 
-00027630: 2020 2020 2020 2072 6571 7565 7374 203d         request =
-00027640: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00027650: 7379 6d62 6f6c 273a 206d 6172 6b65 745b  symbol': market[
-00027660: 2769 6427 5d2c 0a20 2020 2020 2020 2020  'id'],.         
-00027670: 2020 2023 2027 6c69 6d69 7427 3a20 3230     # 'limit': 20
-00027680: 2c20 2023 2050 6167 6520 7369 7a65 2064  ,  # Page size d
-00027690: 6566 6175 6c74 2032 302c 206d 6178 2032  efault 20, max 2
-000276a0: 3030 0a20 2020 2020 2020 2020 2020 2023  00.            #
-000276b0: 2027 6f66 6673 6574 273a 2030 2c20 2023   'offset': 0,  #
-000276c0: 2050 6167 6520 7374 6172 7420 6465 6661   Page start defa
-000276d0: 756c 7420 300a 2020 2020 2020 2020 7d0a  ult 0.        }.
-000276e0: 2020 2020 2020 2020 6966 206c 696d 6974          if limit
-000276f0: 203e 2032 3030 3a0a 2020 2020 2020 2020   > 200:.        
-00027700: 2020 2020 7261 6973 6520 4261 6452 6571      raise BadReq
-00027710: 7565 7374 2873 656c 662e 6964 202b 2027  uest(self.id + '
-00027720: 2066 6574 6368 4675 6e64 696e 6748 6973   fetchFundingHis
-00027730: 746f 7279 2829 206c 696d 6974 2061 7267  tory() limit arg
-00027740: 756d 656e 7420 6361 6e6e 6f74 2065 7863  ument cannot exc
-00027750: 6565 6420 3230 3027 290a 2020 2020 2020  eed 200').      
-00027760: 2020 6966 206c 696d 6974 2069 7320 6e6f    if limit is no
-00027770: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-00027780: 2020 2020 7265 7175 6573 745b 276c 696d      request['lim
-00027790: 6974 275d 203d 206c 696d 6974 0a20 2020  it'] = limit.   
-000277a0: 2020 2020 206d 6574 686f 6420 3d20 2770       method = 'p
-000277b0: 7269 7661 7465 4765 7441 7069 4461 7461  rivateGetApiData
-000277c0: 4675 7475 7265 7346 756e 6469 6e67 4665  FuturesFundingFe
-000277d0: 6573 270a 2020 2020 2020 2020 6966 206d  es'.        if m
-000277e0: 6172 6b65 745b 2773 6574 746c 6527 5d20  arket['settle'] 
-000277f0: 3d3d 2027 5553 4454 273a 0a20 2020 2020  == 'USDT':.     
-00027800: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
-00027810: 2770 7269 7661 7465 4765 7441 7069 4461  'privateGetApiDa
-00027820: 7461 4746 7574 7572 6573 4675 6e64 696e  taGFuturesFundin
-00027830: 6746 6565 7327 0a20 2020 2020 2020 2072  gFees'.        r
-00027840: 6573 706f 6e73 6520 3d20 6177 6169 7420  esponse = await 
-00027850: 6765 7461 7474 7228 7365 6c66 2c20 6d65  getattr(self, me
-00027860: 7468 6f64 2928 7365 6c66 2e65 7874 656e  thod)(self.exten
-00027870: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
-00027880: 7329 290a 2020 2020 2020 2020 230a 2020  s)).        #.  
-00027890: 2020 2020 2020 2320 2020 2020 7b0a 2020        #     {.  
-000278a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000278b0: 2263 6f64 6522 3a20 302c 0a20 2020 2020  "code": 0,.     
-000278c0: 2020 2023 2020 2020 2020 2020 2022 6d73     #         "ms
-000278d0: 6722 3a20 224f 4b22 2c0a 2020 2020 2020  g": "OK",.      
-000278e0: 2020 2320 2020 2020 2020 2020 2264 6174    #         "dat
-000278f0: 6122 3a20 7b0a 2020 2020 2020 2020 2320  a": {.        # 
-00027900: 2020 2020 2020 2020 2020 2020 2272 6f77              "row
-00027910: 7322 3a20 5b0a 2020 2020 2020 2020 2320  s": [.        # 
-00027920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027930: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
-00027940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027950: 2273 796d 626f 6c22 3a20 2242 5443 5553  "symbol": "BTCUS
-00027960: 4422 2c0a 2020 2020 2020 2020 2320 2020  D",.        #   
-00027970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027980: 2020 2263 7572 7265 6e63 7922 3a20 2242    "currency": "B
-00027990: 5443 222c 0a20 2020 2020 2020 2023 2020  TC",.        #  
-000279a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000279b0: 2020 2022 6578 6563 5174 7922 3a20 3138     "execQty": 18
-000279c0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-000279d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000279e0: 2273 6964 6522 3a20 2242 7579 222c 0a20  "side": "Buy",. 
-000279f0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00027a00: 2020 2020 2020 2020 2020 2020 2022 6578               "ex
-00027a10: 6563 5072 6963 6545 7022 3a20 3336 3030  ecPriceEp": 3600
-00027a20: 3836 3435 352c 0a20 2020 2020 2020 2023  86455,.        #
-00027a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027a40: 2020 2020 2022 6578 6563 5661 6c75 6545       "execValueE
-00027a50: 7622 3a20 3439 3938 372c 0a20 2020 2020  v": 49987,.     
-00027a60: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00027a70: 2020 2020 2020 2020 2022 6675 6e64 696e           "fundin
-00027a80: 6752 6174 6545 7222 3a20 3130 3030 302c  gRateEr": 10000,
-00027a90: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00027aa0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00027ab0: 6665 6552 6174 6545 7222 3a20 3130 3030  feeRateEr": 1000
-00027ac0: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00027ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027ae0: 2022 6578 6563 4665 6545 7622 3a20 352c   "execFeeEv": 5,
-00027af0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00027b00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00027b10: 6372 6561 7465 5469 6d65 223a 2031 3635  createTime": 165
-00027b20: 3138 3831 3630 3030 3030 0a20 2020 2020  1881600000.     
-00027b30: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00027b40: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
-00027b50: 2020 2020 2020 2020 2020 2020 205d 0a20               ]. 
-00027b60: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00027b70: 207d 0a20 2020 2020 2020 2023 2020 2020   }.        #    
-00027b80: 207d 0a20 2020 2020 2020 2023 0a20 2020   }.        #.   
-00027b90: 2020 2020 2064 6174 6120 3d20 7365 6c66       data = self
-00027ba0: 2e73 6166 655f 7661 6c75 6528 7265 7370  .safe_value(resp
-00027bb0: 6f6e 7365 2c20 2764 6174 6127 2c20 7b7d  onse, 'data', {}
-00027bc0: 290a 2020 2020 2020 2020 726f 7773 203d  ).        rows =
-00027bd0: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
-00027be0: 2864 6174 612c 2027 726f 7773 272c 205b  (data, 'rows', [
-00027bf0: 5d29 0a20 2020 2020 2020 2072 6573 756c  ]).        resul
-00027c00: 7420 3d20 5b5d 0a20 2020 2020 2020 2066  t = [].        f
-00027c10: 6f72 2069 2069 6e20 7261 6e67 6528 302c  or i in range(0,
-00027c20: 206c 656e 2872 6f77 7329 293a 0a20 2020   len(rows)):.   
-00027c30: 2020 2020 2020 2020 2065 6e74 7279 203d           entry =
-00027c40: 2072 6f77 735b 695d 0a20 2020 2020 2020   rows[i].       
-00027c50: 2020 2020 2074 696d 6573 7461 6d70 203d       timestamp =
-00027c60: 2073 656c 662e 7361 6665 5f69 6e74 6567   self.safe_integ
-00027c70: 6572 2865 6e74 7279 2c20 2763 7265 6174  er(entry, 'creat
-00027c80: 6554 696d 6527 290a 2020 2020 2020 2020  eTime').        
-00027c90: 2020 2020 7265 7375 6c74 2e61 7070 656e      result.appen
-00027ca0: 6428 7b0a 2020 2020 2020 2020 2020 2020  d({.            
-00027cb0: 2020 2020 2769 6e66 6f27 3a20 656e 7472      'info': entr
-00027cc0: 792c 0a20 2020 2020 2020 2020 2020 2020  y,.             
-00027cd0: 2020 2027 7379 6d62 6f6c 273a 2073 656c     'symbol': sel
-00027ce0: 662e 7361 6665 5f73 7472 696e 6728 656e  f.safe_string(en
-00027cf0: 7472 792c 2027 7379 6d62 6f6c 2729 2c0a  try, 'symbol'),.
-00027d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027d10: 2763 6f64 6527 3a20 7365 6c66 2e73 6166  'code': self.saf
-00027d20: 655f 6375 7272 656e 6379 5f63 6f64 6528  e_currency_code(
-00027d30: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
-00027d40: 2865 6e74 7279 2c20 2763 7572 7265 6e63  (entry, 'currenc
-00027d50: 7927 2929 2c0a 2020 2020 2020 2020 2020  y')),.          
-00027d60: 2020 2020 2020 2774 696d 6573 7461 6d70        'timestamp
-00027d70: 273a 2074 696d 6573 7461 6d70 2c0a 2020  ': timestamp,.  
-00027d80: 2020 2020 2020 2020 2020 2020 2020 2764                'd
-00027d90: 6174 6574 696d 6527 3a20 7365 6c66 2e69  atetime': self.i
-00027da0: 736f 3836 3031 2874 696d 6573 7461 6d70  so8601(timestamp
-00027db0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-00027dc0: 2020 2027 6964 273a 204e 6f6e 652c 0a20     'id': None,. 
-00027dd0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00027de0: 616d 6f75 6e74 273a 2073 656c 662e 6672  amount': self.fr
-00027df0: 6f6d 5f65 7628 7365 6c66 2e73 6166 655f  om_ev(self.safe_
-00027e00: 7374 7269 6e67 2865 6e74 7279 2c20 2765  string(entry, 'e
-00027e10: 7865 6346 6565 4576 2729 2c20 6d61 726b  xecFeeEv'), mark
-00027e20: 6574 292c 0a20 2020 2020 2020 2020 2020  et),.           
-00027e30: 207d 290a 2020 2020 2020 2020 7265 7475   }).        retu
-00027e40: 726e 2072 6573 756c 740a 0a20 2020 2061  rn result..    a
-00027e50: 7379 6e63 2064 6566 2066 6574 6368 5f66  sync def fetch_f
-00027e60: 756e 6469 6e67 5f72 6174 6528 7365 6c66  unding_rate(self
-00027e70: 2c20 7379 6d62 6f6c 3a20 7374 722c 2070  , symbol: str, p
-00027e80: 6172 616d 733d 7b7d 293a 0a20 2020 2020  arams={}):.     
-00027e90: 2020 2022 2222 0a20 2020 2020 2020 2066     """.        f
-00027ea0: 6574 6368 2074 6865 2063 7572 7265 6e74  etch the current
-00027eb0: 2066 756e 6469 6e67 2072 6174 650a 2020   funding rate.  
-00027ec0: 2020 2020 2020 3a70 6172 616d 2073 7472        :param str
-00027ed0: 2073 796d 626f 6c3a 2075 6e69 6669 6564   symbol: unified
-00027ee0: 206d 6172 6b65 7420 7379 6d62 6f6c 0a20   market symbol. 
-00027ef0: 2020 2020 2020 203a 7061 7261 6d20 6469         :param di
-00027f00: 6374 2070 6172 616d 733a 2065 7874 7261  ct params: extra
-00027f10: 2070 6172 616d 6574 6572 7320 7370 6563   parameters spec
-00027f20: 6966 6963 2074 6f20 7468 6520 7068 656d  ific to the phem
-00027f30: 6578 2061 7069 2065 6e64 706f 696e 740a  ex api endpoint.
-00027f40: 2020 2020 2020 2020 3a72 6574 7572 6e73          :returns
-00027f50: 2064 6963 743a 2061 2060 6675 6e64 696e   dict: a `fundin
-00027f60: 6720 7261 7465 2073 7472 7563 7475 7265  g rate structure
-00027f70: 203c 6874 7470 733a 2f2f 646f 6373 2e63   <https://docs.c
-00027f80: 6378 742e 636f 6d2f 232f 3f69 643d 6675  cxt.com/#/?id=fu
-00027f90: 6e64 696e 672d 7261 7465 2d73 7472 7563  nding-rate-struc
-00027fa0: 7475 7265 3e60 0a20 2020 2020 2020 2022  ture>`.        "
-00027fb0: 2222 0a20 2020 2020 2020 2061 7761 6974  "".        await
-00027fc0: 2073 656c 662e 6c6f 6164 5f6d 6172 6b65   self.load_marke
-00027fd0: 7473 2829 0a20 2020 2020 2020 206d 6172  ts().        mar
-00027fe0: 6b65 7420 3d20 7365 6c66 2e6d 6172 6b65  ket = self.marke
-00027ff0: 7428 7379 6d62 6f6c 290a 2020 2020 2020  t(symbol).      
-00028000: 2020 6966 206e 6f74 206d 6172 6b65 745b    if not market[
-00028010: 2773 7761 7027 5d3a 0a20 2020 2020 2020  'swap']:.       
-00028020: 2020 2020 2072 6169 7365 2042 6164 5379       raise BadSy
-00028030: 6d62 6f6c 2873 656c 662e 6964 202b 2027  mbol(self.id + '
-00028040: 2066 6574 6368 4675 6e64 696e 6752 6174   fetchFundingRat
-00028050: 6528 2920 7375 7070 6f72 7473 2073 7761  e() supports swa
-00028060: 7020 636f 6e74 7261 6374 7320 6f6e 6c79  p contracts only
-00028070: 2729 0a20 2020 2020 2020 2072 6571 7565  ').        reque
-00028080: 7374 203d 207b 0a20 2020 2020 2020 2020  st = {.         
-00028090: 2020 2027 7379 6d62 6f6c 273a 206d 6172     'symbol': mar
-000280a0: 6b65 745b 2769 6427 5d2c 0a20 2020 2020  ket['id'],.     
-000280b0: 2020 207d 0a20 2020 2020 2020 2072 6573     }.        res
-000280c0: 706f 6e73 6520 3d20 7b7d 0a20 2020 2020  ponse = {}.     
-000280d0: 2020 2069 6620 6e6f 7420 6d61 726b 6574     if not market
-000280e0: 5b27 6c69 6e65 6172 275d 3a0a 2020 2020  ['linear']:.    
-000280f0: 2020 2020 2020 2020 7265 7370 6f6e 7365          response
-00028100: 203d 2061 7761 6974 2073 656c 662e 7631   = await self.v1
-00028110: 4765 744d 6454 6963 6b65 7232 3468 7228  GetMdTicker24hr(
-00028120: 7365 6c66 2e65 7874 656e 6428 7265 7175  self.extend(requ
-00028130: 6573 742c 2070 6172 616d 7329 290a 2020  est, params)).  
-00028140: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00028150: 2020 2020 2020 2020 7265 7370 6f6e 7365          response
-00028160: 203d 2061 7761 6974 2073 656c 662e 7632   = await self.v2
-00028170: 4765 744d 6456 3254 6963 6b65 7232 3468  GetMdV2Ticker24h
-00028180: 7228 7365 6c66 2e65 7874 656e 6428 7265  r(self.extend(re
-00028190: 7175 6573 742c 2070 6172 616d 7329 290a  quest, params)).
-000281a0: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-000281b0: 2020 2320 2020 2020 7b0a 2020 2020 2020    #     {.      
-000281c0: 2020 2320 2020 2020 2020 2020 2265 7272    #         "err
-000281d0: 6f72 223a 206e 756c 6c2c 0a20 2020 2020  or": null,.     
-000281e0: 2020 2023 2020 2020 2020 2020 2022 6964     #         "id
-000281f0: 223a 2030 2c0a 2020 2020 2020 2020 2320  ": 0,.        # 
-00028200: 2020 2020 2020 2020 2272 6573 756c 7422          "result"
-00028210: 3a20 7b0a 2020 2020 2020 2020 2320 2020  : {.        #   
-00028220: 2020 2020 2020 2020 2020 2261 736b 4570            "askEp
-00028230: 223a 2032 3333 3235 3030 2c0a 2020 2020  ": 2332500,.    
-00028240: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00028250: 2020 2262 6964 4570 223a 2032 3333 3130    "bidEp": 23310
-00028260: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
-00028270: 2020 2020 2020 2020 2020 2266 756e 6469            "fundi
-00028280: 6e67 5261 7465 4572 223a 2031 3030 3030  ngRateEr": 10000
-00028290: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-000282a0: 2020 2020 2020 2020 2268 6967 6845 7022          "highEp"
-000282b0: 3a20 3233 3830 3030 302c 0a20 2020 2020  : 2380000,.     
-000282c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-000282d0: 2022 696e 6465 7845 7022 3a20 3233 3239   "indexEp": 2329
-000282e0: 3035 372c 0a20 2020 2020 2020 2023 2020  057,.        #  
-000282f0: 2020 2020 2020 2020 2020 2022 6c61 7374             "last
-00028300: 4570 223a 2032 3333 3135 3030 2c0a 2020  Ep": 2331500,.  
-00028310: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00028320: 2020 2020 226c 6f77 4570 223a 2032 3237      "lowEp": 227
-00028330: 3430 3030 2c0a 2020 2020 2020 2020 2320  4000,.        # 
-00028340: 2020 2020 2020 2020 2020 2020 226d 6172              "mar
-00028350: 6b45 7022 3a20 3233 3239 3233 322c 0a20  kEp": 2329232,. 
-00028360: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00028370: 2020 2020 2022 6f70 656e 4570 223a 2032       "openEp": 2
-00028380: 3333 3735 3030 2c0a 2020 2020 2020 2020  337500,.        
-00028390: 2320 2020 2020 2020 2020 2020 2020 226f  #             "o
-000283a0: 7065 6e49 6e74 6572 6573 7422 3a20 3132  penInterest": 12
-000283b0: 3938 3035 302c 0a20 2020 2020 2020 2023  98050,.        #
-000283c0: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-000283d0: 6564 4675 6e64 696e 6752 6174 6545 7222  edFundingRateEr"
-000283e0: 3a20 3139 3932 312c 0a20 2020 2020 2020  : 19921,.       
-000283f0: 2023 2020 2020 2020 2020 2020 2020 2022   #             "
-00028400: 7379 6d62 6f6c 223a 2022 4554 4855 5344  symbol": "ETHUSD
-00028410: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-00028420: 2020 2020 2020 2020 2022 7469 6d65 7374           "timest
-00028430: 616d 7022 3a20 3135 3932 3437 3432 3431  amp": 1592474241
-00028440: 3538 3237 3031 3431 362c 0a20 2020 2020  582701416,.     
-00028450: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00028460: 2022 7475 726e 6f76 6572 4576 223a 2034   "turnoverEv": 4
-00028470: 3732 3238 3336 3233 3330 2c0a 2020 2020  7228362330,.    
-00028480: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00028490: 2020 2276 6f6c 756d 6522 3a20 3430 3533    "volume": 4053
-000284a0: 3836 330a 2020 2020 2020 2020 2320 2020  863.        #   
-000284b0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-000284c0: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
-000284d0: 230a 2020 2020 2020 2020 7265 7375 6c74  #.        result
-000284e0: 203d 2073 656c 662e 7361 6665 5f76 616c   = self.safe_val
-000284f0: 7565 2872 6573 706f 6e73 652c 2027 7265  ue(response, 're
-00028500: 7375 6c74 272c 207b 7d29 0a20 2020 2020  sult', {}).     
-00028510: 2020 2072 6574 7572 6e20 7365 6c66 2e70     return self.p
-00028520: 6172 7365 5f66 756e 6469 6e67 5f72 6174  arse_funding_rat
-00028530: 6528 7265 7375 6c74 2c20 6d61 726b 6574  e(result, market
-00028540: 290a 0a20 2020 2064 6566 2070 6172 7365  )..    def parse
-00028550: 5f66 756e 6469 6e67 5f72 6174 6528 7365  _funding_rate(se
-00028560: 6c66 2c20 636f 6e74 7261 6374 2c20 6d61  lf, contract, ma
-00028570: 726b 6574 3d4e 6f6e 6529 3a0a 2020 2020  rket=None):.    
-00028580: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
-00028590: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-000285a0: 2020 2020 2020 2020 2261 736b 4570 223a          "askEp":
-000285b0: 2032 3333 3235 3030 2c0a 2020 2020 2020   2332500,.      
-000285c0: 2020 2320 2020 2020 2020 2020 2262 6964    #         "bid
-000285d0: 4570 223a 2032 3333 3130 3030 2c0a 2020  Ep": 2331000,.  
-000285e0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000285f0: 2266 756e 6469 6e67 5261 7465 4572 223a  "fundingRateEr":
-00028600: 2031 3030 3030 2c0a 2020 2020 2020 2020   10000,.        
-00028610: 2320 2020 2020 2020 2020 2268 6967 6845  #         "highE
-00028620: 7022 3a20 3233 3830 3030 302c 0a20 2020  p": 2380000,.   
-00028630: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-00028640: 696e 6465 7845 7022 3a20 3233 3239 3035  indexEp": 232905
-00028650: 372c 0a20 2020 2020 2020 2023 2020 2020  7,.        #    
-00028660: 2020 2020 2022 6c61 7374 4570 223a 2032       "lastEp": 2
-00028670: 3333 3135 3030 2c0a 2020 2020 2020 2020  331500,.        
-00028680: 2320 2020 2020 2020 2020 226c 6f77 4570  #         "lowEp
-00028690: 223a 2032 3237 3430 3030 2c0a 2020 2020  ": 2274000,.    
-000286a0: 2020 2020 2320 2020 2020 2020 2020 226d      #         "m
-000286b0: 6172 6b45 7022 3a20 3233 3239 3233 322c  arkEp": 2329232,
-000286c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000286d0: 2020 2022 6f70 656e 4570 223a 2032 3333     "openEp": 233
-000286e0: 3735 3030 2c0a 2020 2020 2020 2020 2320  7500,.        # 
-000286f0: 2020 2020 2020 2020 226f 7065 6e49 6e74          "openInt
-00028700: 6572 6573 7422 3a20 3132 3938 3035 302c  erest": 1298050,
-00028710: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00028720: 2020 2022 7072 6564 4675 6e64 696e 6752     "predFundingR
-00028730: 6174 6545 7222 3a20 3139 3932 312c 0a20  ateEr": 19921,. 
-00028740: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00028750: 2022 7379 6d62 6f6c 223a 2022 4554 4855   "symbol": "ETHU
-00028760: 5344 222c 0a20 2020 2020 2020 2023 2020  SD",.        #  
-00028770: 2020 2020 2020 2022 7469 6d65 7374 616d         "timestam
-00028780: 7022 3a20 3135 3932 3437 3432 3431 3538  p": 159247424158
-00028790: 3237 3031 3431 362c 0a20 2020 2020 2020  2701416,.       
-000287a0: 2023 2020 2020 2020 2020 2022 7475 726e   #         "turn
-000287b0: 6f76 6572 4576 223a 2034 3732 3238 3336  overEv": 4722836
-000287c0: 3233 3330 2c0a 2020 2020 2020 2020 2320  2330,.        # 
-000287d0: 2020 2020 2020 2020 2276 6f6c 756d 6522          "volume"
-000287e0: 3a20 3430 3533 3836 330a 2020 2020 2020  : 4053863.      
-000287f0: 2020 2320 2020 2020 7d0a 2020 2020 2020    #     }.      
-00028800: 2020 230a 2020 2020 2020 2020 2320 6c69    #.        # li
-00028810: 6e65 6172 2073 7761 7020 7632 0a20 2020  near swap v2.   
-00028820: 2020 2020 2023 0a20 2020 2020 2020 2023       #.        #
-00028830: 2020 2020 207b 0a20 2020 2020 2020 2023       {.        #
-00028840: 2020 2020 2020 2020 2022 636c 6f73 6552           "closeR
-00028850: 7022 3a22 3136 3832 302e 3522 2c0a 2020  p":"16820.5",.  
-00028860: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00028870: 2266 756e 6469 6e67 5261 7465 5272 223a  "fundingRateRr":
-00028880: 2230 2e30 3030 3122 2c0a 2020 2020 2020  "0.0001",.      
-00028890: 2020 2320 2020 2020 2020 2020 2268 6967    #         "hig
-000288a0: 6852 7022 3a22 3136 3936 322e 3122 2c0a  hRp":"16962.1",.
-000288b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000288c0: 2020 2269 6e64 6578 5072 6963 6552 7022    "indexPriceRp"
-000288d0: 3a22 3136 3833 302e 3135 3635 3135 3635  :"16830.15651565
-000288e0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-000288f0: 2020 2020 2022 6c6f 7752 7022 3a22 3136       "lowRp":"16
-00028900: 3738 3522 2c0a 2020 2020 2020 2020 2320  785",.        # 
-00028910: 2020 2020 2020 2020 226d 6172 6b50 7269          "markPri
-00028920: 6365 5270 223a 2231 3638 3330 2e39 3735  ceRp":"16830.975
-00028930: 3334 3935 3122 2c0a 2020 2020 2020 2020  34951",.        
-00028940: 2320 2020 2020 2020 2020 226f 7065 6e49  #         "openI
-00028950: 6e74 6572 6573 7452 7622 3a22 3133 3233  nterestRv":"1323
-00028960: 2e35 3936 222c 0a20 2020 2020 2020 2023  .596",.        #
-00028970: 2020 2020 2020 2020 2022 6f70 656e 5270           "openRp
-00028980: 223a 2231 3638 3531 2e37 222c 0a20 2020  ":"16851.7",.   
-00028990: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-000289a0: 7072 6564 4675 6e64 696e 6752 6174 6552  predFundingRateR
-000289b0: 7222 3a22 302e 3030 3031 222c 0a20 2020  r":"0.0001",.   
-000289c0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-000289d0: 7379 6d62 6f6c 223a 2242 5443 5553 4454  symbol":"BTCUSDT
-000289e0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-000289f0: 2020 2020 2022 7469 6d65 7374 616d 7022       "timestamp"
-00028a00: 3a22 3136 3732 3134 3237 3839 3036 3535  :"16721427890655
-00028a10: 3933 3039 3622 2c0a 2020 2020 2020 2020  93096",.        
-00028a20: 2320 2020 2020 2020 2020 2274 7572 6e6f  #         "turno
-00028a30: 7665 7252 7622 3a22 3132 3438 3335 3239  verRv":"12483529
-00028a40: 362e 3035 3338 222c 0a20 2020 2020 2020  6.0538",.       
-00028a50: 2023 2020 2020 2020 2020 2022 766f 6c75   #         "volu
-00028a60: 6d65 5271 223a 2237 3430 362e 3935 220a  meRq":"7406.95".
-00028a70: 2020 2020 2020 2020 2320 2020 2020 7d0a          #     }.
-00028a80: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-00028a90: 2020 6d61 726b 6574 4964 203d 2073 656c    marketId = sel
-00028aa0: 662e 7361 6665 5f73 7472 696e 6728 636f  f.safe_string(co
-00028ab0: 6e74 7261 6374 2c20 2773 796d 626f 6c27  ntract, 'symbol'
-00028ac0: 290a 2020 2020 2020 2020 7379 6d62 6f6c  ).        symbol
-00028ad0: 203d 2073 656c 662e 7361 6665 5f73 796d   = self.safe_sym
-00028ae0: 626f 6c28 6d61 726b 6574 4964 2c20 6d61  bol(marketId, ma
-00028af0: 726b 6574 290a 2020 2020 2020 2020 7469  rket).        ti
-00028b00: 6d65 7374 616d 7020 3d20 7365 6c66 2e73  mestamp = self.s
-00028b10: 6166 655f 696e 7465 6765 725f 7072 6f64  afe_integer_prod
-00028b20: 7563 7428 636f 6e74 7261 6374 2c20 2774  uct(contract, 't
-00028b30: 696d 6573 7461 6d70 272c 2030 2e30 3030  imestamp', 0.000
-00028b40: 3030 3129 0a20 2020 2020 2020 2072 6574  001).        ret
-00028b50: 7572 6e20 7b0a 2020 2020 2020 2020 2020  urn {.          
-00028b60: 2020 2769 6e66 6f27 3a20 636f 6e74 7261    'info': contra
-00028b70: 6374 2c0a 2020 2020 2020 2020 2020 2020  ct,.            
-00028b80: 2773 796d 626f 6c27 3a20 7379 6d62 6f6c  'symbol': symbol
-00028b90: 2c0a 2020 2020 2020 2020 2020 2020 276d  ,.            'm
-00028ba0: 6172 6b50 7269 6365 273a 2073 656c 662e  arkPrice': self.
-00028bb0: 6672 6f6d 5f65 7028 7365 6c66 2e73 6166  from_ep(self.saf
-00028bc0: 655f 7374 7269 6e67 5f32 2863 6f6e 7472  e_string_2(contr
-00028bd0: 6163 742c 2027 6d61 726b 4570 272c 2027  act, 'markEp', '
-00028be0: 6d61 726b 5072 6963 6552 7027 292c 206d  markPriceRp'), m
-00028bf0: 6172 6b65 7429 2c0a 2020 2020 2020 2020  arket),.        
-00028c00: 2020 2020 2769 6e64 6578 5072 6963 6527      'indexPrice'
-00028c10: 3a20 7365 6c66 2e66 726f 6d5f 6570 2873  : self.from_ep(s
-00028c20: 656c 662e 7361 6665 5f73 7472 696e 675f  elf.safe_string_
-00028c30: 3228 636f 6e74 7261 6374 2c20 2769 6e64  2(contract, 'ind
-00028c40: 6578 4570 272c 2027 696e 6465 7850 7269  exEp', 'indexPri
-00028c50: 6365 5270 2729 2c20 6d61 726b 6574 292c  ceRp'), market),
-00028c60: 0a20 2020 2020 2020 2020 2020 2027 696e  .            'in
-00028c70: 7465 7265 7374 5261 7465 273a 204e 6f6e  terestRate': Non
-00028c80: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-00028c90: 6573 7469 6d61 7465 6453 6574 746c 6550  estimatedSettleP
-00028ca0: 7269 6365 273a 204e 6f6e 652c 0a20 2020  rice': None,.   
-00028cb0: 2020 2020 2020 2020 2027 7469 6d65 7374           'timest
-00028cc0: 616d 7027 3a20 7469 6d65 7374 616d 702c  amp': timestamp,
-00028cd0: 0a20 2020 2020 2020 2020 2020 2027 6461  .            'da
-00028ce0: 7465 7469 6d65 273a 2073 656c 662e 6973  tetime': self.is
-00028cf0: 6f38 3630 3128 7469 6d65 7374 616d 7029  o8601(timestamp)
-00028d00: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
-00028d10: 756e 6469 6e67 5261 7465 273a 2073 656c  undingRate': sel
-00028d20: 662e 6672 6f6d 5f65 7228 7365 6c66 2e73  f.from_er(self.s
-00028d30: 6166 655f 7374 7269 6e67 2863 6f6e 7472  afe_string(contr
-00028d40: 6163 742c 2027 6675 6e64 696e 6752 6174  act, 'fundingRat
-00028d50: 6545 7227 292c 206d 6172 6b65 7429 2c0a  eEr'), market),.
-00028d60: 2020 2020 2020 2020 2020 2020 2766 756e              'fun
-00028d70: 6469 6e67 5469 6d65 7374 616d 7027 3a20  dingTimestamp': 
-00028d80: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-00028d90: 2020 2766 756e 6469 6e67 4461 7465 7469    'fundingDateti
-00028da0: 6d65 273a 204e 6f6e 652c 0a20 2020 2020  me': None,.     
-00028db0: 2020 2020 2020 2027 6e65 7874 4675 6e64         'nextFund
-00028dc0: 696e 6752 6174 6527 3a20 7365 6c66 2e66  ingRate': self.f
-00028dd0: 726f 6d5f 6572 2873 656c 662e 7361 6665  rom_er(self.safe
-00028de0: 5f73 7472 696e 675f 3228 636f 6e74 7261  _string_2(contra
-00028df0: 6374 2c20 2770 7265 6446 756e 6469 6e67  ct, 'predFunding
-00028e00: 5261 7465 4572 272c 2027 7072 6564 4675  RateEr', 'predFu
-00028e10: 6e64 696e 6752 6174 6552 7227 292c 206d  ndingRateRr'), m
-00028e20: 6172 6b65 7429 2c0a 2020 2020 2020 2020  arket),.        
-00028e30: 2020 2020 276e 6578 7446 756e 6469 6e67      'nextFunding
-00028e40: 5469 6d65 7374 616d 7027 3a20 4e6f 6e65  Timestamp': None
-00028e50: 2c0a 2020 2020 2020 2020 2020 2020 276e  ,.            'n
-00028e60: 6578 7446 756e 6469 6e67 4461 7465 7469  extFundingDateti
-00028e70: 6d65 273a 204e 6f6e 652c 0a20 2020 2020  me': None,.     
-00028e80: 2020 2020 2020 2027 7072 6576 696f 7573         'previous
-00028e90: 4675 6e64 696e 6752 6174 6527 3a20 4e6f  FundingRate': No
-00028ea0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-00028eb0: 2770 7265 7669 6f75 7346 756e 6469 6e67  'previousFunding
-00028ec0: 5469 6d65 7374 616d 7027 3a20 4e6f 6e65  Timestamp': None
-00028ed0: 2c0a 2020 2020 2020 2020 2020 2020 2770  ,.            'p
-00028ee0: 7265 7669 6f75 7346 756e 6469 6e67 4461  reviousFundingDa
-00028ef0: 7465 7469 6d65 273a 204e 6f6e 652c 0a20  tetime': None,. 
-00028f00: 2020 2020 2020 207d 0a0a 2020 2020 6173         }..    as
-00028f10: 796e 6320 6465 6620 7365 745f 6d61 7267  ync def set_marg
-00028f20: 696e 2873 656c 662c 2073 796d 626f 6c3a  in(self, symbol:
-00028f30: 2073 7472 2c20 616d 6f75 6e74 2c20 7061   str, amount, pa
-00028f40: 7261 6d73 3d7b 7d29 3a0a 2020 2020 2020  rams={}):.      
-00028f50: 2020 2222 220a 2020 2020 2020 2020 4569    """.        Ei
-00028f60: 7468 6572 2061 6464 7320 6f72 2072 6564  ther adds or red
-00028f70: 7563 6573 206d 6172 6769 6e20 696e 2061  uces margin in a
-00028f80: 6e20 6973 6f6c 6174 6564 2070 6f73 6974  n isolated posit
-00028f90: 696f 6e20 696e 206f 7264 6572 2074 6f20  ion in order to 
-00028fa0: 7365 7420 7468 6520 6d61 7267 696e 2074  set the margin t
-00028fb0: 6f20 6120 7370 6563 6966 6963 2076 616c  o a specific val
-00028fc0: 7565 0a20 2020 2020 2020 2073 6565 2068  ue.        see h
-00028fd0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00028fe0: 6d2f 7068 656d 6578 2f70 6865 6d65 782d  m/phemex/phemex-
-00028ff0: 6170 692d 646f 6373 2f62 6c6f 622f 6d61  api-docs/blob/ma
-00029000: 7374 6572 2f50 7562 6c69 632d 436f 6e74  ster/Public-Cont
-00029010: 7261 6374 2d41 5049 2d65 6e2e 6d64 2361  ract-API-en.md#a
-00029020: 7373 6967 6e2d 706f 7369 7469 6f6e 2d62  ssign-position-b
-00029030: 616c 616e 6365 2d69 6e2d 6973 6f6c 6174  alance-in-isolat
-00029040: 6564 2d6d 6172 6967 6e2d 6d6f 6465 0a20  ed-marign-mode. 
-00029050: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
-00029060: 7220 7379 6d62 6f6c 3a20 756e 6966 6965  r symbol: unifie
-00029070: 6420 6d61 726b 6574 2073 796d 626f 6c20  d market symbol 
-00029080: 6f66 2074 6865 206d 6172 6b65 7420 746f  of the market to
-00029090: 2073 6574 206d 6172 6769 6e20 696e 0a20   set margin in. 
-000290a0: 2020 2020 2020 203a 7061 7261 6d20 666c         :param fl
-000290b0: 6f61 7420 616d 6f75 6e74 3a20 7468 6520  oat amount: the 
-000290c0: 616d 6f75 6e74 2074 6f20 7365 7420 7468  amount to set th
-000290d0: 6520 6d61 7267 696e 2074 6f0a 2020 2020  e margin to.    
-000290e0: 2020 2020 3a70 6172 616d 2064 6963 7420      :param dict 
-000290f0: 7061 7261 6d73 3a20 7061 7261 6d65 7465  params: paramete
-00029100: 7273 2073 7065 6369 6669 6320 746f 2074  rs specific to t
-00029110: 6865 2070 6865 6d65 7820 6170 6920 656e  he phemex api en
-00029120: 6470 6f69 6e74 0a20 2020 2020 2020 203a  dpoint.        :
-00029130: 7265 7475 726e 7320 6469 6374 3a20 4120  returns dict: A 
-00029140: 606d 6172 6769 6e20 7374 7275 6374 7572  `margin structur
-00029150: 6520 3c68 7474 7073 3a2f 2f64 6f63 732e  e <https://docs.
-00029160: 6363 7874 2e63 6f6d 2f23 2f3f 6964 3d61  ccxt.com/#/?id=a
-00029170: 6464 2d6d 6172 6769 6e2d 7374 7275 6374  dd-margin-struct
-00029180: 7572 653e 600a 2020 2020 2020 2020 2222  ure>`.        ""
-00029190: 220a 2020 2020 2020 2020 6177 6169 7420  ".        await 
-000291a0: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
-000291b0: 7328 290a 2020 2020 2020 2020 6d61 726b  s().        mark
-000291c0: 6574 203d 2073 656c 662e 6d61 726b 6574  et = self.market
-000291d0: 2873 796d 626f 6c29 0a20 2020 2020 2020  (symbol).       
-000291e0: 2072 6571 7565 7374 203d 207b 0a20 2020   request = {.   
-000291f0: 2020 2020 2020 2020 2027 7379 6d62 6f6c           'symbol
-00029200: 273a 206d 6172 6b65 745b 2769 6427 5d2c  ': market['id'],
-00029210: 0a20 2020 2020 2020 2020 2020 2027 706f  .            'po
-00029220: 7342 616c 616e 6365 4576 273a 2073 656c  sBalanceEv': sel
-00029230: 662e 746f 5f65 7628 616d 6f75 6e74 2c20  f.to_ev(amount, 
-00029240: 6d61 726b 6574 292c 0a20 2020 2020 2020  market),.       
-00029250: 207d 0a20 2020 2020 2020 2072 6573 706f   }.        respo
-00029260: 6e73 6520 3d20 6177 6169 7420 7365 6c66  nse = await self
-00029270: 2e70 7269 7661 7465 506f 7374 506f 7369  .privatePostPosi
-00029280: 7469 6f6e 7341 7373 6967 6e28 7365 6c66  tionsAssign(self
-00029290: 2e65 7874 656e 6428 7265 7175 6573 742c  .extend(request,
-000292a0: 2070 6172 616d 7329 290a 2020 2020 2020   params)).      
-000292b0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
-000292c0: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
-000292d0: 2020 2020 2020 2263 6f64 6522 3a20 302c        "code": 0,
-000292e0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000292f0: 2020 2022 6d73 6722 3a20 2222 2c0a 2020     "msg": "",.  
-00029300: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00029310: 2264 6174 6122 3a20 224f 4b22 0a20 2020  "data": "OK".   
-00029320: 2020 2020 2023 2020 2020 207d 0a20 2020       #     }.   
-00029330: 2020 2020 2023 0a20 2020 2020 2020 2072       #.        r
-00029340: 6574 7572 6e20 7365 6c66 2e65 7874 656e  eturn self.exten
-00029350: 6428 7365 6c66 2e70 6172 7365 5f6d 6172  d(self.parse_mar
-00029360: 6769 6e5f 6d6f 6469 6669 6361 7469 6f6e  gin_modification
-00029370: 2872 6573 706f 6e73 652c 206d 6172 6b65  (response, marke
-00029380: 7429 2c20 7b0a 2020 2020 2020 2020 2020  t), {.          
-00029390: 2020 2761 6d6f 756e 7427 3a20 616d 6f75    'amount': amou
-000293a0: 6e74 2c0a 2020 2020 2020 2020 7d29 0a0a  nt,.        })..
-000293b0: 2020 2020 6465 6620 7061 7273 655f 6d61      def parse_ma
-000293c0: 7267 696e 5f73 7461 7475 7328 7365 6c66  rgin_status(self
-000293d0: 2c20 7374 6174 7573 293a 0a20 2020 2020  , status):.     
-000293e0: 2020 2073 7461 7475 7365 7320 3d20 7b0a     statuses = {.
-000293f0: 2020 2020 2020 2020 2020 2020 2730 273a              '0':
-00029400: 2027 6f6b 272c 0a20 2020 2020 2020 207d   'ok',.        }
-00029410: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00029420: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
-00029430: 2873 7461 7475 7365 732c 2073 7461 7475  (statuses, statu
-00029440: 732c 2073 7461 7475 7329 0a0a 2020 2020  s, status)..    
-00029450: 6465 6620 7061 7273 655f 6d61 7267 696e  def parse_margin
-00029460: 5f6d 6f64 6966 6963 6174 696f 6e28 7365  _modification(se
-00029470: 6c66 2c20 6461 7461 2c20 6d61 726b 6574  lf, data, market
-00029480: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
-00029490: 230a 2020 2020 2020 2020 2320 2020 2020  #.        #     
-000294a0: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
-000294b0: 2020 2020 2263 6f64 6522 3a20 302c 0a20      "code": 0,. 
-000294c0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000294d0: 2022 6d73 6722 3a20 2222 2c0a 2020 2020   "msg": "",.    
-000294e0: 2020 2020 2320 2020 2020 2020 2020 2264      #         "d
-000294f0: 6174 6122 3a20 224f 4b22 0a20 2020 2020  ata": "OK".     
-00029500: 2020 2023 2020 2020 207d 0a20 2020 2020     #     }.     
-00029510: 2020 2023 0a20 2020 2020 2020 206d 6172     #.        mar
-00029520: 6b65 7420 3d20 7365 6c66 2e73 6166 655f  ket = self.safe_
-00029530: 6d61 726b 6574 284e 6f6e 652c 206d 6172  market(None, mar
-00029540: 6b65 7429 0a20 2020 2020 2020 2069 6e76  ket).        inv
-00029550: 6572 7365 203d 2073 656c 662e 7361 6665  erse = self.safe
-00029560: 5f76 616c 7565 286d 6172 6b65 742c 2027  _value(market, '
-00029570: 696e 7665 7273 6527 290a 2020 2020 2020  inverse').      
-00029580: 2020 636f 6465 4375 7272 656e 6379 203d    codeCurrency =
-00029590: 2027 6261 7365 2720 6966 2069 6e76 6572   'base' if inver
-000295a0: 7365 2065 6c73 6520 2771 756f 7465 270a  se else 'quote'.
-000295b0: 2020 2020 2020 2020 7265 7475 726e 207b          return {
-000295c0: 0a20 2020 2020 2020 2020 2020 2027 696e  .            'in
-000295d0: 666f 273a 2064 6174 612c 0a20 2020 2020  fo': data,.     
-000295e0: 2020 2020 2020 2027 7479 7065 273a 2027         'type': '
-000295f0: 7365 7427 2c0a 2020 2020 2020 2020 2020  set',.          
-00029600: 2020 2761 6d6f 756e 7427 3a20 4e6f 6e65    'amount': None
-00029610: 2c0a 2020 2020 2020 2020 2020 2020 2774  ,.            't
-00029620: 6f74 616c 273a 204e 6f6e 652c 0a20 2020  otal': None,.   
-00029630: 2020 2020 2020 2020 2027 636f 6465 273a           'code':
-00029640: 206d 6172 6b65 745b 636f 6465 4375 7272   market[codeCurr
-00029650: 656e 6379 5d2c 0a20 2020 2020 2020 2020  ency],.         
-00029660: 2020 2027 7379 6d62 6f6c 273a 2073 656c     'symbol': sel
-00029670: 662e 7361 6665 5f73 796d 626f 6c28 4e6f  f.safe_symbol(No
-00029680: 6e65 2c20 6d61 726b 6574 292c 0a20 2020  ne, market),.   
-00029690: 2020 2020 2020 2020 2027 7374 6174 7573           'status
-000296a0: 273a 2073 656c 662e 7061 7273 655f 6d61  ': self.parse_ma
-000296b0: 7267 696e 5f73 7461 7475 7328 7365 6c66  rgin_status(self
-000296c0: 2e73 6166 655f 7374 7269 6e67 2864 6174  .safe_string(dat
-000296d0: 612c 2027 636f 6465 2729 292c 0a20 2020  a, 'code')),.   
-000296e0: 2020 2020 207d 0a0a 2020 2020 6173 796e       }..    asyn
-000296f0: 6320 6465 6620 7365 745f 6d61 7267 696e  c def set_margin
-00029700: 5f6d 6f64 6528 7365 6c66 2c20 6d61 7267  _mode(self, marg
-00029710: 696e 4d6f 6465 2c20 7379 6d62 6f6c 3a20  inMode, symbol: 
-00029720: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
-00029730: 4e6f 6e65 2c20 7061 7261 6d73 3d7b 7d29  None, params={})
-00029740: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00029750: 2020 2020 2020 7365 7420 6d61 7267 696e        set margin
-00029760: 206d 6f64 6520 746f 2027 6372 6f73 7327   mode to 'cross'
-00029770: 206f 7220 2769 736f 6c61 7465 6427 0a20   or 'isolated'. 
-00029780: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
-00029790: 7220 6d61 7267 696e 4d6f 6465 3a20 2763  r marginMode: 'c
-000297a0: 726f 7373 2720 6f72 2027 6973 6f6c 6174  ross' or 'isolat
-000297b0: 6564 270a 2020 2020 2020 2020 3a70 6172  ed'.        :par
-000297c0: 616d 2073 7472 2073 796d 626f 6c3a 2075  am str symbol: u
-000297d0: 6e69 6669 6564 206d 6172 6b65 7420 7379  nified market sy
-000297e0: 6d62 6f6c 0a20 2020 2020 2020 203a 7061  mbol.        :pa
-000297f0: 7261 6d20 6469 6374 2070 6172 616d 733a  ram dict params:
-00029800: 2065 7874 7261 2070 6172 616d 6574 6572   extra parameter
-00029810: 7320 7370 6563 6966 6963 2074 6f20 7468  s specific to th
-00029820: 6520 7068 656d 6578 2061 7069 2065 6e64  e phemex api end
-00029830: 706f 696e 740a 2020 2020 2020 2020 3a72  point.        :r
-00029840: 6574 7572 6e73 2064 6963 743a 2072 6573  eturns dict: res
-00029850: 706f 6e73 6520 6672 6f6d 2074 6865 2065  ponse from the e
-00029860: 7863 6861 6e67 650a 2020 2020 2020 2020  xchange.        
-00029870: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
-00029880: 2e63 6865 636b 5f72 6571 7569 7265 645f  .check_required_
-00029890: 7379 6d62 6f6c 2827 7365 744d 6172 6769  symbol('setMargi
-000298a0: 6e4d 6f64 6527 2c20 7379 6d62 6f6c 290a  nMode', symbol).
-000298b0: 2020 2020 2020 2020 6177 6169 7420 7365          await se
-000298c0: 6c66 2e6c 6f61 645f 6d61 726b 6574 7328  lf.load_markets(
-000298d0: 290a 2020 2020 2020 2020 6d61 726b 6574  ).        market
-000298e0: 203d 2073 656c 662e 6d61 726b 6574 2873   = self.market(s
-000298f0: 796d 626f 6c29 0a20 2020 2020 2020 2069  ymbol).        i
-00029900: 6620 6e6f 7420 6d61 726b 6574 5b27 7377  f not market['sw
-00029910: 6170 275d 206f 7220 6d61 726b 6574 5b27  ap'] or market['
-00029920: 7365 7474 6c65 275d 203d 3d20 2755 5344  settle'] == 'USD
-00029930: 5427 3a0a 2020 2020 2020 2020 2020 2020  T':.            
-00029940: 7261 6973 6520 4261 6453 796d 626f 6c28  raise BadSymbol(
-00029950: 7365 6c66 2e69 6420 2b20 2720 7365 744d  self.id + ' setM
-00029960: 6172 6769 6e4d 6f64 6528 2920 7375 7070  arginMode() supp
-00029970: 6f72 7473 2073 7761 7028 6e6f 6e20 5553  orts swap(non US
-00029980: 4454 2062 6173 6564 2920 636f 6e74 7261  DT based) contra
-00029990: 6374 7320 6f6e 6c79 2729 0a20 2020 2020  cts only').     
-000299a0: 2020 206d 6172 6769 6e4d 6f64 6520 3d20     marginMode = 
-000299b0: 6d61 7267 696e 4d6f 6465 2e6c 6f77 6572  marginMode.lower
-000299c0: 2829 0a20 2020 2020 2020 2069 6620 6d61  ().        if ma
-000299d0: 7267 696e 4d6f 6465 2021 3d20 2769 736f  rginMode != 'iso
-000299e0: 6c61 7465 6427 2061 6e64 206d 6172 6769  lated' and margi
-000299f0: 6e4d 6f64 6520 213d 2027 6372 6f73 7327  nMode != 'cross'
-00029a00: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-00029a10: 6973 6520 4261 6452 6571 7565 7374 2873  ise BadRequest(s
-00029a20: 656c 662e 6964 202b 2027 2073 6574 4d61  elf.id + ' setMa
-00029a30: 7267 696e 4d6f 6465 2829 206d 6172 6769  rginMode() margi
-00029a40: 6e4d 6f64 6520 6172 6775 6d65 6e74 2073  nMode argument s
-00029a50: 686f 756c 6420 6265 2069 736f 6c61 7465  hould be isolate
-00029a60: 6420 6f72 2063 726f 7373 2729 0a20 2020  d or cross').   
-00029a70: 2020 2020 206c 6576 6572 6167 6520 3d20       leverage = 
-00029a80: 7365 6c66 2e73 6166 655f 696e 7465 6765  self.safe_intege
-00029a90: 7228 7061 7261 6d73 2c20 276c 6576 6572  r(params, 'lever
-00029aa0: 6167 6527 290a 2020 2020 2020 2020 6966  age').        if
-00029ab0: 206d 6172 6769 6e4d 6f64 6520 3d3d 2027   marginMode == '
-00029ac0: 6372 6f73 7327 3a0a 2020 2020 2020 2020  cross':.        
-00029ad0: 2020 2020 6c65 7665 7261 6765 203d 2030      leverage = 0
-00029ae0: 0a20 2020 2020 2020 2069 6620 6c65 7665  .        if leve
-00029af0: 7261 6765 2069 7320 4e6f 6e65 3a0a 2020  rage is None:.  
-00029b00: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00029b10: 4172 6775 6d65 6e74 7352 6571 7569 7265  ArgumentsRequire
-00029b20: 6428 7365 6c66 2e69 6420 2b20 2720 7365  d(self.id + ' se
-00029b30: 744d 6172 6769 6e4d 6f64 6528 2920 7265  tMarginMode() re
-00029b40: 7175 6972 6573 2061 206c 6576 6572 6167  quires a leverag
-00029b50: 6520 7061 7261 6d65 7465 7227 290a 2020  e parameter').  
-00029b60: 2020 2020 2020 7265 7175 6573 7420 3d20        request = 
-00029b70: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
-00029b80: 796d 626f 6c27 3a20 6d61 726b 6574 5b27  ymbol': market['
-00029b90: 6964 275d 2c0a 2020 2020 2020 2020 2020  id'],.          
-00029ba0: 2020 276c 6576 6572 6167 6527 3a20 6c65    'leverage': le
-00029bb0: 7665 7261 6765 2c0a 2020 2020 2020 2020  verage,.        
-00029bc0: 7d0a 2020 2020 2020 2020 7265 7475 726e  }.        return
-00029bd0: 2061 7761 6974 2073 656c 662e 7072 6976   await self.priv
-00029be0: 6174 6550 7574 506f 7369 7469 6f6e 734c  atePutPositionsL
-00029bf0: 6576 6572 6167 6528 7365 6c66 2e65 7874  everage(self.ext
-00029c00: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
-00029c10: 616d 7329 290a 0a20 2020 2061 7379 6e63  ams))..    async
-00029c20: 2064 6566 2073 6574 5f70 6f73 6974 696f   def set_positio
-00029c30: 6e5f 6d6f 6465 2873 656c 662c 2068 6564  n_mode(self, hed
-00029c40: 6765 642c 2073 796d 626f 6c3a 204f 7074  ged, symbol: Opt
-00029c50: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
-00029c60: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
-00029c70: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00029c80: 2020 2073 6574 2068 6564 6765 6420 746f     set hedged to
-00029c90: 2054 7275 6520 6f72 2046 616c 7365 2066   True or False f
-00029ca0: 6f72 2061 206d 6172 6b65 740a 2020 2020  or a market.    
-00029cb0: 2020 2020 7365 6520 6874 7470 733a 2f2f      see https://
-00029cc0: 6769 7468 7562 2e63 6f6d 2f70 6865 6d65  github.com/pheme
-00029cd0: 782f 7068 656d 6578 2d61 7069 2d64 6f63  x/phemex-api-doc
-00029ce0: 732f 626c 6f62 2f6d 6173 7465 722f 5075  s/blob/master/Pu
-00029cf0: 626c 6963 2d48 6564 6765 642d 5065 7270  blic-Hedged-Perp
-00029d00: 6574 7561 6c2d 4150 492e 6d64 2373 7769  etual-API.md#swi
-00029d10: 7463 682d 706f 7369 7469 6f6e 2d6d 6f64  tch-position-mod
-00029d20: 652d 7379 6e63 6872 6f6e 6f75 736c 790a  e-synchronously.
-00029d30: 2020 2020 2020 2020 3a70 6172 616d 2062          :param b
-00029d40: 6f6f 6c20 6865 6467 6564 3a20 7365 7420  ool hedged: set 
-00029d50: 746f 2054 7275 6520 746f 2075 7365 2064  to True to use d
-00029d60: 7561 6c53 6964 6550 6f73 6974 696f 6e0a  ualSidePosition.
-00029d70: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00029d80: 7472 7c4e 6f6e 6520 7379 6d62 6f6c 3a20  tr|None symbol: 
-00029d90: 6e6f 7420 7573 6564 2062 7920 6269 6e61  not used by bina
-00029da0: 6e63 6520 7365 7450 6f73 6974 696f 6e4d  nce setPositionM
-00029db0: 6f64 6528 290a 2020 2020 2020 2020 3a70  ode().        :p
-00029dc0: 6172 616d 2064 6963 7420 7061 7261 6d73  aram dict params
-00029dd0: 3a20 6578 7472 6120 7061 7261 6d65 7465  : extra paramete
-00029de0: 7273 2073 7065 6369 6669 6320 746f 2074  rs specific to t
-00029df0: 6865 2062 696e 616e 6365 2061 7069 2065  he binance api e
-00029e00: 6e64 706f 696e 740a 2020 2020 2020 2020  ndpoint.        
-00029e10: 3a72 6574 7572 6e73 2064 6963 743a 2072  :returns dict: r
-00029e20: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
-00029e30: 2065 7863 6861 6e67 650a 2020 2020 2020   exchange.      
-00029e40: 2020 2222 220a 2020 2020 2020 2020 7365    """.        se
-00029e50: 6c66 2e63 6865 636b 5f72 6571 7569 7265  lf.check_require
-00029e60: 645f 6172 6775 6d65 6e74 2827 7365 7450  d_argument('setP
-00029e70: 6f73 6974 696f 6e4d 6f64 6527 2c20 7379  ositionMode', sy
-00029e80: 6d62 6f6c 2c20 2773 796d 626f 6c27 290a  mbol, 'symbol').
-00029e90: 2020 2020 2020 2020 6177 6169 7420 7365          await se
-00029ea0: 6c66 2e6c 6f61 645f 6d61 726b 6574 7328  lf.load_markets(
-00029eb0: 290a 2020 2020 2020 2020 6d61 726b 6574  ).        market
-00029ec0: 203d 2073 656c 662e 6d61 726b 6574 2873   = self.market(s
-00029ed0: 796d 626f 6c29 0a20 2020 2020 2020 2069  ymbol).        i
-00029ee0: 6620 6d61 726b 6574 5b27 7365 7474 6c65  f market['settle
-00029ef0: 275d 2021 3d20 2755 5344 5427 3a0a 2020  '] != 'USDT':.  
-00029f00: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00029f10: 4261 6453 796d 626f 6c28 7365 6c66 2e69  BadSymbol(self.i
-00029f20: 6420 2b20 2720 7365 7450 6f73 6974 696f  d + ' setPositio
-00029f30: 6e4d 6f64 6528 2920 7375 7070 6f72 7473  nMode() supports
-00029f40: 2055 5344 5420 7365 7474 6c65 6420 6d61   USDT settled ma
-00029f50: 726b 6574 7320 6f6e 6c79 2729 0a20 2020  rkets only').   
-00029f60: 2020 2020 2072 6571 7565 7374 203d 207b       request = {
-00029f70: 0a20 2020 2020 2020 2020 2020 2027 7379  .            'sy
-00029f80: 6d62 6f6c 273a 206d 6172 6b65 745b 2769  mbol': market['i
-00029f90: 6427 5d2c 0a20 2020 2020 2020 207d 0a20  d'],.        }. 
-00029fa0: 2020 2020 2020 2069 6620 6865 6467 6564         if hedged
-00029fb0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00029fc0: 7175 6573 745b 2774 6172 6765 7450 6f73  quest['targetPos
-00029fd0: 4d6f 6465 275d 203d 2027 4865 6467 6564  Mode'] = 'Hedged
-00029fe0: 270a 2020 2020 2020 2020 656c 7365 3a0a  '.        else:.
-00029ff0: 2020 2020 2020 2020 2020 2020 7265 7175              requ
-0002a000: 6573 745b 2774 6172 6765 7450 6f73 4d6f  est['targetPosMo
-0002a010: 6465 275d 203d 2027 4f6e 6557 6179 270a  de'] = 'OneWay'.
-0002a020: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0002a030: 7761 6974 2073 656c 662e 7072 6976 6174  wait self.privat
-0002a040: 6550 7574 4750 6f73 6974 696f 6e73 5377  ePutGPositionsSw
-0002a050: 6974 6368 506f 734d 6f64 6553 796e 6328  itchPosModeSync(
-0002a060: 7365 6c66 2e65 7874 656e 6428 7265 7175  self.extend(requ
-0002a070: 6573 742c 2070 6172 616d 7329 290a 0a20  est, params)).. 
-0002a080: 2020 2061 7379 6e63 2064 6566 2066 6574     async def fet
-0002a090: 6368 5f6c 6576 6572 6167 655f 7469 6572  ch_leverage_tier
-0002a0a0: 7328 7365 6c66 2c20 7379 6d62 6f6c 733a  s(self, symbols:
-0002a0b0: 204f 7074 696f 6e61 6c5b 4c69 7374 5b73   Optional[List[s
-0002a0c0: 7472 5d5d 203d 204e 6f6e 652c 2070 6172  tr]] = None, par
-0002a0d0: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
-0002a0e0: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
-0002a0f0: 7269 6576 6520 696e 666f 726d 6174 696f  rieve informatio
-0002a100: 6e20 6f6e 2074 6865 206d 6178 696d 756d  n on the maximum
-0002a110: 206c 6576 6572 6167 652c 2061 6e64 206d   leverage, and m
-0002a120: 6169 6e74 656e 616e 6365 206d 6172 6769  aintenance margi
-0002a130: 6e20 666f 7220 7472 6164 6573 206f 6620  n for trades of 
-0002a140: 7661 7279 696e 6720 7472 6164 6520 7369  varying trade si
-0002a150: 7a65 730a 2020 2020 2020 2020 3a70 6172  zes.        :par
-0002a160: 616d 205b 7374 725d 7c4e 6f6e 6520 7379  am [str]|None sy
-0002a170: 6d62 6f6c 733a 206c 6973 7420 6f66 2075  mbols: list of u
-0002a180: 6e69 6669 6564 206d 6172 6b65 7420 7379  nified market sy
-0002a190: 6d62 6f6c 730a 2020 2020 2020 2020 3a70  mbols.        :p
-0002a1a0: 6172 616d 2064 6963 7420 7061 7261 6d73  aram dict params
-0002a1b0: 3a20 6578 7472 6120 7061 7261 6d65 7465  : extra paramete
-0002a1c0: 7273 2073 7065 6369 6669 6320 746f 2074  rs specific to t
-0002a1d0: 6865 2070 6865 6d65 7820 6170 6920 656e  he phemex api en
-0002a1e0: 6470 6f69 6e74 0a20 2020 2020 2020 203a  dpoint.        :
-0002a1f0: 7265 7475 726e 7320 6469 6374 3a20 6120  returns dict: a 
-0002a200: 6469 6374 696f 6e61 7279 206f 6620 606c  dictionary of `l
-0002a210: 6576 6572 6167 6520 7469 6572 7320 7374  everage tiers st
-0002a220: 7275 6374 7572 6573 203c 6874 7470 733a  ructures <https:
-0002a230: 2f2f 646f 6373 2e63 6378 742e 636f 6d2f  //docs.ccxt.com/
-0002a240: 232f 3f69 643d 6c65 7665 7261 6765 2d74  #/?id=leverage-t
-0002a250: 6965 7273 2d73 7472 7563 7475 7265 3e60  iers-structure>`
-0002a260: 2c20 696e 6465 7865 6420 6279 206d 6172  , indexed by mar
-0002a270: 6b65 7420 7379 6d62 6f6c 730a 2020 2020  ket symbols.    
-0002a280: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0002a290: 6177 6169 7420 7365 6c66 2e6c 6f61 645f  await self.load_
-0002a2a0: 6d61 726b 6574 7328 290a 2020 2020 2020  markets().      
-0002a2b0: 2020 7265 7370 6f6e 7365 203d 2061 7761    response = awa
-0002a2c0: 6974 2073 656c 662e 7075 626c 6963 4765  it self.publicGe
-0002a2d0: 7443 6667 5632 5072 6f64 7563 7473 2870  tCfgV2Products(p
-0002a2e0: 6172 616d 7329 0a20 2020 2020 2020 2023  arams).        #
-0002a2f0: 0a20 2020 2020 2020 2023 2020 2020 207b  .        #     {
-0002a300: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a310: 2020 2022 636f 6465 223a 302c 0a20 2020     "code":0,.   
-0002a320: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-0002a330: 6d73 6722 3a22 4f4b 222c 0a20 2020 2020  msg":"OK",.     
-0002a340: 2020 2023 2020 2020 2020 2020 2022 6461     #         "da
-0002a350: 7461 223a 7b0a 2020 2020 2020 2020 2320  ta":{.        # 
-0002a360: 2020 2020 2020 2020 2020 2020 2272 6174              "rat
-0002a370: 696f 5363 616c 6522 3a38 2c0a 2020 2020  ioScale":8,.    
-0002a380: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002a390: 2020 2263 7572 7265 6e63 6965 7322 3a5b    "currencies":[
-0002a3a0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a3b0: 2020 2020 2020 2020 2020 207b 2263 7572             {"cur
-0002a3c0: 7265 6e63 7922 3a22 4254 4322 2c22 7661  rency":"BTC","va
-0002a3d0: 6c75 6553 6361 6c65 223a 382c 226d 696e  lueScale":8,"min
-0002a3e0: 5661 6c75 6545 7622 3a31 2c22 6d61 7856  ValueEv":1,"maxV
-0002a3f0: 616c 7565 4576 223a 3530 3030 3030 3030  alueEv":50000000
-0002a400: 3030 3030 3030 3030 3030 302c 226e 616d  00000000000,"nam
-0002a410: 6522 3a22 4269 7463 6f69 6e22 7d2c 0a20  e":"Bitcoin"},. 
-0002a420: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002a430: 2020 2020 2020 2020 207b 2263 7572 7265           {"curre
-0002a440: 6e63 7922 3a22 5553 4422 2c22 7661 6c75  ncy":"USD","valu
-0002a450: 6553 6361 6c65 223a 342c 226d 696e 5661  eScale":4,"minVa
-0002a460: 6c75 6545 7622 3a31 2c22 6d61 7856 616c  lueEv":1,"maxVal
-0002a470: 7565 4576 223a 3530 3030 3030 3030 3030  ueEv":5000000000
-0002a480: 3030 3030 302c 226e 616d 6522 3a22 5553  00000,"name":"US
-0002a490: 4422 7d2c 0a20 2020 2020 2020 2023 2020  D"},.        #  
-0002a4a0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
-0002a4b0: 2263 7572 7265 6e63 7922 3a22 5553 4454  "currency":"USDT
-0002a4c0: 222c 2276 616c 7565 5363 616c 6522 3a38  ","valueScale":8
-0002a4d0: 2c22 6d69 6e56 616c 7565 4576 223a 312c  ,"minValueEv":1,
-0002a4e0: 226d 6178 5661 6c75 6545 7622 3a35 3030  "maxValueEv":500
-0002a4f0: 3030 3030 3030 3030 3030 3030 3030 3030  0000000000000000
-0002a500: 2c22 6e61 6d65 223a 2254 6574 6865 7255  ,"name":"TetherU
-0002a510: 5322 7d2c 0a20 2020 2020 2020 2023 2020  S"},.        #  
-0002a520: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-0002a530: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002a540: 2020 2020 2270 726f 6475 6374 7322 3a5b      "products":[
-0002a550: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a560: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
-0002a570: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a580: 2020 2020 2020 2020 2020 2022 7379 6d62             "symb
-0002a590: 6f6c 223a 2242 5443 5553 4422 2c0a 2020  ol":"BTCUSD",.  
-0002a5a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002a5b0: 2020 2020 2020 2020 2020 2020 2264 6973              "dis
-0002a5c0: 706c 6179 5379 6d62 6f6c 223a 2242 5443  playSymbol":"BTC
-0002a5d0: 202f 2055 5344 222c 0a20 2020 2020 2020   / USD",.       
-0002a5e0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a5f0: 2020 2020 2020 2022 696e 6465 7853 796d         "indexSym
-0002a600: 626f 6c22 3a22 2e42 5443 222c 0a20 2020  bol":".BTC",.   
-0002a610: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a620: 2020 2020 2020 2020 2020 2022 6d61 726b             "mark
-0002a630: 5379 6d62 6f6c 223a 222e 4d42 5443 222c  Symbol":".MBTC",
-0002a640: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a650: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0002a660: 6675 6e64 696e 6752 6174 6553 796d 626f  fundingRateSymbo
-0002a670: 6c22 3a22 2e42 5443 4652 222c 0a20 2020  l":".BTCFR",.   
-0002a680: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a690: 2020 2020 2020 2020 2020 2022 6675 6e64             "fund
-0002a6a0: 696e 6752 6174 6538 6853 796d 626f 6c22  ingRate8hSymbol"
-0002a6b0: 3a22 2e42 5443 4652 3848 222c 0a20 2020  :".BTCFR8H",.   
-0002a6c0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a6d0: 2020 2020 2020 2020 2020 2022 636f 6e74             "cont
-0002a6e0: 7261 6374 556e 6465 726c 7969 6e67 4173  ractUnderlyingAs
-0002a6f0: 7365 7473 223a 2255 5344 222c 0a20 2020  sets":"USD",.   
-0002a700: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a710: 2020 2020 2020 2020 2020 2022 7365 7474             "sett
-0002a720: 6c65 4375 7272 656e 6379 223a 2242 5443  leCurrency":"BTC
-0002a730: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-0002a740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a750: 2022 7175 6f74 6543 7572 7265 6e63 7922   "quoteCurrency"
-0002a760: 3a22 5553 4422 2c0a 2020 2020 2020 2020  :"USD",.        
-0002a770: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002a780: 2020 2020 2020 2263 6f6e 7472 6163 7453        "contractS
-0002a790: 697a 6522 3a31 2e30 2c0a 2020 2020 2020  ize":1.0,.      
-0002a7a0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002a7b0: 2020 2020 2020 2020 226c 6f74 5369 7a65          "lotSize
-0002a7c0: 223a 312c 0a20 2020 2020 2020 2023 2020  ":1,.        #  
-0002a7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a7e0: 2020 2022 7469 636b 5369 7a65 223a 302e     "tickSize":0.
-0002a7f0: 352c 0a20 2020 2020 2020 2023 2020 2020  5,.        #    
-0002a800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a810: 2022 7072 6963 6553 6361 6c65 223a 342c   "priceScale":4,
-0002a820: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a830: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0002a840: 7261 7469 6f53 6361 6c65 223a 382c 0a20  ratioScale":8,. 
-0002a850: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002a860: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-0002a870: 6963 6550 7265 6369 7369 6f6e 223a 312c  icePrecision":1,
-0002a880: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a890: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0002a8a0: 6d69 6e50 7269 6365 4570 223a 3530 3030  minPriceEp":5000
-0002a8b0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002a8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a8d0: 226d 6178 5072 6963 6545 7022 3a31 3030  "maxPriceEp":100
-0002a8e0: 3030 3030 3030 3030 2c0a 2020 2020 2020  00000000,.      
-0002a8f0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002a900: 2020 2020 2020 2020 226d 6178 4f72 6465          "maxOrde
-0002a910: 7251 7479 223a 3130 3030 3030 302c 0a20  rQty":1000000,. 
-0002a920: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002a930: 2020 2020 2020 2020 2020 2020 2022 7479               "ty
-0002a940: 7065 223a 2250 6572 7065 7475 616c 220a  pe":"Perpetual".
-0002a950: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002a960: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
-0002a970: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a980: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
-0002a990: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a9a0: 2020 2020 2020 2022 7379 6d62 6f6c 223a         "symbol":
-0002a9b0: 2273 4254 4355 5344 5422 2c0a 2020 2020  "sBTCUSDT",.    
-0002a9c0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002a9d0: 2020 2020 2020 2020 2020 2264 6973 706c            "displ
-0002a9e0: 6179 5379 6d62 6f6c 223a 2242 5443 202f  aySymbol":"BTC /
-0002a9f0: 2055 5344 5422 2c0a 2020 2020 2020 2020   USDT",.        
-0002aa00: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002aa10: 2020 2020 2020 2271 756f 7465 4375 7272        "quoteCurr
-0002aa20: 656e 6379 223a 2255 5344 5422 2c0a 2020  ency":"USDT",.  
-0002aa30: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002aa40: 2020 2020 2020 2020 2020 2020 2270 7269              "pri
-0002aa50: 6365 5072 6563 6973 696f 6e22 3a32 2c0a  cePrecision":2,.
-0002aa60: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002aa70: 2020 2020 2020 2020 2020 2020 2020 2274                "t
-0002aa80: 7970 6522 3a22 5370 6f74 222c 0a20 2020  ype":"Spot",.   
-0002aa90: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002aaa0: 2020 2020 2020 2020 2020 2022 6261 7365             "base
-0002aab0: 4375 7272 656e 6379 223a 2242 5443 222c  Currency":"BTC",
-0002aac0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002aad0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0002aae0: 6261 7365 5469 636b 5369 7a65 223a 2230  baseTickSize":"0
-0002aaf0: 2e30 3030 3030 3120 4254 4322 2c0a 2020  .000001 BTC",.  
-0002ab00: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002ab10: 2020 2020 2020 2020 2020 2020 2262 6173              "bas
-0002ab20: 6554 6963 6b53 697a 6545 7622 3a31 3030  eTickSizeEv":100
-0002ab30: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002ab40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ab50: 2271 756f 7465 5469 636b 5369 7a65 223a  "quoteTickSize":
-0002ab60: 2230 2e30 3120 5553 4454 222c 0a20 2020  "0.01 USDT",.   
-0002ab70: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002ab80: 2020 2020 2020 2020 2020 2022 7175 6f74             "quot
-0002ab90: 6554 6963 6b53 697a 6545 7622 3a31 3030  eTickSizeEv":100
-0002aba0: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
-0002abb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002abc0: 2020 2020 226d 696e 4f72 6465 7256 616c      "minOrderVal
-0002abd0: 7565 223a 2231 3020 5553 4454 222c 0a20  ue":"10 USDT",. 
-0002abe0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002abf0: 2020 2020 2020 2020 2020 2020 2022 6d69               "mi
-0002ac00: 6e4f 7264 6572 5661 6c75 6545 7622 3a31  nOrderValueEv":1
-0002ac10: 3030 3030 3030 3030 302c 0a20 2020 2020  000000000,.     
-0002ac20: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002ac30: 2020 2020 2020 2020 2022 6d61 7842 6173           "maxBas
-0002ac40: 654f 7264 6572 5369 7a65 223a 2231 3030  eOrderSize":"100
-0002ac50: 3020 4254 4322 2c0a 2020 2020 2020 2020  0 BTC",.        
-0002ac60: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002ac70: 2020 2020 2020 226d 6178 4261 7365 4f72        "maxBaseOr
-0002ac80: 6465 7253 697a 6545 7622 3a31 3030 3030  derSizeEv":10000
-0002ac90: 3030 3030 3030 302c 0a20 2020 2020 2020  0000000,.       
-0002aca0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002acb0: 2020 2020 2020 2022 6d61 784f 7264 6572         "maxOrder
-0002acc0: 5661 6c75 6522 3a22 352c 3030 302c 3030  Value":"5,000,00
-0002acd0: 3020 5553 4454 222c 0a20 2020 2020 2020  0 USDT",.       
-0002ace0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002acf0: 2020 2020 2020 2022 6d61 784f 7264 6572         "maxOrder
-0002ad00: 5661 6c75 6545 7622 3a35 3030 3030 3030  ValueEv":5000000
-0002ad10: 3030 3030 3030 3030 2c0a 2020 2020 2020  00000000,.      
-0002ad20: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002ad30: 2020 2020 2020 2020 2264 6566 6175 6c74          "default
-0002ad40: 5461 6b65 7246 6565 223a 2230 2e30 3031  TakerFee":"0.001
-0002ad50: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-0002ad60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ad70: 2022 6465 6661 756c 7454 616b 6572 4665   "defaultTakerFe
-0002ad80: 6545 7222 3a31 3030 3030 302c 0a20 2020  eEr":100000,.   
-0002ad90: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002ada0: 2020 2020 2020 2020 2020 2022 6465 6661             "defa
-0002adb0: 756c 744d 616b 6572 4665 6522 3a22 302e  ultMakerFee":"0.
-0002adc0: 3030 3122 2c0a 2020 2020 2020 2020 2320  001",.        # 
-0002add0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ade0: 2020 2020 2264 6566 6175 6c74 4d61 6b65      "defaultMake
-0002adf0: 7246 6565 4572 223a 3130 3030 3030 2c0a  rFeeEr":100000,.
-0002ae00: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002ae10: 2020 2020 2020 2020 2020 2020 2020 2262                "b
-0002ae20: 6173 6551 7479 5072 6563 6973 696f 6e22  aseQtyPrecision"
-0002ae30: 3a36 2c0a 2020 2020 2020 2020 2320 2020  :6,.        #   
-0002ae40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ae50: 2020 2271 756f 7465 5174 7950 7265 6369    "quoteQtyPreci
-0002ae60: 7369 6f6e 223a 320a 2020 2020 2020 2020  sion":2.        
-0002ae70: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002ae80: 2020 7d2c 0a20 2020 2020 2020 2023 2020    },.        #  
-0002ae90: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-0002aea0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002aeb0: 2020 2020 2272 6973 6b4c 696d 6974 7322      "riskLimits"
-0002aec0: 3a5b 0a20 2020 2020 2020 2023 2020 2020  :[.        #    
-0002aed0: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
-0002aee0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002aef0: 2020 2020 2020 2020 2020 2020 2022 7379               "sy
-0002af00: 6d62 6f6c 223a 2242 5443 5553 4422 2c0a  mbol":"BTCUSD",.
-0002af10: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002af20: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-0002af30: 7465 7073 223a 2235 3022 2c0a 2020 2020  teps":"50",.    
-0002af40: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002af50: 2020 2020 2020 2020 2020 2272 6973 6b4c            "riskL
-0002af60: 696d 6974 7322 3a5b 0a20 2020 2020 2020  imits":[.       
-0002af70: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002af80: 2020 2020 2020 2020 2020 207b 226c 696d             {"lim
-0002af90: 6974 223a 3130 302c 2269 6e69 7469 616c  it":100,"initial
-0002afa0: 4d61 7267 696e 223a 2231 2e30 2522 2c22  Margin":"1.0%","
-0002afb0: 696e 6974 6961 6c4d 6172 6769 6e45 7222  initialMarginEr"
-0002afc0: 3a31 3030 3030 3030 2c22 6d61 696e 7465  :1000000,"mainte
-0002afd0: 6e61 6e63 654d 6172 6769 6e22 3a22 302e  nanceMargin":"0.
-0002afe0: 3525 222c 226d 6169 6e74 656e 616e 6365  5%","maintenance
-0002aff0: 4d61 7267 696e 4572 223a 3530 3030 3030  MarginEr":500000
-0002b000: 7d2c 0a20 2020 2020 2020 2023 2020 2020  },.        #    
-0002b010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b020: 2020 2020 207b 226c 696d 6974 223a 3135       {"limit":15
-0002b030: 302c 2269 6e69 7469 616c 4d61 7267 696e  0,"initialMargin
-0002b040: 223a 2231 2e35 2522 2c22 696e 6974 6961  ":"1.5%","initia
-0002b050: 6c4d 6172 6769 6e45 7222 3a31 3530 3030  lMarginEr":15000
-0002b060: 3030 2c22 6d61 696e 7465 6e61 6e63 654d  00,"maintenanceM
-0002b070: 6172 6769 6e22 3a22 312e 3025 222c 226d  argin":"1.0%","m
-0002b080: 6169 6e74 656e 616e 6365 4d61 7267 696e  aintenanceMargin
-0002b090: 4572 223a 3130 3030 3030 307d 2c0a 2020  Er":1000000},.  
-0002b0a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002b0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b0c0: 7b22 6c69 6d69 7422 3a32 3030 2c22 696e  {"limit":200,"in
-0002b0d0: 6974 6961 6c4d 6172 6769 6e22 3a22 322e  itialMargin":"2.
-0002b0e0: 3025 222c 2269 6e69 7469 616c 4d61 7267  0%","initialMarg
-0002b0f0: 696e 4572 223a 3230 3030 3030 302c 226d  inEr":2000000,"m
-0002b100: 6169 6e74 656e 616e 6365 4d61 7267 696e  aintenanceMargin
-0002b110: 223a 2231 2e35 2522 2c22 6d61 696e 7465  ":"1.5%","mainte
-0002b120: 6e61 6e63 654d 6172 6769 6e45 7222 3a31  nanceMarginEr":1
-0002b130: 3530 3030 3030 7d2c 0a20 2020 2020 2020  500000},.       
-0002b140: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002b150: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-0002b160: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002b170: 2020 207d 2c0a 2020 2020 2020 2020 2320     },.        # 
-0002b180: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-0002b190: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002b1a0: 2020 2020 2022 6c65 7665 7261 6765 7322       "leverages"
-0002b1b0: 3a5b 0a20 2020 2020 2020 2023 2020 2020  :[.        #    
-0002b1c0: 2020 2020 2020 2020 2020 2020 207b 2269               {"i
-0002b1d0: 6e69 7469 616c 4d61 7267 696e 223a 2231  nitialMargin":"1
-0002b1e0: 2e30 2522 2c22 696e 6974 6961 6c4d 6172  .0%","initialMar
-0002b1f0: 6769 6e45 7222 3a31 3030 3030 3030 2c22  ginEr":1000000,"
-0002b200: 6f70 7469 6f6e 7322 3a5b 312c 322c 332c  options":[1,2,3,
-0002b210: 352c 3130 2c32 352c 3530 2c31 3030 5d7d  5,10,25,50,100]}
-0002b220: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002b230: 2020 2020 2020 2020 2020 2020 7b22 696e              {"in
-0002b240: 6974 6961 6c4d 6172 6769 6e22 3a22 312e  itialMargin":"1.
-0002b250: 3525 222c 2269 6e69 7469 616c 4d61 7267  5%","initialMarg
-0002b260: 696e 4572 223a 3135 3030 3030 302c 226f  inEr":1500000,"o
-0002b270: 7074 696f 6e73 223a 5b31 2c32 2c33 2c35  ptions":[1,2,3,5
-0002b280: 2c31 302c 3235 2c35 302c 3636 5d7d 2c0a  ,10,25,50,66]},.
-0002b290: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002b2a0: 2020 2020 2020 2020 2020 7b22 696e 6974            {"init
-0002b2b0: 6961 6c4d 6172 6769 6e22 3a22 322e 3025  ialMargin":"2.0%
-0002b2c0: 222c 2269 6e69 7469 616c 4d61 7267 696e  ","initialMargin
-0002b2d0: 4572 223a 3230 3030 3030 302c 226f 7074  Er":2000000,"opt
-0002b2e0: 696f 6e73 223a 5b31 2c32 2c33 2c35 2c31  ions":[1,2,3,5,1
-0002b2f0: 302c 3235 2c33 332c 3530 5d7d 2c0a 2020  0,25,33,50]},.  
-0002b300: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002b310: 2020 2020 5d0a 2020 2020 2020 2020 2320      ].        # 
-0002b320: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-0002b330: 2020 2320 2020 2020 7d0a 2020 2020 2020    #     }.      
-0002b340: 2020 230a 2020 2020 2020 2020 230a 2020    #.        #.  
-0002b350: 2020 2020 2020 6461 7461 203d 2073 656c        data = sel
-0002b360: 662e 7361 6665 5f76 616c 7565 2872 6573  f.safe_value(res
-0002b370: 706f 6e73 652c 2027 6461 7461 272c 207b  ponse, 'data', {
-0002b380: 7d29 0a20 2020 2020 2020 2072 6973 6b4c  }).        riskL
-0002b390: 696d 6974 7320 3d20 7365 6c66 2e73 6166  imits = self.saf
-0002b3a0: 655f 7661 6c75 6528 6461 7461 2c20 2772  e_value(data, 'r
-0002b3b0: 6973 6b4c 696d 6974 7327 290a 2020 2020  iskLimits').    
-0002b3c0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-0002b3d0: 7061 7273 655f 6c65 7665 7261 6765 5f74  parse_leverage_t
-0002b3e0: 6965 7273 2872 6973 6b4c 696d 6974 732c  iers(riskLimits,
-0002b3f0: 2073 796d 626f 6c73 2c20 2773 796d 626f   symbols, 'symbo
-0002b400: 6c27 290a 0a20 2020 2064 6566 2070 6172  l')..    def par
-0002b410: 7365 5f6d 6172 6b65 745f 6c65 7665 7261  se_market_levera
-0002b420: 6765 5f74 6965 7273 2873 656c 662c 2069  ge_tiers(self, i
-0002b430: 6e66 6f2c 206d 6172 6b65 743d 4e6f 6e65  nfo, market=None
-0002b440: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-0002b450: 2020 2020 2020 203a 7061 7261 6d20 6469         :param di
-0002b460: 6374 2069 6e66 6f3a 2045 7863 6861 6e67  ct info: Exchang
-0002b470: 6520 6d61 726b 6574 2072 6573 706f 6e73  e market respons
-0002b480: 6520 666f 7220 3120 6d61 726b 6574 0a20  e for 1 market. 
-0002b490: 2020 2020 2020 203a 7061 7261 6d20 6469         :param di
-0002b4a0: 6374 206d 6172 6b65 743a 2043 4358 5420  ct market: CCXT 
-0002b4b0: 6d61 726b 6574 0a20 2020 2020 2020 2022  market.        "
-0002b4c0: 2222 0a20 2020 2020 2020 2023 0a20 2020  "".        #.   
-0002b4d0: 2020 2020 2023 2020 2020 207b 0a20 2020       #     {.   
-0002b4e0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-0002b4f0: 7379 6d62 6f6c 223a 2242 5443 5553 4422  symbol":"BTCUSD"
-0002b500: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002b510: 2020 2020 2273 7465 7073 223a 2235 3022      "steps":"50"
-0002b520: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002b530: 2020 2020 2272 6973 6b4c 696d 6974 7322      "riskLimits"
-0002b540: 3a5b 0a20 2020 2020 2020 2023 2020 2020  :[.        #    
-0002b550: 2020 2020 2020 2020 207b 226c 696d 6974           {"limit
-0002b560: 223a 3130 302c 2269 6e69 7469 616c 4d61  ":100,"initialMa
-0002b570: 7267 696e 223a 2231 2e30 2522 2c22 696e  rgin":"1.0%","in
-0002b580: 6974 6961 6c4d 6172 6769 6e45 7222 3a31  itialMarginEr":1
-0002b590: 3030 3030 3030 2c22 6d61 696e 7465 6e61  000000,"maintena
-0002b5a0: 6e63 654d 6172 6769 6e22 3a22 302e 3525  nceMargin":"0.5%
-0002b5b0: 222c 226d 6169 6e74 656e 616e 6365 4d61  ","maintenanceMa
-0002b5c0: 7267 696e 4572 223a 3530 3030 3030 7d2c  rginEr":500000},
-0002b5d0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002b5e0: 2020 2020 2020 207b 226c 696d 6974 223a         {"limit":
-0002b5f0: 3135 302c 2269 6e69 7469 616c 4d61 7267  150,"initialMarg
-0002b600: 696e 223a 2231 2e35 2522 2c22 696e 6974  in":"1.5%","init
-0002b610: 6961 6c4d 6172 6769 6e45 7222 3a31 3530  ialMarginEr":150
-0002b620: 3030 3030 2c22 6d61 696e 7465 6e61 6e63  0000,"maintenanc
-0002b630: 654d 6172 6769 6e22 3a22 312e 3025 222c  eMargin":"1.0%",
-0002b640: 226d 6169 6e74 656e 616e 6365 4d61 7267  "maintenanceMarg
-0002b650: 696e 4572 223a 3130 3030 3030 307d 2c0a  inEr":1000000},.
-0002b660: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002b670: 2020 2020 2020 7b22 6c69 6d69 7422 3a32        {"limit":2
-0002b680: 3030 2c22 696e 6974 6961 6c4d 6172 6769  00,"initialMargi
-0002b690: 6e22 3a22 322e 3025 222c 2269 6e69 7469  n":"2.0%","initi
-0002b6a0: 616c 4d61 7267 696e 4572 223a 3230 3030  alMarginEr":2000
-0002b6b0: 3030 302c 226d 6169 6e74 656e 616e 6365  000,"maintenance
-0002b6c0: 4d61 7267 696e 223a 2231 2e35 2522 2c22  Margin":"1.5%","
-0002b6d0: 6d61 696e 7465 6e61 6e63 654d 6172 6769  maintenanceMargi
-0002b6e0: 6e45 7222 3a31 3530 3030 3030 7d2c 0a20  nEr":1500000},. 
-0002b6f0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002b700: 205d 0a20 2020 2020 2020 2023 2020 2020   ].        #    
-0002b710: 207d 2c0a 2020 2020 2020 2020 230a 2020   },.        #.  
-0002b720: 2020 2020 2020 6d61 726b 6574 203d 2073        market = s
-0002b730: 656c 662e 7361 6665 5f6d 6172 6b65 7428  elf.safe_market(
-0002b740: 4e6f 6e65 2c20 6d61 726b 6574 290a 2020  None, market).  
-0002b750: 2020 2020 2020 7269 736b 4c69 6d69 7473        riskLimits
-0002b760: 203d 2028 6d61 726b 6574 5b27 696e 666f   = (market['info
-0002b770: 275d 5b27 7269 736b 4c69 6d69 7473 275d  ']['riskLimits']
-0002b780: 290a 2020 2020 2020 2020 7469 6572 7320  ).        tiers 
-0002b790: 3d20 5b5d 0a20 2020 2020 2020 206d 696e  = [].        min
-0002b7a0: 4e6f 7469 6f6e 616c 203d 2030 0a20 2020  Notional = 0.   
-0002b7b0: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
-0002b7c0: 6e67 6528 302c 206c 656e 2872 6973 6b4c  nge(0, len(riskL
-0002b7d0: 696d 6974 7329 293a 0a20 2020 2020 2020  imits)):.       
-0002b7e0: 2020 2020 2074 6965 7220 3d20 7269 736b       tier = risk
-0002b7f0: 4c69 6d69 7473 5b69 5d0a 2020 2020 2020  Limits[i].      
-0002b800: 2020 2020 2020 6d61 784e 6f74 696f 6e61        maxNotiona
-0002b810: 6c20 3d20 7365 6c66 2e73 6166 655f 696e  l = self.safe_in
-0002b820: 7465 6765 7228 7469 6572 2c20 276c 696d  teger(tier, 'lim
-0002b830: 6974 2729 0a20 2020 2020 2020 2020 2020  it').           
-0002b840: 2074 6965 7273 2e61 7070 656e 6428 7b0a   tiers.append({.
-0002b850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b860: 2774 6965 7227 3a20 7365 6c66 2e73 756d  'tier': self.sum
-0002b870: 2869 2c20 3129 2c0a 2020 2020 2020 2020  (i, 1),.        
-0002b880: 2020 2020 2020 2020 2763 7572 7265 6e63          'currenc
-0002b890: 7927 3a20 6d61 726b 6574 5b27 7365 7474  y': market['sett
-0002b8a0: 6c65 275d 2c0a 2020 2020 2020 2020 2020  le'],.          
-0002b8b0: 2020 2020 2020 276d 696e 4e6f 7469 6f6e        'minNotion
-0002b8c0: 616c 273a 206d 696e 4e6f 7469 6f6e 616c  al': minNotional
-0002b8d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002b8e0: 2020 276d 6178 4e6f 7469 6f6e 616c 273a    'maxNotional':
-0002b8f0: 206d 6178 4e6f 7469 6f6e 616c 2c0a 2020   maxNotional,.  
-0002b900: 2020 2020 2020 2020 2020 2020 2020 276d                'm
-0002b910: 6169 6e74 656e 616e 6365 4d61 7267 696e  aintenanceMargin
-0002b920: 5261 7465 273a 2073 656c 662e 7361 6665  Rate': self.safe
-0002b930: 5f73 7472 696e 6728 7469 6572 2c20 276d  _string(tier, 'm
-0002b940: 6169 6e74 656e 616e 6365 4d61 7267 696e  aintenanceMargin
-0002b950: 2729 2c0a 2020 2020 2020 2020 2020 2020  '),.            
-0002b960: 2020 2020 276d 6178 4c65 7665 7261 6765      'maxLeverage
-0002b970: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
-0002b980: 2020 2020 2020 2020 2027 696e 666f 273a           'info':
-0002b990: 2074 6965 722c 0a20 2020 2020 2020 2020   tier,.         
-0002b9a0: 2020 207d 290a 2020 2020 2020 2020 2020     }).          
-0002b9b0: 2020 6d69 6e4e 6f74 696f 6e61 6c20 3d20    minNotional = 
-0002b9c0: 6d61 784e 6f74 696f 6e61 6c0a 2020 2020  maxNotional.    
-0002b9d0: 2020 2020 7265 7475 726e 2074 6965 7273      return tiers
-0002b9e0: 0a0a 2020 2020 6465 6620 7369 676e 2873  ..    def sign(s
-0002b9f0: 656c 662c 2070 6174 682c 2061 7069 3d27  elf, path, api='
-0002ba00: 7075 626c 6963 272c 206d 6574 686f 643d  public', method=
-0002ba10: 2747 4554 272c 2070 6172 616d 733d 7b7d  'GET', params={}
-0002ba20: 2c20 6865 6164 6572 733d 4e6f 6e65 2c20  , headers=None, 
-0002ba30: 626f 6479 3d4e 6f6e 6529 3a0a 2020 2020  body=None):.    
-0002ba40: 2020 2020 7175 6572 7920 3d20 7365 6c66      query = self
-0002ba50: 2e6f 6d69 7428 7061 7261 6d73 2c20 7365  .omit(params, se
-0002ba60: 6c66 2e65 7874 7261 6374 5f70 6172 616d  lf.extract_param
-0002ba70: 7328 7061 7468 2929 0a20 2020 2020 2020  s(path)).       
-0002ba80: 2072 6571 7565 7374 5061 7468 203d 2027   requestPath = '
-0002ba90: 2f27 202b 2073 656c 662e 696d 706c 6f64  /' + self.implod
-0002baa0: 655f 7061 7261 6d73 2870 6174 682c 2070  e_params(path, p
-0002bab0: 6172 616d 7329 0a20 2020 2020 2020 2075  arams).        u
-0002bac0: 726c 203d 2072 6571 7565 7374 5061 7468  rl = requestPath
-0002bad0: 0a20 2020 2020 2020 2071 7565 7279 5374  .        querySt
-0002bae0: 7269 6e67 203d 2027 270a 2020 2020 2020  ring = ''.      
-0002baf0: 2020 6966 2028 6d65 7468 6f64 203d 3d20    if (method == 
-0002bb00: 2747 4554 2729 206f 7220 286d 6574 686f  'GET') or (metho
-0002bb10: 6420 3d3d 2027 4445 4c45 5445 2729 206f  d == 'DELETE') o
-0002bb20: 7220 286d 6574 686f 6420 3d3d 2027 5055  r (method == 'PU
-0002bb30: 5427 2920 6f72 2028 7572 6c20 3d3d 2027  T') or (url == '
-0002bb40: 2f70 6f73 6974 696f 6e73 2f61 7373 6967  /positions/assig
-0002bb50: 6e27 293a 0a20 2020 2020 2020 2020 2020  n'):.           
-0002bb60: 2069 6620 7175 6572 793a 0a20 2020 2020   if query:.     
-0002bb70: 2020 2020 2020 2020 2020 2071 7565 7279             query
-0002bb80: 5374 7269 6e67 203d 2073 656c 662e 7572  String = self.ur
-0002bb90: 6c65 6e63 6f64 655f 7769 7468 5f61 7272  lencode_with_arr
-0002bba0: 6179 5f72 6570 6561 7428 7175 6572 7929  ay_repeat(query)
-0002bbb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002bbc0: 2075 726c 202b 3d20 273f 2720 2b20 7175   url += '?' + qu
-0002bbd0: 6572 7953 7472 696e 670a 2020 2020 2020  eryString.      
-0002bbe0: 2020 6966 2061 7069 203d 3d20 2770 7269    if api == 'pri
-0002bbf0: 7661 7465 273a 0a20 2020 2020 2020 2020  vate':.         
-0002bc00: 2020 2073 656c 662e 6368 6563 6b5f 7265     self.check_re
-0002bc10: 7175 6972 6564 5f63 7265 6465 6e74 6961  quired_credentia
-0002bc20: 6c73 2829 0a20 2020 2020 2020 2020 2020  ls().           
-0002bc30: 2074 696d 6573 7461 6d70 203d 2073 656c   timestamp = sel
-0002bc40: 662e 7365 636f 6e64 7328 290a 2020 2020  f.seconds().    
-0002bc50: 2020 2020 2020 2020 7850 6865 6d65 7852          xPhemexR
-0002bc60: 6571 7565 7374 4578 7069 7279 203d 2073  equestExpiry = s
-0002bc70: 656c 662e 7361 6665 5f69 6e74 6567 6572  elf.safe_integer
-0002bc80: 2873 656c 662e 6f70 7469 6f6e 732c 2027  (self.options, '
-0002bc90: 782d 7068 656d 6578 2d72 6571 7565 7374  x-phemex-request
-0002bca0: 2d65 7870 6972 7927 2c20 3630 290a 2020  -expiry', 60).  
-0002bcb0: 2020 2020 2020 2020 2020 6578 7069 7279            expiry
-0002bcc0: 203d 2073 656c 662e 7375 6d28 7469 6d65   = self.sum(time
-0002bcd0: 7374 616d 702c 2078 5068 656d 6578 5265  stamp, xPhemexRe
-0002bce0: 7175 6573 7445 7870 6972 7929 0a20 2020  questExpiry).   
-0002bcf0: 2020 2020 2020 2020 2065 7870 6972 7953           expiryS
-0002bd00: 7472 696e 6720 3d20 7374 7228 6578 7069  tring = str(expi
-0002bd10: 7279 290a 2020 2020 2020 2020 2020 2020  ry).            
-0002bd20: 6865 6164 6572 7320 3d20 7b0a 2020 2020  headers = {.    
-0002bd30: 2020 2020 2020 2020 2020 2020 2778 2d70              'x-p
-0002bd40: 6865 6d65 782d 6163 6365 7373 2d74 6f6b  hemex-access-tok
-0002bd50: 656e 273a 2073 656c 662e 6170 694b 6579  en': self.apiKey
-0002bd60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002bd70: 2020 2778 2d70 6865 6d65 782d 7265 7175    'x-phemex-requ
-0002bd80: 6573 742d 6578 7069 7279 273a 2065 7870  est-expiry': exp
-0002bd90: 6972 7953 7472 696e 672c 0a20 2020 2020  iryString,.     
-0002bda0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
-0002bdb0: 2020 2020 2070 6179 6c6f 6164 203d 2027       payload = '
-0002bdc0: 270a 2020 2020 2020 2020 2020 2020 6966  '.            if
-0002bdd0: 206d 6574 686f 6420 3d3d 2027 504f 5354   method == 'POST
-0002bde0: 273a 0a20 2020 2020 2020 2020 2020 2020  ':.             
-0002bdf0: 2020 2070 6179 6c6f 6164 203d 2073 656c     payload = sel
-0002be00: 662e 6a73 6f6e 2870 6172 616d 7329 0a20  f.json(params). 
-0002be10: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-0002be20: 6f64 7920 3d20 7061 796c 6f61 640a 2020  ody = payload.  
-0002be30: 2020 2020 2020 2020 2020 2020 2020 6865                he
-0002be40: 6164 6572 735b 2743 6f6e 7465 6e74 2d54  aders['Content-T
-0002be50: 7970 6527 5d20 3d20 2761 7070 6c69 6361  ype'] = 'applica
-0002be60: 7469 6f6e 2f6a 736f 6e27 0a20 2020 2020  tion/json'.     
-0002be70: 2020 2020 2020 2061 7574 6820 3d20 7265         auth = re
-0002be80: 7175 6573 7450 6174 6820 2b20 7175 6572  questPath + quer
-0002be90: 7953 7472 696e 6720 2b20 6578 7069 7279  yString + expiry
-0002bea0: 5374 7269 6e67 202b 2070 6179 6c6f 6164  String + payload
-0002beb0: 0a20 2020 2020 2020 2020 2020 2068 6561  .            hea
-0002bec0: 6465 7273 5b27 782d 7068 656d 6578 2d72  ders['x-phemex-r
-0002bed0: 6571 7565 7374 2d73 6967 6e61 7475 7265  equest-signature
-0002bee0: 275d 203d 2073 656c 662e 686d 6163 2873  '] = self.hmac(s
-0002bef0: 656c 662e 656e 636f 6465 2861 7574 6829  elf.encode(auth)
-0002bf00: 2c20 7365 6c66 2e65 6e63 6f64 6528 7365  , self.encode(se
-0002bf10: 6c66 2e73 6563 7265 7429 2c20 6861 7368  lf.secret), hash
-0002bf20: 6c69 622e 7368 6132 3536 290a 2020 2020  lib.sha256).    
-0002bf30: 2020 2020 7572 6c20 3d20 7365 6c66 2e69      url = self.i
-0002bf40: 6d70 6c6f 6465 5f68 6f73 746e 616d 6528  mplode_hostname(
-0002bf50: 7365 6c66 2e75 726c 735b 2761 7069 275d  self.urls['api']
-0002bf60: 5b61 7069 5d29 202b 2075 726c 0a20 2020  [api]) + url.   
-0002bf70: 2020 2020 2072 6574 7572 6e20 7b27 7572       return {'ur
-0002bf80: 6c27 3a20 7572 6c2c 2027 6d65 7468 6f64  l': url, 'method
-0002bf90: 273a 206d 6574 686f 642c 2027 626f 6479  ': method, 'body
-0002bfa0: 273a 2062 6f64 792c 2027 6865 6164 6572  ': body, 'header
-0002bfb0: 7327 3a20 6865 6164 6572 737d 0a0a 2020  s': headers}..  
-0002bfc0: 2020 6173 796e 6320 6465 6620 7365 745f    async def set_
-0002bfd0: 6c65 7665 7261 6765 2873 656c 662c 206c  leverage(self, l
-0002bfe0: 6576 6572 6167 652c 2073 796d 626f 6c3a  everage, symbol:
-0002bff0: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
-0002c000: 204e 6f6e 652c 2070 6172 616d 733d 7b7d   None, params={}
-0002c010: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-0002c020: 2020 2020 2020 2073 6574 2074 6865 206c         set the l
-0002c030: 6576 656c 206f 6620 6c65 7665 7261 6765  evel of leverage
-0002c040: 2066 6f72 2061 206d 6172 6b65 740a 2020   for a market.  
-0002c050: 2020 2020 2020 7365 6520 6874 7470 733a        see https:
-0002c060: 2f2f 6769 7468 7562 2e63 6f6d 2f70 6865  //github.com/phe
-0002c070: 6d65 782f 7068 656d 6578 2d61 7069 2d64  mex/phemex-api-d
-0002c080: 6f63 732f 626c 6f62 2f6d 6173 7465 722f  ocs/blob/master/
-0002c090: 5075 626c 6963 2d48 6564 6765 642d 5065  Public-Hedged-Pe
-0002c0a0: 7270 6574 7561 6c2d 4150 492e 6d64 2373  rpetual-API.md#s
-0002c0b0: 6574 2d6c 6576 6572 6167 650a 2020 2020  et-leverage.    
-0002c0c0: 2020 2020 3a70 6172 616d 2066 6c6f 6174      :param float
-0002c0d0: 206c 6576 6572 6167 653a 2074 6865 2072   leverage: the r
-0002c0e0: 6174 6520 6f66 206c 6576 6572 6167 650a  ate of leverage.
-0002c0f0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-0002c100: 7472 2073 796d 626f 6c3a 2075 6e69 6669  tr symbol: unifi
-0002c110: 6564 206d 6172 6b65 7420 7379 6d62 6f6c  ed market symbol
-0002c120: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0002c130: 6469 6374 2070 6172 616d 733a 2065 7874  dict params: ext
-0002c140: 7261 2070 6172 616d 6574 6572 7320 7370  ra parameters sp
-0002c150: 6563 6966 6963 2074 6f20 7468 6520 7068  ecific to the ph
-0002c160: 656d 6578 2061 7069 2065 6e64 706f 696e  emex api endpoin
-0002c170: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
-0002c180: 6e73 2064 6963 743a 2072 6573 706f 6e73  ns dict: respons
-0002c190: 6520 6672 6f6d 2074 6865 2065 7863 6861  e from the excha
-0002c1a0: 6e67 650a 2020 2020 2020 2020 2222 220a  nge.        """.
-0002c1b0: 2020 2020 2020 2020 2320 5741 524e 494e          # WARNIN
-0002c1c0: 473a 2054 4849 5320 5749 4c4c 2049 4e43  G: THIS WILL INC
-0002c1d0: 5245 4153 4520 4c49 5155 4944 4154 494f  REASE LIQUIDATIO
-0002c1e0: 4e20 5052 4943 4520 464f 5220 4f50 454e  N PRICE FOR OPEN
-0002c1f0: 2049 534f 4c41 5445 4420 4c4f 4e47 2050   ISOLATED LONG P
-0002c200: 4f53 4954 494f 4e53 0a20 2020 2020 2020  OSITIONS.       
-0002c210: 2023 2041 4e44 2044 4543 5245 4153 4520   # AND DECREASE 
-0002c220: 4c49 5155 4944 4154 494f 4e20 5052 4943  LIQUIDATION PRIC
-0002c230: 4520 464f 5220 4f50 454e 2049 534f 4c41  E FOR OPEN ISOLA
-0002c240: 5445 4420 5348 4f52 5420 504f 5349 5449  TED SHORT POSITI
-0002c250: 4f4e 530a 2020 2020 2020 2020 6966 2073  ONS.        if s
-0002c260: 796d 626f 6c20 6973 204e 6f6e 653a 0a20  ymbol is None:. 
-0002c270: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0002c280: 2041 7267 756d 656e 7473 5265 7175 6972   ArgumentsRequir
-0002c290: 6564 2873 656c 662e 6964 202b 2027 2073  ed(self.id + ' s
-0002c2a0: 6574 4c65 7665 7261 6765 2829 2072 6571  etLeverage() req
-0002c2b0: 7569 7265 7320 6120 7379 6d62 6f6c 2061  uires a symbol a
-0002c2c0: 7267 756d 656e 7427 290a 2020 2020 2020  rgument').      
-0002c2d0: 2020 6966 2028 6c65 7665 7261 6765 203c    if (leverage <
-0002c2e0: 2031 2920 6f72 2028 6c65 7665 7261 6765   1) or (leverage
-0002c2f0: 203e 2031 3030 293a 0a20 2020 2020 2020   > 100):.       
-0002c300: 2020 2020 2072 6169 7365 2042 6164 5265       raise BadRe
-0002c310: 7175 6573 7428 7365 6c66 2e69 6420 2b20  quest(self.id + 
-0002c320: 2720 7365 744c 6576 6572 6167 6528 2920  ' setLeverage() 
-0002c330: 6c65 7665 7261 6765 2073 686f 756c 6420  leverage should 
-0002c340: 6265 2062 6574 7765 656e 2031 2061 6e64  be between 1 and
-0002c350: 2031 3030 2729 0a20 2020 2020 2020 2061   100').        a
-0002c360: 7761 6974 2073 656c 662e 6c6f 6164 5f6d  wait self.load_m
-0002c370: 6172 6b65 7473 2829 0a20 2020 2020 2020  arkets().       
-0002c380: 206d 6172 6b65 7420 3d20 7365 6c66 2e6d   market = self.m
-0002c390: 6172 6b65 7428 7379 6d62 6f6c 290a 2020  arket(symbol).  
-0002c3a0: 2020 2020 2020 7265 7175 6573 7420 3d20        request = 
-0002c3b0: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
-0002c3c0: 796d 626f 6c27 3a20 6d61 726b 6574 5b27  ymbol': market['
-0002c3d0: 6964 275d 2c0a 2020 2020 2020 2020 7d0a  id'],.        }.
-0002c3e0: 2020 2020 2020 2020 6d65 7468 6f64 203d          method =
-0002c3f0: 2027 7072 6976 6174 6550 7574 506f 7369   'privatePutPosi
-0002c400: 7469 6f6e 734c 6576 6572 6167 6527 0a20  tionsLeverage'. 
-0002c410: 2020 2020 2020 2069 6620 6d61 726b 6574         if market
-0002c420: 5b27 7365 7474 6c65 275d 203d 3d20 2755  ['settle'] == 'U
-0002c430: 5344 5427 3a0a 2020 2020 2020 2020 2020  SDT':.          
-0002c440: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
-0002c450: 6174 6550 7574 4750 6f73 6974 696f 6e73  atePutGPositions
-0002c460: 4c65 7665 7261 6765 270a 2020 2020 2020  Leverage'.      
-0002c470: 2020 2020 2020 7265 7175 6573 745b 276c        request['l
-0002c480: 6576 6572 6167 6552 7227 5d20 3d20 6c65  everageRr'] = le
-0002c490: 7665 7261 6765 0a20 2020 2020 2020 2065  verage.        e
-0002c4a0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002c4b0: 2072 6571 7565 7374 5b27 6c65 7665 7261   request['levera
-0002c4c0: 6765 275d 203d 206c 6576 6572 6167 650a  ge'] = leverage.
-0002c4d0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0002c4e0: 7761 6974 2067 6574 6174 7472 2873 656c  wait getattr(sel
-0002c4f0: 662c 206d 6574 686f 6429 2873 656c 662e  f, method)(self.
-0002c500: 6578 7465 6e64 2872 6571 7565 7374 2c20  extend(request, 
-0002c510: 7061 7261 6d73 2929 0a0a 2020 2020 6173  params))..    as
-0002c520: 796e 6320 6465 6620 7472 616e 7366 6572  ync def transfer
-0002c530: 2873 656c 662c 2063 6f64 653a 2073 7472  (self, code: str
-0002c540: 2c20 616d 6f75 6e74 2c20 6672 6f6d 4163  , amount, fromAc
-0002c550: 636f 756e 742c 2074 6f41 6363 6f75 6e74  count, toAccount
-0002c560: 2c20 7061 7261 6d73 3d7b 7d29 3a0a 2020  , params={}):.  
-0002c570: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0002c580: 2020 7472 616e 7366 6572 2063 7572 7265    transfer curre
-0002c590: 6e63 7920 696e 7465 726e 616c 6c79 2062  ncy internally b
-0002c5a0: 6574 7765 656e 2077 616c 6c65 7473 206f  etween wallets o
-0002c5b0: 6e20 7468 6520 7361 6d65 2061 6363 6f75  n the same accou
-0002c5c0: 6e74 0a20 2020 2020 2020 203a 7061 7261  nt.        :para
-0002c5d0: 6d20 7374 7220 636f 6465 3a20 756e 6966  m str code: unif
-0002c5e0: 6965 6420 6375 7272 656e 6379 2063 6f64  ied currency cod
-0002c5f0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-0002c600: 2066 6c6f 6174 2061 6d6f 756e 743a 2061   float amount: a
-0002c610: 6d6f 756e 7420 746f 2074 7261 6e73 6665  mount to transfe
-0002c620: 720a 2020 2020 2020 2020 3a70 6172 616d  r.        :param
-0002c630: 2073 7472 2066 726f 6d41 6363 6f75 6e74   str fromAccount
-0002c640: 3a20 6163 636f 756e 7420 746f 2074 7261  : account to tra
-0002c650: 6e73 6665 7220 6672 6f6d 0a20 2020 2020  nsfer from.     
-0002c660: 2020 203a 7061 7261 6d20 7374 7220 746f     :param str to
-0002c670: 4163 636f 756e 743a 2061 6363 6f75 6e74  Account: account
-0002c680: 2074 6f20 7472 616e 7366 6572 2074 6f0a   to transfer to.
-0002c690: 2020 2020 2020 2020 3a70 6172 616d 2064          :param d
-0002c6a0: 6963 7420 7061 7261 6d73 3a20 6578 7472  ict params: extr
-0002c6b0: 6120 7061 7261 6d65 7465 7273 2073 7065  a parameters spe
-0002c6c0: 6369 6669 6320 746f 2074 6865 2070 6865  cific to the phe
-0002c6d0: 6d65 7820 6170 6920 656e 6470 6f69 6e74  mex api endpoint
-0002c6e0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0002c6f0: 7374 727c 4e6f 6e65 2070 6172 616d 735b  str|None params[
-0002c700: 2762 697a 5479 7065 275d 3a20 666f 7220  'bizType']: for 
-0002c710: 7472 616e 7366 6572 7269 6e67 2062 6574  transferring bet
-0002c720: 7765 656e 206d 6169 6e20 616e 6420 7375  ween main and su
-0002c730: 622d 6163 6f75 6e74 7320 6569 7468 6572  b-acounts either
-0002c740: 2027 5350 4f54 2720 6f72 2027 5045 5250   'SPOT' or 'PERP
-0002c750: 4554 5541 4c27 2064 6566 6175 6c74 2069  ETUAL' default i
-0002c760: 7320 2753 504f 5427 0a20 2020 2020 2020  s 'SPOT'.       
-0002c770: 203a 7265 7475 726e 7320 6469 6374 3a20   :returns dict: 
-0002c780: 6120 6074 7261 6e73 6665 7220 7374 7275  a `transfer stru
-0002c790: 6374 7572 6520 3c68 7474 7073 3a2f 2f64  cture <https://d
-0002c7a0: 6f63 732e 6363 7874 2e63 6f6d 2f23 2f3f  ocs.ccxt.com/#/?
-0002c7b0: 6964 3d74 7261 6e73 6665 722d 7374 7275  id=transfer-stru
-0002c7c0: 6374 7572 653e 600a 2020 2020 2020 2020  cture>`.        
-0002c7d0: 2222 220a 2020 2020 2020 2020 6177 6169  """.        awai
-0002c7e0: 7420 7365 6c66 2e6c 6f61 645f 6d61 726b  t self.load_mark
-0002c7f0: 6574 7328 290a 2020 2020 2020 2020 6375  ets().        cu
-0002c800: 7272 656e 6379 203d 2073 656c 662e 6375  rrency = self.cu
-0002c810: 7272 656e 6379 2863 6f64 6529 0a20 2020  rrency(code).   
-0002c820: 2020 2020 2061 6363 6f75 6e74 7342 7954       accountsByT
-0002c830: 7970 6520 3d20 7365 6c66 2e73 6166 655f  ype = self.safe_
-0002c840: 7661 6c75 6528 7365 6c66 2e6f 7074 696f  value(self.optio
-0002c850: 6e73 2c20 2761 6363 6f75 6e74 7342 7954  ns, 'accountsByT
-0002c860: 7970 6527 2c20 7b7d 290a 2020 2020 2020  ype', {}).      
-0002c870: 2020 6672 6f6d 4964 203d 2073 656c 662e    fromId = self.
-0002c880: 7361 6665 5f73 7472 696e 6728 6163 636f  safe_string(acco
-0002c890: 756e 7473 4279 5479 7065 2c20 6672 6f6d  untsByType, from
-0002c8a0: 4163 636f 756e 742c 2066 726f 6d41 6363  Account, fromAcc
-0002c8b0: 6f75 6e74 290a 2020 2020 2020 2020 746f  ount).        to
-0002c8c0: 4964 203d 2073 656c 662e 7361 6665 5f73  Id = self.safe_s
-0002c8d0: 7472 696e 6728 6163 636f 756e 7473 4279  tring(accountsBy
-0002c8e0: 5479 7065 2c20 746f 4163 636f 756e 742c  Type, toAccount,
-0002c8f0: 2074 6f41 6363 6f75 6e74 290a 2020 2020   toAccount).    
-0002c900: 2020 2020 7363 616c 6564 416d 6d6f 756e      scaledAmmoun
-0002c910: 7420 3d20 7365 6c66 2e74 6f5f 6576 2861  t = self.to_ev(a
-0002c920: 6d6f 756e 742c 2063 7572 7265 6e63 7929  mount, currency)
-0002c930: 0a20 2020 2020 2020 2064 6972 6563 7469  .        directi
-0002c940: 6f6e 203d 204e 6f6e 650a 2020 2020 2020  on = None.      
-0002c950: 2020 7472 616e 7366 6572 203d 204e 6f6e    transfer = Non
-0002c960: 650a 2020 2020 2020 2020 6966 2066 726f  e.        if fro
-0002c970: 6d49 6420 3d3d 2027 7370 6f74 2720 616e  mId == 'spot' an
-0002c980: 6420 746f 4964 203d 3d20 2766 7574 7572  d toId == 'futur
-0002c990: 6527 3a0a 2020 2020 2020 2020 2020 2020  e':.            
-0002c9a0: 6469 7265 6374 696f 6e20 3d20 320a 2020  direction = 2.  
-0002c9b0: 2020 2020 2020 656c 6966 2066 726f 6d49        elif fromI
-0002c9c0: 6420 3d3d 2027 6675 7475 7265 2720 616e  d == 'future' an
-0002c9d0: 6420 746f 4964 203d 3d20 2773 706f 7427  d toId == 'spot'
-0002c9e0: 3a0a 2020 2020 2020 2020 2020 2020 6469  :.            di
-0002c9f0: 7265 6374 696f 6e20 3d20 310a 2020 2020  rection = 1.    
-0002ca00: 2020 2020 6966 2064 6972 6563 7469 6f6e      if direction
-0002ca10: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-0002ca20: 2020 2020 2020 2020 2020 7265 7175 6573            reques
-0002ca30: 7420 3d20 7b0a 2020 2020 2020 2020 2020  t = {.          
-0002ca40: 2020 2020 2020 2763 7572 7265 6e63 7927        'currency'
-0002ca50: 3a20 6375 7272 656e 6379 5b27 6964 275d  : currency['id']
-0002ca60: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002ca70: 2020 276d 6f76 654f 7027 3a20 6469 7265    'moveOp': dire
-0002ca80: 6374 696f 6e2c 0a20 2020 2020 2020 2020  ction,.         
-0002ca90: 2020 2020 2020 2027 616d 6f75 6e74 4576         'amountEv
-0002caa0: 273a 2073 6361 6c65 6441 6d6d 6f75 6e74  ': scaledAmmount
-0002cab0: 2c0a 2020 2020 2020 2020 2020 2020 7d0a  ,.            }.
-0002cac0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
-0002cad0: 6f6e 7365 203d 2061 7761 6974 2073 656c  onse = await sel
-0002cae0: 662e 7072 6976 6174 6550 6f73 7441 7373  f.privatePostAss
-0002caf0: 6574 7354 7261 6e73 6665 7228 7365 6c66  etsTransfer(self
-0002cb00: 2e65 7874 656e 6428 7265 7175 6573 742c  .extend(request,
-0002cb10: 2070 6172 616d 7329 290a 2020 2020 2020   params)).      
-0002cb20: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-0002cb30: 2020 2020 2320 2020 2020 7b0a 2020 2020      #     {.    
-0002cb40: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002cb50: 2020 636f 6465 3a20 2730 272c 0a20 2020    code: '0',.   
-0002cb60: 2020 2020 2020 2020 2023 2020 2020 2020           #      
-0002cb70: 2020 206d 7367 3a20 274f 4b27 2c0a 2020     msg: 'OK',.  
-0002cb80: 2020 2020 2020 2020 2020 2320 2020 2020            #     
-0002cb90: 2020 2020 6461 7461 3a20 7b0a 2020 2020      data: {.    
-0002cba0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002cbb0: 2020 2020 2020 6c69 6e6b 4b65 793a 2027        linkKey: '
-0002cbc0: 3835 3634 6562 6134 2d63 3965 632d 3439  8564eba4-c9ec-49
-0002cbd0: 6436 2d39 6238 632d 3265 6335 3030 3161  d6-9b8c-2ec5001a
-0002cbe0: 3066 6239 272c 0a20 2020 2020 2020 2020  0fb9',.         
-0002cbf0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002cc00: 2075 7365 7249 643a 2027 3430 3138 3334   userId: '401834
-0002cc10: 3027 2c0a 2020 2020 2020 2020 2020 2020  0',.            
-0002cc20: 2320 2020 2020 2020 2020 2020 2020 6375  #             cu
-0002cc30: 7272 656e 6379 3a20 2755 5344 272c 0a20  rrency: 'USD',. 
-0002cc40: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-0002cc50: 2020 2020 2020 2020 2061 6d6f 756e 7445           amountE
-0002cc60: 763a 2027 3130 272c 0a20 2020 2020 2020  v: '10',.       
-0002cc70: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002cc80: 2020 2073 6964 653a 2027 3227 2c0a 2020     side: '2',.  
-0002cc90: 2020 2020 2020 2020 2020 2320 2020 2020            #     
-0002cca0: 2020 2020 2020 2020 7374 6174 7573 3a20          status: 
-0002ccb0: 2731 3027 0a20 2020 2020 2020 2020 2020  '10'.           
-0002ccc0: 2023 2020 2020 2020 2020 207d 0a20 2020   #         }.   
-0002ccd0: 2020 2020 2020 2020 2023 2020 2020 207d           #     }
-0002cce0: 0a20 2020 2020 2020 2020 2020 2023 0a20  .            #. 
-0002ccf0: 2020 2020 2020 2020 2020 2064 6174 6120             data 
-0002cd00: 3d20 7365 6c66 2e73 6166 655f 7661 6c75  = self.safe_valu
-0002cd10: 6528 7265 7370 6f6e 7365 2c20 2764 6174  e(response, 'dat
-0002cd20: 6127 2c20 7b7d 290a 2020 2020 2020 2020  a', {}).        
-0002cd30: 2020 2020 7472 616e 7366 6572 203d 2073      transfer = s
-0002cd40: 656c 662e 7061 7273 655f 7472 616e 7366  elf.parse_transf
-0002cd50: 6572 2864 6174 612c 2063 7572 7265 6e63  er(data, currenc
-0002cd60: 7929 0a20 2020 2020 2020 2065 6c73 653a  y).        else:
-0002cd70: 2020 2320 7375 6220 6163 636f 756e 7420    # sub account 
-0002cd80: 7472 616e 7366 6572 0a20 2020 2020 2020  transfer.       
-0002cd90: 2020 2020 2072 6571 7565 7374 203d 207b       request = {
-0002cda0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002cdb0: 2027 6672 6f6d 5573 6572 4964 273a 2066   'fromUserId': f
-0002cdc0: 726f 6d49 642c 0a20 2020 2020 2020 2020  romId,.         
-0002cdd0: 2020 2020 2020 2027 746f 5573 6572 4964         'toUserId
-0002cde0: 273a 2074 6f49 642c 0a20 2020 2020 2020  ': toId,.       
-0002cdf0: 2020 2020 2020 2020 2027 616d 6f75 6e74           'amount
-0002ce00: 4576 273a 2073 6361 6c65 6441 6d6d 6f75  Ev': scaledAmmou
-0002ce10: 6e74 2c0a 2020 2020 2020 2020 2020 2020  nt,.            
-0002ce20: 2020 2020 2763 7572 7265 6e63 7927 3a20      'currency': 
-0002ce30: 6375 7272 656e 6379 5b27 6964 275d 2c0a  currency['id'],.
-0002ce40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ce50: 2762 697a 5479 7065 273a 2073 656c 662e  'bizType': self.
-0002ce60: 7361 6665 5f73 7472 696e 6728 7061 7261  safe_string(para
-0002ce70: 6d73 2c20 2762 697a 5479 7065 272c 2027  ms, 'bizType', '
-0002ce80: 5350 4f54 2729 2c0a 2020 2020 2020 2020  SPOT'),.        
-0002ce90: 2020 2020 7d0a 2020 2020 2020 2020 2020      }.          
-0002cea0: 2020 7265 7370 6f6e 7365 203d 2061 7761    response = awa
-0002ceb0: 6974 2073 656c 662e 7072 6976 6174 6550  it self.privateP
-0002cec0: 6f73 7441 7373 6574 7355 6e69 7665 7273  ostAssetsUnivers
-0002ced0: 616c 5472 616e 7366 6572 2873 656c 662e  alTransfer(self.
-0002cee0: 6578 7465 6e64 2872 6571 7565 7374 2c20  extend(request, 
-0002cef0: 7061 7261 6d73 2929 0a20 2020 2020 2020  params)).       
-0002cf00: 2020 2020 2023 0a20 2020 2020 2020 2020       #.         
-0002cf10: 2020 2023 2020 2020 207b 0a20 2020 2020     #     {.     
-0002cf20: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002cf30: 2063 6f64 653a 2027 3027 2c0a 2020 2020   code: '0',.    
-0002cf40: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002cf50: 2020 6d73 673a 2027 4f4b 272c 0a20 2020    msg: 'OK',.   
-0002cf60: 2020 2020 2020 2020 2023 2020 2020 2020           #      
-0002cf70: 2020 2064 6174 613a 2027 4150 492d 3932     data: 'API-92
-0002cf80: 3364 6238 3236 2d61 6161 612d 6161 6161  3db826-aaaa-aaaa
-0002cf90: 2d61 6161 612d 3464 3938 6333 6137 6339  -aaaa-4d98c3a7c9
-0002cfa0: 6664 270a 2020 2020 2020 2020 2020 2020  fd'.            
-0002cfb0: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
-0002cfc0: 2020 2020 230a 2020 2020 2020 2020 2020      #.          
-0002cfd0: 2020 7472 616e 7366 6572 203d 2073 656c    transfer = sel
-0002cfe0: 662e 7061 7273 655f 7472 616e 7366 6572  f.parse_transfer
-0002cff0: 2872 6573 706f 6e73 6529 0a20 2020 2020  (response).     
-0002d000: 2020 2074 7261 6e73 6665 724f 7074 696f     transferOptio
-0002d010: 6e73 203d 2073 656c 662e 7361 6665 5f76  ns = self.safe_v
-0002d020: 616c 7565 2873 656c 662e 6f70 7469 6f6e  alue(self.option
-0002d030: 732c 2027 7472 616e 7366 6572 272c 207b  s, 'transfer', {
-0002d040: 7d29 0a20 2020 2020 2020 2066 696c 6c52  }).        fillR
-0002d050: 6573 706f 6e73 6546 726f 6d52 6571 7565  esponseFromReque
-0002d060: 7374 203d 2073 656c 662e 7361 6665 5f76  st = self.safe_v
-0002d070: 616c 7565 2874 7261 6e73 6665 724f 7074  alue(transferOpt
-0002d080: 696f 6e73 2c20 2766 696c 6c52 6573 706f  ions, 'fillRespo
-0002d090: 6e73 6546 726f 6d52 6571 7565 7374 272c  nseFromRequest',
-0002d0a0: 2054 7275 6529 0a20 2020 2020 2020 2069   True).        i
-0002d0b0: 6620 6669 6c6c 5265 7370 6f6e 7365 4672  f fillResponseFr
-0002d0c0: 6f6d 5265 7175 6573 743a 0a20 2020 2020  omRequest:.     
-0002d0d0: 2020 2020 2020 2069 6620 7472 616e 7366         if transf
-0002d0e0: 6572 5b27 6672 6f6d 4163 636f 756e 7427  er['fromAccount'
-0002d0f0: 5d20 6973 204e 6f6e 653a 0a20 2020 2020  ] is None:.     
-0002d100: 2020 2020 2020 2020 2020 2074 7261 6e73             trans
-0002d110: 6665 725b 2766 726f 6d41 6363 6f75 6e74  fer['fromAccount
-0002d120: 275d 203d 2066 726f 6d41 6363 6f75 6e74  '] = fromAccount
-0002d130: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0002d140: 7472 616e 7366 6572 5b27 746f 4163 636f  transfer['toAcco
-0002d150: 756e 7427 5d20 6973 204e 6f6e 653a 0a20  unt'] is None:. 
-0002d160: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0002d170: 7261 6e73 6665 725b 2774 6f41 6363 6f75  ransfer['toAccou
-0002d180: 6e74 275d 203d 2074 6f41 6363 6f75 6e74  nt'] = toAccount
-0002d190: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0002d1a0: 7472 616e 7366 6572 5b27 616d 6f75 6e74  transfer['amount
-0002d1b0: 275d 2069 7320 4e6f 6e65 3a0a 2020 2020  '] is None:.    
-0002d1c0: 2020 2020 2020 2020 2020 2020 7472 616e              tran
-0002d1d0: 7366 6572 5b27 616d 6f75 6e74 275d 203d  sfer['amount'] =
-0002d1e0: 2061 6d6f 756e 740a 2020 2020 2020 2020   amount.        
-0002d1f0: 2020 2020 6966 2074 7261 6e73 6665 725b      if transfer[
-0002d200: 2763 7572 7265 6e63 7927 5d20 6973 204e  'currency'] is N
-0002d210: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0002d220: 2020 2020 2074 7261 6e73 6665 725b 2763       transfer['c
-0002d230: 7572 7265 6e63 7927 5d20 3d20 636f 6465  urrency'] = code
-0002d240: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0002d250: 7472 616e 7366 6572 0a0a 2020 2020 6173  transfer..    as
-0002d260: 796e 6320 6465 6620 6665 7463 685f 7472  ync def fetch_tr
-0002d270: 616e 7366 6572 7328 7365 6c66 2c20 636f  ansfers(self, co
-0002d280: 6465 3a20 4f70 7469 6f6e 616c 5b73 7472  de: Optional[str
-0002d290: 5d20 3d20 4e6f 6e65 2c20 7369 6e63 653a  ] = None, since:
-0002d2a0: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
-0002d2b0: 204e 6f6e 652c 206c 696d 6974 3a20 4f70   None, limit: Op
-0002d2c0: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
-0002d2d0: 6e65 2c20 7061 7261 6d73 3d7b 7d29 3a0a  ne, params={}):.
-0002d2e0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0002d2f0: 2020 2020 6665 7463 6820 6120 6869 7374      fetch a hist
-0002d300: 6f72 7920 6f66 2069 6e74 6572 6e61 6c20  ory of internal 
-0002d310: 7472 616e 7366 6572 7320 6d61 6465 206f  transfers made o
-0002d320: 6e20 616e 2061 6363 6f75 6e74 0a20 2020  n an account.   
-0002d330: 2020 2020 203a 7061 7261 6d20 7374 727c       :param str|
-0002d340: 4e6f 6e65 2063 6f64 653a 2075 6e69 6669  None code: unifi
-0002d350: 6564 2063 7572 7265 6e63 7920 636f 6465  ed currency code
-0002d360: 206f 6620 7468 6520 6375 7272 656e 6379   of the currency
-0002d370: 2074 7261 6e73 6665 7272 6564 0a20 2020   transferred.   
-0002d380: 2020 2020 203a 7061 7261 6d20 696e 747c       :param int|
-0002d390: 4e6f 6e65 2073 696e 6365 3a20 7468 6520  None since: the 
-0002d3a0: 6561 726c 6965 7374 2074 696d 6520 696e  earliest time in
-0002d3b0: 206d 7320 746f 2066 6574 6368 2074 7261   ms to fetch tra
-0002d3c0: 6e73 6665 7273 2066 6f72 0a20 2020 2020  nsfers for.     
-0002d3d0: 2020 203a 7061 7261 6d20 696e 747c 4e6f     :param int|No
-0002d3e0: 6e65 206c 696d 6974 3a20 7468 6520 6d61  ne limit: the ma
-0002d3f0: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
-0002d400: 2074 7261 6e73 6665 7273 2073 7472 7563   transfers struc
-0002d410: 7475 7265 7320 746f 2072 6574 7269 6576  tures to retriev
-0002d420: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-0002d430: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
-0002d440: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
-0002d450: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
-0002d460: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
-0002d470: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
-0002d480: 726e 7320 5b64 6963 745d 3a20 6120 6c69  rns [dict]: a li
-0002d490: 7374 206f 6620 6074 7261 6e73 6665 7220  st of `transfer 
-0002d4a0: 7374 7275 6374 7572 6573 203c 6874 7470  structures <http
-0002d4b0: 733a 2f2f 646f 6373 2e63 6378 742e 636f  s://docs.ccxt.co
-0002d4c0: 6d2f 232f 3f69 643d 7472 616e 7366 6572  m/#/?id=transfer
-0002d4d0: 2d73 7472 7563 7475 7265 3e60 0a20 2020  -structure>`.   
-0002d4e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0002d4f0: 2061 7761 6974 2073 656c 662e 6c6f 6164   await self.load
-0002d500: 5f6d 6172 6b65 7473 2829 0a20 2020 2020  _markets().     
-0002d510: 2020 2069 6620 636f 6465 2069 7320 4e6f     if code is No
-0002d520: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0002d530: 7261 6973 6520 4172 6775 6d65 6e74 7352  raise ArgumentsR
-0002d540: 6571 7569 7265 6428 7365 6c66 2e69 6420  equired(self.id 
-0002d550: 2b20 2720 6665 7463 6854 7261 6e73 6665  + ' fetchTransfe
-0002d560: 7273 2829 2072 6571 7569 7265 7320 6120  rs() requires a 
-0002d570: 636f 6465 2061 7267 756d 656e 7427 290a  code argument').
-0002d580: 2020 2020 2020 2020 6375 7272 656e 6379          currency
-0002d590: 203d 2073 656c 662e 6375 7272 656e 6379   = self.currency
-0002d5a0: 2863 6f64 6529 0a20 2020 2020 2020 2072  (code).        r
-0002d5b0: 6571 7565 7374 203d 207b 0a20 2020 2020  equest = {.     
-0002d5c0: 2020 2020 2020 2027 6375 7272 656e 6379         'currency
-0002d5d0: 273a 2063 7572 7265 6e63 795b 2769 6427  ': currency['id'
-0002d5e0: 5d2c 0a20 2020 2020 2020 207d 0a20 2020  ],.        }.   
-0002d5f0: 2020 2020 2069 6620 7369 6e63 6520 6973       if since is
-0002d600: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-0002d610: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
-0002d620: 7374 6172 7427 5d20 3d20 7369 6e63 650a  start'] = since.
-0002d630: 2020 2020 2020 2020 6966 206c 696d 6974          if limit
-0002d640: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-0002d650: 2020 2020 2020 2020 2020 7265 7175 6573            reques
-0002d660: 745b 276c 696d 6974 275d 203d 206c 696d  t['limit'] = lim
-0002d670: 6974 0a20 2020 2020 2020 2072 6573 706f  it.        respo
-0002d680: 6e73 6520 3d20 6177 6169 7420 7365 6c66  nse = await self
-0002d690: 2e70 7269 7661 7465 4765 7441 7373 6574  .privateGetAsset
-0002d6a0: 7354 7261 6e73 6665 7228 7365 6c66 2e65  sTransfer(self.e
-0002d6b0: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
-0002d6c0: 6172 616d 7329 290a 2020 2020 2020 2020  arams)).        
-0002d6d0: 230a 2020 2020 2020 2020 2320 2020 2020  #.        #     
-0002d6e0: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
-0002d6f0: 2020 2020 2263 6f64 6522 3a20 302c 0a20      "code": 0,. 
-0002d700: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002d710: 2022 6d73 6722 3a20 224f 4b22 2c0a 2020   "msg": "OK",.  
-0002d720: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002d730: 2264 6174 6122 3a20 7b0a 2020 2020 2020  "data": {.      
-0002d740: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002d750: 2272 6f77 7322 3a20 5b0a 2020 2020 2020  "rows": [.      
-0002d760: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002d770: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-0002d780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d790: 2020 2020 226c 696e 6b4b 6579 223a 2022      "linkKey": "
-0002d7a0: 3837 6330 3731 6133 2d38 3632 382d 3461  87c071a3-8628-4a
-0002d7b0: 6332 2d61 6361 312d 3663 6530 6431 6661  c2-aca1-6ce0d1fa
-0002d7c0: 6436 3663 222c 0a20 2020 2020 2020 2023  d66c",.        #
-0002d7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d7e0: 2020 2020 2022 7573 6572 4964 223a 2034       "userId": 4
-0002d7f0: 3134 3834 3238 2c0a 2020 2020 2020 2020  148428,.        
-0002d800: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002d810: 2020 2020 2020 2263 7572 7265 6e63 7922        "currency"
-0002d820: 3a20 2242 5443 222c 0a20 2020 2020 2020  : "BTC",.       
-0002d830: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002d840: 2020 2020 2020 2022 616d 6f75 6e74 4576         "amountEv
-0002d850: 223a 2036 3739 3332 2c0a 2020 2020 2020  ": 67932,.      
-0002d860: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002d870: 2020 2020 2020 2020 2273 6964 6522 3a20          "side": 
-0002d880: 322c 0a20 2020 2020 2020 2023 2020 2020  2,.        #    
-0002d890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d8a0: 2022 7374 6174 7573 223a 2031 302c 0a20   "status": 10,. 
-0002d8b0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002d8c0: 2020 2020 2020 2020 2020 2020 2022 6372               "cr
-0002d8d0: 6561 7465 5469 6d65 223a 2031 3635 3238  eateTime": 16528
-0002d8e0: 3332 3436 3730 3030 2c0a 2020 2020 2020  32467000,.      
-0002d8f0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002d900: 2020 2020 2020 2020 2262 697a 5479 7065          "bizType
-0002d910: 223a 2031 300a 2020 2020 2020 2020 2320  ": 10.        # 
-0002d920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d930: 7d0a 2020 2020 2020 2020 2320 2020 2020  }.        #     
-0002d940: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
-0002d950: 2020 2320 2020 2020 2020 2020 7d0a 2020    #         }.  
-0002d960: 2020 2020 2020 2320 2020 2020 7d0a 2020        #     }.  
-0002d970: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-0002d980: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
-0002d990: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
-0002d9a0: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
-0002d9b0: 2020 2020 2074 7261 6e73 6665 7273 203d       transfers =
-0002d9c0: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
-0002d9d0: 2864 6174 612c 2027 726f 7773 272c 205b  (data, 'rows', [
-0002d9e0: 5d29 0a20 2020 2020 2020 2072 6574 7572  ]).        retur
-0002d9f0: 6e20 7365 6c66 2e70 6172 7365 5f74 7261  n self.parse_tra
-0002da00: 6e73 6665 7273 2874 7261 6e73 6665 7273  nsfers(transfers
-0002da10: 2c20 6375 7272 656e 6379 2c20 7369 6e63  , currency, sinc
-0002da20: 652c 206c 696d 6974 290a 0a20 2020 2064  e, limit)..    d
-0002da30: 6566 2070 6172 7365 5f74 7261 6e73 6665  ef parse_transfe
-0002da40: 7228 7365 6c66 2c20 7472 616e 7366 6572  r(self, transfer
-0002da50: 2c20 6375 7272 656e 6379 3d4e 6f6e 6529  , currency=None)
-0002da60: 3a0a 2020 2020 2020 2020 230a 2020 2020  :.        #.    
-0002da70: 2020 2020 2320 7472 616e 7366 6572 0a20      # transfer. 
-0002da80: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-0002da90: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
-0002daa0: 2023 2020 2020 2020 2020 206c 696e 6b4b   #         linkK
-0002dab0: 6579 3a20 2738 3536 3465 6261 342d 6339  ey: '8564eba4-c9
-0002dac0: 6563 2d34 3964 362d 3962 3863 2d32 6563  ec-49d6-9b8c-2ec
-0002dad0: 3530 3031 6130 6662 3927 2c0a 2020 2020  5001a0fb9',.    
-0002dae0: 2020 2020 2320 2020 2020 2020 2020 7573      #         us
-0002daf0: 6572 4964 3a20 2734 3031 3833 3430 272c  erId: '4018340',
-0002db00: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002db10: 2020 2063 7572 7265 6e63 793a 2027 5553     currency: 'US
-0002db20: 4427 2c0a 2020 2020 2020 2020 2320 2020  D',.        #   
-0002db30: 2020 2020 2020 616d 6f75 6e74 4576 3a20        amountEv: 
-0002db40: 2731 3027 2c0a 2020 2020 2020 2020 2320  '10',.        # 
-0002db50: 2020 2020 2020 2020 7369 6465 3a20 2732          side: '2
-0002db60: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-0002db70: 2020 2020 2073 7461 7475 733a 2027 3130       status: '10
-0002db80: 270a 2020 2020 2020 2020 2320 2020 2020  '.        #     
-0002db90: 7d0a 2020 2020 2020 2020 230a 2020 2020  }.        #.    
-0002dba0: 2020 2020 2320 6665 7463 6854 7261 6e73      # fetchTrans
-0002dbb0: 6665 7273 0a20 2020 2020 2020 2023 0a20  fers.        #. 
-0002dbc0: 2020 2020 2020 2023 2020 2020 207b 0a20         #     {. 
-0002dbd0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002dbe0: 2022 6c69 6e6b 4b65 7922 3a20 2238 3763   "linkKey": "87c
-0002dbf0: 3037 3161 332d 3836 3238 2d34 6163 322d  071a3-8628-4ac2-
-0002dc00: 6163 6131 2d36 6365 3064 3166 6164 3636  aca1-6ce0d1fad66
-0002dc10: 6322 2c0a 2020 2020 2020 2020 2320 2020  c",.        #   
-0002dc20: 2020 2020 2020 2275 7365 7249 6422 3a20        "userId": 
-0002dc30: 3431 3438 3432 382c 0a20 2020 2020 2020  4148428,.       
-0002dc40: 2023 2020 2020 2020 2020 2022 6375 7272   #         "curr
-0002dc50: 656e 6379 223a 2022 4254 4322 2c0a 2020  ency": "BTC",.  
-0002dc60: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002dc70: 2261 6d6f 756e 7445 7622 3a20 3637 3933  "amountEv": 6793
-0002dc80: 322c 0a20 2020 2020 2020 2023 2020 2020  2,.        #    
-0002dc90: 2020 2020 2022 7369 6465 223a 2032 2c0a       "side": 2,.
-0002dca0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002dcb0: 2020 2273 7461 7475 7322 3a20 3130 2c0a    "status": 10,.
-0002dcc0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002dcd0: 2020 2263 7265 6174 6554 696d 6522 3a20    "createTime": 
-0002dce0: 3136 3532 3833 3234 3637 3030 302c 0a20  1652832467000,. 
-0002dcf0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002dd00: 2022 6269 7a54 7970 6522 3a20 3130 0a20   "bizType": 10. 
-0002dd10: 2020 2020 2020 2023 2020 2020 207d 0a20         #     }. 
-0002dd20: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-0002dd30: 2069 6420 3d20 7365 6c66 2e73 6166 655f   id = self.safe_
-0002dd40: 7374 7269 6e67 2874 7261 6e73 6665 722c  string(transfer,
-0002dd50: 2027 6c69 6e6b 4b65 7927 290a 2020 2020   'linkKey').    
-0002dd60: 2020 2020 7374 6174 7573 203d 2073 656c      status = sel
-0002dd70: 662e 7361 6665 5f73 7472 696e 6728 7472  f.safe_string(tr
-0002dd80: 616e 7366 6572 2c20 2773 7461 7475 7327  ansfer, 'status'
-0002dd90: 290a 2020 2020 2020 2020 616d 6f75 6e74  ).        amount
-0002dda0: 4576 203d 2073 656c 662e 7361 6665 5f73  Ev = self.safe_s
-0002ddb0: 7472 696e 6728 7472 616e 7366 6572 2c20  tring(transfer, 
-0002ddc0: 2761 6d6f 756e 7445 7627 290a 2020 2020  'amountEv').    
-0002ddd0: 2020 2020 616d 6f75 6e74 5472 616e 7366      amountTransf
-0002dde0: 6572 6564 203d 2073 656c 662e 6672 6f6d  ered = self.from
-0002ddf0: 5f65 7628 616d 6f75 6e74 4576 2c20 6375  _ev(amountEv, cu
-0002de00: 7272 656e 6379 290a 2020 2020 2020 2020  rrency).        
-0002de10: 6375 7272 656e 6379 4964 203d 2073 656c  currencyId = sel
-0002de20: 662e 7361 6665 5f73 7472 696e 6728 7472  f.safe_string(tr
-0002de30: 616e 7366 6572 2c20 2763 7572 7265 6e63  ansfer, 'currenc
-0002de40: 7927 290a 2020 2020 2020 2020 636f 6465  y').        code
-0002de50: 203d 2073 656c 662e 7361 6665 5f63 7572   = self.safe_cur
-0002de60: 7265 6e63 795f 636f 6465 2863 7572 7265  rency_code(curre
-0002de70: 6e63 7949 642c 2063 7572 7265 6e63 7929  ncyId, currency)
-0002de80: 0a20 2020 2020 2020 2073 6964 6520 3d20  .        side = 
-0002de90: 7365 6c66 2e73 6166 655f 696e 7465 6765  self.safe_intege
-0002dea0: 7228 7472 616e 7366 6572 2c20 2773 6964  r(transfer, 'sid
-0002deb0: 6527 290a 2020 2020 2020 2020 6672 6f6d  e').        from
-0002dec0: 4964 203d 204e 6f6e 650a 2020 2020 2020  Id = None.      
-0002ded0: 2020 746f 4964 203d 204e 6f6e 650a 2020    toId = None.  
-0002dee0: 2020 2020 2020 6966 2073 6964 6520 3d3d        if side ==
-0002def0: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-0002df00: 6672 6f6d 4964 203d 2027 7377 6170 270a  fromId = 'swap'.
-0002df10: 2020 2020 2020 2020 2020 2020 746f 4964              toId
-0002df20: 203d 2027 7370 6f74 270a 2020 2020 2020   = 'spot'.      
-0002df30: 2020 656c 6966 2073 6964 6520 3d3d 2032    elif side == 2
-0002df40: 3a0a 2020 2020 2020 2020 2020 2020 6672  :.            fr
-0002df50: 6f6d 4964 203d 2027 7370 6f74 270a 2020  omId = 'spot'.  
-0002df60: 2020 2020 2020 2020 2020 746f 4964 203d            toId =
-0002df70: 2027 7377 6170 270a 2020 2020 2020 2020   'swap'.        
-0002df80: 7469 6d65 7374 616d 7020 3d20 7365 6c66  timestamp = self
-0002df90: 2e73 6166 655f 696e 7465 6765 7228 7472  .safe_integer(tr
-0002dfa0: 616e 7366 6572 2c20 2763 7265 6174 6554  ansfer, 'createT
-0002dfb0: 696d 6527 290a 2020 2020 2020 2020 7265  ime').        re
-0002dfc0: 7475 726e 207b 0a20 2020 2020 2020 2020  turn {.         
-0002dfd0: 2020 2027 696e 666f 273a 2074 7261 6e73     'info': trans
-0002dfe0: 6665 722c 0a20 2020 2020 2020 2020 2020  fer,.           
-0002dff0: 2027 6964 273a 2069 642c 0a20 2020 2020   'id': id,.     
-0002e000: 2020 2020 2020 2027 7469 6d65 7374 616d         'timestam
-0002e010: 7027 3a20 7469 6d65 7374 616d 702c 0a20  p': timestamp,. 
-0002e020: 2020 2020 2020 2020 2020 2027 6461 7465             'date
-0002e030: 7469 6d65 273a 2073 656c 662e 6973 6f38  time': self.iso8
-0002e040: 3630 3128 7469 6d65 7374 616d 7029 2c0a  601(timestamp),.
-0002e050: 2020 2020 2020 2020 2020 2020 2763 7572              'cur
-0002e060: 7265 6e63 7927 3a20 636f 6465 2c0a 2020  rency': code,.  
-0002e070: 2020 2020 2020 2020 2020 2761 6d6f 756e            'amoun
-0002e080: 7427 3a20 616d 6f75 6e74 5472 616e 7366  t': amountTransf
-0002e090: 6572 6564 2c0a 2020 2020 2020 2020 2020  ered,.          
-0002e0a0: 2020 2766 726f 6d41 6363 6f75 6e74 273a    'fromAccount':
-0002e0b0: 2066 726f 6d49 642c 0a20 2020 2020 2020   fromId,.       
-0002e0c0: 2020 2020 2027 746f 4163 636f 756e 7427       'toAccount'
-0002e0d0: 3a20 746f 4964 2c0a 2020 2020 2020 2020  : toId,.        
-0002e0e0: 2020 2020 2773 7461 7475 7327 3a20 7365      'status': se
-0002e0f0: 6c66 2e70 6172 7365 5f74 7261 6e73 6665  lf.parse_transfe
-0002e100: 725f 7374 6174 7573 2873 7461 7475 7329  r_status(status)
-0002e110: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
-0002e120: 2064 6566 2070 6172 7365 5f74 7261 6e73   def parse_trans
-0002e130: 6665 725f 7374 6174 7573 2873 656c 662c  fer_status(self,
-0002e140: 2073 7461 7475 7329 3a0a 2020 2020 2020   status):.      
-0002e150: 2020 7374 6174 7573 6573 203d 207b 0a20    statuses = {. 
-0002e160: 2020 2020 2020 2020 2020 2027 3327 3a20             '3': 
-0002e170: 2772 656a 6563 7465 6427 2c20 2023 2027  'rejected',  # '
-0002e180: 5265 6a65 6374 6564 272c 0a20 2020 2020  Rejected',.     
-0002e190: 2020 2020 2020 2027 3627 3a20 2763 616e         '6': 'can
-0002e1a0: 6365 6c65 6427 2c20 2023 2027 476f 7420  celed',  # 'Got 
-0002e1b0: 6572 726f 7220 616e 6420 7761 6974 2066  error and wait f
-0002e1c0: 6f72 2072 6563 6f76 6572 7927 2c0a 2020  or recovery',.  
-0002e1d0: 2020 2020 2020 2020 2020 2731 3027 3a20            '10': 
-0002e1e0: 276f 6b27 2c20 2023 2027 5375 6363 6573  'ok',  # 'Succes
-0002e1f0: 7327 2c0a 2020 2020 2020 2020 2020 2020  s',.            
-0002e200: 2731 3127 3a20 2766 6169 6c65 6427 2c20  '11': 'failed', 
-0002e210: 2023 2027 4661 696c 6564 272c 0a20 2020   # 'Failed',.   
-0002e220: 2020 2020 207d 0a20 2020 2020 2020 2072       }.        r
-0002e230: 6574 7572 6e20 7365 6c66 2e73 6166 655f  eturn self.safe_
-0002e240: 7374 7269 6e67 2873 7461 7475 7365 732c  string(statuses,
-0002e250: 2073 7461 7475 732c 2073 7461 7475 7329   status, status)
-0002e260: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0002e270: 6665 7463 685f 6675 6e64 696e 675f 7261  fetch_funding_ra
-0002e280: 7465 5f68 6973 746f 7279 2873 656c 662c  te_history(self,
-0002e290: 2073 796d 626f 6c3a 204f 7074 696f 6e61   symbol: Optiona
-0002e2a0: 6c5b 7374 725d 203d 204e 6f6e 652c 2073  l[str] = None, s
-0002e2b0: 696e 6365 3a20 4f70 7469 6f6e 616c 5b69  ince: Optional[i
-0002e2c0: 6e74 5d20 3d20 4e6f 6e65 2c20 6c69 6d69  nt] = None, limi
-0002e2d0: 743a 204f 7074 696f 6e61 6c5b 696e 745d  t: Optional[int]
-0002e2e0: 203d 204e 6f6e 652c 2070 6172 616d 733d   = None, params=
-0002e2f0: 7b7d 293a 0a20 2020 2020 2020 2073 656c  {}):.        sel
-0002e300: 662e 6368 6563 6b5f 7265 7175 6972 6564  f.check_required
-0002e310: 5f73 796d 626f 6c28 2766 6574 6368 4675  _symbol('fetchFu
-0002e320: 6e64 696e 6752 6174 6548 6973 746f 7279  ndingRateHistory
-0002e330: 272c 2073 796d 626f 6c29 0a20 2020 2020  ', symbol).     
-0002e340: 2020 2061 7761 6974 2073 656c 662e 6c6f     await self.lo
-0002e350: 6164 5f6d 6172 6b65 7473 2829 0a20 2020  ad_markets().   
-0002e360: 2020 2020 206d 6172 6b65 7420 3d20 7365       market = se
-0002e370: 6c66 2e6d 6172 6b65 7428 7379 6d62 6f6c  lf.market(symbol
-0002e380: 290a 2020 2020 2020 2020 6973 5573 6474  ).        isUsdt
-0002e390: 5365 7474 6c65 6420 3d20 6d61 726b 6574  Settled = market
-0002e3a0: 5b27 7365 7474 6c65 275d 203d 3d20 2755  ['settle'] == 'U
-0002e3b0: 5344 5427 0a20 2020 2020 2020 2069 6620  SDT'.        if 
-0002e3c0: 6e6f 7420 6d61 726b 6574 5b27 7377 6170  not market['swap
-0002e3d0: 275d 3a0a 2020 2020 2020 2020 2020 2020  ']:.            
-0002e3e0: 7261 6973 6520 4261 6452 6571 7565 7374  raise BadRequest
-0002e3f0: 2873 656c 662e 6964 202b 2027 2066 6574  (self.id + ' fet
-0002e400: 6368 4675 6e64 696e 6752 6174 6548 6973  chFundingRateHis
-0002e410: 746f 7279 2829 2073 7570 706f 7274 7320  tory() supports 
-0002e420: 7377 6170 2063 6f6e 7472 6163 7473 206f  swap contracts o
-0002e430: 6e6c 7927 290a 2020 2020 2020 2020 6375  nly').        cu
-0002e440: 7374 6f6d 5379 6d62 6f6c 203d 204e 6f6e  stomSymbol = Non
-0002e450: 650a 2020 2020 2020 2020 6966 2069 7355  e.        if isU
-0002e460: 7364 7453 6574 746c 6564 3a0a 2020 2020  sdtSettled:.    
-0002e470: 2020 2020 2020 2020 6375 7374 6f6d 5379          customSy
-0002e480: 6d62 6f6c 203d 2027 2e27 202b 206d 6172  mbol = '.' + mar
-0002e490: 6b65 745b 2769 6427 5d20 2b20 2746 5238  ket['id'] + 'FR8
-0002e4a0: 4827 2020 2320 7068 656d 6578 2072 6571  H'  # phemex req
-0002e4b0: 7569 7265 7320 6120 6375 7374 6f6d 2073  uires a custom s
-0002e4c0: 796d 626f 6c20 666f 7220 6675 6e64 696e  ymbol for fundin
-0002e4d0: 6720 7261 7465 2068 6973 746f 7279 0a20  g rate history. 
-0002e4e0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0002e4f0: 2020 2020 2020 2020 2063 7573 746f 6d53           customS
-0002e500: 796d 626f 6c20 3d20 272e 2720 2b20 6d61  ymbol = '.' + ma
-0002e510: 726b 6574 5b27 6261 7365 4964 275d 202b  rket['baseId'] +
-0002e520: 2027 4652 3848 270a 2020 2020 2020 2020   'FR8H'.        
-0002e530: 7265 7175 6573 7420 3d20 7b0a 2020 2020  request = {.    
-0002e540: 2020 2020 2020 2020 2773 796d 626f 6c27          'symbol'
-0002e550: 3a20 6375 7374 6f6d 5379 6d62 6f6c 2c0a  : customSymbol,.
-0002e560: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-0002e570: 2020 6966 2073 696e 6365 2069 7320 6e6f    if since is no
-0002e580: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-0002e590: 2020 2020 7265 7175 6573 745b 2773 7461      request['sta
-0002e5a0: 7274 275d 203d 2073 696e 6365 0a20 2020  rt'] = since.   
-0002e5b0: 2020 2020 2069 6620 6c69 6d69 7420 6973       if limit is
-0002e5c0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-0002e5d0: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
-0002e5e0: 6c69 6d69 7427 5d20 3d20 6c69 6d69 740a  limit'] = limit.
-0002e5f0: 2020 2020 2020 2020 7265 7370 6f6e 7365          response
-0002e600: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-0002e610: 6966 2069 7355 7364 7453 6574 746c 6564  if isUsdtSettled
-0002e620: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0002e630: 7370 6f6e 7365 203d 2061 7761 6974 2073  sponse = await s
-0002e640: 656c 662e 7632 4765 7441 7069 4461 7461  elf.v2GetApiData
-0002e650: 5075 626c 6963 4461 7461 4675 6e64 696e  PublicDataFundin
-0002e660: 6752 6174 6548 6973 746f 7279 2873 656c  gRateHistory(sel
-0002e670: 662e 6578 7465 6e64 2872 6571 7565 7374  f.extend(request
-0002e680: 2c20 7061 7261 6d73 2929 0a20 2020 2020  , params)).     
-0002e690: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0002e6a0: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
-0002e6b0: 6177 6169 7420 7365 6c66 2e76 3147 6574  await self.v1Get
-0002e6c0: 4170 6944 6174 6150 7562 6c69 6344 6174  ApiDataPublicDat
-0002e6d0: 6146 756e 6469 6e67 5261 7465 4869 7374  aFundingRateHist
-0002e6e0: 6f72 7928 7365 6c66 2e65 7874 656e 6428  ory(self.extend(
-0002e6f0: 7265 7175 6573 742c 2070 6172 616d 7329  request, params)
-0002e700: 290a 2020 2020 2020 2020 230a 2020 2020  ).        #.    
-0002e710: 2020 2020 2320 2020 207b 0a20 2020 2020      #    {.     
-0002e720: 2020 2023 2020 2020 2020 2020 2263 6f64     #        "cod
-0002e730: 6522 3a22 3022 2c0a 2020 2020 2020 2020  e":"0",.        
-0002e740: 2320 2020 2020 2020 2022 6d73 6722 3a22  #        "msg":"
-0002e750: 4f4b 222c 0a20 2020 2020 2020 2023 2020  OK",.        #  
-0002e760: 2020 2020 2020 2264 6174 6122 3a7b 0a20        "data":{. 
-0002e770: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002e780: 2020 2022 726f 7773 223a 5b0a 2020 2020     "rows":[.    
-0002e790: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002e7a0: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
-0002e7b0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0002e7c0: 7379 6d62 6f6c 223a 222e 4254 4355 5344  symbol":".BTCUSD
-0002e7d0: 5446 5238 4822 2c0a 2020 2020 2020 2020  TFR8H",.        
-0002e7e0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002e7f0: 2020 2266 756e 6469 6e67 5261 7465 223a    "fundingRate":
-0002e800: 2230 2e30 3030 3122 2c0a 2020 2020 2020  "0.0001",.      
-0002e810: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002e820: 2020 2020 2266 756e 6469 6e67 5469 6d65      "fundingTime
-0002e830: 223a 2231 3638 3230 3634 3030 3030 3030  ":"1682064000000
-0002e840: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-0002e850: 2020 2020 2020 2020 2020 2020 2022 696e               "in
-0002e860: 7465 7276 616c 5365 636f 6e64 7322 3a22  tervalSeconds":"
-0002e870: 3238 3830 3022 0a20 2020 2020 2020 2023  28800".        #
-0002e880: 2020 2020 2020 2020 2020 2020 2020 7d0a                }.
-0002e890: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002e8a0: 2020 2020 5d0a 2020 2020 2020 2020 2320      ].        # 
-0002e8b0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
-0002e8c0: 2023 2020 2020 7d0a 2020 2020 2020 2020   #    }.        
-0002e8d0: 230a 2020 2020 2020 2020 6461 7461 203d  #.        data =
-0002e8e0: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
-0002e8f0: 2872 6573 706f 6e73 652c 2027 6461 7461  (response, 'data
-0002e900: 272c 207b 7d29 0a20 2020 2020 2020 2072  ', {}).        r
-0002e910: 6174 6573 203d 2073 656c 662e 7361 6665  ates = self.safe
-0002e920: 5f76 616c 7565 2864 6174 612c 2027 726f  _value(data, 'ro
-0002e930: 7773 2729 0a20 2020 2020 2020 2072 6573  ws').        res
-0002e940: 756c 7420 3d20 5b5d 0a20 2020 2020 2020  ult = [].       
-0002e950: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-0002e960: 302c 206c 656e 2872 6174 6573 2929 3a0a  0, len(rates)):.
-0002e970: 2020 2020 2020 2020 2020 2020 6974 656d              item
-0002e980: 203d 2072 6174 6573 5b69 5d0a 2020 2020   = rates[i].    
-0002e990: 2020 2020 2020 2020 7469 6d65 7374 616d          timestam
-0002e9a0: 7020 3d20 7365 6c66 2e73 6166 655f 696e  p = self.safe_in
-0002e9b0: 7465 6765 7228 6974 656d 2c20 2766 756e  teger(item, 'fun
-0002e9c0: 6469 6e67 5469 6d65 2729 0a20 2020 2020  dingTime').     
-0002e9d0: 2020 2020 2020 2072 6573 756c 742e 6170         result.ap
-0002e9e0: 7065 6e64 287b 0a20 2020 2020 2020 2020  pend({.         
-0002e9f0: 2020 2020 2020 2027 696e 666f 273a 2069         'info': i
-0002ea00: 7465 6d2c 0a20 2020 2020 2020 2020 2020  tem,.           
-0002ea10: 2020 2020 2027 7379 6d62 6f6c 273a 2073       'symbol': s
-0002ea20: 796d 626f 6c2c 0a20 2020 2020 2020 2020  ymbol,.         
-0002ea30: 2020 2020 2020 2027 6675 6e64 696e 6752         'fundingR
-0002ea40: 6174 6527 3a20 7365 6c66 2e73 6166 655f  ate': self.safe_
-0002ea50: 6e75 6d62 6572 2869 7465 6d2c 2027 6675  number(item, 'fu
-0002ea60: 6e64 696e 6752 6174 6527 292c 0a20 2020  ndingRate'),.   
-0002ea70: 2020 2020 2020 2020 2020 2020 2027 7469               'ti
-0002ea80: 6d65 7374 616d 7027 3a20 7469 6d65 7374  mestamp': timest
-0002ea90: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
-0002eaa0: 2020 2020 2027 6461 7465 7469 6d65 273a       'datetime':
-0002eab0: 2073 656c 662e 6973 6f38 3630 3128 7469   self.iso8601(ti
-0002eac0: 6d65 7374 616d 7029 2c0a 2020 2020 2020  mestamp),.      
-0002ead0: 2020 2020 2020 7d29 0a20 2020 2020 2020        }).       
-0002eae0: 2073 6f72 7465 6420 3d20 7365 6c66 2e73   sorted = self.s
-0002eaf0: 6f72 745f 6279 2872 6573 756c 742c 2027  ort_by(result, '
-0002eb00: 7469 6d65 7374 616d 7027 290a 2020 2020  timestamp').    
-0002eb10: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-0002eb20: 6669 6c74 6572 5f62 795f 7379 6d62 6f6c  filter_by_symbol
-0002eb30: 5f73 696e 6365 5f6c 696d 6974 2873 6f72  _since_limit(sor
-0002eb40: 7465 642c 2073 796d 626f 6c2c 2073 696e  ted, symbol, sin
-0002eb50: 6365 2c20 6c69 6d69 7429 0a0a 2020 2020  ce, limit)..    
-0002eb60: 6465 6620 6861 6e64 6c65 5f65 7272 6f72  def handle_error
-0002eb70: 7328 7365 6c66 2c20 6874 7470 436f 6465  s(self, httpCode
-0002eb80: 2c20 7265 6173 6f6e 2c20 7572 6c2c 206d  , reason, url, m
-0002eb90: 6574 686f 642c 2068 6561 6465 7273 2c20  ethod, headers, 
-0002eba0: 626f 6479 2c20 7265 7370 6f6e 7365 2c20  body, response, 
-0002ebb0: 7265 7175 6573 7448 6561 6465 7273 2c20  requestHeaders, 
-0002ebc0: 7265 7175 6573 7442 6f64 7929 3a0a 2020  requestBody):.  
-0002ebd0: 2020 2020 2020 6966 2072 6573 706f 6e73        if respons
-0002ebe0: 6520 6973 204e 6f6e 653a 0a20 2020 2020  e is None:.     
-0002ebf0: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
-0002ec00: 6e65 2020 2320 6661 6c6c 6261 636b 2074  ne  # fallback t
-0002ec10: 6f20 6465 6661 756c 7420 6572 726f 7220  o default error 
-0002ec20: 6861 6e64 6c65 720a 2020 2020 2020 2020  handler.        
-0002ec30: 230a 2020 2020 2020 2020 2320 2020 2020  #.        #     
-0002ec40: 7b22 636f 6465 223a 3330 3031 382c 226d  {"code":30018,"m
-0002ec50: 7367 223a 2270 6865 6d65 782e 6461 7461  sg":"phemex.data
-0002ec60: 2e73 697a 652e 7570 6c69 6d74 222c 2264  .size.uplimt","d
-0002ec70: 6174 6122 3a6e 756c 6c7d 0a20 2020 2020  ata":null}.     
-0002ec80: 2020 2023 2020 2020 207b 2263 6f64 6522     #     {"code"
-0002ec90: 3a34 3132 2c22 6d73 6722 3a22 4d69 7373  :412,"msg":"Miss
-0002eca0: 696e 6720 7061 7261 6d65 7465 7220 2d20  ing parameter - 
-0002ecb0: 7265 736f 6c75 7469 6f6e 222c 2264 6174  resolution","dat
-0002ecc0: 6122 3a6e 756c 6c7d 0a20 2020 2020 2020  a":null}.       
-0002ecd0: 2023 2020 2020 207b 2263 6f64 6522 3a34   #     {"code":4
-0002ece0: 3132 2c22 6d73 6722 3a22 4d69 7373 696e  12,"msg":"Missin
-0002ecf0: 6720 7061 7261 6d65 7465 7220 2d20 746f  g parameter - to
-0002ed00: 222c 2264 6174 6122 3a6e 756c 6c7d 0a20  ","data":null}. 
-0002ed10: 2020 2020 2020 2023 2020 2020 207b 2265         #     {"e
-0002ed20: 7272 6f72 223a 7b22 636f 6465 223a 3630  rror":{"code":60
-0002ed30: 3031 2c22 6d65 7373 6167 6522 3a22 696e  01,"message":"in
-0002ed40: 7661 6c69 6420 6172 6775 6d65 6e74 227d  valid argument"}
-0002ed50: 2c22 6964 223a 6e75 6c6c 2c22 7265 7375  ,"id":null,"resu
-0002ed60: 6c74 223a 6e75 6c6c 7d0a 2020 2020 2020  lt":null}.      
-0002ed70: 2020 230a 2020 2020 2020 2020 6572 726f    #.        erro
-0002ed80: 7220 3d20 7365 6c66 2e73 6166 655f 7661  r = self.safe_va
-0002ed90: 6c75 6528 7265 7370 6f6e 7365 2c20 2765  lue(response, 'e
-0002eda0: 7272 6f72 272c 2072 6573 706f 6e73 6529  rror', response)
-0002edb0: 0a20 2020 2020 2020 2065 7272 6f72 436f  .        errorCo
-0002edc0: 6465 203d 2073 656c 662e 7361 6665 5f73  de = self.safe_s
-0002edd0: 7472 696e 6728 6572 726f 722c 2027 636f  tring(error, 'co
-0002ede0: 6465 2729 0a20 2020 2020 2020 206d 6573  de').        mes
-0002edf0: 7361 6765 203d 2073 656c 662e 7361 6665  sage = self.safe
-0002ee00: 5f73 7472 696e 6728 6572 726f 722c 2027  _string(error, '
-0002ee10: 6d73 6727 290a 2020 2020 2020 2020 6966  msg').        if
-0002ee20: 2028 6572 726f 7243 6f64 6520 6973 206e   (errorCode is n
-0002ee30: 6f74 204e 6f6e 6529 2061 6e64 2028 6572  ot None) and (er
-0002ee40: 726f 7243 6f64 6520 213d 2027 3027 293a  rorCode != '0'):
-0002ee50: 0a20 2020 2020 2020 2020 2020 2066 6565  .            fee
-0002ee60: 6462 6163 6b20 3d20 7365 6c66 2e69 6420  dback = self.id 
-0002ee70: 2b20 2720 2720 2b20 626f 6479 0a20 2020  + ' ' + body.   
-0002ee80: 2020 2020 2020 2020 2073 656c 662e 7468           self.th
-0002ee90: 726f 775f 6578 6163 746c 795f 6d61 7463  row_exactly_matc
-0002eea0: 6865 645f 6578 6365 7074 696f 6e28 7365  hed_exception(se
-0002eeb0: 6c66 2e65 7863 6570 7469 6f6e 735b 2765  lf.exceptions['e
-0002eec0: 7861 6374 275d 2c20 6572 726f 7243 6f64  xact'], errorCod
-0002eed0: 652c 2066 6565 6462 6163 6b29 0a20 2020  e, feedback).   
-0002eee0: 2020 2020 2020 2020 2073 656c 662e 7468           self.th
-0002eef0: 726f 775f 6272 6f61 646c 795f 6d61 7463  row_broadly_matc
-0002ef00: 6865 645f 6578 6365 7074 696f 6e28 7365  hed_exception(se
-0002ef10: 6c66 2e65 7863 6570 7469 6f6e 735b 2762  lf.exceptions['b
-0002ef20: 726f 6164 275d 2c20 6d65 7373 6167 652c  road'], message,
-0002ef30: 2066 6565 6462 6163 6b29 0a20 2020 2020   feedback).     
-0002ef40: 2020 2020 2020 2072 6169 7365 2045 7863         raise Exc
-0002ef50: 6861 6e67 6545 7272 6f72 2866 6565 6462  hangeError(feedb
-0002ef60: 6163 6b29 2020 2320 756e 6b6e 6f77 6e20  ack)  # unknown 
-0002ef70: 6d65 7373 6167 650a 2020 2020 2020 2020  message.        
-0002ef80: 7265 7475 726e 204e 6f6e 650a            return None.
+0001d4a0: 6569 7468 6572 2027 4d65 7267 6564 2720  either 'Merged' 
+0001d4b0: 6f72 2027 4c6f 6e67 2720 6f72 2027 5368  or 'Long' or 'Sh
+0001d4c0: 6f72 7427 0a20 2020 2020 2020 203a 7265  ort'.        :re
+0001d4d0: 7475 726e 7320 6469 6374 3a20 616e 2060  turns dict: an `
+0001d4e0: 6f72 6465 7220 7374 7275 6374 7572 6520  order structure 
+0001d4f0: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
+0001d500: 7874 2e63 6f6d 2f23 2f3f 6964 3d6f 7264  xt.com/#/?id=ord
+0001d510: 6572 2d73 7472 7563 7475 7265 3e60 0a20  er-structure>`. 
+0001d520: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001d530: 2020 2069 6620 7379 6d62 6f6c 2069 7320     if symbol is 
+0001d540: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0001d550: 2020 7261 6973 6520 4172 6775 6d65 6e74    raise Argument
+0001d560: 7352 6571 7569 7265 6428 7365 6c66 2e69  sRequired(self.i
+0001d570: 6420 2b20 2720 6564 6974 4f72 6465 7228  d + ' editOrder(
+0001d580: 2920 7265 7175 6972 6573 2061 2073 796d  ) requires a sym
+0001d590: 626f 6c20 6172 6775 6d65 6e74 2729 0a20  bol argument'). 
+0001d5a0: 2020 2020 2020 2061 7761 6974 2073 656c         await sel
+0001d5b0: 662e 6c6f 6164 5f6d 6172 6b65 7473 2829  f.load_markets()
+0001d5c0: 0a20 2020 2020 2020 206d 6172 6b65 7420  .        market 
+0001d5d0: 3d20 7365 6c66 2e6d 6172 6b65 7428 7379  = self.market(sy
+0001d5e0: 6d62 6f6c 290a 2020 2020 2020 2020 7265  mbol).        re
+0001d5f0: 7175 6573 7420 3d20 7b0a 2020 2020 2020  quest = {.      
+0001d600: 2020 2020 2020 2773 796d 626f 6c27 3a20        'symbol': 
+0001d610: 6d61 726b 6574 5b27 6964 275d 2c0a 2020  market['id'],.  
+0001d620: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0001d630: 636c 6965 6e74 4f72 6465 7249 6420 3d20  clientOrderId = 
+0001d640: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+0001d650: 5f32 2870 6172 616d 732c 2027 636c 6965  _2(params, 'clie
+0001d660: 6e74 4f72 6465 7249 6427 2c20 2763 6c4f  ntOrderId', 'clO
+0001d670: 7264 4944 2729 0a20 2020 2020 2020 2070  rdID').        p
+0001d680: 6172 616d 7320 3d20 7365 6c66 2e6f 6d69  arams = self.omi
+0001d690: 7428 7061 7261 6d73 2c20 5b27 636c 6965  t(params, ['clie
+0001d6a0: 6e74 4f72 6465 7249 6427 2c20 2763 6c4f  ntOrderId', 'clO
+0001d6b0: 7264 4944 275d 290a 2020 2020 2020 2020  rdID']).        
+0001d6c0: 6973 5553 4454 5365 7474 6c65 6420 3d20  isUSDTSettled = 
+0001d6d0: 286d 6172 6b65 745b 2773 6574 746c 6527  (market['settle'
+0001d6e0: 5d20 3d3d 2027 5553 4454 2729 0a20 2020  ] == 'USDT').   
+0001d6f0: 2020 2020 2069 6620 636c 6965 6e74 4f72       if clientOr
+0001d700: 6465 7249 6420 6973 206e 6f74 204e 6f6e  derId is not Non
+0001d710: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+0001d720: 6571 7565 7374 5b27 636c 4f72 6449 4427  equest['clOrdID'
+0001d730: 5d20 3d20 636c 6965 6e74 4f72 6465 7249  ] = clientOrderI
+0001d740: 640a 2020 2020 2020 2020 656c 7365 3a0a  d.        else:.
+0001d750: 2020 2020 2020 2020 2020 2020 7265 7175              requ
+0001d760: 6573 745b 276f 7264 6572 4944 275d 203d  est['orderID'] =
+0001d770: 2069 640a 2020 2020 2020 2020 6966 2070   id.        if p
+0001d780: 7269 6365 2069 7320 6e6f 7420 4e6f 6e65  rice is not None
+0001d790: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0001d7a0: 2069 7355 5344 5453 6574 746c 6564 3a0a   isUSDTSettled:.
+0001d7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d7c0: 7265 7175 6573 745b 2770 7269 6365 5270  request['priceRp
+0001d7d0: 275d 203d 2073 656c 662e 7072 6963 655f  '] = self.price_
+0001d7e0: 746f 5f70 7265 6369 7369 6f6e 286d 6172  to_precision(mar
+0001d7f0: 6b65 745b 2773 796d 626f 6c27 5d2c 2070  ket['symbol'], p
+0001d800: 7269 6365 290a 2020 2020 2020 2020 2020  rice).          
+0001d810: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001d820: 2020 2020 2020 2020 7265 7175 6573 745b          request[
+0001d830: 2770 7269 6365 4570 275d 203d 2073 656c  'priceEp'] = sel
+0001d840: 662e 746f 5f65 7028 7072 6963 652c 206d  f.to_ep(price, m
+0001d850: 6172 6b65 7429 0a20 2020 2020 2020 2023  arket).        #
+0001d860: 204e 6f74 6520 7468 6520 7570 7065 7263   Note the upperc
+0001d870: 6173 6520 2756 2720 696e 2027 6261 7365  ase 'V' in 'base
+0001d880: 5174 7945 5627 2072 6571 7565 7374 2e20  QtyEV' request. 
+0001d890: 7468 6174 2069 7320 6578 6368 616e 6765  that is exchange
+0001d8a0: 2773 2072 6571 7569 7265 6d65 6e74 2061  's requirement a
+0001d8b0: 7420 7365 6c66 206d 6f6d 656e 742e 2048  t self moment. H
+0001d8c0: 6f77 6576 6572 2c20 746f 2061 766f 6964  owever, to avoid
+0001d8d0: 206d 6973 7461 6b65 7320 6672 6f6d 2075   mistakes from u
+0001d8e0: 7365 7220 7369 6465 2c20 6c65 7427 7320  ser side, let's 
+0001d8f0: 7375 7070 6f72 7420 6c6f 7765 7263 6173  support lowercas
+0001d900: 6564 2027 6261 7365 5174 7945 7627 2074  ed 'baseQtyEv' t
+0001d910: 6f6f 0a20 2020 2020 2020 2066 696e 616c  oo.        final
+0001d920: 5174 7920 3d20 7365 6c66 2e73 6166 655f  Qty = self.safe_
+0001d930: 7374 7269 6e67 2870 6172 616d 732c 2027  string(params, '
+0001d940: 6261 7365 5174 7945 7627 290a 2020 2020  baseQtyEv').    
+0001d950: 2020 2020 7061 7261 6d73 203d 2073 656c      params = sel
+0001d960: 662e 6f6d 6974 2870 6172 616d 732c 205b  f.omit(params, [
+0001d970: 2762 6173 6551 7479 4576 275d 290a 2020  'baseQtyEv']).  
+0001d980: 2020 2020 2020 6966 2066 696e 616c 5174        if finalQt
+0001d990: 7920 6973 206e 6f74 204e 6f6e 653a 0a20  y is not None:. 
+0001d9a0: 2020 2020 2020 2020 2020 2072 6571 7565             reque
+0001d9b0: 7374 5b27 6261 7365 5174 7945 5627 5d20  st['baseQtyEV'] 
+0001d9c0: 3d20 6669 6e61 6c51 7479 0a20 2020 2020  = finalQty.     
+0001d9d0: 2020 2065 6c69 6620 616d 6f75 6e74 2069     elif amount i
+0001d9e0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+0001d9f0: 2020 2020 2020 2020 6966 2069 7355 5344          if isUSD
+0001da00: 5453 6574 746c 6564 3a0a 2020 2020 2020  TSettled:.      
+0001da10: 2020 2020 2020 2020 2020 7265 7175 6573            reques
+0001da20: 745b 2762 6173 6551 7479 4556 275d 203d  t['baseQtyEV'] =
+0001da30: 2073 656c 662e 616d 6f75 6e74 5f74 6f5f   self.amount_to_
+0001da40: 7072 6563 6973 696f 6e28 6d61 726b 6574  precision(market
+0001da50: 5b27 7379 6d62 6f6c 275d 2c20 616d 6f75  ['symbol'], amou
+0001da60: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+0001da70: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001da80: 2020 2020 2020 7265 7175 6573 745b 2762        request['b
+0001da90: 6173 6551 7479 4556 275d 203d 2073 656c  aseQtyEV'] = sel
+0001daa0: 662e 746f 5f65 7628 616d 6f75 6e74 2c20  f.to_ev(amount, 
+0001dab0: 6d61 726b 6574 290a 2020 2020 2020 2020  market).        
+0001dac0: 7374 6f70 5072 6963 6520 3d20 7365 6c66  stopPrice = self
+0001dad0: 2e73 6166 655f 7374 7269 6e67 5f32 2870  .safe_string_2(p
+0001dae0: 6172 616d 732c 2027 7374 6f70 5078 272c  arams, 'stopPx',
+0001daf0: 2027 7374 6f70 5072 6963 6527 290a 2020   'stopPrice').  
+0001db00: 2020 2020 2020 6966 2073 746f 7050 7269        if stopPri
+0001db10: 6365 2069 7320 6e6f 7420 4e6f 6e65 3a0a  ce is not None:.
+0001db20: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+0001db30: 7355 5344 5453 6574 746c 6564 3a0a 2020  sUSDTSettled:.  
+0001db40: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001db50: 7175 6573 745b 2773 746f 7050 7852 7027  quest['stopPxRp'
+0001db60: 5d20 3d20 7365 6c66 2e70 7269 6365 5f74  ] = self.price_t
+0001db70: 6f5f 7072 6563 6973 696f 6e28 7379 6d62  o_precision(symb
+0001db80: 6f6c 2c20 7374 6f70 5072 6963 6529 0a20  ol, stopPrice). 
+0001db90: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0001dba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001dbb0: 2072 6571 7565 7374 5b27 7374 6f70 5078   request['stopPx
+0001dbc0: 4570 275d 203d 2073 656c 662e 746f 5f65  Ep'] = self.to_e
+0001dbd0: 7028 7374 6f70 5072 6963 652c 206d 6172  p(stopPrice, mar
+0001dbe0: 6b65 7429 0a20 2020 2020 2020 2070 6172  ket).        par
+0001dbf0: 616d 7320 3d20 7365 6c66 2e6f 6d69 7428  ams = self.omit(
+0001dc00: 7061 7261 6d73 2c20 5b27 7374 6f70 5078  params, ['stopPx
+0001dc10: 272c 2027 7374 6f70 5072 6963 6527 5d29  ', 'stopPrice'])
+0001dc20: 0a20 2020 2020 2020 206d 6574 686f 6420  .        method 
+0001dc30: 3d20 2770 7269 7661 7465 5075 7453 706f  = 'privatePutSpo
+0001dc40: 744f 7264 6572 7327 0a20 2020 2020 2020  tOrders'.       
+0001dc50: 2069 6620 6973 5553 4454 5365 7474 6c65   if isUSDTSettle
+0001dc60: 643a 0a20 2020 2020 2020 2020 2020 206d  d:.            m
+0001dc70: 6574 686f 6420 3d20 2770 7269 7661 7465  ethod = 'private
+0001dc80: 5075 7447 4f72 6465 7273 5265 706c 6163  PutGOrdersReplac
+0001dc90: 6527 0a20 2020 2020 2020 2020 2020 2070  e'.            p
+0001dca0: 6f73 5369 6465 203d 2073 656c 662e 7361  osSide = self.sa
+0001dcb0: 6665 5f73 7472 696e 6728 7061 7261 6d73  fe_string(params
+0001dcc0: 2c20 2770 6f73 5369 6465 2729 0a20 2020  , 'posSide').   
+0001dcd0: 2020 2020 2020 2020 2069 6620 706f 7353           if posS
+0001dce0: 6964 6520 6973 204e 6f6e 653a 0a20 2020  ide is None:.   
+0001dcf0: 2020 2020 2020 2020 2020 2020 2072 6571               req
+0001dd00: 7565 7374 5b27 706f 7353 6964 6527 5d20  uest['posSide'] 
+0001dd10: 3d20 274d 6572 6765 6427 0a20 2020 2020  = 'Merged'.     
+0001dd20: 2020 2065 6c69 6620 6d61 726b 6574 5b27     elif market['
+0001dd30: 7377 6170 275d 3a0a 2020 2020 2020 2020  swap']:.        
+0001dd40: 2020 2020 6d65 7468 6f64 203d 2027 7072      method = 'pr
+0001dd50: 6976 6174 6550 7574 4f72 6465 7273 5265  ivatePutOrdersRe
+0001dd60: 706c 6163 6527 0a20 2020 2020 2020 2072  place'.        r
+0001dd70: 6573 706f 6e73 6520 3d20 6177 6169 7420  esponse = await 
+0001dd80: 6765 7461 7474 7228 7365 6c66 2c20 6d65  getattr(self, me
+0001dd90: 7468 6f64 2928 7365 6c66 2e65 7874 656e  thod)(self.exten
+0001dda0: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
+0001ddb0: 7329 290a 2020 2020 2020 2020 6461 7461  s)).        data
+0001ddc0: 203d 2073 656c 662e 7361 6665 5f76 616c   = self.safe_val
+0001ddd0: 7565 2872 6573 706f 6e73 652c 2027 6461  ue(response, 'da
+0001dde0: 7461 272c 207b 7d29 0a20 2020 2020 2020  ta', {}).       
+0001ddf0: 2072 6574 7572 6e20 7365 6c66 2e70 6172   return self.par
+0001de00: 7365 5f6f 7264 6572 2864 6174 612c 206d  se_order(data, m
+0001de10: 6172 6b65 7429 0a0a 2020 2020 6173 796e  arket)..    asyn
+0001de20: 6320 6465 6620 6361 6e63 656c 5f6f 7264  c def cancel_ord
+0001de30: 6572 2873 656c 662c 2069 643a 2073 7472  er(self, id: str
+0001de40: 2c20 7379 6d62 6f6c 3a20 4f70 7469 6f6e  , symbol: Option
+0001de50: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c20  al[str] = None, 
+0001de60: 7061 7261 6d73 3d7b 7d29 3a0a 2020 2020  params={}):.    
+0001de70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001de80: 6361 6e63 656c 7320 616e 206f 7065 6e20  cancels an open 
+0001de90: 6f72 6465 720a 2020 2020 2020 2020 7365  order.        se
+0001dea0: 6520 6874 7470 733a 2f2f 6769 7468 7562  e https://github
+0001deb0: 2e63 6f6d 2f70 6865 6d65 782f 7068 656d  .com/phemex/phem
+0001dec0: 6578 2d61 7069 2d64 6f63 732f 626c 6f62  ex-api-docs/blob
+0001ded0: 2f6d 6173 7465 722f 5075 626c 6963 2d48  /master/Public-H
+0001dee0: 6564 6765 642d 5065 7270 6574 7561 6c2d  edged-Perpetual-
+0001def0: 4150 492e 6d64 2363 616e 6365 6c2d 7369  API.md#cancel-si
+0001df00: 6e67 6c65 2d6f 7264 6572 2d62 792d 6f72  ngle-order-by-or
+0001df10: 6465 7269 640a 2020 2020 2020 2020 3a70  derid.        :p
+0001df20: 6172 616d 2073 7472 2069 643a 206f 7264  aram str id: ord
+0001df30: 6572 2069 640a 2020 2020 2020 2020 3a70  er id.        :p
+0001df40: 6172 616d 2073 7472 2073 796d 626f 6c3a  aram str symbol:
+0001df50: 2075 6e69 6669 6564 2073 796d 626f 6c20   unified symbol 
+0001df60: 6f66 2074 6865 206d 6172 6b65 7420 7468  of the market th
+0001df70: 6520 6f72 6465 7220 7761 7320 6d61 6465  e order was made
+0001df80: 2069 6e0a 2020 2020 2020 2020 3a70 6172   in.        :par
+0001df90: 616d 2064 6963 7420 7061 7261 6d73 3a20  am dict params: 
+0001dfa0: 6578 7472 6120 7061 7261 6d65 7465 7273  extra parameters
+0001dfb0: 2073 7065 6369 6669 6320 746f 2074 6865   specific to the
+0001dfc0: 2070 6865 6d65 7820 6170 6920 656e 6470   phemex api endp
+0001dfd0: 6f69 6e74 0a20 2020 2020 2020 203a 7061  oint.        :pa
+0001dfe0: 7261 6d20 7374 727c 4e6f 6e65 2070 6172  ram str|None par
+0001dff0: 616d 735b 2770 6f73 5369 6465 275d 3a20  ams['posSide']: 
+0001e000: 6569 7468 6572 2027 4d65 7267 6564 2720  either 'Merged' 
+0001e010: 6f72 2027 4c6f 6e67 2720 6f72 2027 5368  or 'Long' or 'Sh
+0001e020: 6f72 7427 0a20 2020 2020 2020 203a 7265  ort'.        :re
+0001e030: 7475 726e 7320 6469 6374 3a20 416e 2060  turns dict: An `
+0001e040: 6f72 6465 7220 7374 7275 6374 7572 6520  order structure 
+0001e050: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
+0001e060: 7874 2e63 6f6d 2f23 2f3f 6964 3d6f 7264  xt.com/#/?id=ord
+0001e070: 6572 2d73 7472 7563 7475 7265 3e60 0a20  er-structure>`. 
+0001e080: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001e090: 2020 2069 6620 7379 6d62 6f6c 2069 7320     if symbol is 
+0001e0a0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0001e0b0: 2020 7261 6973 6520 4172 6775 6d65 6e74    raise Argument
+0001e0c0: 7352 6571 7569 7265 6428 7365 6c66 2e69  sRequired(self.i
+0001e0d0: 6420 2b20 2720 6361 6e63 656c 4f72 6465  d + ' cancelOrde
+0001e0e0: 7228 2920 7265 7175 6972 6573 2061 2073  r() requires a s
+0001e0f0: 796d 626f 6c20 6172 6775 6d65 6e74 2729  ymbol argument')
+0001e100: 0a20 2020 2020 2020 2061 7761 6974 2073  .        await s
+0001e110: 656c 662e 6c6f 6164 5f6d 6172 6b65 7473  elf.load_markets
+0001e120: 2829 0a20 2020 2020 2020 206d 6172 6b65  ().        marke
+0001e130: 7420 3d20 7365 6c66 2e6d 6172 6b65 7428  t = self.market(
+0001e140: 7379 6d62 6f6c 290a 2020 2020 2020 2020  symbol).        
+0001e150: 7265 7175 6573 7420 3d20 7b0a 2020 2020  request = {.    
+0001e160: 2020 2020 2020 2020 2773 796d 626f 6c27          'symbol'
+0001e170: 3a20 6d61 726b 6574 5b27 6964 275d 2c0a  : market['id'],.
+0001e180: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+0001e190: 2020 636c 6965 6e74 4f72 6465 7249 6420    clientOrderId 
+0001e1a0: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
+0001e1b0: 6e67 5f32 2870 6172 616d 732c 2027 636c  ng_2(params, 'cl
+0001e1c0: 6965 6e74 4f72 6465 7249 6427 2c20 2763  ientOrderId', 'c
+0001e1d0: 6c4f 7264 4944 2729 0a20 2020 2020 2020  lOrdID').       
+0001e1e0: 2070 6172 616d 7320 3d20 7365 6c66 2e6f   params = self.o
+0001e1f0: 6d69 7428 7061 7261 6d73 2c20 5b27 636c  mit(params, ['cl
+0001e200: 6965 6e74 4f72 6465 7249 6427 2c20 2763  ientOrderId', 'c
+0001e210: 6c4f 7264 4944 275d 290a 2020 2020 2020  lOrdID']).      
+0001e220: 2020 6966 2063 6c69 656e 744f 7264 6572    if clientOrder
+0001e230: 4964 2069 7320 6e6f 7420 4e6f 6e65 3a0a  Id is not None:.
+0001e240: 2020 2020 2020 2020 2020 2020 7265 7175              requ
+0001e250: 6573 745b 2763 6c4f 7264 4944 275d 203d  est['clOrdID'] =
+0001e260: 2063 6c69 656e 744f 7264 6572 4964 0a20   clientOrderId. 
+0001e270: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001e280: 2020 2020 2020 2020 2072 6571 7565 7374           request
+0001e290: 5b27 6f72 6465 7249 4427 5d20 3d20 6964  ['orderID'] = id
+0001e2a0: 0a20 2020 2020 2020 206d 6574 686f 6420  .        method 
+0001e2b0: 3d20 2770 7269 7661 7465 4465 6c65 7465  = 'privateDelete
+0001e2c0: 5370 6f74 4f72 6465 7273 270a 2020 2020  SpotOrders'.    
+0001e2d0: 2020 2020 6966 206d 6172 6b65 745b 2773      if market['s
+0001e2e0: 6574 746c 6527 5d20 3d3d 2027 5553 4454  ettle'] == 'USDT
+0001e2f0: 273a 0a20 2020 2020 2020 2020 2020 206d  ':.            m
+0001e300: 6574 686f 6420 3d20 2770 7269 7661 7465  ethod = 'private
+0001e310: 4465 6c65 7465 474f 7264 6572 7343 616e  DeleteGOrdersCan
+0001e320: 6365 6c27 0a20 2020 2020 2020 2020 2020  cel'.           
+0001e330: 2070 6f73 5369 6465 203d 2073 656c 662e   posSide = self.
+0001e340: 7361 6665 5f73 7472 696e 6728 7061 7261  safe_string(para
+0001e350: 6d73 2c20 2770 6f73 5369 6465 2729 0a20  ms, 'posSide'). 
+0001e360: 2020 2020 2020 2020 2020 2069 6620 706f             if po
+0001e370: 7353 6964 6520 6973 204e 6f6e 653a 0a20  sSide is None:. 
+0001e380: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001e390: 6571 7565 7374 5b27 706f 7353 6964 6527  equest['posSide'
+0001e3a0: 5d20 3d20 274d 6572 6765 6427 0a20 2020  ] = 'Merged'.   
+0001e3b0: 2020 2020 2065 6c69 6620 6d61 726b 6574       elif market
+0001e3c0: 5b27 7377 6170 275d 3a0a 2020 2020 2020  ['swap']:.      
+0001e3d0: 2020 2020 2020 6d65 7468 6f64 203d 2027        method = '
+0001e3e0: 7072 6976 6174 6544 656c 6574 654f 7264  privateDeleteOrd
+0001e3f0: 6572 7343 616e 6365 6c27 0a20 2020 2020  ersCancel'.     
+0001e400: 2020 2072 6573 706f 6e73 6520 3d20 6177     response = aw
+0001e410: 6169 7420 6765 7461 7474 7228 7365 6c66  ait getattr(self
+0001e420: 2c20 6d65 7468 6f64 2928 7365 6c66 2e65  , method)(self.e
+0001e430: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
+0001e440: 6172 616d 7329 290a 2020 2020 2020 2020  arams)).        
+0001e450: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
+0001e460: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
+0001e470: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
+0001e480: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0001e490: 2e70 6172 7365 5f6f 7264 6572 2864 6174  .parse_order(dat
+0001e4a0: 612c 206d 6172 6b65 7429 0a0a 2020 2020  a, market)..    
+0001e4b0: 6173 796e 6320 6465 6620 6361 6e63 656c  async def cancel
+0001e4c0: 5f61 6c6c 5f6f 7264 6572 7328 7365 6c66  _all_orders(self
+0001e4d0: 2c20 7379 6d62 6f6c 3a20 4f70 7469 6f6e  , symbol: Option
+0001e4e0: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c20  al[str] = None, 
+0001e4f0: 7061 7261 6d73 3d7b 7d29 3a0a 2020 2020  params={}):.    
+0001e500: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001e510: 6361 6e63 656c 2061 6c6c 206f 7065 6e20  cancel all open 
+0001e520: 6f72 6465 7273 2069 6e20 6120 6d61 726b  orders in a mark
+0001e530: 6574 0a20 2020 2020 2020 2073 6565 2068  et.        see h
+0001e540: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001e550: 6d2f 7068 656d 6578 2f70 6865 6d65 782d  m/phemex/phemex-
+0001e560: 6170 692d 646f 6373 2f62 6c6f 622f 6d61  api-docs/blob/ma
+0001e570: 7374 6572 2f50 7562 6c69 632d 4865 6467  ster/Public-Hedg
+0001e580: 6564 2d50 6572 7065 7475 616c 2d41 5049  ed-Perpetual-API
+0001e590: 2e6d 6423 6361 6e63 656c 616c 6c0a 2020  .md#cancelall.  
+0001e5a0: 2020 2020 2020 3a70 6172 616d 2073 7472        :param str
+0001e5b0: 2073 796d 626f 6c3a 2075 6e69 6669 6564   symbol: unified
+0001e5c0: 206d 6172 6b65 7420 7379 6d62 6f6c 206f   market symbol o
+0001e5d0: 6620 7468 6520 6d61 726b 6574 2074 6f20  f the market to 
+0001e5e0: 6361 6e63 656c 206f 7264 6572 7320 696e  cancel orders in
+0001e5f0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0001e600: 6469 6374 2070 6172 616d 733a 2065 7874  dict params: ext
+0001e610: 7261 2070 6172 616d 6574 6572 7320 7370  ra parameters sp
+0001e620: 6563 6966 6963 2074 6f20 7468 6520 7068  ecific to the ph
+0001e630: 656d 6578 2061 7069 2065 6e64 706f 696e  emex api endpoin
+0001e640: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
+0001e650: 6e73 205b 6469 6374 5d3a 2061 206c 6973  ns [dict]: a lis
+0001e660: 7420 6f66 2060 6f72 6465 7220 7374 7275  t of `order stru
+0001e670: 6374 7572 6573 203c 6874 7470 733a 2f2f  ctures <https://
+0001e680: 646f 6373 2e63 6378 742e 636f 6d2f 232f  docs.ccxt.com/#/
+0001e690: 3f69 643d 6f72 6465 722d 7374 7275 6374  ?id=order-struct
+0001e6a0: 7572 653e 600a 2020 2020 2020 2020 2222  ure>`.        ""
+0001e6b0: 220a 2020 2020 2020 2020 6966 2073 796d  ".        if sym
+0001e6c0: 626f 6c20 6973 204e 6f6e 653a 0a20 2020  bol is None:.   
+0001e6d0: 2020 2020 2020 2020 2072 6169 7365 2041           raise A
+0001e6e0: 7267 756d 656e 7473 5265 7175 6972 6564  rgumentsRequired
+0001e6f0: 2873 656c 662e 6964 202b 2027 2063 616e  (self.id + ' can
+0001e700: 6365 6c41 6c6c 4f72 6465 7273 2829 2072  celAllOrders() r
+0001e710: 6571 7569 7265 7320 6120 7379 6d62 6f6c  equires a symbol
+0001e720: 2061 7267 756d 656e 7427 290a 2020 2020   argument').    
+0001e730: 2020 2020 6177 6169 7420 7365 6c66 2e6c      await self.l
+0001e740: 6f61 645f 6d61 726b 6574 7328 290a 2020  oad_markets().  
+0001e750: 2020 2020 2020 7265 7175 6573 7420 3d20        request = 
+0001e760: 7b0a 2020 2020 2020 2020 2020 2020 2320  {.            # 
+0001e770: 2773 796d 626f 6c27 3a20 6d61 726b 6574  'symbol': market
+0001e780: 5b27 6964 275d 2c0a 2020 2020 2020 2020  ['id'],.        
+0001e790: 2020 2020 2320 2775 6e74 7269 6767 6572      # 'untrigger
+0001e7a0: 7265 6427 3a20 4661 6c73 652c 2020 2320  red': False,  # 
+0001e7b0: 4661 6c73 6520 746f 2063 616e 6365 6c20  False to cancel 
+0001e7c0: 6e6f 6e2d 636f 6e64 6974 696f 6e61 6c20  non-conditional 
+0001e7d0: 6f72 6465 7273 2c20 5472 7565 2074 6f20  orders, True to 
+0001e7e0: 6361 6e63 656c 2063 6f6e 6469 7469 6f6e  cancel condition
+0001e7f0: 616c 206f 7264 6572 730a 2020 2020 2020  al orders.      
+0001e800: 2020 2020 2020 2320 2774 6578 7427 3a20        # 'text': 
+0001e810: 2775 7020 746f 2034 3020 6368 6172 6163  'up to 40 charac
+0001e820: 7465 7273 206d 6178 272c 0a20 2020 2020  ters max',.     
+0001e830: 2020 207d 0a20 2020 2020 2020 206d 6172     }.        mar
+0001e840: 6b65 7420 3d20 7365 6c66 2e6d 6172 6b65  ket = self.marke
+0001e850: 7428 7379 6d62 6f6c 290a 2020 2020 2020  t(symbol).      
+0001e860: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
+0001e870: 6174 6544 656c 6574 6553 706f 744f 7264  ateDeleteSpotOrd
+0001e880: 6572 7341 6c6c 270a 2020 2020 2020 2020  ersAll'.        
+0001e890: 6966 206d 6172 6b65 745b 2773 6574 746c  if market['settl
+0001e8a0: 6527 5d20 3d3d 2027 5553 4454 273a 0a20  e'] == 'USDT':. 
+0001e8b0: 2020 2020 2020 2020 2020 206d 6574 686f             metho
+0001e8c0: 6420 3d20 2770 7269 7661 7465 4465 6c65  d = 'privateDele
+0001e8d0: 7465 474f 7264 6572 7341 6c6c 270a 2020  teGOrdersAll'.  
+0001e8e0: 2020 2020 2020 656c 6966 206d 6172 6b65        elif marke
+0001e8f0: 745b 2773 7761 7027 5d3a 0a20 2020 2020  t['swap']:.     
+0001e900: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
+0001e910: 2770 7269 7661 7465 4465 6c65 7465 4f72  'privateDeleteOr
+0001e920: 6465 7273 416c 6c27 0a20 2020 2020 2020  dersAll'.       
+0001e930: 2072 6571 7565 7374 5b27 7379 6d62 6f6c   request['symbol
+0001e940: 275d 203d 206d 6172 6b65 745b 2769 6427  '] = market['id'
+0001e950: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
+0001e960: 2061 7761 6974 2067 6574 6174 7472 2873   await getattr(s
+0001e970: 656c 662c 206d 6574 686f 6429 2873 656c  elf, method)(sel
+0001e980: 662e 6578 7465 6e64 2872 6571 7565 7374  f.extend(request
+0001e990: 2c20 7061 7261 6d73 2929 0a0a 2020 2020  , params))..    
+0001e9a0: 6173 796e 6320 6465 6620 6665 7463 685f  async def fetch_
+0001e9b0: 6f72 6465 7228 7365 6c66 2c20 6964 3a20  order(self, id: 
+0001e9c0: 7374 722c 2073 796d 626f 6c3a 204f 7074  str, symbol: Opt
+0001e9d0: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+0001e9e0: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
+0001e9f0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001ea00: 2020 2066 6574 6368 6573 2069 6e66 6f72     fetches infor
+0001ea10: 6d61 7469 6f6e 206f 6e20 616e 206f 7264  mation on an ord
+0001ea20: 6572 206d 6164 6520 6279 2074 6865 2075  er made by the u
+0001ea30: 7365 720a 2020 2020 2020 2020 3a70 6172  ser.        :par
+0001ea40: 616d 2073 7472 2073 796d 626f 6c3a 2075  am str symbol: u
+0001ea50: 6e69 6669 6564 2073 796d 626f 6c20 6f66  nified symbol of
+0001ea60: 2074 6865 206d 6172 6b65 7420 7468 6520   the market the 
+0001ea70: 6f72 6465 7220 7761 7320 6d61 6465 2069  order was made i
+0001ea80: 6e0a 2020 2020 2020 2020 3a70 6172 616d  n.        :param
+0001ea90: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
+0001eaa0: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
+0001eab0: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
+0001eac0: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
+0001ead0: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
+0001eae0: 726e 7320 6469 6374 3a20 416e 2060 6f72  rns dict: An `or
+0001eaf0: 6465 7220 7374 7275 6374 7572 6520 3c68  der structure <h
+0001eb00: 7474 7073 3a2f 2f64 6f63 732e 6363 7874  ttps://docs.ccxt
+0001eb10: 2e63 6f6d 2f23 2f3f 6964 3d6f 7264 6572  .com/#/?id=order
+0001eb20: 2d73 7472 7563 7475 7265 3e60 0a20 2020  -structure>`.   
+0001eb30: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001eb40: 2069 6620 7379 6d62 6f6c 2069 7320 4e6f   if symbol is No
+0001eb50: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0001eb60: 7261 6973 6520 4172 6775 6d65 6e74 7352  raise ArgumentsR
+0001eb70: 6571 7569 7265 6428 7365 6c66 2e69 6420  equired(self.id 
+0001eb80: 2b20 2720 6665 7463 684f 7264 6572 2829  + ' fetchOrder()
+0001eb90: 2072 6571 7569 7265 7320 6120 7379 6d62   requires a symb
+0001eba0: 6f6c 2061 7267 756d 656e 7427 290a 2020  ol argument').  
+0001ebb0: 2020 2020 2020 6177 6169 7420 7365 6c66        await self
+0001ebc0: 2e6c 6f61 645f 6d61 726b 6574 7328 290a  .load_markets().
+0001ebd0: 2020 2020 2020 2020 6d61 726b 6574 203d          market =
+0001ebe0: 2073 656c 662e 6d61 726b 6574 2873 796d   self.market(sym
+0001ebf0: 626f 6c29 0a20 2020 2020 2020 2069 6620  bol).        if 
+0001ec00: 6d61 726b 6574 5b27 7365 7474 6c65 275d  market['settle']
+0001ec10: 203d 3d20 2755 5344 5427 3a0a 2020 2020   == 'USDT':.    
+0001ec20: 2020 2020 2020 2020 7261 6973 6520 4e6f          raise No
+0001ec30: 7453 7570 706f 7274 6564 2873 656c 662e  tSupported(self.
+0001ec40: 6964 202b 2027 6665 7463 684f 7264 6572  id + 'fetchOrder
+0001ec50: 2829 2069 7320 6e6f 7420 7375 7070 6f72  () is not suppor
+0001ec60: 7465 6420 7965 7420 666f 7220 5553 4454  ted yet for USDT
+0001ec70: 2073 6574 746c 6564 2073 7761 7020 6d61   settled swap ma
+0001ec80: 726b 6574 7327 2920 2023 2068 7474 7073  rkets')  # https
+0001ec90: 3a2f 2f67 6974 6875 622e 636f 6d2f 7068  ://github.com/ph
+0001eca0: 656d 6578 2f70 6865 6d65 782d 6170 692d  emex/phemex-api-
+0001ecb0: 646f 6373 2f62 6c6f 622f 6d61 7374 6572  docs/blob/master
+0001ecc0: 2f50 7562 6c69 632d 4865 6467 6564 2d50  /Public-Hedged-P
+0001ecd0: 6572 7065 7475 616c 2d41 5049 2e6d 6423  erpetual-API.md#
+0001ece0: 7175 6572 792d 7573 6572 2d6f 7264 6572  query-user-order
+0001ecf0: 2d62 792d 6f72 6465 7269 642d 6f72 2d71  -by-orderid-or-q
+0001ed00: 7565 7279 2d75 7365 722d 6f72 6465 722d  uery-user-order-
+0001ed10: 6279 2d63 6c69 656e 742d 6f72 6465 722d  by-client-order-
+0001ed20: 6964 0a20 2020 2020 2020 206d 6574 686f  id.        metho
+0001ed30: 6420 3d20 2770 7269 7661 7465 4765 7453  d = 'privateGetS
+0001ed40: 706f 744f 7264 6572 7341 6374 6976 6527  potOrdersActive'
+0001ed50: 2069 6620 6d61 726b 6574 5b27 7370 6f74   if market['spot
+0001ed60: 275d 2065 6c73 6520 2770 7269 7661 7465  '] else 'private
+0001ed70: 4765 7445 7863 6861 6e67 654f 7264 6572  GetExchangeOrder
+0001ed80: 270a 2020 2020 2020 2020 7265 7175 6573  '.        reques
+0001ed90: 7420 3d20 7b0a 2020 2020 2020 2020 2020  t = {.          
+0001eda0: 2020 2773 796d 626f 6c27 3a20 6d61 726b    'symbol': mark
+0001edb0: 6574 5b27 6964 275d 2c0a 2020 2020 2020  et['id'],.      
+0001edc0: 2020 7d0a 2020 2020 2020 2020 636c 6965    }.        clie
+0001edd0: 6e74 4f72 6465 7249 6420 3d20 7365 6c66  ntOrderId = self
+0001ede0: 2e73 6166 655f 7374 7269 6e67 5f32 2870  .safe_string_2(p
+0001edf0: 6172 616d 732c 2027 636c 6965 6e74 4f72  arams, 'clientOr
+0001ee00: 6465 7249 6427 2c20 2763 6c4f 7264 4944  derId', 'clOrdID
+0001ee10: 2729 0a20 2020 2020 2020 2070 6172 616d  ').        param
+0001ee20: 7320 3d20 7365 6c66 2e6f 6d69 7428 7061  s = self.omit(pa
+0001ee30: 7261 6d73 2c20 5b27 636c 6965 6e74 4f72  rams, ['clientOr
+0001ee40: 6465 7249 6427 2c20 2763 6c4f 7264 4944  derId', 'clOrdID
+0001ee50: 275d 290a 2020 2020 2020 2020 6966 2063  ']).        if c
+0001ee60: 6c69 656e 744f 7264 6572 4964 2069 7320  lientOrderId is 
+0001ee70: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+0001ee80: 2020 2020 2020 7265 7175 6573 745b 2763        request['c
+0001ee90: 6c4f 7264 4944 275d 203d 2063 6c69 656e  lOrdID'] = clien
+0001eea0: 744f 7264 6572 4964 0a20 2020 2020 2020  tOrderId.       
+0001eeb0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001eec0: 2020 2072 6571 7565 7374 5b27 6f72 6465     request['orde
+0001eed0: 7249 4427 5d20 3d20 6964 0a20 2020 2020  rID'] = id.     
+0001eee0: 2020 2072 6573 706f 6e73 6520 3d20 6177     response = aw
+0001eef0: 6169 7420 6765 7461 7474 7228 7365 6c66  ait getattr(self
+0001ef00: 2c20 6d65 7468 6f64 2928 7365 6c66 2e65  , method)(self.e
+0001ef10: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
+0001ef20: 6172 616d 7329 290a 2020 2020 2020 2020  arams)).        
+0001ef30: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
+0001ef40: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
+0001ef50: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
+0001ef60: 2020 2020 206f 7264 6572 203d 2064 6174       order = dat
+0001ef70: 610a 2020 2020 2020 2020 6966 2069 7369  a.        if isi
+0001ef80: 6e73 7461 6e63 6528 6461 7461 2c20 6c69  nstance(data, li
+0001ef90: 7374 293a 0a20 2020 2020 2020 2020 2020  st):.           
+0001efa0: 206e 756d 4f72 6465 7273 203d 206c 656e   numOrders = len
+0001efb0: 2864 6174 6129 0a20 2020 2020 2020 2020  (data).         
+0001efc0: 2020 2069 6620 6e75 6d4f 7264 6572 7320     if numOrders 
+0001efd0: 3c20 313a 0a20 2020 2020 2020 2020 2020  < 1:.           
+0001efe0: 2020 2020 2069 6620 636c 6965 6e74 4f72       if clientOr
+0001eff0: 6465 7249 6420 6973 206e 6f74 204e 6f6e  derId is not Non
+0001f000: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0001f010: 2020 2020 2020 2072 6169 7365 204f 7264         raise Ord
+0001f020: 6572 4e6f 7446 6f75 6e64 2873 656c 662e  erNotFound(self.
+0001f030: 6964 202b 2027 2066 6574 6368 4f72 6465  id + ' fetchOrde
+0001f040: 7228 2920 2720 2b20 7379 6d62 6f6c 202b  r() ' + symbol +
+0001f050: 2027 206f 7264 6572 2077 6974 6820 636c   ' order with cl
+0001f060: 6965 6e74 4f72 6465 7249 6420 2720 2b20  ientOrderId ' + 
+0001f070: 636c 6965 6e74 4f72 6465 7249 6420 2b20  clientOrderId + 
+0001f080: 2720 6e6f 7420 666f 756e 6427 290a 2020  ' not found').  
+0001f090: 2020 2020 2020 2020 2020 2020 2020 656c                el
+0001f0a0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001f0b0: 2020 2020 2020 2020 7261 6973 6520 4f72          raise Or
+0001f0c0: 6465 724e 6f74 466f 756e 6428 7365 6c66  derNotFound(self
+0001f0d0: 2e69 6420 2b20 2720 6665 7463 684f 7264  .id + ' fetchOrd
+0001f0e0: 6572 2829 2027 202b 2073 796d 626f 6c20  er() ' + symbol 
+0001f0f0: 2b20 2720 6f72 6465 7220 7769 7468 2069  + ' order with i
+0001f100: 6420 2720 2b20 6964 202b 2027 206e 6f74  d ' + id + ' not
+0001f110: 2066 6f75 6e64 2729 0a20 2020 2020 2020   found').       
+0001f120: 2020 2020 206f 7264 6572 203d 2073 656c       order = sel
+0001f130: 662e 7361 6665 5f76 616c 7565 2864 6174  f.safe_value(dat
+0001f140: 612c 2030 2c20 7b7d 290a 2020 2020 2020  a, 0, {}).      
+0001f150: 2020 7265 7475 726e 2073 656c 662e 7061    return self.pa
+0001f160: 7273 655f 6f72 6465 7228 6f72 6465 722c  rse_order(order,
+0001f170: 206d 6172 6b65 7429 0a0a 2020 2020 6173   market)..    as
+0001f180: 796e 6320 6465 6620 6665 7463 685f 6f72  ync def fetch_or
+0001f190: 6465 7273 2873 656c 662c 2073 796d 626f  ders(self, symbo
+0001f1a0: 6c3a 204f 7074 696f 6e61 6c5b 7374 725d  l: Optional[str]
+0001f1b0: 203d 204e 6f6e 652c 2073 696e 6365 3a20   = None, since: 
+0001f1c0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
+0001f1d0: 4e6f 6e65 2c20 6c69 6d69 743a 204f 7074  None, limit: Opt
+0001f1e0: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
+0001f1f0: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
+0001f200: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001f210: 2020 2066 6574 6368 6573 2069 6e66 6f72     fetches infor
+0001f220: 6d61 7469 6f6e 206f 6e20 6d75 6c74 6970  mation on multip
+0001f230: 6c65 206f 7264 6572 7320 6d61 6465 2062  le orders made b
+0001f240: 7920 7468 6520 7573 6572 0a20 2020 2020  y the user.     
+0001f250: 2020 2073 6565 2068 7474 7073 3a2f 2f67     see https://g
+0001f260: 6974 6875 622e 636f 6d2f 7068 656d 6578  ithub.com/phemex
+0001f270: 2f70 6865 6d65 782d 6170 692d 646f 6373  /phemex-api-docs
+0001f280: 2f62 6c6f 622f 6d61 7374 6572 2f50 7562  /blob/master/Pub
+0001f290: 6c69 632d 4865 6467 6564 2d50 6572 7065  lic-Hedged-Perpe
+0001f2a0: 7475 616c 2d41 5049 2e6d 6423 7175 6572  tual-API.md#quer
+0001f2b0: 796f 7264 6572 0a20 2020 2020 2020 203a  yorder.        :
+0001f2c0: 7061 7261 6d20 7374 7220 7379 6d62 6f6c  param str symbol
+0001f2d0: 3a20 756e 6966 6965 6420 6d61 726b 6574  : unified market
+0001f2e0: 2073 796d 626f 6c20 6f66 2074 6865 206d   symbol of the m
+0001f2f0: 6172 6b65 7420 6f72 6465 7273 2077 6572  arket orders wer
+0001f300: 6520 6d61 6465 2069 6e0a 2020 2020 2020  e made in.      
+0001f310: 2020 3a70 6172 616d 2069 6e74 7c4e 6f6e    :param int|Non
+0001f320: 6520 7369 6e63 653a 2074 6865 2065 6172  e since: the ear
+0001f330: 6c69 6573 7420 7469 6d65 2069 6e20 6d73  liest time in ms
+0001f340: 2074 6f20 6665 7463 6820 6f72 6465 7273   to fetch orders
+0001f350: 2066 6f72 0a20 2020 2020 2020 203a 7061   for.        :pa
+0001f360: 7261 6d20 696e 747c 4e6f 6e65 206c 696d  ram int|None lim
+0001f370: 6974 3a20 7468 6520 6d61 7869 6d75 6d20  it: the maximum 
+0001f380: 6e75 6d62 6572 206f 6620 206f 7264 6520  number of  orde 
+0001f390: 7374 7275 6374 7572 6573 2074 6f20 7265  structures to re
+0001f3a0: 7472 6965 7665 0a20 2020 2020 2020 203a  trieve.        :
+0001f3b0: 7061 7261 6d20 6469 6374 2070 6172 616d  param dict param
+0001f3c0: 733a 2065 7874 7261 2070 6172 616d 6574  s: extra paramet
+0001f3d0: 6572 7320 7370 6563 6966 6963 2074 6f20  ers specific to 
+0001f3e0: 7468 6520 7068 656d 6578 2061 7069 2065  the phemex api e
+0001f3f0: 6e64 706f 696e 740a 2020 2020 2020 2020  ndpoint.        
+0001f400: 3a72 6574 7572 6e73 205b 6469 6374 5d3a  :returns [dict]:
+0001f410: 2061 206c 6973 7420 6f66 2060 6f72 6465   a list of `orde
+0001f420: 7220 7374 7275 6374 7572 6573 203c 6874  r structures <ht
+0001f430: 7470 733a 2f2f 646f 6373 2e63 6378 742e  tps://docs.ccxt.
+0001f440: 636f 6d2f 232f 3f69 643d 6f72 6465 722d  com/#/?id=order-
+0001f450: 7374 7275 6374 7572 653e 600a 2020 2020  structure>`.    
+0001f460: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001f470: 6966 2073 796d 626f 6c20 6973 204e 6f6e  if symbol is Non
+0001f480: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+0001f490: 6169 7365 2041 7267 756d 656e 7473 5265  aise ArgumentsRe
+0001f4a0: 7175 6972 6564 2873 656c 662e 6964 202b  quired(self.id +
+0001f4b0: 2027 2066 6574 6368 4f72 6465 7273 2829   ' fetchOrders()
+0001f4c0: 2072 6571 7569 7265 7320 6120 7379 6d62   requires a symb
+0001f4d0: 6f6c 2061 7267 756d 656e 7427 290a 2020  ol argument').  
+0001f4e0: 2020 2020 2020 6177 6169 7420 7365 6c66        await self
+0001f4f0: 2e6c 6f61 645f 6d61 726b 6574 7328 290a  .load_markets().
+0001f500: 2020 2020 2020 2020 6d61 726b 6574 203d          market =
+0001f510: 2073 656c 662e 6d61 726b 6574 2873 796d   self.market(sym
+0001f520: 626f 6c29 0a20 2020 2020 2020 2072 6571  bol).        req
+0001f530: 7565 7374 203d 207b 0a20 2020 2020 2020  uest = {.       
+0001f540: 2020 2020 2027 7379 6d62 6f6c 273a 206d       'symbol': m
+0001f550: 6172 6b65 745b 2769 6427 5d2c 0a20 2020  arket['id'],.   
+0001f560: 2020 2020 207d 0a20 2020 2020 2020 206d       }.        m
+0001f570: 6574 686f 6420 3d20 2770 7269 7661 7465  ethod = 'private
+0001f580: 4765 7453 706f 744f 7264 6572 7327 0a20  GetSpotOrders'. 
+0001f590: 2020 2020 2020 2069 6620 6d61 726b 6574         if market
+0001f5a0: 5b27 7365 7474 6c65 275d 203d 3d20 2755  ['settle'] == 'U
+0001f5b0: 5344 5427 3a0a 2020 2020 2020 2020 2020  SDT':.          
+0001f5c0: 2020 7265 7175 6573 745b 2763 7572 7265    request['curre
+0001f5d0: 6e63 7927 5d20 3d20 6d61 726b 6574 5b27  ncy'] = market['
+0001f5e0: 7365 7474 6c65 275d 0a20 2020 2020 2020  settle'].       
+0001f5f0: 2020 2020 206d 6574 686f 6420 3d20 2770       method = 'p
+0001f600: 7269 7661 7465 4765 7445 7863 6861 6e67  rivateGetExchang
+0001f610: 654f 7264 6572 5632 4f72 6465 724c 6973  eOrderV2OrderLis
+0001f620: 7427 0a20 2020 2020 2020 2065 6c69 6620  t'.        elif 
+0001f630: 6d61 726b 6574 5b27 7377 6170 275d 3a0a  market['swap']:.
+0001f640: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
+0001f650: 6f64 203d 2027 7072 6976 6174 6547 6574  od = 'privateGet
+0001f660: 4578 6368 616e 6765 4f72 6465 724c 6973  ExchangeOrderLis
+0001f670: 7427 0a20 2020 2020 2020 2069 6620 7369  t'.        if si
+0001f680: 6e63 6520 6973 206e 6f74 204e 6f6e 653a  nce is not None:
+0001f690: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
+0001f6a0: 7565 7374 5b27 7374 6172 7427 5d20 3d20  uest['start'] = 
+0001f6b0: 7369 6e63 650a 2020 2020 2020 2020 6966  since.        if
+0001f6c0: 206c 696d 6974 2069 7320 6e6f 7420 4e6f   limit is not No
+0001f6d0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0001f6e0: 7265 7175 6573 745b 276c 696d 6974 275d  request['limit']
+0001f6f0: 203d 206c 696d 6974 0a20 2020 2020 2020   = limit.       
+0001f700: 2072 6573 706f 6e73 6520 3d20 6177 6169   response = awai
+0001f710: 7420 6765 7461 7474 7228 7365 6c66 2c20  t getattr(self, 
+0001f720: 6d65 7468 6f64 2928 7365 6c66 2e65 7874  method)(self.ext
+0001f730: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
+0001f740: 616d 7329 290a 2020 2020 2020 2020 6461  ams)).        da
+0001f750: 7461 203d 2073 656c 662e 7361 6665 5f76  ta = self.safe_v
+0001f760: 616c 7565 2872 6573 706f 6e73 652c 2027  alue(response, '
+0001f770: 6461 7461 272c 207b 7d29 0a20 2020 2020  data', {}).     
+0001f780: 2020 2072 6f77 7320 3d20 7365 6c66 2e73     rows = self.s
+0001f790: 6166 655f 7661 6c75 6528 6461 7461 2c20  afe_value(data, 
+0001f7a0: 2772 6f77 7327 2c20 6461 7461 290a 2020  'rows', data).  
+0001f7b0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+0001f7c0: 662e 7061 7273 655f 6f72 6465 7273 2872  f.parse_orders(r
+0001f7d0: 6f77 732c 206d 6172 6b65 742c 2073 696e  ows, market, sin
+0001f7e0: 6365 2c20 6c69 6d69 7429 0a0a 2020 2020  ce, limit)..    
+0001f7f0: 6173 796e 6320 6465 6620 6665 7463 685f  async def fetch_
+0001f800: 6f70 656e 5f6f 7264 6572 7328 7365 6c66  open_orders(self
+0001f810: 2c20 7379 6d62 6f6c 3a20 4f70 7469 6f6e  , symbol: Option
+0001f820: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c20  al[str] = None, 
+0001f830: 7369 6e63 653a 204f 7074 696f 6e61 6c5b  since: Optional[
+0001f840: 696e 745d 203d 204e 6f6e 652c 206c 696d  int] = None, lim
+0001f850: 6974 3a20 4f70 7469 6f6e 616c 5b69 6e74  it: Optional[int
+0001f860: 5d20 3d20 4e6f 6e65 2c20 7061 7261 6d73  ] = None, params
+0001f870: 3d7b 7d29 3a0a 2020 2020 2020 2020 2222  ={}):.        ""
+0001f880: 220a 2020 2020 2020 2020 6665 7463 6820  ".        fetch 
+0001f890: 616c 6c20 756e 6669 6c6c 6564 2063 7572  all unfilled cur
+0001f8a0: 7265 6e74 6c79 206f 7065 6e20 6f72 6465  rently open orde
+0001f8b0: 7273 0a20 2020 2020 2020 2073 6565 2068  rs.        see h
+0001f8c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001f8d0: 6d2f 7068 656d 6578 2f70 6865 6d65 782d  m/phemex/phemex-
+0001f8e0: 6170 692d 646f 6373 2f62 6c6f 622f 6d61  api-docs/blob/ma
+0001f8f0: 7374 6572 2f50 7562 6c69 632d 4865 6467  ster/Public-Hedg
+0001f900: 6564 2d50 6572 7065 7475 616c 2d41 5049  ed-Perpetual-API
+0001f910: 2e6d 6423 7175 6572 796f 7065 6e6f 7264  .md#queryopenord
+0001f920: 6572 0a20 2020 2020 2020 2073 6565 2068  er.        see h
+0001f930: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001f940: 6d2f 7068 656d 6578 2f70 6865 6d65 782d  m/phemex/phemex-
+0001f950: 6170 692d 646f 6373 2f62 6c6f 622f 6d61  api-docs/blob/ma
+0001f960: 7374 6572 2f50 7562 6c69 632d 436f 6e74  ster/Public-Cont
+0001f970: 7261 6374 2d41 5049 2d65 6e2e 6d64 0a20  ract-API-en.md. 
+0001f980: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
+0001f990: 7220 7379 6d62 6f6c 3a20 756e 6966 6965  r symbol: unifie
+0001f9a0: 6420 6d61 726b 6574 2073 796d 626f 6c0a  d market symbol.
+0001f9b0: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
+0001f9c0: 6e74 7c4e 6f6e 6520 7369 6e63 653a 2074  nt|None since: t
+0001f9d0: 6865 2065 6172 6c69 6573 7420 7469 6d65  he earliest time
+0001f9e0: 2069 6e20 6d73 2074 6f20 6665 7463 6820   in ms to fetch 
+0001f9f0: 6f70 656e 206f 7264 6572 7320 666f 720a  open orders for.
+0001fa00: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
+0001fa10: 6e74 7c4e 6f6e 6520 6c69 6d69 743a 2074  nt|None limit: t
+0001fa20: 6865 206d 6178 696d 756d 206e 756d 6265  he maximum numbe
+0001fa30: 7220 6f66 2020 6f70 656e 206f 7264 6572  r of  open order
+0001fa40: 7320 7374 7275 6374 7572 6573 2074 6f20  s structures to 
+0001fa50: 7265 7472 6965 7665 0a20 2020 2020 2020  retrieve.       
+0001fa60: 203a 7061 7261 6d20 6469 6374 2070 6172   :param dict par
+0001fa70: 616d 733a 2065 7874 7261 2070 6172 616d  ams: extra param
+0001fa80: 6574 6572 7320 7370 6563 6966 6963 2074  eters specific t
+0001fa90: 6f20 7468 6520 7068 656d 6578 2061 7069  o the phemex api
+0001faa0: 2065 6e64 706f 696e 740a 2020 2020 2020   endpoint.      
+0001fab0: 2020 3a72 6574 7572 6e73 205b 6469 6374    :returns [dict
+0001fac0: 5d3a 2061 206c 6973 7420 6f66 2060 6f72  ]: a list of `or
+0001fad0: 6465 7220 7374 7275 6374 7572 6573 203c  der structures <
+0001fae0: 6874 7470 733a 2f2f 646f 6373 2e63 6378  https://docs.ccx
+0001faf0: 742e 636f 6d2f 232f 3f69 643d 6f72 6465  t.com/#/?id=orde
+0001fb00: 722d 7374 7275 6374 7572 653e 600a 2020  r-structure>`.  
+0001fb10: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001fb20: 2020 6966 2073 796d 626f 6c20 6973 204e    if symbol is N
+0001fb30: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0001fb40: 2072 6169 7365 2041 7267 756d 656e 7473   raise Arguments
+0001fb50: 5265 7175 6972 6564 2873 656c 662e 6964  Required(self.id
+0001fb60: 202b 2027 2066 6574 6368 4f70 656e 4f72   + ' fetchOpenOr
+0001fb70: 6465 7273 2829 2072 6571 7569 7265 7320  ders() requires 
+0001fb80: 6120 7379 6d62 6f6c 2061 7267 756d 656e  a symbol argumen
+0001fb90: 7427 290a 2020 2020 2020 2020 6177 6169  t').        awai
+0001fba0: 7420 7365 6c66 2e6c 6f61 645f 6d61 726b  t self.load_mark
+0001fbb0: 6574 7328 290a 2020 2020 2020 2020 6d61  ets().        ma
+0001fbc0: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
+0001fbd0: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
+0001fbe0: 2020 206d 6574 686f 6420 3d20 2770 7269     method = 'pri
+0001fbf0: 7661 7465 4765 7453 706f 744f 7264 6572  vateGetSpotOrder
+0001fc00: 7327 0a20 2020 2020 2020 2069 6620 6d61  s'.        if ma
+0001fc10: 726b 6574 5b27 7365 7474 6c65 275d 203d  rket['settle'] =
+0001fc20: 3d20 2755 5344 5427 3a0a 2020 2020 2020  = 'USDT':.      
+0001fc30: 2020 2020 2020 6d65 7468 6f64 203d 2027        method = '
+0001fc40: 7072 6976 6174 6547 6574 474f 7264 6572  privateGetGOrder
+0001fc50: 7341 6374 6976 654c 6973 7427 0a20 2020  sActiveList'.   
+0001fc60: 2020 2020 2065 6c69 6620 6d61 726b 6574       elif market
+0001fc70: 5b27 7377 6170 275d 3a0a 2020 2020 2020  ['swap']:.      
+0001fc80: 2020 2020 2020 6d65 7468 6f64 203d 2027        method = '
+0001fc90: 7072 6976 6174 6547 6574 4f72 6465 7273  privateGetOrders
+0001fca0: 4163 7469 7665 4c69 7374 270a 2020 2020  ActiveList'.    
+0001fcb0: 2020 2020 7265 7175 6573 7420 3d20 7b0a      request = {.
+0001fcc0: 2020 2020 2020 2020 2020 2020 2773 796d              'sym
+0001fcd0: 626f 6c27 3a20 6d61 726b 6574 5b27 6964  bol': market['id
+0001fce0: 275d 2c0a 2020 2020 2020 2020 7d0a 2020  '],.        }.  
+0001fcf0: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
+0001fd00: 204e 6f6e 650a 2020 2020 2020 2020 7472   None.        tr
+0001fd10: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
+0001fd20: 6573 706f 6e73 6520 3d20 6177 6169 7420  esponse = await 
+0001fd30: 6765 7461 7474 7228 7365 6c66 2c20 6d65  getattr(self, me
+0001fd40: 7468 6f64 2928 7365 6c66 2e65 7874 656e  thod)(self.exten
+0001fd50: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
+0001fd60: 7329 290a 2020 2020 2020 2020 6578 6365  s)).        exce
+0001fd70: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+0001fd80: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
+0001fd90: 6620 6973 696e 7374 616e 6365 2865 2c20  f isinstance(e, 
+0001fda0: 4f72 6465 724e 6f74 466f 756e 6429 3a0a  OrderNotFound):.
+0001fdb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fdc0: 7265 7475 726e 205b 5d0a 2020 2020 2020  return [].      
+0001fdd0: 2020 2020 2020 7261 6973 6520 650a 2020        raise e.  
+0001fde0: 2020 2020 2020 6461 7461 203d 2073 656c        data = sel
+0001fdf0: 662e 7361 6665 5f76 616c 7565 2872 6573  f.safe_value(res
+0001fe00: 706f 6e73 652c 2027 6461 7461 272c 207b  ponse, 'data', {
+0001fe10: 7d29 0a20 2020 2020 2020 2069 6620 6973  }).        if is
+0001fe20: 696e 7374 616e 6365 2864 6174 612c 206c  instance(data, l
+0001fe30: 6973 7429 3a0a 2020 2020 2020 2020 2020  ist):.          
+0001fe40: 2020 7265 7475 726e 2073 656c 662e 7061    return self.pa
+0001fe50: 7273 655f 6f72 6465 7273 2864 6174 612c  rse_orders(data,
+0001fe60: 206d 6172 6b65 742c 2073 696e 6365 2c20   market, since, 
+0001fe70: 6c69 6d69 7429 0a20 2020 2020 2020 2065  limit).        e
+0001fe80: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001fe90: 2072 6f77 7320 3d20 7365 6c66 2e73 6166   rows = self.saf
+0001fea0: 655f 7661 6c75 6528 6461 7461 2c20 2772  e_value(data, 'r
+0001feb0: 6f77 7327 2c20 5b5d 290a 2020 2020 2020  ows', []).      
+0001fec0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+0001fed0: 662e 7061 7273 655f 6f72 6465 7273 2872  f.parse_orders(r
+0001fee0: 6f77 732c 206d 6172 6b65 742c 2073 696e  ows, market, sin
+0001fef0: 6365 2c20 6c69 6d69 7429 0a0a 2020 2020  ce, limit)..    
+0001ff00: 6173 796e 6320 6465 6620 6665 7463 685f  async def fetch_
+0001ff10: 636c 6f73 6564 5f6f 7264 6572 7328 7365  closed_orders(se
+0001ff20: 6c66 2c20 7379 6d62 6f6c 3a20 4f70 7469  lf, symbol: Opti
+0001ff30: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+0001ff40: 2c20 7369 6e63 653a 204f 7074 696f 6e61  , since: Optiona
+0001ff50: 6c5b 696e 745d 203d 204e 6f6e 652c 206c  l[int] = None, l
+0001ff60: 696d 6974 3a20 4f70 7469 6f6e 616c 5b69  imit: Optional[i
+0001ff70: 6e74 5d20 3d20 4e6f 6e65 2c20 7061 7261  nt] = None, para
+0001ff80: 6d73 3d7b 7d29 3a0a 2020 2020 2020 2020  ms={}):.        
+0001ff90: 2222 220a 2020 2020 2020 2020 6665 7463  """.        fetc
+0001ffa0: 6865 7320 696e 666f 726d 6174 696f 6e20  hes information 
+0001ffb0: 6f6e 206d 756c 7469 706c 6520 636c 6f73  on multiple clos
+0001ffc0: 6564 206f 7264 6572 7320 6d61 6465 2062  ed orders made b
+0001ffd0: 7920 7468 6520 7573 6572 0a20 2020 2020  y the user.     
+0001ffe0: 2020 2073 6565 2068 7474 7073 3a2f 2f67     see https://g
+0001fff0: 6974 6875 622e 636f 6d2f 7068 656d 6578  ithub.com/phemex
+00020000: 2f70 6865 6d65 782d 6170 692d 646f 6373  /phemex-api-docs
+00020010: 2f62 6c6f 622f 6d61 7374 6572 2f50 7562  /blob/master/Pub
+00020020: 6c69 632d 4865 6467 6564 2d50 6572 7065  lic-Hedged-Perpe
+00020030: 7475 616c 2d41 5049 2e6d 6423 7175 6572  tual-API.md#quer
+00020040: 796f 7264 6572 0a20 2020 2020 2020 203a  yorder.        :
+00020050: 7061 7261 6d20 7374 7220 7379 6d62 6f6c  param str symbol
+00020060: 3a20 756e 6966 6965 6420 6d61 726b 6574  : unified market
+00020070: 2073 796d 626f 6c20 6f66 2074 6865 206d   symbol of the m
+00020080: 6172 6b65 7420 6f72 6465 7273 2077 6572  arket orders wer
+00020090: 6520 6d61 6465 2069 6e0a 2020 2020 2020  e made in.      
+000200a0: 2020 3a70 6172 616d 2069 6e74 7c4e 6f6e    :param int|Non
+000200b0: 6520 7369 6e63 653a 2074 6865 2065 6172  e since: the ear
+000200c0: 6c69 6573 7420 7469 6d65 2069 6e20 6d73  liest time in ms
+000200d0: 2074 6f20 6665 7463 6820 6f72 6465 7273   to fetch orders
+000200e0: 2066 6f72 0a20 2020 2020 2020 203a 7061   for.        :pa
+000200f0: 7261 6d20 696e 747c 4e6f 6e65 206c 696d  ram int|None lim
+00020100: 6974 3a20 7468 6520 6d61 7869 6d75 6d20  it: the maximum 
+00020110: 6e75 6d62 6572 206f 6620 206f 7264 6520  number of  orde 
+00020120: 7374 7275 6374 7572 6573 2074 6f20 7265  structures to re
+00020130: 7472 6965 7665 0a20 2020 2020 2020 203a  trieve.        :
+00020140: 7061 7261 6d20 6469 6374 2070 6172 616d  param dict param
+00020150: 733a 2065 7874 7261 2070 6172 616d 6574  s: extra paramet
+00020160: 6572 7320 7370 6563 6966 6963 2074 6f20  ers specific to 
+00020170: 7468 6520 7068 656d 6578 2061 7069 2065  the phemex api e
+00020180: 6e64 706f 696e 740a 2020 2020 2020 2020  ndpoint.        
+00020190: 3a72 6574 7572 6e73 205b 6469 6374 5d3a  :returns [dict]:
+000201a0: 2061 206c 6973 7420 6f66 2060 6f72 6465   a list of `orde
+000201b0: 7220 7374 7275 6374 7572 6573 203c 6874  r structures <ht
+000201c0: 7470 733a 2f2f 646f 6373 2e63 6378 742e  tps://docs.ccxt.
+000201d0: 636f 6d2f 232f 3f69 643d 6f72 6465 722d  com/#/?id=order-
+000201e0: 7374 7275 6374 7572 653e 600a 2020 2020  structure>`.    
+000201f0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00020200: 6966 2073 796d 626f 6c20 6973 204e 6f6e  if symbol is Non
+00020210: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00020220: 6169 7365 2041 7267 756d 656e 7473 5265  aise ArgumentsRe
+00020230: 7175 6972 6564 2873 656c 662e 6964 202b  quired(self.id +
+00020240: 2027 2066 6574 6368 436c 6f73 6564 4f72   ' fetchClosedOr
+00020250: 6465 7273 2829 2072 6571 7569 7265 7320  ders() requires 
+00020260: 6120 7379 6d62 6f6c 2061 7267 756d 656e  a symbol argumen
+00020270: 7427 290a 2020 2020 2020 2020 6177 6169  t').        awai
+00020280: 7420 7365 6c66 2e6c 6f61 645f 6d61 726b  t self.load_mark
+00020290: 6574 7328 290a 2020 2020 2020 2020 6d61  ets().        ma
+000202a0: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
+000202b0: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
+000202c0: 2020 2072 6571 7565 7374 203d 207b 0a20     request = {. 
+000202d0: 2020 2020 2020 2020 2020 2027 7379 6d62             'symb
+000202e0: 6f6c 273a 206d 6172 6b65 745b 2769 6427  ol': market['id'
+000202f0: 5d2c 0a20 2020 2020 2020 207d 0a20 2020  ],.        }.   
+00020300: 2020 2020 206d 6574 686f 6420 3d20 2770       method = 'p
+00020310: 7269 7661 7465 4765 7445 7863 6861 6e67  rivateGetExchang
+00020320: 6553 706f 744f 7264 6572 270a 2020 2020  eSpotOrder'.    
+00020330: 2020 2020 6966 206d 6172 6b65 745b 2773      if market['s
+00020340: 6574 746c 6527 5d20 3d3d 2027 5553 4454  ettle'] == 'USDT
+00020350: 273a 0a20 2020 2020 2020 2020 2020 2072  ':.            r
+00020360: 6571 7565 7374 5b27 6375 7272 656e 6379  equest['currency
+00020370: 275d 203d 206d 6172 6b65 745b 2773 6574  '] = market['set
+00020380: 746c 6527 5d0a 2020 2020 2020 2020 2020  tle'].          
+00020390: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
+000203a0: 6174 6547 6574 4578 6368 616e 6765 4f72  ateGetExchangeOr
+000203b0: 6465 7256 324f 7264 6572 4c69 7374 270a  derV2OrderList'.
+000203c0: 2020 2020 2020 2020 656c 6966 206d 6172          elif mar
+000203d0: 6b65 745b 2773 7761 7027 5d3a 0a20 2020  ket['swap']:.   
+000203e0: 2020 2020 2020 2020 206d 6574 686f 6420           method 
+000203f0: 3d20 2770 7269 7661 7465 4765 7445 7863  = 'privateGetExc
+00020400: 6861 6e67 654f 7264 6572 4c69 7374 270a  hangeOrderList'.
+00020410: 2020 2020 2020 2020 6966 2073 696e 6365          if since
+00020420: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+00020430: 2020 2020 2020 2020 2020 7265 7175 6573            reques
+00020440: 745b 2773 7461 7274 275d 203d 2073 696e  t['start'] = sin
+00020450: 6365 0a20 2020 2020 2020 2069 6620 6c69  ce.        if li
+00020460: 6d69 7420 6973 206e 6f74 204e 6f6e 653a  mit is not None:
+00020470: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
+00020480: 7565 7374 5b27 6c69 6d69 7427 5d20 3d20  uest['limit'] = 
+00020490: 6c69 6d69 740a 2020 2020 2020 2020 7265  limit.        re
+000204a0: 7370 6f6e 7365 203d 2061 7761 6974 2067  sponse = await g
+000204b0: 6574 6174 7472 2873 656c 662c 206d 6574  etattr(self, met
+000204c0: 686f 6429 2873 656c 662e 6578 7465 6e64  hod)(self.extend
+000204d0: 2872 6571 7565 7374 2c20 7061 7261 6d73  (request, params
+000204e0: 2929 0a20 2020 2020 2020 2023 0a20 2020  )).        #.   
+000204f0: 2020 2020 2023 2073 706f 740a 2020 2020       # spot.    
+00020500: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+00020510: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
+00020520: 2020 2020 2020 2020 2263 6f64 6522 3a30          "code":0
+00020530: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00020540: 2020 2020 226d 7367 223a 224f 4b22 2c0a      "msg":"OK",.
+00020550: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00020560: 2020 2264 6174 6122 3a7b 0a20 2020 2020    "data":{.     
+00020570: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00020580: 2022 746f 7461 6c22 3a38 2c0a 2020 2020   "total":8,.    
+00020590: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+000205a0: 2020 2272 6f77 7322 3a5b 0a20 2020 2020    "rows":[.     
+000205b0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+000205c0: 2020 2020 207b 0a20 2020 2020 2020 2023       {.        #
+000205d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000205e0: 2020 2020 2022 6f72 6465 7249 4422 3a22       "orderID":"
+000205f0: 3939 3233 3263 3365 2d33 6436 612d 3435  99232c3e-3d6a-45
+00020600: 3566 2d39 3863 632d 3230 3631 6364 6665  5f-98cc-2061cdfe
+00020610: 3931 6263 222c 0a20 2020 2020 2020 2023  91bc",.        #
+00020620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020630: 2020 2020 2022 7374 6f70 5078 4570 223a       "stopPxEp":
+00020640: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
+00020650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020660: 2022 6176 6750 7269 6365 4570 223a 302c   "avgPriceEp":0,
+00020670: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00020680: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00020690: 7174 7954 7970 6522 3a22 4279 4261 7365  qtyType":"ByBase
+000206a0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000206b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000206c0: 2022 6c65 6176 6573 4261 7365 5174 7945   "leavesBaseQtyE
+000206d0: 7622 3a30 2c0a 2020 2020 2020 2020 2320  v":0,.        # 
+000206e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000206f0: 2020 2020 226c 6561 7665 7351 756f 7465      "leavesQuote
+00020700: 5174 7945 7622 3a30 2c0a 2020 2020 2020  QtyEv":0,.      
+00020710: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00020720: 2020 2020 2020 2020 2262 6173 6551 7479          "baseQty
+00020730: 4576 223a 2231 3030 3030 3030 3030 3022  Ev":"1000000000"
+00020740: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00020750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020760: 2266 6565 4375 7272 656e 6379 223a 2234  "feeCurrency":"4
+00020770: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+00020780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020790: 2022 7374 6f70 4469 7265 6374 696f 6e22   "stopDirection"
+000207a0: 3a22 554e 5350 4543 4946 4945 4422 2c0a  :"UNSPECIFIED",.
+000207b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000207c0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+000207d0: 796d 626f 6c22 3a22 7345 5448 5553 4454  ymbol":"sETHUSDT
+000207e0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000207f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020800: 2022 7369 6465 223a 2242 7579 222c 0a20   "side":"Buy",. 
+00020810: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00020820: 2020 2020 2020 2020 2020 2020 2022 7175               "qu
+00020830: 6f74 6551 7479 4576 223a 3235 3030 3030  oteQtyEv":250000
+00020840: 3030 3030 3030 2c0a 2020 2020 2020 2020  000000,.        
+00020850: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00020860: 2020 2020 2020 2270 7269 6365 4570 223a        "priceEp":
+00020870: 3235 3030 3030 3030 3030 302c 0a20 2020  25000000000,.   
+00020880: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00020890: 2020 2020 2020 2020 2020 2022 6f72 6454             "ordT
+000208a0: 7970 6522 3a22 4c69 6d69 7422 2c0a 2020  ype":"Limit",.  
+000208b0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000208c0: 2020 2020 2020 2020 2020 2020 2274 696d              "tim
+000208d0: 6549 6e46 6f72 6365 223a 2247 6f6f 6454  eInForce":"GoodT
+000208e0: 696c 6c43 616e 6365 6c22 2c0a 2020 2020  illCancel",.    
+000208f0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00020900: 2020 2020 2020 2020 2020 226f 7264 5374            "ordSt
+00020910: 6174 7573 223a 2252 656a 6563 7465 6422  atus":"Rejected"
+00020920: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00020930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020940: 2265 7865 6353 7461 7475 7322 3a22 4e65  "execStatus":"Ne
+00020950: 7752 656a 6563 7465 6422 2c0a 2020 2020  wRejected",.    
+00020960: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00020970: 2020 2020 2020 2020 2020 2263 7265 6174            "creat
+00020980: 6554 696d 654e 7322 3a31 3539 3236 3735  eTimeNs":1592675
+00020990: 3330 3532 3636 3033 3731 3330 2c0a 2020  305266037130,.  
+000209a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000209b0: 2020 2020 2020 2020 2020 2020 2263 756d              "cum
+000209c0: 4665 6545 7622 3a30 2c0a 2020 2020 2020  FeeEv":0,.      
+000209d0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000209e0: 2020 2020 2020 2020 2263 756d 4261 7365          "cumBase
+000209f0: 5661 6c75 6545 7622 3a30 2c0a 2020 2020  ValueEv":0,.    
+00020a00: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00020a10: 2020 2020 2020 2020 2020 2263 756d 5175            "cumQu
+00020a20: 6f74 6556 616c 7565 4576 223a 300a 2020  oteValueEv":0.  
+00020a30: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00020a40: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
+00020a50: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00020a60: 205d 0a20 2020 2020 2020 2023 2020 2020   ].        #    
+00020a70: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
+00020a80: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
+00020a90: 0a20 2020 2020 2020 2064 6174 6120 3d20  .        data = 
+00020aa0: 7365 6c66 2e73 6166 655f 7661 6c75 6528  self.safe_value(
+00020ab0: 7265 7370 6f6e 7365 2c20 2764 6174 6127  response, 'data'
+00020ac0: 2c20 7b7d 290a 2020 2020 2020 2020 6966  , {}).        if
+00020ad0: 2069 7369 6e73 7461 6e63 6528 6461 7461   isinstance(data
+00020ae0: 2c20 6c69 7374 293a 0a20 2020 2020 2020  , list):.       
+00020af0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00020b00: 2e70 6172 7365 5f6f 7264 6572 7328 6461  .parse_orders(da
+00020b10: 7461 2c20 6d61 726b 6574 2c20 7369 6e63  ta, market, sinc
+00020b20: 652c 206c 696d 6974 290a 2020 2020 2020  e, limit).      
+00020b30: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00020b40: 2020 2020 726f 7773 203d 2073 656c 662e      rows = self.
+00020b50: 7361 6665 5f76 616c 7565 2864 6174 612c  safe_value(data,
+00020b60: 2027 726f 7773 272c 205b 5d29 0a20 2020   'rows', []).   
+00020b70: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00020b80: 7365 6c66 2e70 6172 7365 5f6f 7264 6572  self.parse_order
+00020b90: 7328 726f 7773 2c20 6d61 726b 6574 2c20  s(rows, market, 
+00020ba0: 7369 6e63 652c 206c 696d 6974 290a 0a20  since, limit).. 
+00020bb0: 2020 2061 7379 6e63 2064 6566 2066 6574     async def fet
+00020bc0: 6368 5f6d 795f 7472 6164 6573 2873 656c  ch_my_trades(sel
+00020bd0: 662c 2073 796d 626f 6c3a 204f 7074 696f  f, symbol: Optio
+00020be0: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
+00020bf0: 2073 696e 6365 3a20 4f70 7469 6f6e 616c   since: Optional
+00020c00: 5b69 6e74 5d20 3d20 4e6f 6e65 2c20 6c69  [int] = None, li
+00020c10: 6d69 743a 204f 7074 696f 6e61 6c5b 696e  mit: Optional[in
+00020c20: 745d 203d 204e 6f6e 652c 2070 6172 616d  t] = None, param
+00020c30: 733d 7b7d 293a 0a20 2020 2020 2020 2022  s={}):.        "
+00020c40: 2222 0a20 2020 2020 2020 2066 6574 6368  "".        fetch
+00020c50: 2061 6c6c 2074 7261 6465 7320 6d61 6465   all trades made
+00020c60: 2062 7920 7468 6520 7573 6572 0a20 2020   by the user.   
+00020c70: 2020 2020 2073 6565 2068 7474 7073 3a2f       see https:/
+00020c80: 2f67 6974 6875 622e 636f 6d2f 7068 656d  /github.com/phem
+00020c90: 6578 2f70 6865 6d65 782d 6170 692d 646f  ex/phemex-api-do
+00020ca0: 6373 2f62 6c6f 622f 6d61 7374 6572 2f50  cs/blob/master/P
+00020cb0: 7562 6c69 632d 436f 6e74 7261 6374 2d41  ublic-Contract-A
+00020cc0: 5049 2d65 6e2e 6d64 2371 7565 7279 2d75  PI-en.md#query-u
+00020cd0: 7365 722d 7472 6164 650a 2020 2020 2020  ser-trade.      
+00020ce0: 2020 7365 6520 6874 7470 733a 2f2f 6769    see https://gi
+00020cf0: 7468 7562 2e63 6f6d 2f70 6865 6d65 782f  thub.com/phemex/
+00020d00: 7068 656d 6578 2d61 7069 2d64 6f63 732f  phemex-api-docs/
+00020d10: 626c 6f62 2f6d 6173 7465 722f 5075 626c  blob/master/Publ
+00020d20: 6963 2d48 6564 6765 642d 5065 7270 6574  ic-Hedged-Perpet
+00020d30: 7561 6c2d 4150 492e 6d64 2371 7565 7279  ual-API.md#query
+00020d40: 2d75 7365 722d 7472 6164 650a 2020 2020  -user-trade.    
+00020d50: 2020 2020 3a70 6172 616d 2073 7472 2073      :param str s
+00020d60: 796d 626f 6c3a 2075 6e69 6669 6564 206d  ymbol: unified m
+00020d70: 6172 6b65 7420 7379 6d62 6f6c 0a20 2020  arket symbol.   
+00020d80: 2020 2020 203a 7061 7261 6d20 696e 747c       :param int|
+00020d90: 4e6f 6e65 2073 696e 6365 3a20 7468 6520  None since: the 
+00020da0: 6561 726c 6965 7374 2074 696d 6520 696e  earliest time in
+00020db0: 206d 7320 746f 2066 6574 6368 2074 7261   ms to fetch tra
+00020dc0: 6465 7320 666f 720a 2020 2020 2020 2020  des for.        
+00020dd0: 3a70 6172 616d 2069 6e74 7c4e 6f6e 6520  :param int|None 
+00020de0: 6c69 6d69 743a 2074 6865 206d 6178 696d  limit: the maxim
+00020df0: 756d 206e 756d 6265 7220 6f66 2074 7261  um number of tra
+00020e00: 6465 7320 7374 7275 6374 7572 6573 2074  des structures t
+00020e10: 6f20 7265 7472 6965 7665 0a20 2020 2020  o retrieve.     
+00020e20: 2020 203a 7061 7261 6d20 6469 6374 2070     :param dict p
+00020e30: 6172 616d 733a 2065 7874 7261 2070 6172  arams: extra par
+00020e40: 616d 6574 6572 7320 7370 6563 6966 6963  ameters specific
+00020e50: 2074 6f20 7468 6520 7068 656d 6578 2061   to the phemex a
+00020e60: 7069 2065 6e64 706f 696e 740a 2020 2020  pi endpoint.    
+00020e70: 2020 2020 3a72 6574 7572 6e73 205b 6469      :returns [di
+00020e80: 6374 5d3a 2061 206c 6973 7420 6f66 2060  ct]: a list of `
+00020e90: 7472 6164 6520 7374 7275 6374 7572 6573  trade structures
+00020ea0: 203c 6874 7470 733a 2f2f 646f 6373 2e63   <https://docs.c
+00020eb0: 6378 742e 636f 6d2f 232f 3f69 643d 7472  cxt.com/#/?id=tr
+00020ec0: 6164 652d 7374 7275 6374 7572 653e 600a  ade-structure>`.
+00020ed0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00020ee0: 2020 2020 6966 2073 796d 626f 6c20 6973      if symbol is
+00020ef0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00020f00: 2020 2072 6169 7365 2041 7267 756d 656e     raise Argumen
+00020f10: 7473 5265 7175 6972 6564 2873 656c 662e  tsRequired(self.
+00020f20: 6964 202b 2027 2066 6574 6368 4d79 5472  id + ' fetchMyTr
+00020f30: 6164 6573 2829 2072 6571 7569 7265 7320  ades() requires 
+00020f40: 6120 7379 6d62 6f6c 2061 7267 756d 656e  a symbol argumen
+00020f50: 7427 290a 2020 2020 2020 2020 6177 6169  t').        awai
+00020f60: 7420 7365 6c66 2e6c 6f61 645f 6d61 726b  t self.load_mark
+00020f70: 6574 7328 290a 2020 2020 2020 2020 6d61  ets().        ma
+00020f80: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
+00020f90: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
+00020fa0: 2020 206d 6574 686f 6420 3d20 2770 7269     method = 'pri
+00020fb0: 7661 7465 4765 7445 7863 6861 6e67 6553  vateGetExchangeS
+00020fc0: 706f 744f 7264 6572 5472 6164 6573 270a  potOrderTrades'.
+00020fd0: 2020 2020 2020 2020 6966 206d 6172 6b65          if marke
+00020fe0: 745b 2773 7761 7027 5d3a 0a20 2020 2020  t['swap']:.     
+00020ff0: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
+00021000: 2770 7269 7661 7465 4765 7445 7863 6861  'privateGetExcha
+00021010: 6e67 654f 7264 6572 5472 6164 6527 0a20  ngeOrderTrade'. 
+00021020: 2020 2020 2020 2020 2020 2069 6620 6d61             if ma
+00021030: 726b 6574 5b27 7365 7474 6c65 275d 203d  rket['settle'] =
+00021040: 3d20 2755 5344 5427 3a0a 2020 2020 2020  = 'USDT':.      
+00021050: 2020 2020 2020 2020 2020 6d65 7468 6f64            method
+00021060: 203d 2027 7072 6976 6174 6547 6574 4578   = 'privateGetEx
+00021070: 6368 616e 6765 4f72 6465 7256 3254 7261  changeOrderV2Tra
+00021080: 6469 6e67 4c69 7374 270a 2020 2020 2020  dingList'.      
+00021090: 2020 7265 7175 6573 7420 3d20 7b7d 0a20    request = {}. 
+000210a0: 2020 2020 2020 2069 6620 6c69 6d69 7420         if limit 
+000210b0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+000210c0: 2020 2020 2020 2020 206c 696d 6974 203d           limit =
+000210d0: 206d 696e 2832 3030 2c20 6c69 6d69 7429   min(200, limit)
+000210e0: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
+000210f0: 7565 7374 5b27 6c69 6d69 7427 5d20 3d20  uest['limit'] = 
+00021100: 6c69 6d69 740a 2020 2020 2020 2020 6966  limit.        if
+00021110: 206d 6172 6b65 745b 2773 6574 746c 6527   market['settle'
+00021120: 5d20 3d3d 2027 5553 4454 273a 0a20 2020  ] == 'USDT':.   
+00021130: 2020 2020 2020 2020 2072 6571 7565 7374           request
+00021140: 5b27 6375 7272 656e 6379 275d 203d 2027  ['currency'] = '
+00021150: 5553 4454 270a 2020 2020 2020 2020 2020  USDT'.          
+00021160: 2020 7265 7175 6573 745b 276f 6666 7365    request['offse
+00021170: 7427 5d20 3d20 300a 2020 2020 2020 2020  t'] = 0.        
+00021180: 2020 2020 6966 206c 696d 6974 2069 7320      if limit is 
+00021190: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+000211a0: 2020 2020 2020 7265 7175 6573 745b 276c        request['l
+000211b0: 696d 6974 275d 203d 2032 3030 0a20 2020  imit'] = 200.   
+000211c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000211d0: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
+000211e0: 7379 6d62 6f6c 275d 203d 206d 6172 6b65  symbol'] = marke
+000211f0: 745b 2769 6427 5d0a 2020 2020 2020 2020  t['id'].        
+00021200: 6966 2073 696e 6365 2069 7320 6e6f 7420  if since is not 
+00021210: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00021220: 2020 7265 7175 6573 745b 2773 7461 7274    request['start
+00021230: 275d 203d 2073 696e 6365 0a20 2020 2020  '] = since.     
+00021240: 2020 2069 6620 6d61 726b 6574 5b27 7377     if market['sw
+00021250: 6170 275d 2061 6e64 2028 6c69 6d69 7420  ap'] and (limit 
+00021260: 6973 206e 6f74 204e 6f6e 6529 3a0a 2020  is not None):.  
+00021270: 2020 2020 2020 2020 2020 7265 7175 6573            reques
+00021280: 745b 276c 696d 6974 275d 203d 206c 696d  t['limit'] = lim
+00021290: 6974 0a20 2020 2020 2020 2072 6573 706f  it.        respo
+000212a0: 6e73 6520 3d20 6177 6169 7420 6765 7461  nse = await geta
+000212b0: 7474 7228 7365 6c66 2c20 6d65 7468 6f64  ttr(self, method
+000212c0: 2928 7365 6c66 2e65 7874 656e 6428 7265  )(self.extend(re
+000212d0: 7175 6573 742c 2070 6172 616d 7329 290a  quest, params)).
+000212e0: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
+000212f0: 2020 2320 7370 6f74 0a20 2020 2020 2020    # spot.       
+00021300: 2023 0a20 2020 2020 2020 2023 2020 2020   #.        #    
+00021310: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+00021320: 2020 2020 2022 636f 6465 223a 2030 2c0a       "code": 0,.
+00021330: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00021340: 2020 226d 7367 223a 2022 4f4b 222c 0a20    "msg": "OK",. 
+00021350: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00021360: 2022 6461 7461 223a 207b 0a20 2020 2020   "data": {.     
+00021370: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00021380: 2022 746f 7461 6c22 3a20 312c 0a20 2020   "total": 1,.   
+00021390: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+000213a0: 2020 2022 726f 7773 223a 205b 0a20 2020     "rows": [.   
+000213b0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+000213c0: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
+000213d0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+000213e0: 2020 2020 2020 2022 7174 7954 7970 6522         "qtyType"
+000213f0: 3a20 2242 7951 756f 7465 222c 0a20 2020  : "ByQuote",.   
+00021400: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00021410: 2020 2020 2020 2020 2020 2022 7472 616e             "tran
+00021420: 7361 6374 5469 6d65 4e73 223a 2031 3538  sactTimeNs": 158
+00021430: 3934 3530 3937 3438 3030 3535 3031 3030  9450974800550100
+00021440: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021460: 2263 6c4f 7264 4944 223a 2022 3862 6135  "clOrdID": "8ba5
+00021470: 3964 3430 2d64 6632 352d 6434 6230 2d31  9d40-df25-d4b0-1
+00021480: 3463 662d 3037 3033 6634 3465 3936 3930  4cf-0703f44e9690
+00021490: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000214a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000214b0: 2022 6f72 6465 7249 4422 3a20 2262 3262   "orderID": "b2b
+000214c0: 3730 3138 642d 6630 3266 2d34 6335 392d  7018d-f02f-4c59-
+000214d0: 6234 6366 2d30 3531 6239 6332 6432 6538  b4cf-051b9c2d2e8
+000214e0: 3322 2c0a 2020 2020 2020 2020 2320 2020  3",.        #   
+000214f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021500: 2020 2273 796d 626f 6c22 3a20 2273 4254    "symbol": "sBT
+00021510: 4355 5344 5422 2c0a 2020 2020 2020 2020  CUSDT",.        
+00021520: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00021530: 2020 2020 2020 2273 6964 6522 3a20 2242        "side": "B
+00021540: 7579 222c 0a20 2020 2020 2020 2023 2020  uy",.        #  
+00021550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021560: 2020 2022 7072 6963 6545 5022 3a20 3937     "priceEP": 97
+00021570: 3030 3536 3030 3030 3030 2c0a 2020 2020  0056000000,.    
+00021580: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00021590: 2020 2020 2020 2020 2020 2262 6173 6551            "baseQ
+000215a0: 7479 4576 223a 2030 2c0a 2020 2020 2020  tyEv": 0,.      
+000215b0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000215c0: 2020 2020 2020 2020 2271 756f 7465 5174          "quoteQt
+000215d0: 7945 7622 3a20 3130 3030 3030 3030 3030  yEv": 1000000000
+000215e0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000215f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021600: 2261 6374 696f 6e22 3a20 224e 6577 222c  "action": "New",
+00021610: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00021620: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00021630: 6578 6563 5374 6174 7573 223a 2022 4d61  execStatus": "Ma
+00021640: 6b65 7246 696c 6c22 2c0a 2020 2020 2020  kerFill",.      
+00021650: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00021660: 2020 2020 2020 2020 226f 7264 5374 6174          "ordStat
+00021670: 7573 223a 2022 4669 6c6c 6564 222c 0a20  us": "Filled",. 
+00021680: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00021690: 2020 2020 2020 2020 2020 2020 2022 6f72               "or
+000216a0: 6454 7970 6522 3a20 224c 696d 6974 222c  dType": "Limit",
+000216b0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000216c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000216d0: 6578 6563 496e 7374 223a 2022 4e6f 6e65  execInst": "None
+000216e0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000216f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021700: 2022 7469 6d65 496e 466f 7263 6522 3a20   "timeInForce": 
+00021710: 2247 6f6f 6454 696c 6c43 616e 6365 6c22  "GoodTillCancel"
+00021720: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021740: 2273 746f 7044 6972 6563 7469 6f6e 223a  "stopDirection":
+00021750: 2022 554e 5350 4543 4946 4945 4422 2c0a   "UNSPECIFIED",.
+00021760: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00021770: 2020 2020 2020 2020 2020 2020 2020 2274                "t
+00021780: 7261 6465 5479 7065 223a 2022 5472 6164  radeType": "Trad
+00021790: 6522 2c0a 2020 2020 2020 2020 2320 2020  e",.        #   
+000217a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000217b0: 2020 2273 746f 7050 7845 7022 3a20 302c    "stopPxEp": 0,
+000217c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000217d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000217e0: 6578 6563 4964 223a 2022 6336 6264 3839  execId": "c6bd89
+000217f0: 3739 2d30 3762 612d 3539 3436 2d62 3037  79-07ba-5946-b07
+00021800: 652d 6638 6236 3531 3335 6462 6231 222c  e-f8b65135dbb1",
+00021810: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00021820: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00021830: 6578 6563 5072 6963 6545 7022 3a20 3937  execPriceEp": 97
+00021840: 3030 3536 3030 3030 3030 2c0a 2020 2020  0056000000,.    
+00021850: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00021860: 2020 2020 2020 2020 2020 2265 7865 6342            "execB
+00021870: 6173 6551 7479 4576 223a 2031 3033 3030  aseQtyEv": 10300
+00021880: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
+00021890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000218a0: 2022 6578 6563 5175 6f74 6551 7479 4576   "execQuoteQtyEv
+000218b0: 223a 2039 3939 3135 3736 3830 2c0a 2020  ": 999157680,.  
+000218c0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000218d0: 2020 2020 2020 2020 2020 2020 226c 6561              "lea
+000218e0: 7665 7342 6173 6551 7479 4576 223a 2030  vesBaseQtyEv": 0
+000218f0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021910: 226c 6561 7665 7351 756f 7465 5174 7945  "leavesQuoteQtyE
+00021920: 7622 3a20 302c 0a20 2020 2020 2020 2023  v": 0,.        #
+00021930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021940: 2020 2020 2022 6578 6563 4665 6545 7622       "execFeeEv"
+00021950: 3a20 302c 0a20 2020 2020 2020 2023 2020  : 0,.        #  
+00021960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021970: 2020 2022 6665 6552 6174 6545 7222 3a20     "feeRateEr": 
+00021980: 300a 2020 2020 2020 2020 2320 2020 2020  0.        #     
+00021990: 2020 2020 2020 2020 2020 2020 7d0a 2020              }.  
+000219a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000219b0: 2020 2020 5d0a 2020 2020 2020 2020 2320      ].        # 
+000219c0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+000219d0: 2020 2320 2020 2020 7d0a 2020 2020 2020    #     }.      
+000219e0: 2020 230a 2020 2020 2020 2020 230a 2020    #.        #.  
+000219f0: 2020 2020 2020 2320 7377 6170 0a20 2020        # swap.   
+00021a00: 2020 2020 2023 0a20 2020 2020 2020 2023       #.        #
+00021a10: 2020 2020 207b 0a20 2020 2020 2020 2023       {.        #
+00021a20: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
+00021a30: 2030 2c0a 2020 2020 2020 2020 2320 2020   0,.        #   
+00021a40: 2020 2020 2020 226d 7367 223a 2022 4f4b        "msg": "OK
+00021a50: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+00021a60: 2020 2020 2022 6461 7461 223a 207b 0a20       "data": {. 
+00021a70: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00021a80: 2020 2020 2022 746f 7461 6c22 3a20 3739       "total": 79
+00021a90: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021aa0: 2020 2020 2020 2020 2272 6f77 7322 3a20          "rows": 
+00021ab0: 5b0a 2020 2020 2020 2020 2320 2020 2020  [.        #     
+00021ac0: 2020 2020 2020 2020 2020 2020 7b0a 2020              {.  
+00021ad0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00021ae0: 2020 2020 2020 2020 2020 2020 2274 7261              "tra
+00021af0: 6e73 6163 7454 696d 654e 7322 3a20 3136  nsactTimeNs": 16
+00021b00: 3036 3035 3438 3739 3333 3135 3635 3330  0605487933156530
+00021b10: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
+00021b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021b30: 2022 7379 6d62 6f6c 223a 2022 4254 4355   "symbol": "BTCU
+00021b40: 5344 222c 0a20 2020 2020 2020 2023 2020  SD",.        #  
+00021b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021b60: 2020 2022 6375 7272 656e 6379 223a 2022     "currency": "
+00021b70: 4254 4322 2c0a 2020 2020 2020 2020 2320  BTC",.        # 
+00021b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021b90: 2020 2020 2261 6374 696f 6e22 3a20 224e      "action": "N
+00021ba0: 6577 222c 0a20 2020 2020 2020 2023 2020  ew",.        #  
+00021bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021bc0: 2020 2022 7369 6465 223a 2022 4275 7922     "side": "Buy"
+00021bd0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021bf0: 2274 7261 6465 5479 7065 223a 2022 5472  "tradeType": "Tr
+00021c00: 6164 6522 2c0a 2020 2020 2020 2020 2320  ade",.        # 
+00021c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c20: 2020 2020 2265 7865 6351 7479 223a 2035      "execQty": 5
+00021c30: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c50: 2265 7865 6350 7269 6365 4570 223a 2031  "execPriceEp": 1
+00021c60: 3832 3939 3030 3030 2c0a 2020 2020 2020  82990000,.      
+00021c70: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00021c80: 2020 2020 2020 2020 226f 7264 6572 5174          "orderQt
+00021c90: 7922 3a20 352c 0a20 2020 2020 2020 2023  y": 5,.        #
+00021ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021cb0: 2020 2020 2022 7072 6963 6545 7022 3a20       "priceEp": 
+00021cc0: 3138 3338 3730 3030 302c 0a20 2020 2020  183870000,.     
+00021cd0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00021ce0: 2020 2020 2020 2020 2022 6578 6563 5661           "execVa
+00021cf0: 6c75 6545 7622 3a20 3237 3332 332c 0a20  lueEv": 27323,. 
+00021d00: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00021d10: 2020 2020 2020 2020 2020 2020 2022 6665               "fe
+00021d20: 6552 6174 6545 7222 3a20 3735 3030 302c  eRateEr": 75000,
+00021d30: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00021d40: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00021d50: 6578 6563 4665 6545 7622 3a20 3231 2c0a  execFeeEv": 21,.
+00021d60: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00021d70: 2020 2020 2020 2020 2020 2020 2020 226f                "o
+00021d80: 7264 5479 7065 223a 2022 4d61 726b 6574  rdType": "Market
+00021d90: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+00021da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021db0: 2022 6578 6563 4944 223a 2022 3565 6565   "execID": "5eee
+00021dc0: 3536 6134 2d30 3461 392d 3536 3737 2d38  56a4-04a9-5677-8
+00021dd0: 6562 302d 6332 6665 3232 6165 3336 3435  eb0-c2fe22ae3645
+00021de0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+00021df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021e00: 2022 6f72 6465 7249 4422 3a20 2265 6530   "orderID": "ee0
+00021e10: 6163 6238 322d 6637 3132 2d34 3534 332d  acb82-f712-4543-
+00021e20: 6131 3164 2d64 3233 6566 6361 3733 3139  a11d-d23efca7319
+00021e30: 3722 2c0a 2020 2020 2020 2020 2320 2020  7",.        #   
+00021e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021e50: 2020 2263 6c4f 7264 4944 223a 2022 222c    "clOrdID": "",
+00021e60: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00021e70: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00021e80: 6578 6563 5374 6174 7573 223a 2022 5461  execStatus": "Ta
+00021e90: 6b65 7246 696c 6c22 0a20 2020 2020 2020  kerFill".       
+00021ea0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00021eb0: 2020 207d 2c0a 2020 2020 2020 2020 2320     },.        # 
+00021ec0: 2020 2020 2020 2020 2020 2020 5d0a 2020              ].  
+00021ed0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00021ee0: 7d0a 2020 2020 2020 2020 2320 2020 2020  }.        #     
+00021ef0: 7d0a 2020 2020 2020 2020 230a 2020 2020  }.        #.    
+00021f00: 2020 2020 2320 7377 6170 202d 2075 7364      # swap - usd
+00021f10: 740a 2020 2020 2020 2020 230a 2020 2020  t.        #.    
+00021f20: 2020 2020 2320 7b0a 2020 2020 2020 2020      # {.        
+00021f30: 2320 2020 2020 2263 6f64 6522 3a20 302c  #     "code": 0,
+00021f40: 0a20 2020 2020 2020 2023 2020 2020 2022  .        #     "
+00021f50: 6d73 6722 3a20 224f 4b22 2c0a 2020 2020  msg": "OK",.    
+00021f60: 2020 2020 2320 2020 2020 2264 6174 6122      #     "data"
+00021f70: 3a20 7b0a 2020 2020 2020 2020 2320 2020  : {.        #   
+00021f80: 2020 2020 2020 2274 6f74 616c 223a 2034        "total": 4
+00021f90: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021fa0: 2020 2020 2272 6f77 7322 3a20 5b0a 2020      "rows": [.  
+00021fb0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00021fc0: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
+00021fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021fe0: 2263 7265 6174 6564 4174 223a 2031 3636  "createdAt": 166
+00021ff0: 3632 3236 3933 3232 3539 2c0a 2020 2020  6226932259,.    
+00022000: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00022010: 2020 2020 2020 2273 796d 626f 6c22 3a20        "symbol": 
+00022020: 2245 5448 5553 4454 222c 0a20 2020 2020  "ETHUSDT",.     
+00022030: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00022040: 2020 2020 2022 6375 7272 656e 6379 223a       "currency":
+00022050: 2022 5553 4454 222c 0a20 2020 2020 2020   "USDT",.       
+00022060: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00022070: 2020 2022 6163 7469 6f6e 223a 2031 2c0a     "action": 1,.
+00022080: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00022090: 2020 2020 2020 2020 2020 2274 7261 6465            "trade
+000220a0: 5479 7065 223a 2031 2c0a 2020 2020 2020  Type": 1,.      
+000220b0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000220c0: 2020 2020 2265 7865 6351 7479 5271 223a      "execQtyRq":
+000220d0: 2022 302e 3031 222c 0a20 2020 2020 2020   "0.01",.       
+000220e0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+000220f0: 2020 2022 6578 6563 5072 6963 6552 7022     "execPriceRp"
+00022100: 3a20 2231 3237 312e 3922 2c0a 2020 2020  : "1271.9",.    
+00022110: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00022120: 2020 2020 2020 2273 6964 6522 3a20 312c        "side": 1,
+00022130: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00022140: 2020 2020 2020 2020 2020 2022 6f72 6465             "orde
+00022150: 7251 7479 5271 223a 2022 302e 3738 222c  rQtyRq": "0.78",
+00022160: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00022170: 2020 2020 2020 2020 2020 2022 7072 6963             "pric
+00022180: 6552 7022 3a20 2231 3237 312e 3922 2c0a  eRp": "1271.9",.
+00022190: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000221a0: 2020 2020 2020 2020 2020 2265 7865 6356            "execV
+000221b0: 616c 7565 5276 223a 2022 3132 2e37 3139  alueRv": "12.719
+000221c0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000221d0: 2020 2020 2020 2020 2020 2020 2022 6665               "fe
+000221e0: 6552 6174 6552 7222 3a20 2230 2e30 3030  eRateRr": "0.000
+000221f0: 3122 2c0a 2020 2020 2020 2020 2320 2020  1",.        #   
+00022200: 2020 2020 2020 2020 2020 2020 2020 2265                "e
+00022210: 7865 6346 6565 5276 223a 2022 302e 3030  xecFeeRv": "0.00
+00022220: 3132 3731 3922 2c0a 2020 2020 2020 2020  12719",.        
+00022230: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00022240: 2020 226f 7264 5479 7065 223a 2032 2c0a    "ordType": 2,.
+00022250: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00022260: 2020 2020 2020 2020 2020 2265 7865 6349            "execI
+00022270: 6422 3a20 2238 3731 3863 6165 222c 0a20  d": "8718cae",. 
+00022280: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00022290: 2020 2020 2020 2020 2022 6578 6563 5374           "execSt
+000222a0: 6174 7573 223a 2036 0a20 2020 2020 2020  atus": 6.       
+000222b0: 2023 2020 2020 2020 2020 2020 2020 207d   #             }
+000222c0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000222d0: 2020 2020 5d0a 2020 2020 2020 2020 2320      ].        # 
+000222e0: 2020 2020 7d0a 2020 2020 2020 2020 2320      }.        # 
+000222f0: 7d0a 2020 2020 2020 2020 230a 2020 2020  }.        #.    
+00022300: 2020 2020 6461 7461 203d 2073 656c 662e      data = self.
+00022310: 7361 6665 5f76 616c 7565 2872 6573 706f  safe_value(respo
+00022320: 6e73 652c 2027 6461 7461 272c 207b 7d29  nse, 'data', {})
+00022330: 0a20 2020 2020 2020 2069 6620 6d65 7468  .        if meth
+00022340: 6f64 2021 3d20 2770 7269 7661 7465 4765  od != 'privateGe
+00022350: 7445 7863 6861 6e67 654f 7264 6572 5632  tExchangeOrderV2
+00022360: 5472 6164 696e 674c 6973 7427 3a0a 2020  TradingList':.  
+00022370: 2020 2020 2020 2020 2020 726f 7773 203d            rows =
+00022380: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+00022390: 2864 6174 612c 2027 726f 7773 272c 205b  (data, 'rows', [
+000223a0: 5d29 0a20 2020 2020 2020 2020 2020 2072  ]).            r
+000223b0: 6574 7572 6e20 7365 6c66 2e70 6172 7365  eturn self.parse
+000223c0: 5f74 7261 6465 7328 726f 7773 2c20 6d61  _trades(rows, ma
+000223d0: 726b 6574 2c20 7369 6e63 652c 206c 696d  rket, since, lim
+000223e0: 6974 290a 2020 2020 2020 2020 7265 7475  it).        retu
+000223f0: 726e 2073 656c 662e 7061 7273 655f 7472  rn self.parse_tr
+00022400: 6164 6573 2864 6174 612c 206d 6172 6b65  ades(data, marke
+00022410: 742c 2073 696e 6365 2c20 6c69 6d69 7429  t, since, limit)
+00022420: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00022430: 6665 7463 685f 6465 706f 7369 745f 6164  fetch_deposit_ad
+00022440: 6472 6573 7328 7365 6c66 2c20 636f 6465  dress(self, code
+00022450: 3a20 7374 722c 2070 6172 616d 733d 7b7d  : str, params={}
+00022460: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00022470: 2020 2020 2020 2066 6574 6368 2074 6865         fetch the
+00022480: 2064 6570 6f73 6974 2061 6464 7265 7373   deposit address
+00022490: 2066 6f72 2061 2063 7572 7265 6e63 7920   for a currency 
+000224a0: 6173 736f 6369 6174 6564 2077 6974 6820  associated with 
+000224b0: 7365 6c66 2061 6363 6f75 6e74 0a20 2020  self account.   
+000224c0: 2020 2020 203a 7061 7261 6d20 7374 7220       :param str 
+000224d0: 636f 6465 3a20 756e 6966 6965 6420 6375  code: unified cu
+000224e0: 7272 656e 6379 2063 6f64 650a 2020 2020  rrency code.    
+000224f0: 2020 2020 3a70 6172 616d 2064 6963 7420      :param dict 
+00022500: 7061 7261 6d73 3a20 6578 7472 6120 7061  params: extra pa
+00022510: 7261 6d65 7465 7273 2073 7065 6369 6669  rameters specifi
+00022520: 6320 746f 2074 6865 2070 6865 6d65 7820  c to the phemex 
+00022530: 6170 6920 656e 6470 6f69 6e74 0a20 2020  api endpoint.   
+00022540: 2020 2020 203a 7265 7475 726e 7320 6469       :returns di
+00022550: 6374 3a20 616e 2060 6164 6472 6573 7320  ct: an `address 
+00022560: 7374 7275 6374 7572 6520 3c68 7474 7073  structure <https
+00022570: 3a2f 2f64 6f63 732e 6363 7874 2e63 6f6d  ://docs.ccxt.com
+00022580: 2f23 2f3f 6964 3d61 6464 7265 7373 2d73  /#/?id=address-s
+00022590: 7472 7563 7475 7265 3e60 0a20 2020 2020  tructure>`.     
+000225a0: 2020 2022 2222 0a20 2020 2020 2020 2061     """.        a
+000225b0: 7761 6974 2073 656c 662e 6c6f 6164 5f6d  wait self.load_m
+000225c0: 6172 6b65 7473 2829 0a20 2020 2020 2020  arkets().       
+000225d0: 2063 7572 7265 6e63 7920 3d20 7365 6c66   currency = self
+000225e0: 2e63 7572 7265 6e63 7928 636f 6465 290a  .currency(code).
+000225f0: 2020 2020 2020 2020 7265 7175 6573 7420          request 
+00022600: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00022610: 2763 7572 7265 6e63 7927 3a20 6375 7272  'currency': curr
+00022620: 656e 6379 5b27 6964 275d 2c0a 2020 2020  ency['id'],.    
+00022630: 2020 2020 7d0a 2020 2020 2020 2020 6465      }.        de
+00022640: 6661 756c 744e 6574 776f 726b 7320 3d20  faultNetworks = 
+00022650: 7365 6c66 2e73 6166 655f 7661 6c75 6528  self.safe_value(
+00022660: 7365 6c66 2e6f 7074 696f 6e73 2c20 2764  self.options, 'd
+00022670: 6566 6175 6c74 4e65 7477 6f72 6b73 2729  efaultNetworks')
+00022680: 0a20 2020 2020 2020 2064 6566 6175 6c74  .        default
+00022690: 4e65 7477 6f72 6b20 3d20 7365 6c66 2e73  Network = self.s
+000226a0: 6166 655f 7374 7269 6e67 5f75 7070 6572  afe_string_upper
+000226b0: 2864 6566 6175 6c74 4e65 7477 6f72 6b73  (defaultNetworks
+000226c0: 2c20 636f 6465 290a 2020 2020 2020 2020  , code).        
+000226d0: 6e65 7477 6f72 6b73 203d 2073 656c 662e  networks = self.
+000226e0: 7361 6665 5f76 616c 7565 2873 656c 662e  safe_value(self.
+000226f0: 6f70 7469 6f6e 732c 2027 6e65 7477 6f72  options, 'networ
+00022700: 6b73 272c 207b 7d29 0a20 2020 2020 2020  ks', {}).       
+00022710: 206e 6574 776f 726b 203d 2073 656c 662e   network = self.
+00022720: 7361 6665 5f73 7472 696e 675f 7570 7065  safe_string_uppe
+00022730: 7228 7061 7261 6d73 2c20 276e 6574 776f  r(params, 'netwo
+00022740: 726b 272c 2064 6566 6175 6c74 4e65 7477  rk', defaultNetw
+00022750: 6f72 6b29 0a20 2020 2020 2020 206e 6574  ork).        net
+00022760: 776f 726b 203d 2073 656c 662e 7361 6665  work = self.safe
+00022770: 5f73 7472 696e 6728 6e65 7477 6f72 6b73  _string(networks
+00022780: 2c20 6e65 7477 6f72 6b2c 206e 6574 776f  , network, netwo
+00022790: 726b 290a 2020 2020 2020 2020 6966 206e  rk).        if n
+000227a0: 6574 776f 726b 2069 7320 4e6f 6e65 3a0a  etwork is None:.
+000227b0: 2020 2020 2020 2020 2020 2020 7265 7175              requ
+000227c0: 6573 745b 2763 6861 696e 4e61 6d65 275d  est['chainName']
+000227d0: 203d 2063 7572 7265 6e63 795b 2769 6427   = currency['id'
+000227e0: 5d0a 2020 2020 2020 2020 656c 7365 3a0a  ].        else:.
+000227f0: 2020 2020 2020 2020 2020 2020 7265 7175              requ
+00022800: 6573 745b 2763 6861 696e 4e61 6d65 275d  est['chainName']
+00022810: 203d 206e 6574 776f 726b 0a20 2020 2020   = network.     
+00022820: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00022830: 7365 6c66 2e6f 6d69 7428 7061 7261 6d73  self.omit(params
+00022840: 2c20 276e 6574 776f 726b 2729 0a20 2020  , 'network').   
+00022850: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
+00022860: 6177 6169 7420 7365 6c66 2e70 7269 7661  await self.priva
+00022870: 7465 4765 7450 6865 6d65 7855 7365 7257  teGetPhemexUserW
+00022880: 616c 6c65 7473 5632 4465 706f 7369 7441  alletsV2DepositA
+00022890: 6464 7265 7373 2873 656c 662e 6578 7465  ddress(self.exte
+000228a0: 6e64 2872 6571 7565 7374 2c20 7061 7261  nd(request, para
+000228b0: 6d73 2929 0a20 2020 2020 2020 2023 2020  ms)).        #  
+000228c0: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
+000228d0: 2020 2020 2020 2022 636f 6465 223a 302c         "code":0,
+000228e0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000228f0: 2020 2022 6d73 6722 3a22 4f4b 222c 0a20     "msg":"OK",. 
+00022900: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00022910: 2022 6461 7461 223a 7b0a 2020 2020 2020   "data":{.      
+00022920: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00022930: 2261 6464 7265 7373 223a 2230 7835 6266  "address":"0x5bf
+00022940: 6266 3630 6530 6661 3766 3633 3539 3865  bf60e0fa7f63598e
+00022950: 3663 6664 3861 3766 6433 6666 6163 3463  6cfd8a7fd3ffac4c
+00022960: 6363 3661 6422 2c0a 2020 2020 2020 2020  cc6ad",.        
+00022970: 2320 2020 2020 2020 2020 2020 2020 2274  #             "t
+00022980: 6167 223a 6e75 6c6c 0a20 2020 2020 2020  ag":null.       
+00022990: 2023 2020 2020 2020 2020 207d 0a20 2020   #         }.   
+000229a0: 2020 2020 2023 2020 2020 207d 0a20 2020       #     }.   
+000229b0: 2020 2020 2023 0a20 2020 2020 2020 2064       #.        d
+000229c0: 6174 6120 3d20 7365 6c66 2e73 6166 655f  ata = self.safe_
+000229d0: 7661 6c75 6528 7265 7370 6f6e 7365 2c20  value(response, 
+000229e0: 2764 6174 6127 2c20 7b7d 290a 2020 2020  'data', {}).    
+000229f0: 2020 2020 6164 6472 6573 7320 3d20 7365      address = se
+00022a00: 6c66 2e73 6166 655f 7374 7269 6e67 2864  lf.safe_string(d
+00022a10: 6174 612c 2027 6164 6472 6573 7327 290a  ata, 'address').
+00022a20: 2020 2020 2020 2020 7461 6720 3d20 7365          tag = se
+00022a30: 6c66 2e73 6166 655f 7374 7269 6e67 2864  lf.safe_string(d
+00022a40: 6174 612c 2027 7461 6727 290a 2020 2020  ata, 'tag').    
+00022a50: 2020 2020 7365 6c66 2e63 6865 636b 5f61      self.check_a
+00022a60: 6464 7265 7373 2861 6464 7265 7373 290a  ddress(address).
+00022a70: 2020 2020 2020 2020 7265 7475 726e 207b          return {
+00022a80: 0a20 2020 2020 2020 2020 2020 2027 6375  .            'cu
+00022a90: 7272 656e 6379 273a 2063 6f64 652c 0a20  rrency': code,. 
+00022aa0: 2020 2020 2020 2020 2020 2027 6164 6472             'addr
+00022ab0: 6573 7327 3a20 6164 6472 6573 732c 0a20  ess': address,. 
+00022ac0: 2020 2020 2020 2020 2020 2027 7461 6727             'tag'
+00022ad0: 3a20 7461 672c 0a20 2020 2020 2020 2020  : tag,.         
+00022ae0: 2020 2027 6e65 7477 6f72 6b27 3a20 4e6f     'network': No
+00022af0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+00022b00: 2769 6e66 6f27 3a20 7265 7370 6f6e 7365  'info': response
+00022b10: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
+00022b20: 2061 7379 6e63 2064 6566 2066 6574 6368   async def fetch
+00022b30: 5f64 6570 6f73 6974 7328 7365 6c66 2c20  _deposits(self, 
+00022b40: 636f 6465 3a20 4f70 7469 6f6e 616c 5b73  code: Optional[s
+00022b50: 7472 5d20 3d20 4e6f 6e65 2c20 7369 6e63  tr] = None, sinc
+00022b60: 653a 204f 7074 696f 6e61 6c5b 696e 745d  e: Optional[int]
+00022b70: 203d 204e 6f6e 652c 206c 696d 6974 3a20   = None, limit: 
+00022b80: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
+00022b90: 4e6f 6e65 2c20 7061 7261 6d73 3d7b 7d29  None, params={})
+00022ba0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00022bb0: 2020 2020 2020 6665 7463 6820 616c 6c20        fetch all 
+00022bc0: 6465 706f 7369 7473 206d 6164 6520 746f  deposits made to
+00022bd0: 2061 6e20 6163 636f 756e 740a 2020 2020   an account.    
+00022be0: 2020 2020 3a70 6172 616d 2073 7472 7c4e      :param str|N
+00022bf0: 6f6e 6520 636f 6465 3a20 756e 6966 6965  one code: unifie
+00022c00: 6420 6375 7272 656e 6379 2063 6f64 650a  d currency code.
+00022c10: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
+00022c20: 6e74 7c4e 6f6e 6520 7369 6e63 653a 2074  nt|None since: t
+00022c30: 6865 2065 6172 6c69 6573 7420 7469 6d65  he earliest time
+00022c40: 2069 6e20 6d73 2074 6f20 6665 7463 6820   in ms to fetch 
+00022c50: 6465 706f 7369 7473 2066 6f72 0a20 2020  deposits for.   
+00022c60: 2020 2020 203a 7061 7261 6d20 696e 747c       :param int|
+00022c70: 4e6f 6e65 206c 696d 6974 3a20 7468 6520  None limit: the 
+00022c80: 6d61 7869 6d75 6d20 6e75 6d62 6572 206f  maximum number o
+00022c90: 6620 6465 706f 7369 7473 2073 7472 7563  f deposits struc
+00022ca0: 7475 7265 7320 746f 2072 6574 7269 6576  tures to retriev
+00022cb0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+00022cc0: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
+00022cd0: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
+00022ce0: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
+00022cf0: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
+00022d00: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
+00022d10: 726e 7320 5b64 6963 745d 3a20 6120 6c69  rns [dict]: a li
+00022d20: 7374 206f 6620 6074 7261 6e73 6163 7469  st of `transacti
+00022d30: 6f6e 2073 7472 7563 7475 7265 7320 3c68  on structures <h
+00022d40: 7474 7073 3a2f 2f64 6f63 732e 6363 7874  ttps://docs.ccxt
+00022d50: 2e63 6f6d 2f23 2f3f 6964 3d74 7261 6e73  .com/#/?id=trans
+00022d60: 6163 7469 6f6e 2d73 7472 7563 7475 7265  action-structure
+00022d70: 3e60 0a20 2020 2020 2020 2022 2222 0a20  >`.        """. 
+00022d80: 2020 2020 2020 2061 7761 6974 2073 656c         await sel
+00022d90: 662e 6c6f 6164 5f6d 6172 6b65 7473 2829  f.load_markets()
+00022da0: 0a20 2020 2020 2020 2063 7572 7265 6e63  .        currenc
+00022db0: 7920 3d20 4e6f 6e65 0a20 2020 2020 2020  y = None.       
+00022dc0: 2069 6620 636f 6465 2069 7320 6e6f 7420   if code is not 
+00022dd0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00022de0: 2020 6375 7272 656e 6379 203d 2073 656c    currency = sel
+00022df0: 662e 6375 7272 656e 6379 2863 6f64 6529  f.currency(code)
+00022e00: 0a20 2020 2020 2020 2072 6573 706f 6e73  .        respons
+00022e10: 6520 3d20 6177 6169 7420 7365 6c66 2e70  e = await self.p
+00022e20: 7269 7661 7465 4765 7445 7863 6861 6e67  rivateGetExchang
+00022e30: 6557 616c 6c65 7473 4465 706f 7369 744c  eWalletsDepositL
+00022e40: 6973 7428 7061 7261 6d73 290a 2020 2020  ist(params).    
+00022e50: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+00022e60: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
+00022e70: 2020 2020 2020 2020 2263 6f64 6522 3a30          "code":0
+00022e80: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00022e90: 2020 2020 226d 7367 223a 224f 4b22 2c0a      "msg":"OK",.
+00022ea0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00022eb0: 2020 2264 6174 6122 3a5b 0a20 2020 2020    "data":[.     
+00022ec0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00022ed0: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+00022ee0: 2020 2020 2020 2020 2020 2020 2022 6964               "id
+00022ef0: 223a 3239 3230 302c 0a20 2020 2020 2020  ":29200,.       
+00022f00: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00022f10: 2020 2022 6375 7272 656e 6379 223a 2255     "currency":"U
+00022f20: 5344 5422 2c0a 2020 2020 2020 2020 2320  SDT",.        # 
+00022f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f40: 2263 7572 7265 6e63 7943 6f64 6522 3a33  "currencyCode":3
+00022f50: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00022f60: 2020 2020 2020 2020 2020 2020 2274 7848              "txH
+00022f70: 6173 6822 3a22 3078 3062 6462 6463 3437  ash":"0x0bdbdc47
+00022f80: 3830 3737 3639 6130 3362 3135 3864 3537  807769a03b158d57
+00022f90: 3533 6635 3464 6663 3538 6239 3239 3933  53f54dfc58b92993
+00022fa0: 6432 6635 6538 3138 6462 3231 3836 3365  d2f5e818db21863e
+00022fb0: 3031 3233 3865 3564 222c 0a20 2020 2020  01238e5d",.     
+00022fc0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00022fd0: 2020 2020 2022 6164 6472 6573 7322 3a22       "address":"
+00022fe0: 3078 3562 6662 6636 3065 3066 6137 6636  0x5bfbf60e0fa7f6
+00022ff0: 3335 3938 6536 6366 6438 6137 6664 3366  3598e6cfd8a7fd3f
+00023000: 6661 6334 6363 6336 6164 222c 0a20 2020  fac4ccc6ad",.   
+00023010: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00023020: 2020 2020 2020 2022 616d 6f75 6e74 4576         "amountEv
+00023030: 223a 3330 3030 3030 3030 3030 2c0a 2020  ":3000000000,.  
+00023040: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00023050: 2020 2020 2020 2020 2263 6f6e 6669 726d          "confirm
+00023060: 6174 696f 6e73 223a 3133 2c0a 2020 2020  ations":13,.    
+00023070: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00023080: 2020 2020 2020 2274 7970 6522 3a22 4465        "type":"De
+00023090: 706f 7369 7422 2c0a 2020 2020 2020 2020  posit",.        
+000230a0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+000230b0: 2020 2273 7461 7475 7322 3a22 5375 6363    "status":"Succ
+000230c0: 6573 7322 2c0a 2020 2020 2020 2020 2320  ess",.        # 
+000230d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000230e0: 2263 7265 6174 6564 4174 223a 3135 3932  "createdAt":1592
+000230f0: 3732 3235 3635 3030 300a 2020 2020 2020  722565000.      
+00023100: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00023110: 7d0a 2020 2020 2020 2020 2320 2020 2020  }.        #     
+00023120: 2020 2020 5d0a 2020 2020 2020 2020 2320      ].        # 
+00023130: 2020 2020 7d0a 2020 2020 2020 2020 230a      }.        #.
+00023140: 2020 2020 2020 2020 6461 7461 203d 2073          data = s
+00023150: 656c 662e 7361 6665 5f76 616c 7565 2872  elf.safe_value(r
+00023160: 6573 706f 6e73 652c 2027 6461 7461 272c  esponse, 'data',
+00023170: 207b 7d29 0a20 2020 2020 2020 2072 6574   {}).        ret
+00023180: 7572 6e20 7365 6c66 2e70 6172 7365 5f74  urn self.parse_t
+00023190: 7261 6e73 6163 7469 6f6e 7328 6461 7461  ransactions(data
+000231a0: 2c20 6375 7272 656e 6379 2c20 7369 6e63  , currency, sinc
+000231b0: 652c 206c 696d 6974 290a 0a20 2020 2061  e, limit)..    a
+000231c0: 7379 6e63 2064 6566 2066 6574 6368 5f77  sync def fetch_w
+000231d0: 6974 6864 7261 7761 6c73 2873 656c 662c  ithdrawals(self,
+000231e0: 2063 6f64 653a 204f 7074 696f 6e61 6c5b   code: Optional[
+000231f0: 7374 725d 203d 204e 6f6e 652c 2073 696e  str] = None, sin
+00023200: 6365 3a20 4f70 7469 6f6e 616c 5b69 6e74  ce: Optional[int
+00023210: 5d20 3d20 4e6f 6e65 2c20 6c69 6d69 743a  ] = None, limit:
+00023220: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
+00023230: 204e 6f6e 652c 2070 6172 616d 733d 7b7d   None, params={}
+00023240: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00023250: 2020 2020 2020 2066 6574 6368 2061 6c6c         fetch all
+00023260: 2077 6974 6864 7261 7761 6c73 206d 6164   withdrawals mad
+00023270: 6520 6672 6f6d 2061 6e20 6163 636f 756e  e from an accoun
+00023280: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
+00023290: 2073 7472 7c4e 6f6e 6520 636f 6465 3a20   str|None code: 
+000232a0: 756e 6966 6965 6420 6375 7272 656e 6379  unified currency
+000232b0: 2063 6f64 650a 2020 2020 2020 2020 3a70   code.        :p
+000232c0: 6172 616d 2069 6e74 7c4e 6f6e 6520 7369  aram int|None si
+000232d0: 6e63 653a 2074 6865 2065 6172 6c69 6573  nce: the earlies
+000232e0: 7420 7469 6d65 2069 6e20 6d73 2074 6f20  t time in ms to 
+000232f0: 6665 7463 6820 7769 7468 6472 6177 616c  fetch withdrawal
+00023300: 7320 666f 720a 2020 2020 2020 2020 3a70  s for.        :p
+00023310: 6172 616d 2069 6e74 7c4e 6f6e 6520 6c69  aram int|None li
+00023320: 6d69 743a 2074 6865 206d 6178 696d 756d  mit: the maximum
+00023330: 206e 756d 6265 7220 6f66 2077 6974 6864   number of withd
+00023340: 7261 7761 6c73 2073 7472 7563 7475 7265  rawals structure
+00023350: 7320 746f 2072 6574 7269 6576 650a 2020  s to retrieve.  
+00023360: 2020 2020 2020 3a70 6172 616d 2064 6963        :param dic
+00023370: 7420 7061 7261 6d73 3a20 6578 7472 6120  t params: extra 
+00023380: 7061 7261 6d65 7465 7273 2073 7065 6369  parameters speci
+00023390: 6669 6320 746f 2074 6865 2070 6865 6d65  fic to the pheme
+000233a0: 7820 6170 6920 656e 6470 6f69 6e74 0a20  x api endpoint. 
+000233b0: 2020 2020 2020 203a 7265 7475 726e 7320         :returns 
+000233c0: 5b64 6963 745d 3a20 6120 6c69 7374 206f  [dict]: a list o
+000233d0: 6620 6074 7261 6e73 6163 7469 6f6e 2073  f `transaction s
+000233e0: 7472 7563 7475 7265 7320 3c68 7474 7073  tructures <https
+000233f0: 3a2f 2f64 6f63 732e 6363 7874 2e63 6f6d  ://docs.ccxt.com
+00023400: 2f23 2f3f 6964 3d74 7261 6e73 6163 7469  /#/?id=transacti
+00023410: 6f6e 2d73 7472 7563 7475 7265 3e60 0a20  on-structure>`. 
+00023420: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00023430: 2020 2061 7761 6974 2073 656c 662e 6c6f     await self.lo
+00023440: 6164 5f6d 6172 6b65 7473 2829 0a20 2020  ad_markets().   
+00023450: 2020 2020 2063 7572 7265 6e63 7920 3d20       currency = 
+00023460: 4e6f 6e65 0a20 2020 2020 2020 2069 6620  None.        if 
+00023470: 636f 6465 2069 7320 6e6f 7420 4e6f 6e65  code is not None
+00023480: 3a0a 2020 2020 2020 2020 2020 2020 6375  :.            cu
+00023490: 7272 656e 6379 203d 2073 656c 662e 6375  rrency = self.cu
+000234a0: 7272 656e 6379 2863 6f64 6529 0a20 2020  rrency(code).   
+000234b0: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
+000234c0: 6177 6169 7420 7365 6c66 2e70 7269 7661  await self.priva
+000234d0: 7465 4765 7445 7863 6861 6e67 6557 616c  teGetExchangeWal
+000234e0: 6c65 7473 5769 7468 6472 6177 4c69 7374  letsWithdrawList
+000234f0: 2870 6172 616d 7329 0a20 2020 2020 2020  (params).       
+00023500: 2023 0a20 2020 2020 2020 2023 2020 2020   #.        #    
+00023510: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+00023520: 2020 2020 2022 636f 6465 223a 302c 0a20       "code":0,. 
+00023530: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00023540: 2022 6d73 6722 3a22 4f4b 222c 0a20 2020   "msg":"OK",.   
+00023550: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+00023560: 6461 7461 223a 5b0a 2020 2020 2020 2020  data":[.        
+00023570: 2320 2020 2020 2020 2020 2020 2020 7b0a  #             {.
+00023580: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00023590: 2020 2020 2020 2020 2020 2261 6464 7265            "addre
+000235a0: 7373 223a 2022 314c 7878 7878 7878 7878  ss": "1Lxxxxxxxx
+000235b0: 7878 7822 0a20 2020 2020 2020 2023 2020  xxx".        #  
+000235c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000235d0: 616d 6f75 6e74 4576 223a 2032 3030 3030  amountEv": 20000
+000235e0: 300a 2020 2020 2020 2020 2320 2020 2020  0.        #     
+000235f0: 2020 2020 2020 2020 2020 2020 2263 7572              "cur
+00023600: 7265 6e63 7922 3a20 2242 5443 220a 2020  rency": "BTC".  
+00023610: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00023620: 2020 2020 2020 2020 2263 7572 7265 6e63          "currenc
+00023630: 7943 6f64 6522 3a20 310a 2020 2020 2020  yCode": 1.      
+00023640: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00023650: 2020 2020 2265 7870 6972 6564 5469 6d65      "expiredTime
+00023660: 223a 2030 0a20 2020 2020 2020 2023 2020  ": 0.        #  
+00023670: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00023680: 6665 6545 7622 3a20 3530 3030 300a 2020  feeEv": 50000.  
+00023690: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000236a0: 2020 2020 2020 2020 2272 656a 6563 7452          "rejectR
+000236b0: 6561 736f 6e22 3a20 6e75 6c6c 0a20 2020  eason": null.   
+000236c0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+000236d0: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+000236e0: 2022 5375 6363 6565 6422 0a20 2020 2020   "Succeed".     
+000236f0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00023700: 2020 2020 2022 7478 4861 7368 223a 2022       "txHash": "
+00023710: 3434 6578 7878 7878 7878 7878 7878 7878  44exxxxxxxxxxxxx
+00023720: 7878 7878 7878 7878 7822 0a20 2020 2020  xxxxxxxxx".     
+00023730: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00023740: 2020 2020 2022 7769 7468 6472 6177 5374       "withdrawSt
+00023750: 6174 7573 3a20 2222 0a20 2020 2020 2020  atus: "".       
+00023760: 2023 2020 2020 2020 2020 2020 2020 207d   #             }
+00023770: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00023780: 2020 205d 0a20 2020 2020 2020 2023 2020     ].        #  
+00023790: 2020 207d 0a20 2020 2020 2020 2023 0a20     }.        #. 
+000237a0: 2020 2020 2020 2064 6174 6120 3d20 7365         data = se
+000237b0: 6c66 2e73 6166 655f 7661 6c75 6528 7265  lf.safe_value(re
+000237c0: 7370 6f6e 7365 2c20 2764 6174 6127 2c20  sponse, 'data', 
+000237d0: 7b7d 290a 2020 2020 2020 2020 7265 7475  {}).        retu
+000237e0: 726e 2073 656c 662e 7061 7273 655f 7472  rn self.parse_tr
+000237f0: 616e 7361 6374 696f 6e73 2864 6174 612c  ansactions(data,
+00023800: 2063 7572 7265 6e63 792c 2073 696e 6365   currency, since
+00023810: 2c20 6c69 6d69 7429 0a0a 2020 2020 6465  , limit)..    de
+00023820: 6620 7061 7273 655f 7472 616e 7361 6374  f parse_transact
+00023830: 696f 6e5f 7374 6174 7573 2873 656c 662c  ion_status(self,
+00023840: 2073 7461 7475 7329 3a0a 2020 2020 2020   status):.      
+00023850: 2020 7374 6174 7573 6573 203d 207b 0a20    statuses = {. 
+00023860: 2020 2020 2020 2020 2020 2027 5375 6363             'Succ
+00023870: 6573 7327 3a20 276f 6b27 2c0a 2020 2020  ess': 'ok',.    
+00023880: 2020 2020 2020 2020 2753 7563 6365 6564          'Succeed
+00023890: 273a 2027 6f6b 272c 0a20 2020 2020 2020  ': 'ok',.       
+000238a0: 207d 0a20 2020 2020 2020 2072 6574 7572   }.        retur
+000238b0: 6e20 7365 6c66 2e73 6166 655f 7374 7269  n self.safe_stri
+000238c0: 6e67 2873 7461 7475 7365 732c 2073 7461  ng(statuses, sta
+000238d0: 7475 732c 2073 7461 7475 7329 0a0a 2020  tus, status)..  
+000238e0: 2020 6465 6620 7061 7273 655f 7472 616e    def parse_tran
+000238f0: 7361 6374 696f 6e28 7365 6c66 2c20 7472  saction(self, tr
+00023900: 616e 7361 6374 696f 6e2c 2063 7572 7265  ansaction, curre
+00023910: 6e63 793d 4e6f 6e65 293a 0a20 2020 2020  ncy=None):.     
+00023920: 2020 2023 0a20 2020 2020 2020 2023 2077     #.        # w
+00023930: 6974 6864 7261 770a 2020 2020 2020 2020  ithdraw.        
+00023940: 230a 2020 2020 2020 2020 2320 2020 2020  #.        #     
+00023950: 2e2e 2e0a 2020 2020 2020 2020 230a 2020  ....        #.  
+00023960: 2020 2020 2020 2320 6665 7463 6844 6570        # fetchDep
+00023970: 6f73 6974 730a 2020 2020 2020 2020 230a  osits.        #.
+00023980: 2020 2020 2020 2020 2320 2020 2020 7b0a          #     {.
+00023990: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000239a0: 2020 2269 6422 3a32 3932 3030 2c0a 2020    "id":29200,.  
+000239b0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000239c0: 2263 7572 7265 6e63 7922 3a22 5553 4454  "currency":"USDT
+000239d0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000239e0: 2020 2020 2022 6375 7272 656e 6379 436f       "currencyCo
+000239f0: 6465 223a 332c 0a20 2020 2020 2020 2023  de":3,.        #
+00023a00: 2020 2020 2020 2020 2022 7478 4861 7368           "txHash
+00023a10: 223a 2230 7830 6264 6264 6334 3738 3037  ":"0x0bdbdc47807
+00023a20: 3736 3961 3033 6231 3538 6435 3735 3366  769a03b158d5753f
+00023a30: 3534 6466 6335 3862 3932 3939 3364 3266  54dfc58b92993d2f
+00023a40: 3565 3831 3864 6232 3138 3633 6530 3132  5e818db21863e012
+00023a50: 3338 6535 6422 2c0a 2020 2020 2020 2020  38e5d",.        
+00023a60: 2320 2020 2020 2020 2020 2261 6464 7265  #         "addre
+00023a70: 7373 223a 2230 7835 6266 6266 3630 6530  ss":"0x5bfbf60e0
+00023a80: 6661 3766 3633 3539 3865 3663 6664 3861  fa7f63598e6cfd8a
+00023a90: 3766 6433 6666 6163 3463 6363 3661 6422  7fd3ffac4ccc6ad"
+00023aa0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00023ab0: 2020 2020 2261 6d6f 756e 7445 7622 3a33      "amountEv":3
+00023ac0: 3030 3030 3030 3030 302c 0a20 2020 2020  000000000,.     
+00023ad0: 2020 2023 2020 2020 2020 2020 2022 636f     #         "co
+00023ae0: 6e66 6972 6d61 7469 6f6e 7322 3a31 332c  nfirmations":13,
+00023af0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00023b00: 2020 2022 7479 7065 223a 2244 6570 6f73     "type":"Depos
+00023b10: 6974 222c 0a20 2020 2020 2020 2023 2020  it",.        #  
+00023b20: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+00023b30: 2253 7563 6365 7373 222c 0a20 2020 2020  "Success",.     
+00023b40: 2020 2023 2020 2020 2020 2020 2022 6372     #         "cr
+00023b50: 6561 7465 6441 7422 3a31 3539 3237 3232  eatedAt":1592722
+00023b60: 3536 3530 3030 0a20 2020 2020 2020 2023  565000.        #
+00023b70: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
+00023b80: 0a20 2020 2020 2020 2023 2066 6574 6368  .        # fetch
+00023b90: 5769 7468 6472 6177 616c 730a 2020 2020  Withdrawals.    
+00023ba0: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+00023bb0: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
+00023bc0: 2020 2020 2020 2020 2261 6464 7265 7373          "address
+00023bd0: 223a 2022 314c 7878 7878 7878 7878 7878  ": "1Lxxxxxxxxxx
+00023be0: 7822 0a20 2020 2020 2020 2023 2020 2020  x".        #    
+00023bf0: 2020 2020 2022 616d 6f75 6e74 4576 223a       "amountEv":
+00023c00: 2032 3030 3030 300a 2020 2020 2020 2020   200000.        
+00023c10: 2320 2020 2020 2020 2020 2263 7572 7265  #         "curre
+00023c20: 6e63 7922 3a20 2242 5443 220a 2020 2020  ncy": "BTC".    
+00023c30: 2020 2020 2320 2020 2020 2020 2020 2263      #         "c
+00023c40: 7572 7265 6e63 7943 6f64 6522 3a20 310a  urrencyCode": 1.
+00023c50: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00023c60: 2020 2265 7870 6972 6564 5469 6d65 223a    "expiredTime":
+00023c70: 2030 0a20 2020 2020 2020 2023 2020 2020   0.        #    
+00023c80: 2020 2020 2022 6665 6545 7622 3a20 3530       "feeEv": 50
+00023c90: 3030 300a 2020 2020 2020 2020 2320 2020  000.        #   
+00023ca0: 2020 2020 2020 2272 656a 6563 7452 6561        "rejectRea
+00023cb0: 736f 6e22 3a20 6e75 6c6c 0a20 2020 2020  son": null.     
+00023cc0: 2020 2023 2020 2020 2020 2020 2022 7374     #         "st
+00023cd0: 6174 7573 223a 2022 5375 6363 6565 6422  atus": "Succeed"
+00023ce0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00023cf0: 2020 2022 7478 4861 7368 223a 2022 3434     "txHash": "44
+00023d00: 6578 7878 7878 7878 7878 7878 7878 7878  exxxxxxxxxxxxxxx
+00023d10: 7878 7878 7878 7822 0a20 2020 2020 2020  xxxxxxx".       
+00023d20: 2023 2020 2020 2020 2020 2022 7769 7468   #         "with
+00023d30: 6472 6177 5374 6174 7573 3a20 2222 0a20  drawStatus: "". 
+00023d40: 2020 2020 2020 2023 2020 2020 207d 0a20         #     }. 
+00023d50: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
+00023d60: 2069 6420 3d20 7365 6c66 2e73 6166 655f   id = self.safe_
+00023d70: 7374 7269 6e67 2874 7261 6e73 6163 7469  string(transacti
+00023d80: 6f6e 2c20 2769 6427 290a 2020 2020 2020  on, 'id').      
+00023d90: 2020 6164 6472 6573 7320 3d20 7365 6c66    address = self
+00023da0: 2e73 6166 655f 7374 7269 6e67 2874 7261  .safe_string(tra
+00023db0: 6e73 6163 7469 6f6e 2c20 2761 6464 7265  nsaction, 'addre
+00023dc0: 7373 2729 0a20 2020 2020 2020 2074 6167  ss').        tag
+00023dd0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00023de0: 7478 6964 203d 2073 656c 662e 7361 6665  txid = self.safe
+00023df0: 5f73 7472 696e 6728 7472 616e 7361 6374  _string(transact
+00023e00: 696f 6e2c 2027 7478 4861 7368 2729 0a20  ion, 'txHash'). 
+00023e10: 2020 2020 2020 2063 7572 7265 6e63 7949         currencyI
+00023e20: 6420 3d20 7365 6c66 2e73 6166 655f 7374  d = self.safe_st
+00023e30: 7269 6e67 2874 7261 6e73 6163 7469 6f6e  ring(transaction
+00023e40: 2c20 2763 7572 7265 6e63 7927 290a 2020  , 'currency').  
+00023e50: 2020 2020 2020 6375 7272 656e 6379 203d        currency =
+00023e60: 2073 656c 662e 7361 6665 5f63 7572 7265   self.safe_curre
+00023e70: 6e63 7928 6375 7272 656e 6379 4964 2c20  ncy(currencyId, 
+00023e80: 6375 7272 656e 6379 290a 2020 2020 2020  currency).      
+00023e90: 2020 636f 6465 203d 2063 7572 7265 6e63    code = currenc
+00023ea0: 795b 2763 6f64 6527 5d0a 2020 2020 2020  y['code'].      
+00023eb0: 2020 7469 6d65 7374 616d 7020 3d20 7365    timestamp = se
+00023ec0: 6c66 2e73 6166 655f 696e 7465 6765 725f  lf.safe_integer_
+00023ed0: 3228 7472 616e 7361 6374 696f 6e2c 2027  2(transaction, '
+00023ee0: 6372 6561 7465 6441 7427 2c20 2773 7562  createdAt', 'sub
+00023ef0: 6d69 7465 6441 7427 290a 2020 2020 2020  mitedAt').      
+00023f00: 2020 7479 7065 203d 2073 656c 662e 7361    type = self.sa
+00023f10: 6665 5f73 7472 696e 675f 6c6f 7765 7228  fe_string_lower(
+00023f20: 7472 616e 7361 6374 696f 6e2c 2027 7479  transaction, 'ty
+00023f30: 7065 2729 0a20 2020 2020 2020 2066 6565  pe').        fee
+00023f40: 436f 7374 203d 2073 656c 662e 7061 7273  Cost = self.pars
+00023f50: 655f 6e75 6d62 6572 2873 656c 662e 6672  e_number(self.fr
+00023f60: 6f6d 5f65 6e28 7365 6c66 2e73 6166 655f  om_en(self.safe_
+00023f70: 7374 7269 6e67 2874 7261 6e73 6163 7469  string(transacti
+00023f80: 6f6e 2c20 2766 6565 4576 2729 2c20 6375  on, 'feeEv'), cu
+00023f90: 7272 656e 6379 5b27 7661 6c75 6553 6361  rrency['valueSca
+00023fa0: 6c65 275d 2929 0a20 2020 2020 2020 2066  le'])).        f
+00023fb0: 6565 203d 204e 6f6e 650a 2020 2020 2020  ee = None.      
+00023fc0: 2020 6966 2066 6565 436f 7374 2069 7320    if feeCost is 
+00023fd0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00023fe0: 2020 2020 2020 7479 7065 203d 2027 7769        type = 'wi
+00023ff0: 7468 6472 6177 616c 270a 2020 2020 2020  thdrawal'.      
+00024000: 2020 2020 2020 6665 6520 3d20 7b0a 2020        fee = {.  
+00024010: 2020 2020 2020 2020 2020 2020 2020 2763                'c
+00024020: 6f73 7427 3a20 6665 6543 6f73 742c 0a20  ost': feeCost,. 
+00024030: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00024040: 6375 7272 656e 6379 273a 2063 6f64 652c  currency': code,
+00024050: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
+00024060: 2020 2020 2020 2073 7461 7475 7320 3d20         status = 
+00024070: 7365 6c66 2e70 6172 7365 5f74 7261 6e73  self.parse_trans
+00024080: 6163 7469 6f6e 5f73 7461 7475 7328 7365  action_status(se
+00024090: 6c66 2e73 6166 655f 7374 7269 6e67 2874  lf.safe_string(t
+000240a0: 7261 6e73 6163 7469 6f6e 2c20 2773 7461  ransaction, 'sta
+000240b0: 7475 7327 2929 0a20 2020 2020 2020 2061  tus')).        a
+000240c0: 6d6f 756e 7420 3d20 7365 6c66 2e70 6172  mount = self.par
+000240d0: 7365 5f6e 756d 6265 7228 7365 6c66 2e66  se_number(self.f
+000240e0: 726f 6d5f 656e 2873 656c 662e 7361 6665  rom_en(self.safe
+000240f0: 5f73 7472 696e 6728 7472 616e 7361 6374  _string(transact
+00024100: 696f 6e2c 2027 616d 6f75 6e74 4576 2729  ion, 'amountEv')
+00024110: 2c20 6375 7272 656e 6379 5b27 7661 6c75  , currency['valu
+00024120: 6553 6361 6c65 275d 2929 0a20 2020 2020  eScale'])).     
+00024130: 2020 2072 6574 7572 6e20 7b0a 2020 2020     return {.    
+00024140: 2020 2020 2020 2020 2769 6e66 6f27 3a20          'info': 
+00024150: 7472 616e 7361 6374 696f 6e2c 0a20 2020  transaction,.   
+00024160: 2020 2020 2020 2020 2027 6964 273a 2069           'id': i
+00024170: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+00024180: 7478 6964 273a 2074 7869 642c 0a20 2020  txid': txid,.   
+00024190: 2020 2020 2020 2020 2027 7469 6d65 7374           'timest
+000241a0: 616d 7027 3a20 7469 6d65 7374 616d 702c  amp': timestamp,
+000241b0: 0a20 2020 2020 2020 2020 2020 2027 6461  .            'da
+000241c0: 7465 7469 6d65 273a 2073 656c 662e 6973  tetime': self.is
+000241d0: 6f38 3630 3128 7469 6d65 7374 616d 7029  o8601(timestamp)
+000241e0: 2c0a 2020 2020 2020 2020 2020 2020 276e  ,.            'n
+000241f0: 6574 776f 726b 273a 204e 6f6e 652c 0a20  etwork': None,. 
+00024200: 2020 2020 2020 2020 2020 2027 6164 6472             'addr
+00024210: 6573 7327 3a20 6164 6472 6573 732c 0a20  ess': address,. 
+00024220: 2020 2020 2020 2020 2020 2027 6164 6472             'addr
+00024230: 6573 7354 6f27 3a20 6164 6472 6573 732c  essTo': address,
+00024240: 0a20 2020 2020 2020 2020 2020 2027 6164  .            'ad
+00024250: 6472 6573 7346 726f 6d27 3a20 4e6f 6e65  dressFrom': None
+00024260: 2c0a 2020 2020 2020 2020 2020 2020 2774  ,.            't
+00024270: 6167 273a 2074 6167 2c0a 2020 2020 2020  ag': tag,.      
+00024280: 2020 2020 2020 2774 6167 546f 273a 2074        'tagTo': t
+00024290: 6167 2c0a 2020 2020 2020 2020 2020 2020  ag,.            
+000242a0: 2774 6167 4672 6f6d 273a 204e 6f6e 652c  'tagFrom': None,
+000242b0: 0a20 2020 2020 2020 2020 2020 2027 7479  .            'ty
+000242c0: 7065 273a 2074 7970 652c 0a20 2020 2020  pe': type,.     
+000242d0: 2020 2020 2020 2027 616d 6f75 6e74 273a         'amount':
+000242e0: 2061 6d6f 756e 742c 0a20 2020 2020 2020   amount,.       
+000242f0: 2020 2020 2027 6375 7272 656e 6379 273a       'currency':
+00024300: 2063 6f64 652c 0a20 2020 2020 2020 2020   code,.         
+00024310: 2020 2027 7374 6174 7573 273a 2073 7461     'status': sta
+00024320: 7475 732c 0a20 2020 2020 2020 2020 2020  tus,.           
+00024330: 2027 7570 6461 7465 6427 3a20 4e6f 6e65   'updated': None
+00024340: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
+00024350: 6565 273a 2066 6565 2c0a 2020 2020 2020  ee': fee,.      
+00024360: 2020 7d0a 0a20 2020 2061 7379 6e63 2064    }..    async d
+00024370: 6566 2066 6574 6368 5f70 6f73 6974 696f  ef fetch_positio
+00024380: 6e73 2873 656c 662c 2073 796d 626f 6c73  ns(self, symbols
+00024390: 3a20 4f70 7469 6f6e 616c 5b4c 6973 745b  : Optional[List[
+000243a0: 7374 725d 5d20 3d20 4e6f 6e65 2c20 7061  str]] = None, pa
+000243b0: 7261 6d73 3d7b 7d29 3a0a 2020 2020 2020  rams={}):.      
+000243c0: 2020 2222 220a 2020 2020 2020 2020 6665    """.        fe
+000243d0: 7463 6820 616c 6c20 6f70 656e 2070 6f73  tch all open pos
+000243e0: 6974 696f 6e73 0a20 2020 2020 2020 2073  itions.        s
+000243f0: 6565 2068 7474 7073 3a2f 2f67 6974 6875  ee https://githu
+00024400: 622e 636f 6d2f 7068 656d 6578 2f70 6865  b.com/phemex/phe
+00024410: 6d65 782d 6170 692d 646f 6373 2f62 6c6f  mex-api-docs/blo
+00024420: 622f 6d61 7374 6572 2f50 7562 6c69 632d  b/master/Public-
+00024430: 436f 6e74 7261 6374 2d41 5049 2d65 6e2e  Contract-API-en.
+00024440: 6d64 2371 7565 7279 2d74 7261 6469 6e67  md#query-trading
+00024450: 2d61 6363 6f75 6e74 2d61 6e64 2d70 6f73  -account-and-pos
+00024460: 6974 696f 6e73 0a20 2020 2020 2020 2073  itions.        s
+00024470: 6565 2068 7474 7073 3a2f 2f67 6974 6875  ee https://githu
+00024480: 622e 636f 6d2f 7068 656d 6578 2f70 6865  b.com/phemex/phe
+00024490: 6d65 782d 6170 692d 646f 6373 2f62 6c6f  mex-api-docs/blo
+000244a0: 622f 6d61 7374 6572 2f50 7562 6c69 632d  b/master/Public-
+000244b0: 4865 6467 6564 2d50 6572 7065 7475 616c  Hedged-Perpetual
+000244c0: 2d41 5049 2e6d 6423 7175 6572 792d 6163  -API.md#query-ac
+000244d0: 636f 756e 742d 706f 7369 7469 6f6e 730a  count-positions.
+000244e0: 2020 2020 2020 2020 3a70 6172 616d 205b          :param [
+000244f0: 7374 725d 7c4e 6f6e 6520 7379 6d62 6f6c  str]|None symbol
+00024500: 733a 206c 6973 7420 6f66 2075 6e69 6669  s: list of unifi
+00024510: 6564 206d 6172 6b65 7420 7379 6d62 6f6c  ed market symbol
+00024520: 730a 2020 2020 2020 2020 3a70 6172 616d  s.        :param
+00024530: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
+00024540: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
+00024550: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
+00024560: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
+00024570: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
+00024580: 726e 7320 5b64 6963 745d 3a20 6120 6c69  rns [dict]: a li
+00024590: 7374 206f 6620 6070 6f73 6974 696f 6e20  st of `position 
+000245a0: 7374 7275 6374 7572 6520 3c68 7474 7073  structure <https
+000245b0: 3a2f 2f64 6f63 732e 6363 7874 2e63 6f6d  ://docs.ccxt.com
+000245c0: 2f23 2f3f 6964 3d70 6f73 6974 696f 6e2d  /#/?id=position-
+000245d0: 7374 7275 6374 7572 653e 600a 2020 2020  structure>`.    
+000245e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000245f0: 6177 6169 7420 7365 6c66 2e6c 6f61 645f  await self.load_
+00024600: 6d61 726b 6574 7328 290a 2020 2020 2020  markets().      
+00024610: 2020 7379 6d62 6f6c 7320 3d20 7365 6c66    symbols = self
+00024620: 2e6d 6172 6b65 745f 7379 6d62 6f6c 7328  .market_symbols(
+00024630: 7379 6d62 6f6c 7329 0a20 2020 2020 2020  symbols).       
+00024640: 2073 7562 5479 7065 203d 204e 6f6e 650a   subType = None.
+00024650: 2020 2020 2020 2020 6d65 7468 6f64 203d          method =
+00024660: 2027 7072 6976 6174 6547 6574 4163 636f   'privateGetAcco
+00024670: 756e 7473 4163 636f 756e 7450 6f73 6974  untsAccountPosit
+00024680: 696f 6e73 270a 2020 2020 2020 2020 636f  ions'.        co
+00024690: 6465 203d 2073 656c 662e 7361 6665 5f73  de = self.safe_s
+000246a0: 7472 696e 6728 7061 7261 6d73 2c20 2763  tring(params, 'c
+000246b0: 7572 7265 6e63 7927 290a 2020 2020 2020  urrency').      
+000246c0: 2020 7365 7474 6c65 203d 204e 6f6e 650a    settle = None.
+000246d0: 2020 2020 2020 2020 6d61 726b 6574 203d          market =
+000246e0: 204e 6f6e 650a 2020 2020 2020 2020 6669   None.        fi
+000246f0: 7273 7453 796d 626f 6c20 3d20 7365 6c66  rstSymbol = self
+00024700: 2e73 6166 655f 7374 7269 6e67 2873 796d  .safe_string(sym
+00024710: 626f 6c73 2c20 3029 0a20 2020 2020 2020  bols, 0).       
+00024720: 2069 6620 6669 7273 7453 796d 626f 6c20   if firstSymbol 
+00024730: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+00024740: 2020 2020 2020 2020 206d 6172 6b65 7420           market 
+00024750: 3d20 7365 6c66 2e6d 6172 6b65 7428 6669  = self.market(fi
+00024760: 7273 7453 796d 626f 6c29 0a20 2020 2020  rstSymbol).     
+00024770: 2020 2020 2020 2073 6574 746c 6520 3d20         settle = 
+00024780: 6d61 726b 6574 5b27 7365 7474 6c65 275d  market['settle']
+00024790: 0a20 2020 2020 2020 2020 2020 2063 6f64  .            cod
+000247a0: 6520 3d20 6d61 726b 6574 5b27 7365 7474  e = market['sett
+000247b0: 6c65 275d 0a20 2020 2020 2020 2065 6c73  le'].        els
+000247c0: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+000247d0: 6574 746c 652c 2070 6172 616d 7320 3d20  ettle, params = 
+000247e0: 7365 6c66 2e68 616e 646c 655f 6f70 7469  self.handle_opti
+000247f0: 6f6e 5f61 6e64 5f70 6172 616d 7328 7061  on_and_params(pa
+00024800: 7261 6d73 2c20 2766 6574 6368 506f 7369  rams, 'fetchPosi
+00024810: 7469 6f6e 7327 2c20 2773 6574 746c 6527  tions', 'settle'
+00024820: 2c20 2755 5344 2729 0a20 2020 2020 2020  , 'USD').       
+00024830: 2073 7562 5479 7065 2c20 7061 7261 6d73   subType, params
+00024840: 203d 2073 656c 662e 6861 6e64 6c65 5f73   = self.handle_s
+00024850: 7562 5f74 7970 655f 616e 645f 7061 7261  ub_type_and_para
+00024860: 6d73 2827 6665 7463 6850 6f73 6974 696f  ms('fetchPositio
+00024870: 6e73 272c 206d 6172 6b65 742c 2070 6172  ns', market, par
+00024880: 616d 7329 0a20 2020 2020 2020 2069 6620  ams).        if 
+00024890: 7365 7474 6c65 203d 3d20 2755 5344 5427  settle == 'USDT'
+000248a0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+000248b0: 6465 203d 2027 5553 4454 270a 2020 2020  de = 'USDT'.    
+000248c0: 2020 2020 2020 2020 6d65 7468 6f64 203d          method =
+000248d0: 2027 7072 6976 6174 6547 6574 4741 6363   'privateGetGAcc
+000248e0: 6f75 6e74 7341 6363 6f75 6e74 506f 7369  ountsAccountPosi
+000248f0: 7469 6f6e 7327 0a20 2020 2020 2020 2065  tions'.        e
+00024900: 6c69 6620 636f 6465 2069 7320 4e6f 6e65  lif code is None
+00024910: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+00024920: 6465 203d 2027 5553 4427 2069 6620 2873  de = 'USD' if (s
+00024930: 7562 5479 7065 203d 3d20 276c 696e 6561  ubType == 'linea
+00024940: 7227 2920 656c 7365 2027 4254 4327 0a20  r') else 'BTC'. 
+00024950: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00024960: 2020 2020 2020 2020 2070 6172 616d 7320           params 
+00024970: 3d20 7365 6c66 2e6f 6d69 7428 7061 7261  = self.omit(para
+00024980: 6d73 2c20 2763 6f64 6527 290a 2020 2020  ms, 'code').    
+00024990: 2020 2020 6375 7272 656e 6379 203d 2073      currency = s
+000249a0: 656c 662e 6375 7272 656e 6379 2863 6f64  elf.currency(cod
+000249b0: 6529 0a20 2020 2020 2020 2072 6571 7565  e).        reque
+000249c0: 7374 203d 207b 0a20 2020 2020 2020 2020  st = {.         
+000249d0: 2020 2027 6375 7272 656e 6379 273a 2063     'currency': c
+000249e0: 7572 7265 6e63 795b 2769 6427 5d2c 0a20  urrency['id'],. 
+000249f0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+00024a00: 2072 6573 706f 6e73 6520 3d20 6177 6169   response = awai
+00024a10: 7420 6765 7461 7474 7228 7365 6c66 2c20  t getattr(self, 
+00024a20: 6d65 7468 6f64 2928 7365 6c66 2e65 7874  method)(self.ext
+00024a30: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
+00024a40: 616d 7329 290a 2020 2020 2020 2020 230a  ams)).        #.
+00024a50: 2020 2020 2020 2020 2320 2020 2020 7b0a          #     {.
+00024a60: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00024a70: 2020 2263 6f64 6522 3a30 2c22 6d73 6722    "code":0,"msg"
+00024a80: 3a22 222c 0a20 2020 2020 2020 2023 2020  :"",.        #  
+00024a90: 2020 2020 2020 2022 6461 7461 223a 7b0a         "data":{.
+00024aa0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00024ab0: 2020 2020 2020 2261 6363 6f75 6e74 223a        "account":
+00024ac0: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
+00024ad0: 2020 2020 2020 2020 2020 2020 2261 6363              "acc
+00024ae0: 6f75 6e74 4964 223a 3631 3932 3132 3030  ountId":61921200
+00024af0: 3031 2c0a 2020 2020 2020 2020 2320 2020  01,.        #   
+00024b00: 2020 2020 2020 2020 2020 2020 2020 2263                "c
+00024b10: 7572 7265 6e63 7922 3a22 4254 4322 2c0a  urrency":"BTC",.
+00024b20: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00024b30: 2020 2020 2020 2020 2020 2261 6363 6f75            "accou
+00024b40: 6e74 4261 6c61 6e63 6545 7622 3a31 3235  ntBalanceEv":125
+00024b50: 3437 3434 2c0a 2020 2020 2020 2020 2320  4744,.        # 
+00024b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024b70: 2274 6f74 616c 5573 6564 4261 6c61 6e63  "totalUsedBalanc
+00024b80: 6545 7622 3a30 2c0a 2020 2020 2020 2020  eEv":0,.        
+00024b90: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024ba0: 2020 2262 6f6e 7573 4261 6c61 6e63 6545    "bonusBalanceE
+00024bb0: 7622 3a31 3235 3437 3434 0a20 2020 2020  v":1254744.     
+00024bc0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00024bd0: 207d 2c0a 2020 2020 2020 2020 2320 2020   },.        #   
+00024be0: 2020 2020 2020 2020 2020 2270 6f73 6974            "posit
+00024bf0: 696f 6e73 223a 5b0a 2020 2020 2020 2020  ions":[.        
+00024c00: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024c10: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
+00024c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024c30: 2020 2261 6363 6f75 6e74 4944 223a 3631    "accountID":61
+00024c40: 3932 3132 3030 3031 2c0a 2020 2020 2020  92120001,.      
+00024c50: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00024c60: 2020 2020 2020 2020 2273 796d 626f 6c22          "symbol"
+00024c70: 3a22 4254 4355 5344 222c 0a20 2020 2020  :"BTCUSD",.     
+00024c80: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00024c90: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
+00024ca0: 6379 223a 2242 5443 222c 0a20 2020 2020  cy":"BTC",.     
+00024cb0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00024cc0: 2020 2020 2020 2020 2022 7369 6465 223a           "side":
+00024cd0: 224e 6f6e 6522 2c0a 2020 2020 2020 2020  "None",.        
+00024ce0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024cf0: 2020 2020 2020 2270 6f73 6974 696f 6e53        "positionS
+00024d00: 7461 7475 7322 3a22 4e6f 726d 616c 222c  tatus":"Normal",
+00024d10: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00024d20: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00024d30: 6372 6f73 734d 6172 6769 6e22 3a66 616c  crossMargin":fal
+00024d40: 7365 2c0a 2020 2020 2020 2020 2320 2020  se,.        #   
+00024d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024d60: 2020 226c 6576 6572 6167 6545 7222 3a31    "leverageEr":1
+00024d70: 3030 3030 3030 3030 2c0a 2020 2020 2020  00000000,.      
+00024d80: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00024d90: 2020 2020 2020 2020 226c 6576 6572 6167          "leverag
+00024da0: 6522 3a31 2e30 3030 3030 3030 302c 0a20  e":1.00000000,. 
+00024db0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00024dc0: 2020 2020 2020 2020 2020 2020 2022 696e               "in
+00024dd0: 6974 4d61 7267 696e 5265 7145 7222 3a31  itMarginReqEr":1
+00024de0: 3030 3030 3030 3030 2c0a 2020 2020 2020  00000000,.      
+00024df0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00024e00: 2020 2020 2020 2020 2269 6e69 744d 6172          "initMar
+00024e10: 6769 6e52 6571 223a 312e 3030 3030 3030  ginReq":1.000000
+00024e20: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+00024e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024e40: 2020 226d 6169 6e74 4d61 7267 696e 5265    "maintMarginRe
+00024e50: 7145 7222 3a35 3030 3030 302c 0a20 2020  qEr":500000,.   
+00024e60: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00024e70: 2020 2020 2020 2020 2020 2022 6d61 696e             "main
+00024e80: 744d 6172 6769 6e52 6571 223a 302e 3030  tMarginReq":0.00
+00024e90: 3530 3030 3030 2c0a 2020 2020 2020 2020  500000,.        
+00024ea0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024eb0: 2020 2020 2020 2272 6973 6b4c 696d 6974        "riskLimit
+00024ec0: 4576 223a 3130 3030 3030 3030 3030 302c  Ev":10000000000,
+00024ed0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00024ee0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00024ef0: 7269 736b 4c69 6d69 7422 3a31 3030 2e30  riskLimit":100.0
+00024f00: 3030 3030 3030 302c 0a20 2020 2020 2020  0000000,.       
+00024f10: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00024f20: 2020 2020 2020 2022 7369 7a65 223a 302c         "size":0,
+00024f30: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00024f40: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00024f50: 7661 6c75 6522 3a30 452d 382c 0a20 2020  value":0E-8,.   
+00024f60: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00024f70: 2020 2020 2020 2020 2020 2022 7661 6c75             "valu
+00024f80: 6545 7622 3a30 2c0a 2020 2020 2020 2020  eEv":0,.        
+00024f90: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024fa0: 2020 2020 2020 2261 7667 456e 7472 7950        "avgEntryP
+00024fb0: 7269 6365 4570 223a 302c 0a20 2020 2020  riceEp":0,.     
+00024fc0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00024fd0: 2020 2020 2020 2020 2022 6176 6745 6e74           "avgEnt
+00024fe0: 7279 5072 6963 6522 3a30 452d 382c 0a20  ryPrice":0E-8,. 
+00024ff0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00025000: 2020 2020 2020 2020 2020 2020 2022 706f               "po
+00025010: 7343 6f73 7445 7622 3a30 2c0a 2020 2020  sCostEv":0,.    
+00025020: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00025030: 2020 2020 2020 2020 2020 2270 6f73 436f            "posCo
+00025040: 7374 223a 3045 2d38 2c0a 2020 2020 2020  st":0E-8,.      
+00025050: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00025060: 2020 2020 2020 2020 2261 7373 6967 6e65          "assigne
+00025070: 6450 6f73 4261 6c61 6e63 6545 7622 3a30  dPosBalanceEv":0
+00025080: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00025090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000250a0: 2261 7373 6967 6e65 6450 6f73 4261 6c61  "assignedPosBala
+000250b0: 6e63 6522 3a30 452d 382c 0a20 2020 2020  nce":0E-8,.     
+000250c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+000250d0: 2020 2020 2020 2020 2022 6261 6e6b 7275           "bankru
+000250e0: 7074 436f 6d6d 4576 223a 302c 0a20 2020  ptCommEv":0,.   
+000250f0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00025100: 2020 2020 2020 2020 2020 2022 6261 6e6b             "bank
+00025110: 7275 7074 436f 6d6d 223a 3045 2d38 2c0a  ruptComm":0E-8,.
+00025120: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00025130: 2020 2020 2020 2020 2020 2020 2020 2262                "b
+00025140: 616e 6b72 7570 7450 7269 6365 4570 223a  ankruptPriceEp":
+00025150: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
+00025160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025170: 2022 6261 6e6b 7275 7074 5072 6963 6522   "bankruptPrice"
+00025180: 3a30 452d 382c 0a20 2020 2020 2020 2023  :0E-8,.        #
+00025190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000251a0: 2020 2020 2022 706f 7369 7469 6f6e 4d61       "positionMa
+000251b0: 7267 696e 4576 223a 302c 0a20 2020 2020  rginEv":0,.     
+000251c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+000251d0: 2020 2020 2020 2020 2022 706f 7369 7469           "positi
+000251e0: 6f6e 4d61 7267 696e 223a 3045 2d38 2c0a  onMargin":0E-8,.
+000251f0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00025200: 2020 2020 2020 2020 2020 2020 2020 226c                "l
+00025210: 6971 7569 6461 7469 6f6e 5072 6963 6545  iquidationPriceE
+00025220: 7022 3a30 2c0a 2020 2020 2020 2020 2320  p":0,.        # 
+00025230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025240: 2020 2020 226c 6971 7569 6461 7469 6f6e      "liquidation
+00025250: 5072 6963 6522 3a30 452d 382c 0a20 2020  Price":0E-8,.   
+00025260: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00025270: 2020 2020 2020 2020 2020 2022 6465 6c65             "dele
+00025280: 7665 7261 6765 5065 7263 656e 7469 6c65  veragePercentile
+00025290: 4572 223a 302c 0a20 2020 2020 2020 2023  Er":0,.        #
+000252a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000252b0: 2020 2020 2022 6465 6c65 7665 7261 6765       "deleverage
+000252c0: 5065 7263 656e 7469 6c65 223a 3045 2d38  Percentile":0E-8
+000252d0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000252e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000252f0: 2262 7579 5661 6c75 6554 6f43 6f73 7445  "buyValueToCostE
+00025300: 7222 3a31 3030 3232 3530 3030 2c0a 2020  r":100225000,.  
+00025310: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00025320: 2020 2020 2020 2020 2020 2020 2262 7579              "buy
+00025330: 5661 6c75 6554 6f43 6f73 7422 3a31 2e30  ValueToCost":1.0
+00025340: 3032 3235 3030 302c 0a20 2020 2020 2020  0225000,.       
+00025350: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00025360: 2020 2020 2020 2022 7365 6c6c 5661 6c75         "sellValu
+00025370: 6554 6f43 6f73 7445 7222 3a31 3030 3037  eToCostEr":10007
+00025380: 3530 3030 2c0a 2020 2020 2020 2020 2320  5000,.        # 
+00025390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000253a0: 2020 2020 2273 656c 6c56 616c 7565 546f      "sellValueTo
+000253b0: 436f 7374 223a 312e 3030 3037 3530 3030  Cost":1.00075000
+000253c0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000253d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000253e0: 226d 6172 6b50 7269 6365 4570 223a 3133  "markPriceEp":13
+000253f0: 3537 3336 3037 302c 0a20 2020 2020 2020  5736070,.       
+00025400: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00025410: 2020 2020 2020 2022 6d61 726b 5072 6963         "markPric
+00025420: 6522 3a31 3335 3733 2e36 3037 3030 3030  e":13573.6070000
+00025430: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
+00025440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025450: 2022 6d61 726b 5661 6c75 6545 7622 3a30   "markValueEv":0
+00025460: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00025470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025480: 226d 6172 6b56 616c 7565 223a 6e75 6c6c  "markValue":null
+00025490: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000254a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000254b0: 2275 6e52 6561 6c69 7365 6450 6f73 4c6f  "unRealisedPosLo
+000254c0: 7373 4576 223a 302c 0a20 2020 2020 2020  ssEv":0,.       
+000254d0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+000254e0: 2020 2020 2020 2022 756e 5265 616c 6973         "unRealis
+000254f0: 6564 506f 734c 6f73 7322 3a6e 756c 6c2c  edPosLoss":null,
+00025500: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00025510: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00025520: 6573 7469 6d61 7465 644f 7264 4c6f 7373  estimatedOrdLoss
+00025530: 4576 223a 302c 0a20 2020 2020 2020 2023  Ev":0,.        #
+00025540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025550: 2020 2020 2022 6573 7469 6d61 7465 644f       "estimatedO
+00025560: 7264 4c6f 7373 223a 3045 2d38 2c0a 2020  rdLoss":0E-8,.  
+00025570: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00025580: 2020 2020 2020 2020 2020 2020 2275 7365              "use
+00025590: 6442 616c 616e 6365 4576 223a 302c 0a20  dBalanceEv":0,. 
+000255a0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+000255b0: 2020 2020 2020 2020 2020 2020 2022 7573               "us
+000255c0: 6564 4261 6c61 6e63 6522 3a30 452d 382c  edBalance":0E-8,
+000255d0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000255e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000255f0: 7461 6b65 5072 6f66 6974 4570 223a 302c  takeProfitEp":0,
+00025600: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00025610: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00025620: 7461 6b65 5072 6f66 6974 223a 6e75 6c6c  takeProfit":null
+00025630: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00025640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025650: 2273 746f 704c 6f73 7345 7022 3a30 2c0a  "stopLossEp":0,.
+00025660: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00025670: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00025680: 746f 704c 6f73 7322 3a6e 756c 6c2c 0a20  topLoss":null,. 
+00025690: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+000256a0: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
+000256b0: 6d43 6c6f 7365 6450 6e6c 4576 223a 302c  mClosedPnlEv":0,
+000256c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000256d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000256e0: 6375 6d46 756e 6469 6e67 4665 6545 7622  cumFundingFeeEv"
+000256f0: 3a30 2c0a 2020 2020 2020 2020 2320 2020  :0,.        #   
+00025700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025710: 2020 2263 756d 5472 616e 7361 6374 4665    "cumTransactFe
+00025720: 6545 7622 3a30 2c0a 2020 2020 2020 2020  eEv":0,.        
+00025730: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00025740: 2020 2020 2020 2272 6561 6c69 7365 6450        "realisedP
+00025750: 6e6c 4576 223a 302c 0a20 2020 2020 2020  nlEv":0,.       
+00025760: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00025770: 2020 2020 2020 2022 7265 616c 6973 6564         "realised
+00025780: 506e 6c22 3a6e 756c 6c2c 0a20 2020 2020  Pnl":null,.     
+00025790: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+000257a0: 2020 2020 2020 2020 2022 6375 6d52 6561           "cumRea
+000257b0: 6c69 7365 6450 6e6c 4576 223a 302c 0a20  lisedPnlEv":0,. 
+000257c0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+000257d0: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
+000257e0: 6d52 6561 6c69 7365 6450 6e6c 223a 6e75  mRealisedPnl":nu
+000257f0: 6c6c 0a20 2020 2020 2020 2023 2020 2020  ll.        #    
+00025800: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
+00025810: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00025820: 2020 2020 205d 0a20 2020 2020 2020 2023       ].        #
+00025830: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
+00025840: 2020 2023 2020 2020 207d 0a20 2020 2020     #     }.     
+00025850: 2020 2023 0a20 2020 2020 2020 2064 6174     #.        dat
+00025860: 6120 3d20 7365 6c66 2e73 6166 655f 7661  a = self.safe_va
+00025870: 6c75 6528 7265 7370 6f6e 7365 2c20 2764  lue(response, 'd
+00025880: 6174 6127 2c20 7b7d 290a 2020 2020 2020  ata', {}).      
+00025890: 2020 706f 7369 7469 6f6e 7320 3d20 7365    positions = se
+000258a0: 6c66 2e73 6166 655f 7661 6c75 6528 6461  lf.safe_value(da
+000258b0: 7461 2c20 2770 6f73 6974 696f 6e73 272c  ta, 'positions',
+000258c0: 205b 5d29 0a20 2020 2020 2020 2072 6573   []).        res
+000258d0: 756c 7420 3d20 5b5d 0a20 2020 2020 2020  ult = [].       
+000258e0: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
+000258f0: 302c 206c 656e 2870 6f73 6974 696f 6e73  0, len(positions
+00025900: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
+00025910: 706f 7369 7469 6f6e 203d 2070 6f73 6974  position = posit
+00025920: 696f 6e73 5b69 5d0a 2020 2020 2020 2020  ions[i].        
+00025930: 2020 2020 7265 7375 6c74 2e61 7070 656e      result.appen
+00025940: 6428 7365 6c66 2e70 6172 7365 5f70 6f73  d(self.parse_pos
+00025950: 6974 696f 6e28 706f 7369 7469 6f6e 2929  ition(position))
+00025960: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00025970: 7365 6c66 2e66 696c 7465 725f 6279 5f61  self.filter_by_a
+00025980: 7272 6179 2872 6573 756c 742c 2027 7379  rray(result, 'sy
+00025990: 6d62 6f6c 272c 2073 796d 626f 6c73 2c20  mbol', symbols, 
+000259a0: 4661 6c73 6529 0a0a 2020 2020 6465 6620  False)..    def 
+000259b0: 7061 7273 655f 706f 7369 7469 6f6e 2873  parse_position(s
+000259c0: 656c 662c 2070 6f73 6974 696f 6e2c 206d  elf, position, m
+000259d0: 6172 6b65 743d 4e6f 6e65 293a 0a20 2020  arket=None):.   
+000259e0: 2020 2020 2023 0a20 2020 2020 2020 2023       #.        #
+000259f0: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
+00025a00: 2020 2075 7365 7249 443a 2027 3831 3133     userID: '8113
+00025a10: 3730 272c 0a20 2020 2020 2020 2023 2020  70',.        #  
+00025a20: 2020 2061 6363 6f75 6e74 4944 3a20 2738     accountID: '8
+00025a30: 3131 3337 3030 3030 3227 2c0a 2020 2020  113700002',.    
+00025a40: 2020 2020 2320 2020 2020 7379 6d62 6f6c      #     symbol
+00025a50: 3a20 2745 5448 5553 4427 2c0a 2020 2020  : 'ETHUSD',.    
+00025a60: 2020 2020 2320 2020 2020 6375 7272 656e      #     curren
+00025a70: 6379 3a20 2755 5344 272c 0a20 2020 2020  cy: 'USD',.     
+00025a80: 2020 2023 2020 2020 2073 6964 653a 2027     #     side: '
+00025a90: 4275 7927 2c0a 2020 2020 2020 2020 2320  Buy',.        # 
+00025aa0: 2020 2020 706f 7369 7469 6f6e 5374 6174      positionStat
+00025ab0: 7573 3a20 274e 6f72 6d61 6c27 2c0a 2020  us: 'Normal',.  
+00025ac0: 2020 2020 2020 2320 2020 2020 6372 6f73        #     cros
+00025ad0: 734d 6172 6769 6e3a 2046 616c 7365 2c0a  sMargin: False,.
+00025ae0: 2020 2020 2020 2020 2320 2020 2020 6c65          #     le
+00025af0: 7665 7261 6765 4572 3a20 2732 3030 3030  verageEr: '20000
+00025b00: 3030 3030 272c 0a20 2020 2020 2020 2023  0000',.        #
+00025b10: 2020 2020 206c 6576 6572 6167 653a 2027       leverage: '
+00025b20: 322e 3030 3030 3030 3030 272c 0a20 2020  2.00000000',.   
+00025b30: 2020 2020 2023 2020 2020 2069 6e69 744d       #     initM
+00025b40: 6172 6769 6e52 6571 4572 3a20 2735 3030  arginReqEr: '500
+00025b50: 3030 3030 3027 2c0a 2020 2020 2020 2020  00000',.        
+00025b60: 2320 2020 2020 696e 6974 4d61 7267 696e  #     initMargin
+00025b70: 5265 713a 2027 302e 3530 3030 3030 3030  Req: '0.50000000
+00025b80: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
+00025b90: 206d 6169 6e74 4d61 7267 696e 5265 7145   maintMarginReqE
+00025ba0: 723a 2027 3130 3030 3030 3027 2c0a 2020  r: '1000000',.  
+00025bb0: 2020 2020 2020 2320 2020 2020 6d61 696e        #     main
+00025bc0: 744d 6172 6769 6e52 6571 3a20 2730 2e30  tMarginReq: '0.0
+00025bd0: 3130 3030 3030 3027 2c0a 2020 2020 2020  1000000',.      
+00025be0: 2020 2320 2020 2020 7269 736b 4c69 6d69    #     riskLimi
+00025bf0: 7445 763a 2027 3530 3030 3030 3030 3030  tEv: '5000000000
+00025c00: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
+00025c10: 2072 6973 6b4c 696d 6974 3a20 2735 3030   riskLimit: '500
+00025c20: 3030 302e 3030 3030 3030 3030 272c 0a20  000.00000000',. 
+00025c30: 2020 2020 2020 2023 2020 2020 2073 697a         #     siz
+00025c40: 653a 2027 3127 2c0a 2020 2020 2020 2020  e: '1',.        
+00025c50: 2320 2020 2020 7661 6c75 653a 2027 3232  #     value: '22
+00025c60: 2e32 3233 3730 3030 3027 2c0a 2020 2020  .22370000',.    
+00025c70: 2020 2020 2320 2020 2020 7661 6c75 6545      #     valueE
+00025c80: 763a 2027 3232 3232 3337 272c 0a20 2020  v: '222237',.   
+00025c90: 2020 2020 2023 2020 2020 2061 7667 456e       #     avgEn
+00025ca0: 7472 7950 7269 6365 4570 3a20 2734 3434  tryPriceEp: '444
+00025cb0: 3437 3430 3027 2c0a 2020 2020 2020 2020  47400',.        
+00025cc0: 2320 2020 2020 6176 6745 6e74 7279 5072  #     avgEntryPr
+00025cd0: 6963 653a 2027 3434 3434 2e37 3430 3030  ice: '4444.74000
+00025ce0: 3030 3027 2c0a 2020 2020 2020 2020 2320  000',.        # 
+00025cf0: 2020 2020 706f 7343 6f73 7445 763a 2027      posCostEv: '
+00025d00: 3131 3132 3032 272c 0a20 2020 2020 2020  111202',.       
+00025d10: 2023 2020 2020 2070 6f73 436f 7374 3a20   #     posCost: 
+00025d20: 2731 312e 3132 3032 3030 3030 272c 0a20  '11.12020000',. 
+00025d30: 2020 2020 2020 2023 2020 2020 2061 7373         #     ass
+00025d40: 6967 6e65 6450 6f73 4261 6c61 6e63 6545  ignedPosBalanceE
+00025d50: 763a 2027 3131 3132 3032 272c 0a20 2020  v: '111202',.   
+00025d60: 2020 2020 2023 2020 2020 2061 7373 6967       #     assig
+00025d70: 6e65 6450 6f73 4261 6c61 6e63 653a 2027  nedPosBalance: '
+00025d80: 3131 2e31 3230 3230 3030 3027 2c0a 2020  11.12020000',.  
+00025d90: 2020 2020 2020 2320 2020 2020 6261 6e6b        #     bank
+00025da0: 7275 7074 436f 6d6d 4576 3a20 2738 3427  ruptCommEv: '84'
+00025db0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00025dc0: 6261 6e6b 7275 7074 436f 6d6d 3a20 2730  bankruptComm: '0
+00025dd0: 2e30 3038 3430 3030 3027 2c0a 2020 2020  .00840000',.    
+00025de0: 2020 2020 2320 2020 2020 6261 6e6b 7275      #     bankru
+00025df0: 7074 5072 6963 6545 703a 2027 3232 3232  ptPriceEp: '2222
+00025e00: 3430 3030 272c 0a20 2020 2020 2020 2023  4000',.        #
+00025e10: 2020 2020 2062 616e 6b72 7570 7450 7269       bankruptPri
+00025e20: 6365 3a20 2732 3232 322e 3430 3030 3030  ce: '2222.400000
+00025e30: 3030 272c 0a20 2020 2020 2020 2023 2020  00',.        #  
+00025e40: 2020 2070 6f73 6974 696f 6e4d 6172 6769     positionMargi
+00025e50: 6e45 763a 2027 3131 3131 3138 272c 0a20  nEv: '111118',. 
+00025e60: 2020 2020 2020 2023 2020 2020 2070 6f73         #     pos
+00025e70: 6974 696f 6e4d 6172 6769 6e3a 2027 3131  itionMargin: '11
+00025e80: 2e31 3131 3830 3030 3027 2c0a 2020 2020  .11180000',.    
+00025e90: 2020 2020 2320 2020 2020 6c69 7175 6964      #     liquid
+00025ea0: 6174 696f 6e50 7269 6365 4570 3a20 2732  ationPriceEp: '2
+00025eb0: 3236 3639 3030 3027 2c0a 2020 2020 2020  2669000',.      
+00025ec0: 2020 2320 2020 2020 6c69 7175 6964 6174    #     liquidat
+00025ed0: 696f 6e50 7269 6365 3a20 2732 3236 362e  ionPrice: '2266.
+00025ee0: 3930 3030 3030 3030 272c 0a20 2020 2020  90000000',.     
+00025ef0: 2020 2023 2020 2020 2064 656c 6576 6572     #     delever
+00025f00: 6167 6550 6572 6365 6e74 696c 6545 723a  agePercentileEr:
+00025f10: 2027 3027 2c0a 2020 2020 2020 2020 2320   '0',.        # 
+00025f20: 2020 2020 6465 6c65 7665 7261 6765 5065      deleveragePe
+00025f30: 7263 656e 7469 6c65 3a20 2730 452d 3827  rcentile: '0E-8'
+00025f40: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00025f50: 6275 7956 616c 7565 546f 436f 7374 4572  buyValueToCostEr
+00025f60: 3a20 2735 3031 3132 3530 3027 2c0a 2020  : '50112500',.  
+00025f70: 2020 2020 2020 2320 2020 2020 6275 7956        #     buyV
+00025f80: 616c 7565 546f 436f 7374 3a20 2730 2e35  alueToCost: '0.5
+00025f90: 3031 3132 3530 3027 2c0a 2020 2020 2020  0112500',.      
+00025fa0: 2020 2320 2020 2020 7365 6c6c 5661 6c75    #     sellValu
+00025fb0: 6554 6f43 6f73 7445 723a 2027 3530 3138  eToCostEr: '5018
+00025fc0: 3735 3030 272c 0a20 2020 2020 2020 2023  7500',.        #
+00025fd0: 2020 2020 2073 656c 6c56 616c 7565 546f       sellValueTo
+00025fe0: 436f 7374 3a20 2730 2e35 3031 3837 3530  Cost: '0.5018750
+00025ff0: 3027 2c0a 2020 2020 2020 2020 2320 2020  0',.        #   
+00026000: 2020 6d61 726b 5072 6963 6545 703a 2027    markPriceEp: '
+00026010: 3331 3333 3234 3939 272c 0a20 2020 2020  31332499',.     
+00026020: 2020 2023 2020 2020 206d 6172 6b50 7269     #     markPri
+00026030: 6365 3a20 2733 3133 332e 3234 3939 3030  ce: '3133.249900
+00026040: 3030 272c 0a20 2020 2020 2020 2023 2020  00',.        #  
+00026050: 2020 206d 6172 6b56 616c 7565 4576 3a20     markValueEv: 
+00026060: 2730 272c 0a20 2020 2020 2020 2023 2020  '0',.        #  
+00026070: 2020 206d 6172 6b56 616c 7565 3a20 6e75     markValue: nu
+00026080: 6c6c 2c0a 2020 2020 2020 2020 2320 2020  ll,.        #   
+00026090: 2020 756e 5265 616c 6973 6564 506f 734c    unRealisedPosL
+000260a0: 6f73 7345 763a 2027 3027 2c0a 2020 2020  ossEv: '0',.    
+000260b0: 2020 2020 2320 2020 2020 756e 5265 616c      #     unReal
+000260c0: 6973 6564 506f 734c 6f73 733a 206e 756c  isedPosLoss: nul
+000260d0: 6c2c 0a20 2020 2020 2020 2023 2020 2020  l,.        #    
+000260e0: 2065 7374 696d 6174 6564 4f72 644c 6f73   estimatedOrdLos
+000260f0: 7345 763a 2027 3027 2c0a 2020 2020 2020  sEv: '0',.      
+00026100: 2020 2320 2020 2020 6573 7469 6d61 7465    #     estimate
+00026110: 644f 7264 4c6f 7373 3a20 2730 452d 3827  dOrdLoss: '0E-8'
+00026120: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00026130: 7573 6564 4261 6c61 6e63 6545 763a 2027  usedBalanceEv: '
+00026140: 3131 3132 3032 272c 0a20 2020 2020 2020  111202',.       
+00026150: 2023 2020 2020 2075 7365 6442 616c 616e   #     usedBalan
+00026160: 6365 3a20 2731 312e 3132 3032 3030 3030  ce: '11.12020000
+00026170: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
+00026180: 2074 616b 6550 726f 6669 7445 703a 2027   takeProfitEp: '
+00026190: 3027 2c0a 2020 2020 2020 2020 2320 2020  0',.        #   
+000261a0: 2020 7461 6b65 5072 6f66 6974 3a20 6e75    takeProfit: nu
+000261b0: 6c6c 2c0a 2020 2020 2020 2020 2320 2020  ll,.        #   
+000261c0: 2020 7374 6f70 4c6f 7373 4570 3a20 2730    stopLossEp: '0
+000261d0: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
+000261e0: 2073 746f 704c 6f73 733a 206e 756c 6c2c   stopLoss: null,
+000261f0: 0a20 2020 2020 2020 2023 2020 2020 2063  .        #     c
+00026200: 756d 436c 6f73 6564 506e 6c45 763a 2027  umClosedPnlEv: '
+00026210: 2d31 3534 3627 2c0a 2020 2020 2020 2020  -1546',.        
+00026220: 2320 2020 2020 6375 6d46 756e 6469 6e67  #     cumFunding
+00026230: 4665 6545 763a 2027 3136 3035 272c 0a20  FeeEv: '1605',. 
+00026240: 2020 2020 2020 2023 2020 2020 2063 756d         #     cum
+00026250: 5472 616e 7361 6374 4665 6545 763a 2027  TransactFeeEv: '
+00026260: 3834 3338 272c 0a20 2020 2020 2020 2023  8438',.        #
+00026270: 2020 2020 2072 6561 6c69 7365 6450 6e6c       realisedPnl
+00026280: 4576 3a20 2730 272c 0a20 2020 2020 2020  Ev: '0',.       
+00026290: 2023 2020 2020 2072 6561 6c69 7365 6450   #     realisedP
+000262a0: 6e6c 3a20 6e75 6c6c 2c0a 2020 2020 2020  nl: null,.      
+000262b0: 2020 2320 2020 2020 6375 6d52 6561 6c69    #     cumReali
+000262c0: 7365 6450 6e6c 4576 3a20 2730 272c 0a20  sedPnlEv: '0',. 
+000262d0: 2020 2020 2020 2023 2020 2020 2063 756d         #     cum
+000262e0: 5265 616c 6973 6564 506e 6c3a 206e 756c  RealisedPnl: nul
+000262f0: 6c2c 0a20 2020 2020 2020 2023 2020 2020  l,.        #    
+00026300: 2074 7261 6e73 6163 7454 696d 654e 733a   transactTimeNs:
+00026310: 2027 3136 3431 3537 3132 3030 3030 3138   '16415712000018
+00026320: 3835 3332 3427 2c0a 2020 2020 2020 2020  85324',.        
+00026330: 2320 2020 2020 7461 6b65 7246 6565 5261  #     takerFeeRa
+00026340: 7465 4572 3a20 2730 272c 0a20 2020 2020  teEr: '0',.     
+00026350: 2020 2023 2020 2020 206d 616b 6572 4665     #     makerFe
+00026360: 6552 6174 6545 723a 2027 3027 2c0a 2020  eRateEr: '0',.  
+00026370: 2020 2020 2020 2320 2020 2020 7465 726d        #     term
+00026380: 3a20 2736 272c 0a20 2020 2020 2020 2023  : '6',.        #
+00026390: 2020 2020 206c 6173 7454 6572 6d45 6e64       lastTermEnd
+000263a0: 5469 6d65 4e73 3a20 2731 3630 3737 3131  TimeNs: '1607711
+000263b0: 3838 3235 3035 3734 3533 3536 272c 0a20  882505745356',. 
+000263c0: 2020 2020 2020 2023 2020 2020 206c 6173         #     las
+000263d0: 7446 756e 6469 6e67 5469 6d65 4e73 3a20  tFundingTimeNs: 
+000263e0: 2731 3634 3135 3731 3230 3030 3030 3030  '164157120000000
+000263f0: 3030 3030 272c 0a20 2020 2020 2020 2023  0000',.        #
+00026400: 2020 2020 2063 7572 5465 726d 5265 616c       curTermReal
+00026410: 6973 6564 506e 6c45 763a 2027 2d31 3536  isedPnlEv: '-156
+00026420: 3727 2c0a 2020 2020 2020 2020 2320 2020  7',.        #   
+00026430: 2020 6578 6563 5365 713a 2027 3132 3131    execSeq: '1211
+00026440: 3237 3631 3536 3127 0a20 2020 2020 2020  2761561'.       
+00026450: 2023 2020 207d 0a20 2020 2020 2020 2023   #   }.        #
+00026460: 0a20 2020 2020 2020 206d 6172 6b65 7449  .        marketI
+00026470: 6420 3d20 7365 6c66 2e73 6166 655f 7374  d = self.safe_st
+00026480: 7269 6e67 2870 6f73 6974 696f 6e2c 2027  ring(position, '
+00026490: 7379 6d62 6f6c 2729 0a20 2020 2020 2020  symbol').       
+000264a0: 206d 6172 6b65 7420 3d20 7365 6c66 2e73   market = self.s
+000264b0: 6166 655f 6d61 726b 6574 286d 6172 6b65  afe_market(marke
+000264c0: 7449 642c 206d 6172 6b65 7429 0a20 2020  tId, market).   
+000264d0: 2020 2020 2073 796d 626f 6c20 3d20 6d61       symbol = ma
+000264e0: 726b 6574 5b27 7379 6d62 6f6c 275d 0a20  rket['symbol']. 
+000264f0: 2020 2020 2020 2063 6f6c 6c61 7465 7261         collatera
+00026500: 6c20 3d20 7365 6c66 2e73 6166 655f 7374  l = self.safe_st
+00026510: 7269 6e67 5f32 2870 6f73 6974 696f 6e2c  ring_2(position,
+00026520: 2027 706f 7369 7469 6f6e 4d61 7267 696e   'positionMargin
+00026530: 272c 2027 706f 7369 7469 6f6e 4d61 7267  ', 'positionMarg
+00026540: 696e 5276 2729 0a20 2020 2020 2020 206e  inRv').        n
+00026550: 6f74 696f 6e61 6c53 7472 696e 6720 3d20  otionalString = 
+00026560: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+00026570: 5f32 2870 6f73 6974 696f 6e2c 2027 7661  _2(position, 'va
+00026580: 6c75 6527 2c20 2776 616c 7565 5276 2729  lue', 'valueRv')
+00026590: 0a20 2020 2020 2020 206d 6169 6e74 656e  .        mainten
+000265a0: 616e 6365 4d61 7267 696e 5065 7263 656e  anceMarginPercen
+000265b0: 7461 6765 5374 7269 6e67 203d 2073 656c  tageString = sel
+000265c0: 662e 7361 6665 5f73 7472 696e 675f 3228  f.safe_string_2(
+000265d0: 706f 7369 7469 6f6e 2c20 276d 6169 6e74  position, 'maint
+000265e0: 4d61 7267 696e 5265 7127 2c20 276d 6169  MarginReq', 'mai
+000265f0: 6e74 4d61 7267 696e 5265 7152 7227 290a  ntMarginReqRr').
+00026600: 2020 2020 2020 2020 6d61 696e 7465 6e61          maintena
+00026610: 6e63 654d 6172 6769 6e53 7472 696e 6720  nceMarginString 
+00026620: 3d20 5072 6563 6973 652e 7374 7269 6e67  = Precise.string
+00026630: 5f6d 756c 286e 6f74 696f 6e61 6c53 7472  _mul(notionalStr
+00026640: 696e 672c 206d 6169 6e74 656e 616e 6365  ing, maintenance
+00026650: 4d61 7267 696e 5065 7263 656e 7461 6765  MarginPercentage
+00026660: 5374 7269 6e67 290a 2020 2020 2020 2020  String).        
+00026670: 696e 6974 6961 6c4d 6172 6769 6e53 7472  initialMarginStr
+00026680: 696e 6720 3d20 7365 6c66 2e73 6166 655f  ing = self.safe_
+00026690: 7374 7269 6e67 5f32 2870 6f73 6974 696f  string_2(positio
+000266a0: 6e2c 2027 6173 7369 676e 6564 506f 7342  n, 'assignedPosB
+000266b0: 616c 616e 6365 272c 2027 6173 7369 676e  alance', 'assign
+000266c0: 6564 506f 7342 616c 616e 6365 5276 2729  edPosBalanceRv')
+000266d0: 0a20 2020 2020 2020 2069 6e69 7469 616c  .        initial
+000266e0: 4d61 7267 696e 5065 7263 656e 7461 6765  MarginPercentage
+000266f0: 5374 7269 6e67 203d 2050 7265 6369 7365  String = Precise
+00026700: 2e73 7472 696e 675f 6469 7628 696e 6974  .string_div(init
+00026710: 6961 6c4d 6172 6769 6e53 7472 696e 672c  ialMarginString,
+00026720: 206e 6f74 696f 6e61 6c53 7472 696e 6729   notionalString)
+00026730: 0a20 2020 2020 2020 206c 6971 7569 6461  .        liquida
+00026740: 7469 6f6e 5072 6963 6520 3d20 7365 6c66  tionPrice = self
+00026750: 2e73 6166 655f 6e75 6d62 6572 5f32 2870  .safe_number_2(p
+00026760: 6f73 6974 696f 6e2c 2027 6c69 7175 6964  osition, 'liquid
+00026770: 6174 696f 6e50 7269 6365 272c 2027 6c69  ationPrice', 'li
+00026780: 7175 6964 6174 696f 6e50 7269 6365 5270  quidationPriceRp
+00026790: 2729 0a20 2020 2020 2020 206d 6172 6b50  ').        markP
+000267a0: 7269 6365 5374 7269 6e67 203d 2073 656c  riceString = sel
+000267b0: 662e 7361 6665 5f73 7472 696e 675f 3228  f.safe_string_2(
+000267c0: 706f 7369 7469 6f6e 2c20 276d 6172 6b50  position, 'markP
+000267d0: 7269 6365 272c 2027 6d61 726b 5072 6963  rice', 'markPric
+000267e0: 6552 7027 290a 2020 2020 2020 2020 636f  eRp').        co
+000267f0: 6e74 7261 6374 7320 3d20 7365 6c66 2e73  ntracts = self.s
+00026800: 6166 655f 7374 7269 6e67 2870 6f73 6974  afe_string(posit
+00026810: 696f 6e2c 2027 7369 7a65 2729 0a20 2020  ion, 'size').   
+00026820: 2020 2020 2063 6f6e 7472 6163 7453 697a       contractSiz
+00026830: 6520 3d20 7365 6c66 2e73 6166 655f 7661  e = self.safe_va
+00026840: 6c75 6528 6d61 726b 6574 2c20 2763 6f6e  lue(market, 'con
+00026850: 7472 6163 7453 697a 6527 290a 2020 2020  tractSize').    
+00026860: 2020 2020 636f 6e74 7261 6374 5369 7a65      contractSize
+00026870: 5374 7269 6e67 203d 2073 656c 662e 6e75  String = self.nu
+00026880: 6d62 6572 5f74 6f5f 7374 7269 6e67 2863  mber_to_string(c
+00026890: 6f6e 7472 6163 7453 697a 6529 0a20 2020  ontractSize).   
+000268a0: 2020 2020 206c 6576 6572 6167 6520 3d20       leverage = 
+000268b0: 7365 6c66 2e73 6166 655f 6e75 6d62 6572  self.safe_number
+000268c0: 5f32 2870 6f73 6974 696f 6e2c 2027 6c65  _2(position, 'le
+000268d0: 7665 7261 6765 272c 2027 6c65 7665 7261  verage', 'levera
+000268e0: 6765 5272 2729 0a20 2020 2020 2020 2065  geRr').        e
+000268f0: 6e74 7279 5072 6963 6553 7472 696e 6720  ntryPriceString 
+00026900: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
+00026910: 6e67 5f32 2870 6f73 6974 696f 6e2c 2027  ng_2(position, '
+00026920: 6176 6745 6e74 7279 5072 6963 6527 2c20  avgEntryPrice', 
+00026930: 2761 7667 456e 7472 7950 7269 6365 5270  'avgEntryPriceRp
+00026940: 2729 0a20 2020 2020 2020 2072 6177 5369  ').        rawSi
+00026950: 6465 203d 2073 656c 662e 7361 6665 5f73  de = self.safe_s
+00026960: 7472 696e 6728 706f 7369 7469 6f6e 2c20  tring(position, 
+00026970: 2773 6964 6527 290a 2020 2020 2020 2020  'side').        
+00026980: 7369 6465 203d 204e 6f6e 650a 2020 2020  side = None.    
+00026990: 2020 2020 6966 2072 6177 5369 6465 2069      if rawSide i
+000269a0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+000269b0: 2020 2020 2020 2020 7369 6465 203d 2027          side = '
+000269c0: 6c6f 6e67 2720 6966 2028 7261 7753 6964  long' if (rawSid
+000269d0: 6520 3d3d 2027 4275 7927 2920 656c 7365  e == 'Buy') else
+000269e0: 2027 7368 6f72 7427 0a20 2020 2020 2020   'short'.       
+000269f0: 2070 7269 6365 4469 6666 203d 204e 6f6e   priceDiff = Non
+00026a00: 650a 2020 2020 2020 2020 6375 7272 656e  e.        curren
+00026a10: 6379 203d 2073 656c 662e 7361 6665 5f73  cy = self.safe_s
+00026a20: 7472 696e 6728 706f 7369 7469 6f6e 2c20  tring(position, 
+00026a30: 2763 7572 7265 6e63 7927 290a 2020 2020  'currency').    
+00026a40: 2020 2020 6966 2063 7572 7265 6e63 7920      if currency 
+00026a50: 3d3d 2027 5553 4427 3a0a 2020 2020 2020  == 'USD':.      
+00026a60: 2020 2020 2020 6966 2073 6964 6520 3d3d        if side ==
+00026a70: 2027 6c6f 6e67 273a 0a20 2020 2020 2020   'long':.       
+00026a80: 2020 2020 2020 2020 2070 7269 6365 4469           priceDi
+00026a90: 6666 203d 2050 7265 6369 7365 2e73 7472  ff = Precise.str
+00026aa0: 696e 675f 7375 6228 6d61 726b 5072 6963  ing_sub(markPric
+00026ab0: 6553 7472 696e 672c 2065 6e74 7279 5072  eString, entryPr
+00026ac0: 6963 6553 7472 696e 6729 0a20 2020 2020  iceString).     
+00026ad0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00026ae0: 2020 2020 2020 2020 2020 2020 2070 7269               pri
+00026af0: 6365 4469 6666 203d 2050 7265 6369 7365  ceDiff = Precise
+00026b00: 2e73 7472 696e 675f 7375 6228 656e 7472  .string_sub(entr
+00026b10: 7950 7269 6365 5374 7269 6e67 2c20 6d61  yPriceString, ma
+00026b20: 726b 5072 6963 6553 7472 696e 6729 0a20  rkPriceString). 
+00026b30: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00026b40: 2020 2020 2020 2020 2023 2069 6e76 6572           # inver
+00026b50: 7365 0a20 2020 2020 2020 2020 2020 2069  se.            i
+00026b60: 6620 7369 6465 203d 3d20 276c 6f6e 6727  f side == 'long'
+00026b70: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00026b80: 2020 7072 6963 6544 6966 6620 3d20 5072    priceDiff = Pr
+00026b90: 6563 6973 652e 7374 7269 6e67 5f73 7562  ecise.string_sub
+00026ba0: 2850 7265 6369 7365 2e73 7472 696e 675f  (Precise.string_
+00026bb0: 6469 7628 2731 272c 2065 6e74 7279 5072  div('1', entryPr
+00026bc0: 6963 6553 7472 696e 6729 2c20 5072 6563  iceString), Prec
+00026bd0: 6973 652e 7374 7269 6e67 5f64 6976 2827  ise.string_div('
+00026be0: 3127 2c20 6d61 726b 5072 6963 6553 7472  1', markPriceStr
+00026bf0: 696e 6729 290a 2020 2020 2020 2020 2020  ing)).          
+00026c00: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00026c10: 2020 2020 2020 2020 7072 6963 6544 6966          priceDif
+00026c20: 6620 3d20 5072 6563 6973 652e 7374 7269  f = Precise.stri
+00026c30: 6e67 5f73 7562 2850 7265 6369 7365 2e73  ng_sub(Precise.s
+00026c40: 7472 696e 675f 6469 7628 2731 272c 206d  tring_div('1', m
+00026c50: 6172 6b50 7269 6365 5374 7269 6e67 292c  arkPriceString),
+00026c60: 2050 7265 6369 7365 2e73 7472 696e 675f   Precise.string_
+00026c70: 6469 7628 2731 272c 2065 6e74 7279 5072  div('1', entryPr
+00026c80: 6963 6553 7472 696e 6729 290a 2020 2020  iceString)).    
+00026c90: 2020 2020 756e 7265 616c 697a 6564 506e      unrealizedPn
+00026ca0: 6c20 3d20 5072 6563 6973 652e 7374 7269  l = Precise.stri
+00026cb0: 6e67 5f6d 756c 2850 7265 6369 7365 2e73  ng_mul(Precise.s
+00026cc0: 7472 696e 675f 6d75 6c28 7072 6963 6544  tring_mul(priceD
+00026cd0: 6966 662c 2063 6f6e 7472 6163 7473 292c  iff, contracts),
+00026ce0: 2063 6f6e 7472 6163 7453 697a 6553 7472   contractSizeStr
+00026cf0: 696e 6729 0a20 2020 2020 2020 206d 6172  ing).        mar
+00026d00: 6769 6e52 6174 696f 203d 2050 7265 6369  ginRatio = Preci
+00026d10: 7365 2e73 7472 696e 675f 6469 7628 6d61  se.string_div(ma
+00026d20: 696e 7465 6e61 6e63 654d 6172 6769 6e53  intenanceMarginS
+00026d30: 7472 696e 672c 2063 6f6c 6c61 7465 7261  tring, collatera
+00026d40: 6c29 0a20 2020 2020 2020 2072 6574 7572  l).        retur
+00026d50: 6e20 7365 6c66 2e73 6166 655f 706f 7369  n self.safe_posi
+00026d60: 7469 6f6e 287b 0a20 2020 2020 2020 2020  tion({.         
+00026d70: 2020 2027 696e 666f 273a 2070 6f73 6974     'info': posit
+00026d80: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+00026d90: 2027 6964 273a 204e 6f6e 652c 0a20 2020   'id': None,.   
+00026da0: 2020 2020 2020 2020 2027 7379 6d62 6f6c           'symbol
+00026db0: 273a 2073 796d 626f 6c2c 0a20 2020 2020  ': symbol,.     
+00026dc0: 2020 2020 2020 2027 636f 6e74 7261 6374         'contract
+00026dd0: 7327 3a20 7365 6c66 2e70 6172 7365 5f6e  s': self.parse_n
+00026de0: 756d 6265 7228 636f 6e74 7261 6374 7329  umber(contracts)
+00026df0: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
+00026e00: 6f6e 7472 6163 7453 697a 6527 3a20 636f  ontractSize': co
+00026e10: 6e74 7261 6374 5369 7a65 2c0a 2020 2020  ntractSize,.    
+00026e20: 2020 2020 2020 2020 2775 6e72 6561 6c69          'unreali
+00026e30: 7a65 6450 6e6c 273a 2073 656c 662e 7061  zedPnl': self.pa
+00026e40: 7273 655f 6e75 6d62 6572 2875 6e72 6561  rse_number(unrea
+00026e50: 6c69 7a65 6450 6e6c 292c 0a20 2020 2020  lizedPnl),.     
+00026e60: 2020 2020 2020 2027 6c65 7665 7261 6765         'leverage
+00026e70: 273a 206c 6576 6572 6167 652c 0a20 2020  ': leverage,.   
+00026e80: 2020 2020 2020 2020 2027 6c69 7175 6964           'liquid
+00026e90: 6174 696f 6e50 7269 6365 273a 206c 6971  ationPrice': liq
+00026ea0: 7569 6461 7469 6f6e 5072 6963 652c 0a20  uidationPrice,. 
+00026eb0: 2020 2020 2020 2020 2020 2027 636f 6c6c             'coll
+00026ec0: 6174 6572 616c 273a 2073 656c 662e 7061  ateral': self.pa
+00026ed0: 7273 655f 6e75 6d62 6572 2863 6f6c 6c61  rse_number(colla
+00026ee0: 7465 7261 6c29 2c0a 2020 2020 2020 2020  teral),.        
+00026ef0: 2020 2020 276e 6f74 696f 6e61 6c27 3a20      'notional': 
+00026f00: 7365 6c66 2e70 6172 7365 5f6e 756d 6265  self.parse_numbe
+00026f10: 7228 6e6f 7469 6f6e 616c 5374 7269 6e67  r(notionalString
+00026f20: 292c 0a20 2020 2020 2020 2020 2020 2027  ),.            '
+00026f30: 6d61 726b 5072 6963 6527 3a20 7365 6c66  markPrice': self
+00026f40: 2e70 6172 7365 5f6e 756d 6265 7228 6d61  .parse_number(ma
+00026f50: 726b 5072 6963 6553 7472 696e 6729 2c20  rkPriceString), 
+00026f60: 2023 206d 6172 6b50 7269 6365 206c 6167   # markPrice lag
+00026f70: 7320 6120 6269 7420 c2af 5c5f 28e3 8384  s a bit ..\_(...
+00026f80: 295f 2fc2 af0a 2020 2020 2020 2020 2020  )_/...          
+00026f90: 2020 276c 6173 7450 7269 6365 273a 204e    'lastPrice': N
+00026fa0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00026fb0: 2027 656e 7472 7950 7269 6365 273a 2073   'entryPrice': s
+00026fc0: 656c 662e 7061 7273 655f 6e75 6d62 6572  elf.parse_number
+00026fd0: 2865 6e74 7279 5072 6963 6553 7472 696e  (entryPriceStrin
+00026fe0: 6729 2c0a 2020 2020 2020 2020 2020 2020  g),.            
+00026ff0: 2774 696d 6573 7461 6d70 273a 204e 6f6e  'timestamp': Non
+00027000: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00027010: 6c61 7374 5570 6461 7465 5469 6d65 7374  lastUpdateTimest
+00027020: 616d 7027 3a20 4e6f 6e65 2c0a 2020 2020  amp': None,.    
+00027030: 2020 2020 2020 2020 2769 6e69 7469 616c          'initial
+00027040: 4d61 7267 696e 273a 2073 656c 662e 7061  Margin': self.pa
+00027050: 7273 655f 6e75 6d62 6572 2869 6e69 7469  rse_number(initi
+00027060: 616c 4d61 7267 696e 5374 7269 6e67 292c  alMarginString),
+00027070: 0a20 2020 2020 2020 2020 2020 2027 696e  .            'in
+00027080: 6974 6961 6c4d 6172 6769 6e50 6572 6365  itialMarginPerce
+00027090: 6e74 6167 6527 3a20 7365 6c66 2e70 6172  ntage': self.par
+000270a0: 7365 5f6e 756d 6265 7228 696e 6974 6961  se_number(initia
+000270b0: 6c4d 6172 6769 6e50 6572 6365 6e74 6167  lMarginPercentag
+000270c0: 6553 7472 696e 6729 2c0a 2020 2020 2020  eString),.      
+000270d0: 2020 2020 2020 276d 6169 6e74 656e 616e        'maintenan
+000270e0: 6365 4d61 7267 696e 273a 2073 656c 662e  ceMargin': self.
+000270f0: 7061 7273 655f 6e75 6d62 6572 286d 6169  parse_number(mai
+00027100: 6e74 656e 616e 6365 4d61 7267 696e 5374  ntenanceMarginSt
+00027110: 7269 6e67 292c 0a20 2020 2020 2020 2020  ring),.         
+00027120: 2020 2027 6d61 696e 7465 6e61 6e63 654d     'maintenanceM
+00027130: 6172 6769 6e50 6572 6365 6e74 6167 6527  arginPercentage'
+00027140: 3a20 7365 6c66 2e70 6172 7365 5f6e 756d  : self.parse_num
+00027150: 6265 7228 6d61 696e 7465 6e61 6e63 654d  ber(maintenanceM
+00027160: 6172 6769 6e50 6572 6365 6e74 6167 6553  arginPercentageS
+00027170: 7472 696e 6729 2c0a 2020 2020 2020 2020  tring),.        
+00027180: 2020 2020 276d 6172 6769 6e52 6174 696f      'marginRatio
+00027190: 273a 2073 656c 662e 7061 7273 655f 6e75  ': self.parse_nu
+000271a0: 6d62 6572 286d 6172 6769 6e52 6174 696f  mber(marginRatio
+000271b0: 292c 0a20 2020 2020 2020 2020 2020 2027  ),.            '
+000271c0: 6461 7465 7469 6d65 273a 204e 6f6e 652c  datetime': None,
+000271d0: 0a20 2020 2020 2020 2020 2020 2027 6d61  .            'ma
+000271e0: 7267 696e 4d6f 6465 273a 204e 6f6e 652c  rginMode': None,
+000271f0: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
+00027200: 6465 273a 2073 6964 652c 0a20 2020 2020  de': side,.     
+00027210: 2020 2020 2020 2027 6865 6467 6564 273a         'hedged':
+00027220: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+00027230: 2020 2020 2770 6572 6365 6e74 6167 6527      'percentage'
+00027240: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
+00027250: 7d29 0a0a 2020 2020 6173 796e 6320 6465  })..    async de
+00027260: 6620 6665 7463 685f 6675 6e64 696e 675f  f fetch_funding_
+00027270: 6869 7374 6f72 7928 7365 6c66 2c20 7379  history(self, sy
+00027280: 6d62 6f6c 3a20 4f70 7469 6f6e 616c 5b73  mbol: Optional[s
+00027290: 7472 5d20 3d20 4e6f 6e65 2c20 7369 6e63  tr] = None, sinc
+000272a0: 653a 204f 7074 696f 6e61 6c5b 696e 745d  e: Optional[int]
+000272b0: 203d 204e 6f6e 652c 206c 696d 6974 3a20   = None, limit: 
+000272c0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
+000272d0: 4e6f 6e65 2c20 7061 7261 6d73 3d7b 7d29  None, params={})
+000272e0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+000272f0: 2020 2020 2020 6665 7463 6820 7468 6520        fetch the 
+00027300: 6869 7374 6f72 7920 6f66 2066 756e 6469  history of fundi
+00027310: 6e67 2070 6179 6d65 6e74 7320 7061 6964  ng payments paid
+00027320: 2061 6e64 2072 6563 6569 7665 6420 6f6e   and received on
+00027330: 2073 656c 6620 6163 636f 756e 740a 2020   self account.  
+00027340: 2020 2020 2020 7365 6520 6874 7470 733a        see https:
+00027350: 2f2f 6769 7468 7562 2e63 6f6d 2f70 6865  //github.com/phe
+00027360: 6d65 782f 7068 656d 6578 2d61 7069 2d64  mex/phemex-api-d
+00027370: 6f63 732f 626c 6f62 2f6d 6173 7465 722f  ocs/blob/master/
+00027380: 5075 626c 6963 2d48 6564 6765 642d 5065  Public-Hedged-Pe
+00027390: 7270 6574 7561 6c2d 4150 492e 6d64 2366  rpetual-API.md#f
+000273a0: 7574 7572 6544 6174 6146 756e 6469 6e67  utureDataFunding
+000273b0: 4665 6573 4869 7374 0a20 2020 2020 2020  FeesHist.       
+000273c0: 203a 7061 7261 6d20 7374 7220 7379 6d62   :param str symb
+000273d0: 6f6c 3a20 756e 6966 6965 6420 6d61 726b  ol: unified mark
+000273e0: 6574 2073 796d 626f 6c0a 2020 2020 2020  et symbol.      
+000273f0: 2020 3a70 6172 616d 2069 6e74 7c4e 6f6e    :param int|Non
+00027400: 6520 7369 6e63 653a 2074 6865 2065 6172  e since: the ear
+00027410: 6c69 6573 7420 7469 6d65 2069 6e20 6d73  liest time in ms
+00027420: 2074 6f20 6665 7463 6820 6675 6e64 696e   to fetch fundin
+00027430: 6720 6869 7374 6f72 7920 666f 720a 2020  g history for.  
+00027440: 2020 2020 2020 3a70 6172 616d 2069 6e74        :param int
+00027450: 7c4e 6f6e 6520 6c69 6d69 743a 2074 6865  |None limit: the
+00027460: 206d 6178 696d 756d 206e 756d 6265 7220   maximum number 
+00027470: 6f66 2066 756e 6469 6e67 2068 6973 746f  of funding histo
+00027480: 7279 2073 7472 7563 7475 7265 7320 746f  ry structures to
+00027490: 2072 6574 7269 6576 650a 2020 2020 2020   retrieve.      
+000274a0: 2020 3a70 6172 616d 2064 6963 7420 7061    :param dict pa
+000274b0: 7261 6d73 3a20 6578 7472 6120 7061 7261  rams: extra para
+000274c0: 6d65 7465 7273 2073 7065 6369 6669 6320  meters specific 
+000274d0: 746f 2074 6865 2070 6865 6d65 7820 6170  to the phemex ap
+000274e0: 6920 656e 6470 6f69 6e74 0a20 2020 2020  i endpoint.     
+000274f0: 2020 203a 7265 7475 726e 7320 6469 6374     :returns dict
+00027500: 3a20 6120 6066 756e 6469 6e67 2068 6973  : a `funding his
+00027510: 746f 7279 2073 7472 7563 7475 7265 203c  tory structure <
+00027520: 6874 7470 733a 2f2f 646f 6373 2e63 6378  https://docs.ccx
+00027530: 742e 636f 6d2f 232f 3f69 643d 6675 6e64  t.com/#/?id=fund
+00027540: 696e 672d 6869 7374 6f72 792d 7374 7275  ing-history-stru
+00027550: 6374 7572 653e 600a 2020 2020 2020 2020  cture>`.        
+00027560: 2222 220a 2020 2020 2020 2020 6177 6169  """.        awai
+00027570: 7420 7365 6c66 2e6c 6f61 645f 6d61 726b  t self.load_mark
+00027580: 6574 7328 290a 2020 2020 2020 2020 6966  ets().        if
+00027590: 2073 796d 626f 6c20 6973 204e 6f6e 653a   symbol is None:
+000275a0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+000275b0: 7365 2041 7267 756d 656e 7473 5265 7175  se ArgumentsRequ
+000275c0: 6972 6564 2873 656c 662e 6964 202b 2027  ired(self.id + '
+000275d0: 2066 6574 6368 4675 6e64 696e 6748 6973   fetchFundingHis
+000275e0: 746f 7279 2829 2072 6571 7569 7265 7320  tory() requires 
+000275f0: 6120 7379 6d62 6f6c 2061 7267 756d 656e  a symbol argumen
+00027600: 7427 290a 2020 2020 2020 2020 6d61 726b  t').        mark
+00027610: 6574 203d 2073 656c 662e 6d61 726b 6574  et = self.market
+00027620: 2873 796d 626f 6c29 0a20 2020 2020 2020  (symbol).       
+00027630: 2072 6571 7565 7374 203d 207b 0a20 2020   request = {.   
+00027640: 2020 2020 2020 2020 2027 7379 6d62 6f6c           'symbol
+00027650: 273a 206d 6172 6b65 745b 2769 6427 5d2c  ': market['id'],
+00027660: 0a20 2020 2020 2020 2020 2020 2023 2027  .            # '
+00027670: 6c69 6d69 7427 3a20 3230 2c20 2023 2050  limit': 20,  # P
+00027680: 6167 6520 7369 7a65 2064 6566 6175 6c74  age size default
+00027690: 2032 302c 206d 6178 2032 3030 0a20 2020   20, max 200.   
+000276a0: 2020 2020 2020 2020 2023 2027 6f66 6673           # 'offs
+000276b0: 6574 273a 2030 2c20 2023 2050 6167 6520  et': 0,  # Page 
+000276c0: 7374 6172 7420 6465 6661 756c 7420 300a  start default 0.
+000276d0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+000276e0: 2020 6966 206c 696d 6974 203e 2032 3030    if limit > 200
+000276f0: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+00027700: 6973 6520 4261 6452 6571 7565 7374 2873  ise BadRequest(s
+00027710: 656c 662e 6964 202b 2027 2066 6574 6368  elf.id + ' fetch
+00027720: 4675 6e64 696e 6748 6973 746f 7279 2829  FundingHistory()
+00027730: 206c 696d 6974 2061 7267 756d 656e 7420   limit argument 
+00027740: 6361 6e6e 6f74 2065 7863 6565 6420 3230  cannot exceed 20
+00027750: 3027 290a 2020 2020 2020 2020 6966 206c  0').        if l
+00027760: 696d 6974 2069 7320 6e6f 7420 4e6f 6e65  imit is not None
+00027770: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00027780: 7175 6573 745b 276c 696d 6974 275d 203d  quest['limit'] =
+00027790: 206c 696d 6974 0a20 2020 2020 2020 206d   limit.        m
+000277a0: 6574 686f 6420 3d20 2770 7269 7661 7465  ethod = 'private
+000277b0: 4765 7441 7069 4461 7461 4675 7475 7265  GetApiDataFuture
+000277c0: 7346 756e 6469 6e67 4665 6573 270a 2020  sFundingFees'.  
+000277d0: 2020 2020 2020 6966 206d 6172 6b65 745b        if market[
+000277e0: 2773 6574 746c 6527 5d20 3d3d 2027 5553  'settle'] == 'US
+000277f0: 4454 273a 0a20 2020 2020 2020 2020 2020  DT':.           
+00027800: 206d 6574 686f 6420 3d20 2770 7269 7661   method = 'priva
+00027810: 7465 4765 7441 7069 4461 7461 4746 7574  teGetApiDataGFut
+00027820: 7572 6573 4675 6e64 696e 6746 6565 7327  uresFundingFees'
+00027830: 0a20 2020 2020 2020 2072 6573 706f 6e73  .        respons
+00027840: 6520 3d20 6177 6169 7420 6765 7461 7474  e = await getatt
+00027850: 7228 7365 6c66 2c20 6d65 7468 6f64 2928  r(self, method)(
+00027860: 7365 6c66 2e65 7874 656e 6428 7265 7175  self.extend(requ
+00027870: 6573 742c 2070 6172 616d 7329 290a 2020  est, params)).  
+00027880: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
+00027890: 2320 2020 2020 7b0a 2020 2020 2020 2020  #     {.        
+000278a0: 2320 2020 2020 2020 2020 2263 6f64 6522  #         "code"
+000278b0: 3a20 302c 0a20 2020 2020 2020 2023 2020  : 0,.        #  
+000278c0: 2020 2020 2020 2022 6d73 6722 3a20 224f         "msg": "O
+000278d0: 4b22 2c0a 2020 2020 2020 2020 2320 2020  K",.        #   
+000278e0: 2020 2020 2020 2264 6174 6122 3a20 7b0a        "data": {.
+000278f0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00027900: 2020 2020 2020 2272 6f77 7322 3a20 5b0a        "rows": [.
+00027910: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00027920: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00027930: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00027940: 2020 2020 2020 2020 2020 2273 796d 626f            "symbo
+00027950: 6c22 3a20 2242 5443 5553 4422 2c0a 2020  l": "BTCUSD",.  
+00027960: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00027970: 2020 2020 2020 2020 2020 2020 2263 7572              "cur
+00027980: 7265 6e63 7922 3a20 2242 5443 222c 0a20  rency": "BTC",. 
+00027990: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+000279a0: 2020 2020 2020 2020 2020 2020 2022 6578               "ex
+000279b0: 6563 5174 7922 3a20 3138 2c0a 2020 2020  ecQty": 18,.    
+000279c0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+000279d0: 2020 2020 2020 2020 2020 2273 6964 6522            "side"
+000279e0: 3a20 2242 7579 222c 0a20 2020 2020 2020  : "Buy",.       
+000279f0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00027a00: 2020 2020 2020 2022 6578 6563 5072 6963         "execPric
+00027a10: 6545 7022 3a20 3336 3030 3836 3435 352c  eEp": 360086455,
+00027a20: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00027a30: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00027a40: 6578 6563 5661 6c75 6545 7622 3a20 3439  execValueEv": 49
+00027a50: 3938 372c 0a20 2020 2020 2020 2023 2020  987,.        #  
+00027a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027a70: 2020 2022 6675 6e64 696e 6752 6174 6545     "fundingRateE
+00027a80: 7222 3a20 3130 3030 302c 0a20 2020 2020  r": 10000,.     
+00027a90: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00027aa0: 2020 2020 2020 2020 2022 6665 6552 6174           "feeRat
+00027ab0: 6545 7222 3a20 3130 3030 302c 0a20 2020  eEr": 10000,.   
+00027ac0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00027ad0: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
+00027ae0: 4665 6545 7622 3a20 352c 0a20 2020 2020  FeeEv": 5,.     
+00027af0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00027b00: 2020 2020 2020 2020 2022 6372 6561 7465           "create
+00027b10: 5469 6d65 223a 2031 3635 3138 3831 3630  Time": 165188160
+00027b20: 3030 3030 0a20 2020 2020 2020 2023 2020  0000.        #  
+00027b30: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+00027b40: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00027b50: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
+00027b60: 2023 2020 2020 2020 2020 207d 0a20 2020   #         }.   
+00027b70: 2020 2020 2023 2020 2020 207d 0a20 2020       #     }.   
+00027b80: 2020 2020 2023 0a20 2020 2020 2020 2064       #.        d
+00027b90: 6174 6120 3d20 7365 6c66 2e73 6166 655f  ata = self.safe_
+00027ba0: 7661 6c75 6528 7265 7370 6f6e 7365 2c20  value(response, 
+00027bb0: 2764 6174 6127 2c20 7b7d 290a 2020 2020  'data', {}).    
+00027bc0: 2020 2020 726f 7773 203d 2073 656c 662e      rows = self.
+00027bd0: 7361 6665 5f76 616c 7565 2864 6174 612c  safe_value(data,
+00027be0: 2027 726f 7773 272c 205b 5d29 0a20 2020   'rows', []).   
+00027bf0: 2020 2020 2072 6573 756c 7420 3d20 5b5d       result = []
+00027c00: 0a20 2020 2020 2020 2066 6f72 2069 2069  .        for i i
+00027c10: 6e20 7261 6e67 6528 302c 206c 656e 2872  n range(0, len(r
+00027c20: 6f77 7329 293a 0a20 2020 2020 2020 2020  ows)):.         
+00027c30: 2020 2065 6e74 7279 203d 2072 6f77 735b     entry = rows[
+00027c40: 695d 0a20 2020 2020 2020 2020 2020 2074  i].            t
+00027c50: 696d 6573 7461 6d70 203d 2073 656c 662e  imestamp = self.
+00027c60: 7361 6665 5f69 6e74 6567 6572 2865 6e74  safe_integer(ent
+00027c70: 7279 2c20 2763 7265 6174 6554 696d 6527  ry, 'createTime'
+00027c80: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+00027c90: 7375 6c74 2e61 7070 656e 6428 7b0a 2020  sult.append({.  
+00027ca0: 2020 2020 2020 2020 2020 2020 2020 2769                'i
+00027cb0: 6e66 6f27 3a20 656e 7472 792c 0a20 2020  nfo': entry,.   
+00027cc0: 2020 2020 2020 2020 2020 2020 2027 7379               'sy
+00027cd0: 6d62 6f6c 273a 2073 656c 662e 7361 6665  mbol': self.safe
+00027ce0: 5f73 7472 696e 6728 656e 7472 792c 2027  _string(entry, '
+00027cf0: 7379 6d62 6f6c 2729 2c0a 2020 2020 2020  symbol'),.      
+00027d00: 2020 2020 2020 2020 2020 2763 6f64 6527            'code'
+00027d10: 3a20 7365 6c66 2e73 6166 655f 6375 7272  : self.safe_curr
+00027d20: 656e 6379 5f63 6f64 6528 7365 6c66 2e73  ency_code(self.s
+00027d30: 6166 655f 7374 7269 6e67 2865 6e74 7279  afe_string(entry
+00027d40: 2c20 2763 7572 7265 6e63 7927 2929 2c0a  , 'currency')),.
+00027d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027d60: 2774 696d 6573 7461 6d70 273a 2074 696d  'timestamp': tim
+00027d70: 6573 7461 6d70 2c0a 2020 2020 2020 2020  estamp,.        
+00027d80: 2020 2020 2020 2020 2764 6174 6574 696d          'datetim
+00027d90: 6527 3a20 7365 6c66 2e69 736f 3836 3031  e': self.iso8601
+00027da0: 2874 696d 6573 7461 6d70 292c 0a20 2020  (timestamp),.   
+00027db0: 2020 2020 2020 2020 2020 2020 2027 6964               'id
+00027dc0: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00027dd0: 2020 2020 2020 2020 2027 616d 6f75 6e74           'amount
+00027de0: 273a 2073 656c 662e 6672 6f6d 5f65 7628  ': self.from_ev(
+00027df0: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+00027e00: 2865 6e74 7279 2c20 2765 7865 6346 6565  (entry, 'execFee
+00027e10: 4576 2729 2c20 6d61 726b 6574 292c 0a20  Ev'), market),. 
+00027e20: 2020 2020 2020 2020 2020 207d 290a 2020             }).  
+00027e30: 2020 2020 2020 7265 7475 726e 2072 6573        return res
+00027e40: 756c 740a 0a20 2020 2061 7379 6e63 2064  ult..    async d
+00027e50: 6566 2066 6574 6368 5f66 756e 6469 6e67  ef fetch_funding
+00027e60: 5f72 6174 6528 7365 6c66 2c20 7379 6d62  _rate(self, symb
+00027e70: 6f6c 3a20 7374 722c 2070 6172 616d 733d  ol: str, params=
+00027e80: 7b7d 293a 0a20 2020 2020 2020 2022 2222  {}):.        """
+00027e90: 0a20 2020 2020 2020 2066 6574 6368 2074  .        fetch t
+00027ea0: 6865 2063 7572 7265 6e74 2066 756e 6469  he current fundi
+00027eb0: 6e67 2072 6174 650a 2020 2020 2020 2020  ng rate.        
+00027ec0: 3a70 6172 616d 2073 7472 2073 796d 626f  :param str symbo
+00027ed0: 6c3a 2075 6e69 6669 6564 206d 6172 6b65  l: unified marke
+00027ee0: 7420 7379 6d62 6f6c 0a20 2020 2020 2020  t symbol.       
+00027ef0: 203a 7061 7261 6d20 6469 6374 2070 6172   :param dict par
+00027f00: 616d 733a 2065 7874 7261 2070 6172 616d  ams: extra param
+00027f10: 6574 6572 7320 7370 6563 6966 6963 2074  eters specific t
+00027f20: 6f20 7468 6520 7068 656d 6578 2061 7069  o the phemex api
+00027f30: 2065 6e64 706f 696e 740a 2020 2020 2020   endpoint.      
+00027f40: 2020 3a72 6574 7572 6e73 2064 6963 743a    :returns dict:
+00027f50: 2061 2060 6675 6e64 696e 6720 7261 7465   a `funding rate
+00027f60: 2073 7472 7563 7475 7265 203c 6874 7470   structure <http
+00027f70: 733a 2f2f 646f 6373 2e63 6378 742e 636f  s://docs.ccxt.co
+00027f80: 6d2f 232f 3f69 643d 6675 6e64 696e 672d  m/#/?id=funding-
+00027f90: 7261 7465 2d73 7472 7563 7475 7265 3e60  rate-structure>`
+00027fa0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00027fb0: 2020 2020 2061 7761 6974 2073 656c 662e       await self.
+00027fc0: 6c6f 6164 5f6d 6172 6b65 7473 2829 0a20  load_markets(). 
+00027fd0: 2020 2020 2020 206d 6172 6b65 7420 3d20         market = 
+00027fe0: 7365 6c66 2e6d 6172 6b65 7428 7379 6d62  self.market(symb
+00027ff0: 6f6c 290a 2020 2020 2020 2020 6966 206e  ol).        if n
+00028000: 6f74 206d 6172 6b65 745b 2773 7761 7027  ot market['swap'
+00028010: 5d3a 0a20 2020 2020 2020 2020 2020 2072  ]:.            r
+00028020: 6169 7365 2042 6164 5379 6d62 6f6c 2873  aise BadSymbol(s
+00028030: 656c 662e 6964 202b 2027 2066 6574 6368  elf.id + ' fetch
+00028040: 4675 6e64 696e 6752 6174 6528 2920 7375  FundingRate() su
+00028050: 7070 6f72 7473 2073 7761 7020 636f 6e74  pports swap cont
+00028060: 7261 6374 7320 6f6e 6c79 2729 0a20 2020  racts only').   
+00028070: 2020 2020 2072 6571 7565 7374 203d 207b       request = {
+00028080: 0a20 2020 2020 2020 2020 2020 2027 7379  .            'sy
+00028090: 6d62 6f6c 273a 206d 6172 6b65 745b 2769  mbol': market['i
+000280a0: 6427 5d2c 0a20 2020 2020 2020 207d 0a20  d'],.        }. 
+000280b0: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
+000280c0: 3d20 7b7d 0a20 2020 2020 2020 2069 6620  = {}.        if 
+000280d0: 6e6f 7420 6d61 726b 6574 5b27 6c69 6e65  not market['line
+000280e0: 6172 275d 3a0a 2020 2020 2020 2020 2020  ar']:.          
+000280f0: 2020 7265 7370 6f6e 7365 203d 2061 7761    response = awa
+00028100: 6974 2073 656c 662e 7631 4765 744d 6454  it self.v1GetMdT
+00028110: 6963 6b65 7232 3468 7228 7365 6c66 2e65  icker24hr(self.e
+00028120: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
+00028130: 6172 616d 7329 290a 2020 2020 2020 2020  arams)).        
+00028140: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00028150: 2020 7265 7370 6f6e 7365 203d 2061 7761    response = awa
+00028160: 6974 2073 656c 662e 7632 4765 744d 6456  it self.v2GetMdV
+00028170: 3254 6963 6b65 7232 3468 7228 7365 6c66  2Ticker24hr(self
+00028180: 2e65 7874 656e 6428 7265 7175 6573 742c  .extend(request,
+00028190: 2070 6172 616d 7329 290a 2020 2020 2020   params)).      
+000281a0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
+000281b0: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
+000281c0: 2020 2020 2020 2265 7272 6f72 223a 206e        "error": n
+000281d0: 756c 6c2c 0a20 2020 2020 2020 2023 2020  ull,.        #  
+000281e0: 2020 2020 2020 2022 6964 223a 2030 2c0a         "id": 0,.
+000281f0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00028200: 2020 2272 6573 756c 7422 3a20 7b0a 2020    "result": {.  
+00028210: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00028220: 2020 2020 2261 736b 4570 223a 2032 3333      "askEp": 233
+00028230: 3235 3030 2c0a 2020 2020 2020 2020 2320  2500,.        # 
+00028240: 2020 2020 2020 2020 2020 2020 2262 6964              "bid
+00028250: 4570 223a 2032 3333 3130 3030 2c0a 2020  Ep": 2331000,.  
+00028260: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00028270: 2020 2020 2266 756e 6469 6e67 5261 7465      "fundingRate
+00028280: 4572 223a 2031 3030 3030 2c0a 2020 2020  Er": 10000,.    
+00028290: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+000282a0: 2020 2268 6967 6845 7022 3a20 3233 3830    "highEp": 2380
+000282b0: 3030 302c 0a20 2020 2020 2020 2023 2020  000,.        #  
+000282c0: 2020 2020 2020 2020 2020 2022 696e 6465             "inde
+000282d0: 7845 7022 3a20 3233 3239 3035 372c 0a20  xEp": 2329057,. 
+000282e0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+000282f0: 2020 2020 2022 6c61 7374 4570 223a 2032       "lastEp": 2
+00028300: 3333 3135 3030 2c0a 2020 2020 2020 2020  331500,.        
+00028310: 2320 2020 2020 2020 2020 2020 2020 226c  #             "l
+00028320: 6f77 4570 223a 2032 3237 3430 3030 2c0a  owEp": 2274000,.
+00028330: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00028340: 2020 2020 2020 226d 6172 6b45 7022 3a20        "markEp": 
+00028350: 3233 3239 3233 322c 0a20 2020 2020 2020  2329232,.       
+00028360: 2023 2020 2020 2020 2020 2020 2020 2022   #             "
+00028370: 6f70 656e 4570 223a 2032 3333 3735 3030  openEp": 2337500
+00028380: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00028390: 2020 2020 2020 2020 226f 7065 6e49 6e74          "openInt
+000283a0: 6572 6573 7422 3a20 3132 3938 3035 302c  erest": 1298050,
+000283b0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000283c0: 2020 2020 2020 2022 7072 6564 4675 6e64         "predFund
+000283d0: 696e 6752 6174 6545 7222 3a20 3139 3932  ingRateEr": 1992
+000283e0: 312c 0a20 2020 2020 2020 2023 2020 2020  1,.        #    
+000283f0: 2020 2020 2020 2020 2022 7379 6d62 6f6c           "symbol
+00028400: 223a 2022 4554 4855 5344 222c 0a20 2020  ": "ETHUSD",.   
+00028410: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00028420: 2020 2022 7469 6d65 7374 616d 7022 3a20     "timestamp": 
+00028430: 3135 3932 3437 3432 3431 3538 3237 3031  1592474241582701
+00028440: 3431 362c 0a20 2020 2020 2020 2023 2020  416,.        #  
+00028450: 2020 2020 2020 2020 2020 2022 7475 726e             "turn
+00028460: 6f76 6572 4576 223a 2034 3732 3238 3336  overEv": 4722836
+00028470: 3233 3330 2c0a 2020 2020 2020 2020 2320  2330,.        # 
+00028480: 2020 2020 2020 2020 2020 2020 2276 6f6c              "vol
+00028490: 756d 6522 3a20 3430 3533 3836 330a 2020  ume": 4053863.  
+000284a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000284b0: 7d0a 2020 2020 2020 2020 2320 2020 2020  }.        #     
+000284c0: 7d0a 2020 2020 2020 2020 230a 2020 2020  }.        #.    
+000284d0: 2020 2020 7265 7375 6c74 203d 2073 656c      result = sel
+000284e0: 662e 7361 6665 5f76 616c 7565 2872 6573  f.safe_value(res
+000284f0: 706f 6e73 652c 2027 7265 7375 6c74 272c  ponse, 'result',
+00028500: 207b 7d29 0a20 2020 2020 2020 2072 6574   {}).        ret
+00028510: 7572 6e20 7365 6c66 2e70 6172 7365 5f66  urn self.parse_f
+00028520: 756e 6469 6e67 5f72 6174 6528 7265 7375  unding_rate(resu
+00028530: 6c74 2c20 6d61 726b 6574 290a 0a20 2020  lt, market)..   
+00028540: 2064 6566 2070 6172 7365 5f66 756e 6469   def parse_fundi
+00028550: 6e67 5f72 6174 6528 7365 6c66 2c20 636f  ng_rate(self, co
+00028560: 6e74 7261 6374 2c20 6d61 726b 6574 3d4e  ntract, market=N
+00028570: 6f6e 6529 3a0a 2020 2020 2020 2020 230a  one):.        #.
+00028580: 2020 2020 2020 2020 2320 2020 2020 7b0a          #     {.
+00028590: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000285a0: 2020 2261 736b 4570 223a 2032 3333 3235    "askEp": 23325
+000285b0: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+000285c0: 2020 2020 2020 2262 6964 4570 223a 2032        "bidEp": 2
+000285d0: 3333 3130 3030 2c0a 2020 2020 2020 2020  331000,.        
+000285e0: 2320 2020 2020 2020 2020 2266 756e 6469  #         "fundi
+000285f0: 6e67 5261 7465 4572 223a 2031 3030 3030  ngRateEr": 10000
+00028600: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00028610: 2020 2020 2268 6967 6845 7022 3a20 3233      "highEp": 23
+00028620: 3830 3030 302c 0a20 2020 2020 2020 2023  80000,.        #
+00028630: 2020 2020 2020 2020 2022 696e 6465 7845           "indexE
+00028640: 7022 3a20 3233 3239 3035 372c 0a20 2020  p": 2329057,.   
+00028650: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+00028660: 6c61 7374 4570 223a 2032 3333 3135 3030  lastEp": 2331500
+00028670: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00028680: 2020 2020 226c 6f77 4570 223a 2032 3237      "lowEp": 227
+00028690: 3430 3030 2c0a 2020 2020 2020 2020 2320  4000,.        # 
+000286a0: 2020 2020 2020 2020 226d 6172 6b45 7022          "markEp"
+000286b0: 3a20 3233 3239 3233 322c 0a20 2020 2020  : 2329232,.     
+000286c0: 2020 2023 2020 2020 2020 2020 2022 6f70     #         "op
+000286d0: 656e 4570 223a 2032 3333 3735 3030 2c0a  enEp": 2337500,.
+000286e0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000286f0: 2020 226f 7065 6e49 6e74 6572 6573 7422    "openInterest"
+00028700: 3a20 3132 3938 3035 302c 0a20 2020 2020  : 1298050,.     
+00028710: 2020 2023 2020 2020 2020 2020 2022 7072     #         "pr
+00028720: 6564 4675 6e64 696e 6752 6174 6545 7222  edFundingRateEr"
+00028730: 3a20 3139 3932 312c 0a20 2020 2020 2020  : 19921,.       
+00028740: 2023 2020 2020 2020 2020 2022 7379 6d62   #         "symb
+00028750: 6f6c 223a 2022 4554 4855 5344 222c 0a20  ol": "ETHUSD",. 
+00028760: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00028770: 2022 7469 6d65 7374 616d 7022 3a20 3135   "timestamp": 15
+00028780: 3932 3437 3432 3431 3538 3237 3031 3431  9247424158270141
+00028790: 362c 0a20 2020 2020 2020 2023 2020 2020  6,.        #    
+000287a0: 2020 2020 2022 7475 726e 6f76 6572 4576       "turnoverEv
+000287b0: 223a 2034 3732 3238 3336 3233 3330 2c0a  ": 47228362330,.
+000287c0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000287d0: 2020 2276 6f6c 756d 6522 3a20 3430 3533    "volume": 4053
+000287e0: 3836 330a 2020 2020 2020 2020 2320 2020  863.        #   
+000287f0: 2020 7d0a 2020 2020 2020 2020 230a 2020    }.        #.  
+00028800: 2020 2020 2020 2320 6c69 6e65 6172 2073        # linear s
+00028810: 7761 7020 7632 0a20 2020 2020 2020 2023  wap v2.        #
+00028820: 0a20 2020 2020 2020 2023 2020 2020 207b  .        #     {
+00028830: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00028840: 2020 2022 636c 6f73 6552 7022 3a22 3136     "closeRp":"16
+00028850: 3832 302e 3522 2c0a 2020 2020 2020 2020  820.5",.        
+00028860: 2320 2020 2020 2020 2020 2266 756e 6469  #         "fundi
+00028870: 6e67 5261 7465 5272 223a 2230 2e30 3030  ngRateRr":"0.000
+00028880: 3122 2c0a 2020 2020 2020 2020 2320 2020  1",.        #   
+00028890: 2020 2020 2020 2268 6967 6852 7022 3a22        "highRp":"
+000288a0: 3136 3936 322e 3122 2c0a 2020 2020 2020  16962.1",.      
+000288b0: 2020 2320 2020 2020 2020 2020 2269 6e64    #         "ind
+000288c0: 6578 5072 6963 6552 7022 3a22 3136 3833  exPriceRp":"1683
+000288d0: 302e 3135 3635 3135 3635 222c 0a20 2020  0.15651565",.   
+000288e0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+000288f0: 6c6f 7752 7022 3a22 3136 3738 3522 2c0a  lowRp":"16785",.
+00028900: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00028910: 2020 226d 6172 6b50 7269 6365 5270 223a    "markPriceRp":
+00028920: 2231 3638 3330 2e39 3735 3334 3935 3122  "16830.97534951"
+00028930: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00028940: 2020 2020 226f 7065 6e49 6e74 6572 6573      "openInteres
+00028950: 7452 7622 3a22 3133 3233 2e35 3936 222c  tRv":"1323.596",
+00028960: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00028970: 2020 2022 6f70 656e 5270 223a 2231 3638     "openRp":"168
+00028980: 3531 2e37 222c 0a20 2020 2020 2020 2023  51.7",.        #
+00028990: 2020 2020 2020 2020 2022 7072 6564 4675           "predFu
+000289a0: 6e64 696e 6752 6174 6552 7222 3a22 302e  ndingRateRr":"0.
+000289b0: 3030 3031 222c 0a20 2020 2020 2020 2023  0001",.        #
+000289c0: 2020 2020 2020 2020 2022 7379 6d62 6f6c           "symbol
+000289d0: 223a 2242 5443 5553 4454 222c 0a20 2020  ":"BTCUSDT",.   
+000289e0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+000289f0: 7469 6d65 7374 616d 7022 3a22 3136 3732  timestamp":"1672
+00028a00: 3134 3237 3839 3036 3535 3933 3039 3622  142789065593096"
+00028a10: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00028a20: 2020 2020 2274 7572 6e6f 7665 7252 7622      "turnoverRv"
+00028a30: 3a22 3132 3438 3335 3239 362e 3035 3338  :"124835296.0538
+00028a40: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+00028a50: 2020 2020 2022 766f 6c75 6d65 5271 223a       "volumeRq":
+00028a60: 2237 3430 362e 3935 220a 2020 2020 2020  "7406.95".      
+00028a70: 2020 2320 2020 2020 7d0a 2020 2020 2020    #     }.      
+00028a80: 2020 230a 2020 2020 2020 2020 6d61 726b    #.        mark
+00028a90: 6574 4964 203d 2073 656c 662e 7361 6665  etId = self.safe
+00028aa0: 5f73 7472 696e 6728 636f 6e74 7261 6374  _string(contract
+00028ab0: 2c20 2773 796d 626f 6c27 290a 2020 2020  , 'symbol').    
+00028ac0: 2020 2020 7379 6d62 6f6c 203d 2073 656c      symbol = sel
+00028ad0: 662e 7361 6665 5f73 796d 626f 6c28 6d61  f.safe_symbol(ma
+00028ae0: 726b 6574 4964 2c20 6d61 726b 6574 290a  rketId, market).
+00028af0: 2020 2020 2020 2020 7469 6d65 7374 616d          timestam
+00028b00: 7020 3d20 7365 6c66 2e73 6166 655f 696e  p = self.safe_in
+00028b10: 7465 6765 725f 7072 6f64 7563 7428 636f  teger_product(co
+00028b20: 6e74 7261 6374 2c20 2774 696d 6573 7461  ntract, 'timesta
+00028b30: 6d70 272c 2030 2e30 3030 3030 3129 0a20  mp', 0.000001). 
+00028b40: 2020 2020 2020 2072 6574 7572 6e20 7b0a         return {.
+00028b50: 2020 2020 2020 2020 2020 2020 2769 6e66              'inf
+00028b60: 6f27 3a20 636f 6e74 7261 6374 2c0a 2020  o': contract,.  
+00028b70: 2020 2020 2020 2020 2020 2773 796d 626f            'symbo
+00028b80: 6c27 3a20 7379 6d62 6f6c 2c0a 2020 2020  l': symbol,.    
+00028b90: 2020 2020 2020 2020 276d 6172 6b50 7269          'markPri
+00028ba0: 6365 273a 2073 656c 662e 6672 6f6d 5f65  ce': self.from_e
+00028bb0: 7028 7365 6c66 2e73 6166 655f 7374 7269  p(self.safe_stri
+00028bc0: 6e67 5f32 2863 6f6e 7472 6163 742c 2027  ng_2(contract, '
+00028bd0: 6d61 726b 4570 272c 2027 6d61 726b 5072  markEp', 'markPr
+00028be0: 6963 6552 7027 292c 206d 6172 6b65 7429  iceRp'), market)
+00028bf0: 2c0a 2020 2020 2020 2020 2020 2020 2769  ,.            'i
+00028c00: 6e64 6578 5072 6963 6527 3a20 7365 6c66  ndexPrice': self
+00028c10: 2e66 726f 6d5f 6570 2873 656c 662e 7361  .from_ep(self.sa
+00028c20: 6665 5f73 7472 696e 675f 3228 636f 6e74  fe_string_2(cont
+00028c30: 7261 6374 2c20 2769 6e64 6578 4570 272c  ract, 'indexEp',
+00028c40: 2027 696e 6465 7850 7269 6365 5270 2729   'indexPriceRp')
+00028c50: 2c20 6d61 726b 6574 292c 0a20 2020 2020  , market),.     
+00028c60: 2020 2020 2020 2027 696e 7465 7265 7374         'interest
+00028c70: 5261 7465 273a 204e 6f6e 652c 0a20 2020  Rate': None,.   
+00028c80: 2020 2020 2020 2020 2027 6573 7469 6d61           'estima
+00028c90: 7465 6453 6574 746c 6550 7269 6365 273a  tedSettlePrice':
+00028ca0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+00028cb0: 2020 2027 7469 6d65 7374 616d 7027 3a20     'timestamp': 
+00028cc0: 7469 6d65 7374 616d 702c 0a20 2020 2020  timestamp,.     
+00028cd0: 2020 2020 2020 2027 6461 7465 7469 6d65         'datetime
+00028ce0: 273a 2073 656c 662e 6973 6f38 3630 3128  ': self.iso8601(
+00028cf0: 7469 6d65 7374 616d 7029 2c0a 2020 2020  timestamp),.    
+00028d00: 2020 2020 2020 2020 2766 756e 6469 6e67          'funding
+00028d10: 5261 7465 273a 2073 656c 662e 6672 6f6d  Rate': self.from
+00028d20: 5f65 7228 7365 6c66 2e73 6166 655f 7374  _er(self.safe_st
+00028d30: 7269 6e67 2863 6f6e 7472 6163 742c 2027  ring(contract, '
+00028d40: 6675 6e64 696e 6752 6174 6545 7227 292c  fundingRateEr'),
+00028d50: 206d 6172 6b65 7429 2c0a 2020 2020 2020   market),.      
+00028d60: 2020 2020 2020 2766 756e 6469 6e67 5469        'fundingTi
+00028d70: 6d65 7374 616d 7027 3a20 4e6f 6e65 2c0a  mestamp': None,.
+00028d80: 2020 2020 2020 2020 2020 2020 2766 756e              'fun
+00028d90: 6469 6e67 4461 7465 7469 6d65 273a 204e  dingDatetime': N
+00028da0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00028db0: 2027 6e65 7874 4675 6e64 696e 6752 6174   'nextFundingRat
+00028dc0: 6527 3a20 7365 6c66 2e66 726f 6d5f 6572  e': self.from_er
+00028dd0: 2873 656c 662e 7361 6665 5f73 7472 696e  (self.safe_strin
+00028de0: 675f 3228 636f 6e74 7261 6374 2c20 2770  g_2(contract, 'p
+00028df0: 7265 6446 756e 6469 6e67 5261 7465 4572  redFundingRateEr
+00028e00: 272c 2027 7072 6564 4675 6e64 696e 6752  ', 'predFundingR
+00028e10: 6174 6552 7227 292c 206d 6172 6b65 7429  ateRr'), market)
+00028e20: 2c0a 2020 2020 2020 2020 2020 2020 276e  ,.            'n
+00028e30: 6578 7446 756e 6469 6e67 5469 6d65 7374  extFundingTimest
+00028e40: 616d 7027 3a20 4e6f 6e65 2c0a 2020 2020  amp': None,.    
+00028e50: 2020 2020 2020 2020 276e 6578 7446 756e          'nextFun
+00028e60: 6469 6e67 4461 7465 7469 6d65 273a 204e  dingDatetime': N
+00028e70: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00028e80: 2027 7072 6576 696f 7573 4675 6e64 696e   'previousFundin
+00028e90: 6752 6174 6527 3a20 4e6f 6e65 2c0a 2020  gRate': None,.  
+00028ea0: 2020 2020 2020 2020 2020 2770 7265 7669            'previ
+00028eb0: 6f75 7346 756e 6469 6e67 5469 6d65 7374  ousFundingTimest
+00028ec0: 616d 7027 3a20 4e6f 6e65 2c0a 2020 2020  amp': None,.    
+00028ed0: 2020 2020 2020 2020 2770 7265 7669 6f75          'previou
+00028ee0: 7346 756e 6469 6e67 4461 7465 7469 6d65  sFundingDatetime
+00028ef0: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00028f00: 207d 0a0a 2020 2020 6173 796e 6320 6465   }..    async de
+00028f10: 6620 7365 745f 6d61 7267 696e 2873 656c  f set_margin(sel
+00028f20: 662c 2073 796d 626f 6c3a 2073 7472 2c20  f, symbol: str, 
+00028f30: 616d 6f75 6e74 2c20 7061 7261 6d73 3d7b  amount, params={
+00028f40: 7d29 3a0a 2020 2020 2020 2020 2222 220a  }):.        """.
+00028f50: 2020 2020 2020 2020 4569 7468 6572 2061          Either a
+00028f60: 6464 7320 6f72 2072 6564 7563 6573 206d  dds or reduces m
+00028f70: 6172 6769 6e20 696e 2061 6e20 6973 6f6c  argin in an isol
+00028f80: 6174 6564 2070 6f73 6974 696f 6e20 696e  ated position in
+00028f90: 206f 7264 6572 2074 6f20 7365 7420 7468   order to set th
+00028fa0: 6520 6d61 7267 696e 2074 6f20 6120 7370  e margin to a sp
+00028fb0: 6563 6966 6963 2076 616c 7565 0a20 2020  ecific value.   
+00028fc0: 2020 2020 2073 6565 2068 7474 7073 3a2f       see https:/
+00028fd0: 2f67 6974 6875 622e 636f 6d2f 7068 656d  /github.com/phem
+00028fe0: 6578 2f70 6865 6d65 782d 6170 692d 646f  ex/phemex-api-do
+00028ff0: 6373 2f62 6c6f 622f 6d61 7374 6572 2f50  cs/blob/master/P
+00029000: 7562 6c69 632d 436f 6e74 7261 6374 2d41  ublic-Contract-A
+00029010: 5049 2d65 6e2e 6d64 2361 7373 6967 6e2d  PI-en.md#assign-
+00029020: 706f 7369 7469 6f6e 2d62 616c 616e 6365  position-balance
+00029030: 2d69 6e2d 6973 6f6c 6174 6564 2d6d 6172  -in-isolated-mar
+00029040: 6967 6e2d 6d6f 6465 0a20 2020 2020 2020  ign-mode.       
+00029050: 203a 7061 7261 6d20 7374 7220 7379 6d62   :param str symb
+00029060: 6f6c 3a20 756e 6966 6965 6420 6d61 726b  ol: unified mark
+00029070: 6574 2073 796d 626f 6c20 6f66 2074 6865  et symbol of the
+00029080: 206d 6172 6b65 7420 746f 2073 6574 206d   market to set m
+00029090: 6172 6769 6e20 696e 0a20 2020 2020 2020  argin in.       
+000290a0: 203a 7061 7261 6d20 666c 6f61 7420 616d   :param float am
+000290b0: 6f75 6e74 3a20 7468 6520 616d 6f75 6e74  ount: the amount
+000290c0: 2074 6f20 7365 7420 7468 6520 6d61 7267   to set the marg
+000290d0: 696e 2074 6f0a 2020 2020 2020 2020 3a70  in to.        :p
+000290e0: 6172 616d 2064 6963 7420 7061 7261 6d73  aram dict params
+000290f0: 3a20 7061 7261 6d65 7465 7273 2073 7065  : parameters spe
+00029100: 6369 6669 6320 746f 2074 6865 2070 6865  cific to the phe
+00029110: 6d65 7820 6170 6920 656e 6470 6f69 6e74  mex api endpoint
+00029120: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+00029130: 7320 6469 6374 3a20 4120 606d 6172 6769  s dict: A `margi
+00029140: 6e20 7374 7275 6374 7572 6520 3c68 7474  n structure <htt
+00029150: 7073 3a2f 2f64 6f63 732e 6363 7874 2e63  ps://docs.ccxt.c
+00029160: 6f6d 2f23 2f3f 6964 3d61 6464 2d6d 6172  om/#/?id=add-mar
+00029170: 6769 6e2d 7374 7275 6374 7572 653e 600a  gin-structure>`.
+00029180: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00029190: 2020 2020 6177 6169 7420 7365 6c66 2e6c      await self.l
+000291a0: 6f61 645f 6d61 726b 6574 7328 290a 2020  oad_markets().  
+000291b0: 2020 2020 2020 6d61 726b 6574 203d 2073        market = s
+000291c0: 656c 662e 6d61 726b 6574 2873 796d 626f  elf.market(symbo
+000291d0: 6c29 0a20 2020 2020 2020 2072 6571 7565  l).        reque
+000291e0: 7374 203d 207b 0a20 2020 2020 2020 2020  st = {.         
+000291f0: 2020 2027 7379 6d62 6f6c 273a 206d 6172     'symbol': mar
+00029200: 6b65 745b 2769 6427 5d2c 0a20 2020 2020  ket['id'],.     
+00029210: 2020 2020 2020 2027 706f 7342 616c 616e         'posBalan
+00029220: 6365 4576 273a 2073 656c 662e 746f 5f65  ceEv': self.to_e
+00029230: 7628 616d 6f75 6e74 2c20 6d61 726b 6574  v(amount, market
+00029240: 292c 0a20 2020 2020 2020 207d 0a20 2020  ),.        }.   
+00029250: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
+00029260: 6177 6169 7420 7365 6c66 2e70 7269 7661  await self.priva
+00029270: 7465 506f 7374 506f 7369 7469 6f6e 7341  tePostPositionsA
+00029280: 7373 6967 6e28 7365 6c66 2e65 7874 656e  ssign(self.exten
+00029290: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
+000292a0: 7329 290a 2020 2020 2020 2020 230a 2020  s)).        #.  
+000292b0: 2020 2020 2020 2320 2020 2020 7b0a 2020        #     {.  
+000292c0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000292d0: 2263 6f64 6522 3a20 302c 0a20 2020 2020  "code": 0,.     
+000292e0: 2020 2023 2020 2020 2020 2020 2022 6d73     #         "ms
+000292f0: 6722 3a20 2222 2c0a 2020 2020 2020 2020  g": "",.        
+00029300: 2320 2020 2020 2020 2020 2264 6174 6122  #         "data"
+00029310: 3a20 224f 4b22 0a20 2020 2020 2020 2023  : "OK".        #
+00029320: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
+00029330: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00029340: 7365 6c66 2e65 7874 656e 6428 7365 6c66  self.extend(self
+00029350: 2e70 6172 7365 5f6d 6172 6769 6e5f 6d6f  .parse_margin_mo
+00029360: 6469 6669 6361 7469 6f6e 2872 6573 706f  dification(respo
+00029370: 6e73 652c 206d 6172 6b65 7429 2c20 7b0a  nse, market), {.
+00029380: 2020 2020 2020 2020 2020 2020 2761 6d6f              'amo
+00029390: 756e 7427 3a20 616d 6f75 6e74 2c0a 2020  unt': amount,.  
+000293a0: 2020 2020 2020 7d29 0a0a 2020 2020 6465        })..    de
+000293b0: 6620 7061 7273 655f 6d61 7267 696e 5f73  f parse_margin_s
+000293c0: 7461 7475 7328 7365 6c66 2c20 7374 6174  tatus(self, stat
+000293d0: 7573 293a 0a20 2020 2020 2020 2073 7461  us):.        sta
+000293e0: 7475 7365 7320 3d20 7b0a 2020 2020 2020  tuses = {.      
+000293f0: 2020 2020 2020 2730 273a 2027 6f6b 272c        '0': 'ok',
+00029400: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
+00029410: 2020 2072 6574 7572 6e20 7365 6c66 2e73     return self.s
+00029420: 6166 655f 7374 7269 6e67 2873 7461 7475  afe_string(statu
+00029430: 7365 732c 2073 7461 7475 732c 2073 7461  ses, status, sta
+00029440: 7475 7329 0a0a 2020 2020 6465 6620 7061  tus)..    def pa
+00029450: 7273 655f 6d61 7267 696e 5f6d 6f64 6966  rse_margin_modif
+00029460: 6963 6174 696f 6e28 7365 6c66 2c20 6461  ication(self, da
+00029470: 7461 2c20 6d61 726b 6574 3d4e 6f6e 6529  ta, market=None)
+00029480: 3a0a 2020 2020 2020 2020 230a 2020 2020  :.        #.    
+00029490: 2020 2020 2320 2020 2020 7b0a 2020 2020      #     {.    
+000294a0: 2020 2020 2320 2020 2020 2020 2020 2263      #         "c
+000294b0: 6f64 6522 3a20 302c 0a20 2020 2020 2020  ode": 0,.       
+000294c0: 2023 2020 2020 2020 2020 2022 6d73 6722   #         "msg"
+000294d0: 3a20 2222 2c0a 2020 2020 2020 2020 2320  : "",.        # 
+000294e0: 2020 2020 2020 2020 2264 6174 6122 3a20          "data": 
+000294f0: 224f 4b22 0a20 2020 2020 2020 2023 2020  "OK".        #  
+00029500: 2020 207d 0a20 2020 2020 2020 2023 0a20     }.        #. 
+00029510: 2020 2020 2020 206d 6172 6b65 7420 3d20         market = 
+00029520: 7365 6c66 2e73 6166 655f 6d61 726b 6574  self.safe_market
+00029530: 284e 6f6e 652c 206d 6172 6b65 7429 0a20  (None, market). 
+00029540: 2020 2020 2020 2069 6e76 6572 7365 203d         inverse =
+00029550: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+00029560: 286d 6172 6b65 742c 2027 696e 7665 7273  (market, 'invers
+00029570: 6527 290a 2020 2020 2020 2020 636f 6465  e').        code
+00029580: 4375 7272 656e 6379 203d 2027 6261 7365  Currency = 'base
+00029590: 2720 6966 2069 6e76 6572 7365 2065 6c73  ' if inverse els
+000295a0: 6520 2771 756f 7465 270a 2020 2020 2020  e 'quote'.      
+000295b0: 2020 7265 7475 726e 207b 0a20 2020 2020    return {.     
+000295c0: 2020 2020 2020 2027 696e 666f 273a 2064         'info': d
+000295d0: 6174 612c 0a20 2020 2020 2020 2020 2020  ata,.           
+000295e0: 2027 7479 7065 273a 2027 7365 7427 2c0a   'type': 'set',.
+000295f0: 2020 2020 2020 2020 2020 2020 2761 6d6f              'amo
+00029600: 756e 7427 3a20 4e6f 6e65 2c0a 2020 2020  unt': None,.    
+00029610: 2020 2020 2020 2020 2774 6f74 616c 273a          'total':
+00029620: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+00029630: 2020 2027 636f 6465 273a 206d 6172 6b65     'code': marke
+00029640: 745b 636f 6465 4375 7272 656e 6379 5d2c  t[codeCurrency],
+00029650: 0a20 2020 2020 2020 2020 2020 2027 7379  .            'sy
+00029660: 6d62 6f6c 273a 2073 656c 662e 7361 6665  mbol': self.safe
+00029670: 5f73 796d 626f 6c28 4e6f 6e65 2c20 6d61  _symbol(None, ma
+00029680: 726b 6574 292c 0a20 2020 2020 2020 2020  rket),.         
+00029690: 2020 2027 7374 6174 7573 273a 2073 656c     'status': sel
+000296a0: 662e 7061 7273 655f 6d61 7267 696e 5f73  f.parse_margin_s
+000296b0: 7461 7475 7328 7365 6c66 2e73 6166 655f  tatus(self.safe_
+000296c0: 7374 7269 6e67 2864 6174 612c 2027 636f  string(data, 'co
+000296d0: 6465 2729 292c 0a20 2020 2020 2020 207d  de')),.        }
+000296e0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+000296f0: 7365 745f 6d61 7267 696e 5f6d 6f64 6528  set_margin_mode(
+00029700: 7365 6c66 2c20 6d61 7267 696e 4d6f 6465  self, marginMode
+00029710: 2c20 7379 6d62 6f6c 3a20 4f70 7469 6f6e  , symbol: Option
+00029720: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c20  al[str] = None, 
+00029730: 7061 7261 6d73 3d7b 7d29 3a0a 2020 2020  params={}):.    
+00029740: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00029750: 7365 7420 6d61 7267 696e 206d 6f64 6520  set margin mode 
+00029760: 746f 2027 6372 6f73 7327 206f 7220 2769  to 'cross' or 'i
+00029770: 736f 6c61 7465 6427 0a20 2020 2020 2020  solated'.       
+00029780: 203a 7061 7261 6d20 7374 7220 6d61 7267   :param str marg
+00029790: 696e 4d6f 6465 3a20 2763 726f 7373 2720  inMode: 'cross' 
+000297a0: 6f72 2027 6973 6f6c 6174 6564 270a 2020  or 'isolated'.  
+000297b0: 2020 2020 2020 3a70 6172 616d 2073 7472        :param str
+000297c0: 2073 796d 626f 6c3a 2075 6e69 6669 6564   symbol: unified
+000297d0: 206d 6172 6b65 7420 7379 6d62 6f6c 0a20   market symbol. 
+000297e0: 2020 2020 2020 203a 7061 7261 6d20 6469         :param di
+000297f0: 6374 2070 6172 616d 733a 2065 7874 7261  ct params: extra
+00029800: 2070 6172 616d 6574 6572 7320 7370 6563   parameters spec
+00029810: 6966 6963 2074 6f20 7468 6520 7068 656d  ific to the phem
+00029820: 6578 2061 7069 2065 6e64 706f 696e 740a  ex api endpoint.
+00029830: 2020 2020 2020 2020 3a72 6574 7572 6e73          :returns
+00029840: 2064 6963 743a 2072 6573 706f 6e73 6520   dict: response 
+00029850: 6672 6f6d 2074 6865 2065 7863 6861 6e67  from the exchang
+00029860: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
+00029870: 2020 2020 2020 7365 6c66 2e63 6865 636b        self.check
+00029880: 5f72 6571 7569 7265 645f 7379 6d62 6f6c  _required_symbol
+00029890: 2827 7365 744d 6172 6769 6e4d 6f64 6527  ('setMarginMode'
+000298a0: 2c20 7379 6d62 6f6c 290a 2020 2020 2020  , symbol).      
+000298b0: 2020 6177 6169 7420 7365 6c66 2e6c 6f61    await self.loa
+000298c0: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
+000298d0: 2020 2020 6d61 726b 6574 203d 2073 656c      market = sel
+000298e0: 662e 6d61 726b 6574 2873 796d 626f 6c29  f.market(symbol)
+000298f0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+00029900: 6d61 726b 6574 5b27 7377 6170 275d 206f  market['swap'] o
+00029910: 7220 6d61 726b 6574 5b27 7365 7474 6c65  r market['settle
+00029920: 275d 203d 3d20 2755 5344 5427 3a0a 2020  '] == 'USDT':.  
+00029930: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00029940: 4261 6453 796d 626f 6c28 7365 6c66 2e69  BadSymbol(self.i
+00029950: 6420 2b20 2720 7365 744d 6172 6769 6e4d  d + ' setMarginM
+00029960: 6f64 6528 2920 7375 7070 6f72 7473 2073  ode() supports s
+00029970: 7761 7028 6e6f 6e20 5553 4454 2062 6173  wap(non USDT bas
+00029980: 6564 2920 636f 6e74 7261 6374 7320 6f6e  ed) contracts on
+00029990: 6c79 2729 0a20 2020 2020 2020 206d 6172  ly').        mar
+000299a0: 6769 6e4d 6f64 6520 3d20 6d61 7267 696e  ginMode = margin
+000299b0: 4d6f 6465 2e6c 6f77 6572 2829 0a20 2020  Mode.lower().   
+000299c0: 2020 2020 2069 6620 6d61 7267 696e 4d6f       if marginMo
+000299d0: 6465 2021 3d20 2769 736f 6c61 7465 6427  de != 'isolated'
+000299e0: 2061 6e64 206d 6172 6769 6e4d 6f64 6520   and marginMode 
+000299f0: 213d 2027 6372 6f73 7327 3a0a 2020 2020  != 'cross':.    
+00029a00: 2020 2020 2020 2020 7261 6973 6520 4261          raise Ba
+00029a10: 6452 6571 7565 7374 2873 656c 662e 6964  dRequest(self.id
+00029a20: 202b 2027 2073 6574 4d61 7267 696e 4d6f   + ' setMarginMo
+00029a30: 6465 2829 206d 6172 6769 6e4d 6f64 6520  de() marginMode 
+00029a40: 6172 6775 6d65 6e74 2073 686f 756c 6420  argument should 
+00029a50: 6265 2069 736f 6c61 7465 6420 6f72 2063  be isolated or c
+00029a60: 726f 7373 2729 0a20 2020 2020 2020 206c  ross').        l
+00029a70: 6576 6572 6167 6520 3d20 7365 6c66 2e73  everage = self.s
+00029a80: 6166 655f 696e 7465 6765 7228 7061 7261  afe_integer(para
+00029a90: 6d73 2c20 276c 6576 6572 6167 6527 290a  ms, 'leverage').
+00029aa0: 2020 2020 2020 2020 6966 206d 6172 6769          if margi
+00029ab0: 6e4d 6f64 6520 3d3d 2027 6372 6f73 7327  nMode == 'cross'
+00029ac0: 3a0a 2020 2020 2020 2020 2020 2020 6c65  :.            le
+00029ad0: 7665 7261 6765 203d 2030 0a20 2020 2020  verage = 0.     
+00029ae0: 2020 2069 6620 6c65 7665 7261 6765 2069     if leverage i
+00029af0: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+00029b00: 2020 2020 7261 6973 6520 4172 6775 6d65      raise Argume
+00029b10: 6e74 7352 6571 7569 7265 6428 7365 6c66  ntsRequired(self
+00029b20: 2e69 6420 2b20 2720 7365 744d 6172 6769  .id + ' setMargi
+00029b30: 6e4d 6f64 6528 2920 7265 7175 6972 6573  nMode() requires
+00029b40: 2061 206c 6576 6572 6167 6520 7061 7261   a leverage para
+00029b50: 6d65 7465 7227 290a 2020 2020 2020 2020  meter').        
+00029b60: 7265 7175 6573 7420 3d20 7b0a 2020 2020  request = {.    
+00029b70: 2020 2020 2020 2020 2773 796d 626f 6c27          'symbol'
+00029b80: 3a20 6d61 726b 6574 5b27 6964 275d 2c0a  : market['id'],.
+00029b90: 2020 2020 2020 2020 2020 2020 276c 6576              'lev
+00029ba0: 6572 6167 6527 3a20 6c65 7665 7261 6765  erage': leverage
+00029bb0: 2c0a 2020 2020 2020 2020 7d0a 2020 2020  ,.        }.    
+00029bc0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00029bd0: 2073 656c 662e 7072 6976 6174 6550 7574   self.privatePut
+00029be0: 506f 7369 7469 6f6e 734c 6576 6572 6167  PositionsLeverag
+00029bf0: 6528 7365 6c66 2e65 7874 656e 6428 7265  e(self.extend(re
+00029c00: 7175 6573 742c 2070 6172 616d 7329 290a  quest, params)).
+00029c10: 0a20 2020 2061 7379 6e63 2064 6566 2073  .    async def s
+00029c20: 6574 5f70 6f73 6974 696f 6e5f 6d6f 6465  et_position_mode
+00029c30: 2873 656c 662c 2068 6564 6765 642c 2073  (self, hedged, s
+00029c40: 796d 626f 6c3a 204f 7074 696f 6e61 6c5b  ymbol: Optional[
+00029c50: 7374 725d 203d 204e 6f6e 652c 2070 6172  str] = None, par
+00029c60: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
+00029c70: 2022 2222 0a20 2020 2020 2020 2073 6574   """.        set
+00029c80: 2068 6564 6765 6420 746f 2054 7275 6520   hedged to True 
+00029c90: 6f72 2046 616c 7365 2066 6f72 2061 206d  or False for a m
+00029ca0: 6172 6b65 740a 2020 2020 2020 2020 7365  arket.        se
+00029cb0: 6520 6874 7470 733a 2f2f 6769 7468 7562  e https://github
+00029cc0: 2e63 6f6d 2f70 6865 6d65 782f 7068 656d  .com/phemex/phem
+00029cd0: 6578 2d61 7069 2d64 6f63 732f 626c 6f62  ex-api-docs/blob
+00029ce0: 2f6d 6173 7465 722f 5075 626c 6963 2d48  /master/Public-H
+00029cf0: 6564 6765 642d 5065 7270 6574 7561 6c2d  edged-Perpetual-
+00029d00: 4150 492e 6d64 2373 7769 7463 682d 706f  API.md#switch-po
+00029d10: 7369 7469 6f6e 2d6d 6f64 652d 7379 6e63  sition-mode-sync
+00029d20: 6872 6f6e 6f75 736c 790a 2020 2020 2020  hronously.      
+00029d30: 2020 3a70 6172 616d 2062 6f6f 6c20 6865    :param bool he
+00029d40: 6467 6564 3a20 7365 7420 746f 2054 7275  dged: set to Tru
+00029d50: 6520 746f 2075 7365 2064 7561 6c53 6964  e to use dualSid
+00029d60: 6550 6f73 6974 696f 6e0a 2020 2020 2020  ePosition.      
+00029d70: 2020 3a70 6172 616d 2073 7472 7c4e 6f6e    :param str|Non
+00029d80: 6520 7379 6d62 6f6c 3a20 6e6f 7420 7573  e symbol: not us
+00029d90: 6564 2062 7920 6269 6e61 6e63 6520 7365  ed by binance se
+00029da0: 7450 6f73 6974 696f 6e4d 6f64 6528 290a  tPositionMode().
+00029db0: 2020 2020 2020 2020 3a70 6172 616d 2064          :param d
+00029dc0: 6963 7420 7061 7261 6d73 3a20 6578 7472  ict params: extr
+00029dd0: 6120 7061 7261 6d65 7465 7273 2073 7065  a parameters spe
+00029de0: 6369 6669 6320 746f 2074 6865 2062 696e  cific to the bin
+00029df0: 616e 6365 2061 7069 2065 6e64 706f 696e  ance api endpoin
+00029e00: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
+00029e10: 6e73 2064 6963 743a 2072 6573 706f 6e73  ns dict: respons
+00029e20: 6520 6672 6f6d 2074 6865 2065 7863 6861  e from the excha
+00029e30: 6e67 650a 2020 2020 2020 2020 2222 220a  nge.        """.
+00029e40: 2020 2020 2020 2020 7365 6c66 2e63 6865          self.che
+00029e50: 636b 5f72 6571 7569 7265 645f 6172 6775  ck_required_argu
+00029e60: 6d65 6e74 2827 7365 7450 6f73 6974 696f  ment('setPositio
+00029e70: 6e4d 6f64 6527 2c20 7379 6d62 6f6c 2c20  nMode', symbol, 
+00029e80: 2773 796d 626f 6c27 290a 2020 2020 2020  'symbol').      
+00029e90: 2020 6177 6169 7420 7365 6c66 2e6c 6f61    await self.loa
+00029ea0: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
+00029eb0: 2020 2020 6d61 726b 6574 203d 2073 656c      market = sel
+00029ec0: 662e 6d61 726b 6574 2873 796d 626f 6c29  f.market(symbol)
+00029ed0: 0a20 2020 2020 2020 2069 6620 6d61 726b  .        if mark
+00029ee0: 6574 5b27 7365 7474 6c65 275d 2021 3d20  et['settle'] != 
+00029ef0: 2755 5344 5427 3a0a 2020 2020 2020 2020  'USDT':.        
+00029f00: 2020 2020 7261 6973 6520 4261 6453 796d      raise BadSym
+00029f10: 626f 6c28 7365 6c66 2e69 6420 2b20 2720  bol(self.id + ' 
+00029f20: 7365 7450 6f73 6974 696f 6e4d 6f64 6528  setPositionMode(
+00029f30: 2920 7375 7070 6f72 7473 2055 5344 5420  ) supports USDT 
+00029f40: 7365 7474 6c65 6420 6d61 726b 6574 7320  settled markets 
+00029f50: 6f6e 6c79 2729 0a20 2020 2020 2020 2072  only').        r
+00029f60: 6571 7565 7374 203d 207b 0a20 2020 2020  equest = {.     
+00029f70: 2020 2020 2020 2027 7379 6d62 6f6c 273a         'symbol':
+00029f80: 206d 6172 6b65 745b 2769 6427 5d2c 0a20   market['id'],. 
+00029f90: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+00029fa0: 2069 6620 6865 6467 6564 3a0a 2020 2020   if hedged:.    
+00029fb0: 2020 2020 2020 2020 7265 7175 6573 745b          request[
+00029fc0: 2774 6172 6765 7450 6f73 4d6f 6465 275d  'targetPosMode']
+00029fd0: 203d 2027 4865 6467 6564 270a 2020 2020   = 'Hedged'.    
+00029fe0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00029ff0: 2020 2020 2020 7265 7175 6573 745b 2774        request['t
+0002a000: 6172 6765 7450 6f73 4d6f 6465 275d 203d  argetPosMode'] =
+0002a010: 2027 4f6e 6557 6179 270a 2020 2020 2020   'OneWay'.      
+0002a020: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0002a030: 656c 662e 7072 6976 6174 6550 7574 4750  elf.privatePutGP
+0002a040: 6f73 6974 696f 6e73 5377 6974 6368 506f  ositionsSwitchPo
+0002a050: 734d 6f64 6553 796e 6328 7365 6c66 2e65  sModeSync(self.e
+0002a060: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
+0002a070: 6172 616d 7329 290a 0a20 2020 2061 7379  arams))..    asy
+0002a080: 6e63 2064 6566 2066 6574 6368 5f6c 6576  nc def fetch_lev
+0002a090: 6572 6167 655f 7469 6572 7328 7365 6c66  erage_tiers(self
+0002a0a0: 2c20 7379 6d62 6f6c 733a 204f 7074 696f  , symbols: Optio
+0002a0b0: 6e61 6c5b 4c69 7374 5b73 7472 5d5d 203d  nal[List[str]] =
+0002a0c0: 204e 6f6e 652c 2070 6172 616d 733d 7b7d   None, params={}
+0002a0d0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+0002a0e0: 2020 2020 2020 2072 6574 7269 6576 6520         retrieve 
+0002a0f0: 696e 666f 726d 6174 696f 6e20 6f6e 2074  information on t
+0002a100: 6865 206d 6178 696d 756d 206c 6576 6572  he maximum lever
+0002a110: 6167 652c 2061 6e64 206d 6169 6e74 656e  age, and mainten
+0002a120: 616e 6365 206d 6172 6769 6e20 666f 7220  ance margin for 
+0002a130: 7472 6164 6573 206f 6620 7661 7279 696e  trades of varyin
+0002a140: 6720 7472 6164 6520 7369 7a65 730a 2020  g trade sizes.  
+0002a150: 2020 2020 2020 3a70 6172 616d 205b 7374        :param [st
+0002a160: 725d 7c4e 6f6e 6520 7379 6d62 6f6c 733a  r]|None symbols:
+0002a170: 206c 6973 7420 6f66 2075 6e69 6669 6564   list of unified
+0002a180: 206d 6172 6b65 7420 7379 6d62 6f6c 730a   market symbols.
+0002a190: 2020 2020 2020 2020 3a70 6172 616d 2064          :param d
+0002a1a0: 6963 7420 7061 7261 6d73 3a20 6578 7472  ict params: extr
+0002a1b0: 6120 7061 7261 6d65 7465 7273 2073 7065  a parameters spe
+0002a1c0: 6369 6669 6320 746f 2074 6865 2070 6865  cific to the phe
+0002a1d0: 6d65 7820 6170 6920 656e 6470 6f69 6e74  mex api endpoint
+0002a1e0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+0002a1f0: 7320 6469 6374 3a20 6120 6469 6374 696f  s dict: a dictio
+0002a200: 6e61 7279 206f 6620 606c 6576 6572 6167  nary of `leverag
+0002a210: 6520 7469 6572 7320 7374 7275 6374 7572  e tiers structur
+0002a220: 6573 203c 6874 7470 733a 2f2f 646f 6373  es <https://docs
+0002a230: 2e63 6378 742e 636f 6d2f 232f 3f69 643d  .ccxt.com/#/?id=
+0002a240: 6c65 7665 7261 6765 2d74 6965 7273 2d73  leverage-tiers-s
+0002a250: 7472 7563 7475 7265 3e60 2c20 696e 6465  tructure>`, inde
+0002a260: 7865 6420 6279 206d 6172 6b65 7420 7379  xed by market sy
+0002a270: 6d62 6f6c 730a 2020 2020 2020 2020 2222  mbols.        ""
+0002a280: 220a 2020 2020 2020 2020 6177 6169 7420  ".        await 
+0002a290: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
+0002a2a0: 7328 290a 2020 2020 2020 2020 7265 7370  s().        resp
+0002a2b0: 6f6e 7365 203d 2061 7761 6974 2073 656c  onse = await sel
+0002a2c0: 662e 7075 626c 6963 4765 7443 6667 5632  f.publicGetCfgV2
+0002a2d0: 5072 6f64 7563 7473 2870 6172 616d 7329  Products(params)
+0002a2e0: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
+0002a2f0: 2020 2023 2020 2020 207b 0a20 2020 2020     #     {.     
+0002a300: 2020 2023 2020 2020 2020 2020 2022 636f     #         "co
+0002a310: 6465 223a 302c 0a20 2020 2020 2020 2023  de":0,.        #
+0002a320: 2020 2020 2020 2020 2022 6d73 6722 3a22           "msg":"
+0002a330: 4f4b 222c 0a20 2020 2020 2020 2023 2020  OK",.        #  
+0002a340: 2020 2020 2020 2022 6461 7461 223a 7b0a         "data":{.
+0002a350: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002a360: 2020 2020 2020 2272 6174 696f 5363 616c        "ratioScal
+0002a370: 6522 3a38 2c0a 2020 2020 2020 2020 2320  e":8,.        # 
+0002a380: 2020 2020 2020 2020 2020 2020 2263 7572              "cur
+0002a390: 7265 6e63 6965 7322 3a5b 0a20 2020 2020  rencies":[.     
+0002a3a0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002a3b0: 2020 2020 207b 2263 7572 7265 6e63 7922       {"currency"
+0002a3c0: 3a22 4254 4322 2c22 7661 6c75 6553 6361  :"BTC","valueSca
+0002a3d0: 6c65 223a 382c 226d 696e 5661 6c75 6545  le":8,"minValueE
+0002a3e0: 7622 3a31 2c22 6d61 7856 616c 7565 4576  v":1,"maxValueEv
+0002a3f0: 223a 3530 3030 3030 3030 3030 3030 3030  ":50000000000000
+0002a400: 3030 3030 302c 226e 616d 6522 3a22 4269  00000,"name":"Bi
+0002a410: 7463 6f69 6e22 7d2c 0a20 2020 2020 2020  tcoin"},.       
+0002a420: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002a430: 2020 207b 2263 7572 7265 6e63 7922 3a22     {"currency":"
+0002a440: 5553 4422 2c22 7661 6c75 6553 6361 6c65  USD","valueScale
+0002a450: 223a 342c 226d 696e 5661 6c75 6545 7622  ":4,"minValueEv"
+0002a460: 3a31 2c22 6d61 7856 616c 7565 4576 223a  :1,"maxValueEv":
+0002a470: 3530 3030 3030 3030 3030 3030 3030 302c  500000000000000,
+0002a480: 226e 616d 6522 3a22 5553 4422 7d2c 0a20  "name":"USD"},. 
+0002a490: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002a4a0: 2020 2020 2020 2020 207b 2263 7572 7265           {"curre
+0002a4b0: 6e63 7922 3a22 5553 4454 222c 2276 616c  ncy":"USDT","val
+0002a4c0: 7565 5363 616c 6522 3a38 2c22 6d69 6e56  ueScale":8,"minV
+0002a4d0: 616c 7565 4576 223a 312c 226d 6178 5661  alueEv":1,"maxVa
+0002a4e0: 6c75 6545 7622 3a35 3030 3030 3030 3030  lueEv":500000000
+0002a4f0: 3030 3030 3030 3030 3030 2c22 6e61 6d65  0000000000,"name
+0002a500: 223a 2254 6574 6865 7255 5322 7d2c 0a20  ":"TetherUS"},. 
+0002a510: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002a520: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+0002a530: 2320 2020 2020 2020 2020 2020 2020 2270  #             "p
+0002a540: 726f 6475 6374 7322 3a5b 0a20 2020 2020  roducts":[.     
+0002a550: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002a560: 2020 2020 207b 0a20 2020 2020 2020 2023       {.        #
+0002a570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a580: 2020 2020 2022 7379 6d62 6f6c 223a 2242       "symbol":"B
+0002a590: 5443 5553 4422 2c0a 2020 2020 2020 2020  TCUSD",.        
+0002a5a0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+0002a5b0: 2020 2020 2020 2264 6973 706c 6179 5379        "displaySy
+0002a5c0: 6d62 6f6c 223a 2242 5443 202f 2055 5344  mbol":"BTC / USD
+0002a5d0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002a5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a5f0: 2022 696e 6465 7853 796d 626f 6c22 3a22   "indexSymbol":"
+0002a600: 2e42 5443 222c 0a20 2020 2020 2020 2023  .BTC",.        #
+0002a610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a620: 2020 2020 2022 6d61 726b 5379 6d62 6f6c       "markSymbol
+0002a630: 223a 222e 4d42 5443 222c 0a20 2020 2020  ":".MBTC",.     
+0002a640: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002a650: 2020 2020 2020 2020 2022 6675 6e64 696e           "fundin
+0002a660: 6752 6174 6553 796d 626f 6c22 3a22 2e42  gRateSymbol":".B
+0002a670: 5443 4652 222c 0a20 2020 2020 2020 2023  TCFR",.        #
+0002a680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a690: 2020 2020 2022 6675 6e64 696e 6752 6174       "fundingRat
+0002a6a0: 6538 6853 796d 626f 6c22 3a22 2e42 5443  e8hSymbol":".BTC
+0002a6b0: 4652 3848 222c 0a20 2020 2020 2020 2023  FR8H",.        #
+0002a6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a6d0: 2020 2020 2022 636f 6e74 7261 6374 556e       "contractUn
+0002a6e0: 6465 726c 7969 6e67 4173 7365 7473 223a  derlyingAssets":
+0002a6f0: 2255 5344 222c 0a20 2020 2020 2020 2023  "USD",.        #
+0002a700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a710: 2020 2020 2022 7365 7474 6c65 4375 7272       "settleCurr
+0002a720: 656e 6379 223a 2242 5443 222c 0a20 2020  ency":"BTC",.   
+0002a730: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002a740: 2020 2020 2020 2020 2020 2022 7175 6f74             "quot
+0002a750: 6543 7572 7265 6e63 7922 3a22 5553 4422  eCurrency":"USD"
+0002a760: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002a770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a780: 2263 6f6e 7472 6163 7453 697a 6522 3a31  "contractSize":1
+0002a790: 2e30 2c0a 2020 2020 2020 2020 2320 2020  .0,.        #   
+0002a7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a7b0: 2020 226c 6f74 5369 7a65 223a 312c 0a20    "lotSize":1,. 
+0002a7c0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002a7d0: 2020 2020 2020 2020 2020 2020 2022 7469               "ti
+0002a7e0: 636b 5369 7a65 223a 302e 352c 0a20 2020  ckSize":0.5,.   
+0002a7f0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002a800: 2020 2020 2020 2020 2020 2022 7072 6963             "pric
+0002a810: 6553 6361 6c65 223a 342c 0a20 2020 2020  eScale":4,.     
+0002a820: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002a830: 2020 2020 2020 2020 2022 7261 7469 6f53           "ratioS
+0002a840: 6361 6c65 223a 382c 0a20 2020 2020 2020  cale":8,.       
+0002a850: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002a860: 2020 2020 2020 2022 7072 6963 6550 7265         "pricePre
+0002a870: 6369 7369 6f6e 223a 312c 0a20 2020 2020  cision":1,.     
+0002a880: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002a890: 2020 2020 2020 2020 2022 6d69 6e50 7269           "minPri
+0002a8a0: 6365 4570 223a 3530 3030 2c0a 2020 2020  ceEp":5000,.    
+0002a8b0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002a8c0: 2020 2020 2020 2020 2020 226d 6178 5072            "maxPr
+0002a8d0: 6963 6545 7022 3a31 3030 3030 3030 3030  iceEp":100000000
+0002a8e0: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+0002a8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a900: 2020 226d 6178 4f72 6465 7251 7479 223a    "maxOrderQty":
+0002a910: 3130 3030 3030 302c 0a20 2020 2020 2020  1000000,.       
+0002a920: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002a930: 2020 2020 2020 2022 7479 7065 223a 2250         "type":"P
+0002a940: 6572 7065 7475 616c 220a 2020 2020 2020  erpetual".      
+0002a950: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002a960: 2020 2020 7d2c 0a20 2020 2020 2020 2023      },.        #
+0002a970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a980: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+0002a990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a9a0: 2022 7379 6d62 6f6c 223a 2273 4254 4355   "symbol":"sBTCU
+0002a9b0: 5344 5422 2c0a 2020 2020 2020 2020 2320  SDT",.        # 
+0002a9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a9d0: 2020 2020 2264 6973 706c 6179 5379 6d62      "displaySymb
+0002a9e0: 6f6c 223a 2242 5443 202f 2055 5344 5422  ol":"BTC / USDT"
+0002a9f0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002aa00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aa10: 2271 756f 7465 4375 7272 656e 6379 223a  "quoteCurrency":
+0002aa20: 2255 5344 5422 2c0a 2020 2020 2020 2020  "USDT",.        
+0002aa30: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+0002aa40: 2020 2020 2020 2270 7269 6365 5072 6563        "pricePrec
+0002aa50: 6973 696f 6e22 3a32 2c0a 2020 2020 2020  ision":2,.      
+0002aa60: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002aa70: 2020 2020 2020 2020 2274 7970 6522 3a22          "type":"
+0002aa80: 5370 6f74 222c 0a20 2020 2020 2020 2023  Spot",.        #
+0002aa90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aaa0: 2020 2020 2022 6261 7365 4375 7272 656e       "baseCurren
+0002aab0: 6379 223a 2242 5443 222c 0a20 2020 2020  cy":"BTC",.     
+0002aac0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002aad0: 2020 2020 2020 2020 2022 6261 7365 5469           "baseTi
+0002aae0: 636b 5369 7a65 223a 2230 2e30 3030 3030  ckSize":"0.00000
+0002aaf0: 3120 4254 4322 2c0a 2020 2020 2020 2020  1 BTC",.        
+0002ab00: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+0002ab10: 2020 2020 2020 2262 6173 6554 6963 6b53        "baseTickS
+0002ab20: 697a 6545 7622 3a31 3030 2c0a 2020 2020  izeEv":100,.    
+0002ab30: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002ab40: 2020 2020 2020 2020 2020 2271 756f 7465            "quote
+0002ab50: 5469 636b 5369 7a65 223a 2230 2e30 3120  TickSize":"0.01 
+0002ab60: 5553 4454 222c 0a20 2020 2020 2020 2023  USDT",.        #
+0002ab70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ab80: 2020 2020 2022 7175 6f74 6554 6963 6b53       "quoteTickS
+0002ab90: 697a 6545 7622 3a31 3030 3030 3030 2c0a  izeEv":1000000,.
+0002aba0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002abb0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+0002abc0: 696e 4f72 6465 7256 616c 7565 223a 2231  inOrderValue":"1
+0002abd0: 3020 5553 4454 222c 0a20 2020 2020 2020  0 USDT",.       
+0002abe0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002abf0: 2020 2020 2020 2022 6d69 6e4f 7264 6572         "minOrder
+0002ac00: 5661 6c75 6545 7622 3a31 3030 3030 3030  ValueEv":1000000
+0002ac10: 3030 302c 0a20 2020 2020 2020 2023 2020  000,.        #  
+0002ac20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ac30: 2020 2022 6d61 7842 6173 654f 7264 6572     "maxBaseOrder
+0002ac40: 5369 7a65 223a 2231 3030 3020 4254 4322  Size":"1000 BTC"
+0002ac50: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002ac60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ac70: 226d 6178 4261 7365 4f72 6465 7253 697a  "maxBaseOrderSiz
+0002ac80: 6545 7622 3a31 3030 3030 3030 3030 3030  eEv":10000000000
+0002ac90: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
+0002aca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002acb0: 2022 6d61 784f 7264 6572 5661 6c75 6522   "maxOrderValue"
+0002acc0: 3a22 352c 3030 302c 3030 3020 5553 4454  :"5,000,000 USDT
+0002acd0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002ace0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002acf0: 2022 6d61 784f 7264 6572 5661 6c75 6545   "maxOrderValueE
+0002ad00: 7622 3a35 3030 3030 3030 3030 3030 3030  v":5000000000000
+0002ad10: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+0002ad20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ad30: 2020 2264 6566 6175 6c74 5461 6b65 7246    "defaultTakerF
+0002ad40: 6565 223a 2230 2e30 3031 222c 0a20 2020  ee":"0.001",.   
+0002ad50: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002ad60: 2020 2020 2020 2020 2020 2022 6465 6661             "defa
+0002ad70: 756c 7454 616b 6572 4665 6545 7222 3a31  ultTakerFeeEr":1
+0002ad80: 3030 3030 302c 0a20 2020 2020 2020 2023  00000,.        #
+0002ad90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ada0: 2020 2020 2022 6465 6661 756c 744d 616b       "defaultMak
+0002adb0: 6572 4665 6522 3a22 302e 3030 3122 2c0a  erFee":"0.001",.
+0002adc0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002add0: 2020 2020 2020 2020 2020 2020 2020 2264                "d
+0002ade0: 6566 6175 6c74 4d61 6b65 7246 6565 4572  efaultMakerFeeEr
+0002adf0: 223a 3130 3030 3030 2c0a 2020 2020 2020  ":100000,.      
+0002ae00: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002ae10: 2020 2020 2020 2020 2262 6173 6551 7479          "baseQty
+0002ae20: 5072 6563 6973 696f 6e22 3a36 2c0a 2020  Precision":6,.  
+0002ae30: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002ae40: 2020 2020 2020 2020 2020 2020 2271 756f              "quo
+0002ae50: 7465 5174 7950 7265 6369 7369 6f6e 223a  teQtyPrecision":
+0002ae60: 320a 2020 2020 2020 2020 2320 2020 2020  2.        #     
+0002ae70: 2020 2020 2020 2020 2020 2020 7d2c 0a20              },. 
+0002ae80: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002ae90: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+0002aea0: 2320 2020 2020 2020 2020 2020 2020 2272  #             "r
+0002aeb0: 6973 6b4c 696d 6974 7322 3a5b 0a20 2020  iskLimits":[.   
+0002aec0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002aed0: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
+0002aee0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002aef0: 2020 2020 2020 2022 7379 6d62 6f6c 223a         "symbol":
+0002af00: 2242 5443 5553 4422 2c0a 2020 2020 2020  "BTCUSD",.      
+0002af10: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002af20: 2020 2020 2020 2020 2273 7465 7073 223a          "steps":
+0002af30: 2235 3022 2c0a 2020 2020 2020 2020 2320  "50",.        # 
+0002af40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002af50: 2020 2020 2272 6973 6b4c 696d 6974 7322      "riskLimits"
+0002af60: 3a5b 0a20 2020 2020 2020 2023 2020 2020  :[.        #    
+0002af70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002af80: 2020 2020 207b 226c 696d 6974 223a 3130       {"limit":10
+0002af90: 302c 2269 6e69 7469 616c 4d61 7267 696e  0,"initialMargin
+0002afa0: 223a 2231 2e30 2522 2c22 696e 6974 6961  ":"1.0%","initia
+0002afb0: 6c4d 6172 6769 6e45 7222 3a31 3030 3030  lMarginEr":10000
+0002afc0: 3030 2c22 6d61 696e 7465 6e61 6e63 654d  00,"maintenanceM
+0002afd0: 6172 6769 6e22 3a22 302e 3525 222c 226d  argin":"0.5%","m
+0002afe0: 6169 6e74 656e 616e 6365 4d61 7267 696e  aintenanceMargin
+0002aff0: 4572 223a 3530 3030 3030 7d2c 0a20 2020  Er":500000},.   
+0002b000: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002b010: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+0002b020: 226c 696d 6974 223a 3135 302c 2269 6e69  "limit":150,"ini
+0002b030: 7469 616c 4d61 7267 696e 223a 2231 2e35  tialMargin":"1.5
+0002b040: 2522 2c22 696e 6974 6961 6c4d 6172 6769  %","initialMargi
+0002b050: 6e45 7222 3a31 3530 3030 3030 2c22 6d61  nEr":1500000,"ma
+0002b060: 696e 7465 6e61 6e63 654d 6172 6769 6e22  intenanceMargin"
+0002b070: 3a22 312e 3025 222c 226d 6169 6e74 656e  :"1.0%","mainten
+0002b080: 616e 6365 4d61 7267 696e 4572 223a 3130  anceMarginEr":10
+0002b090: 3030 3030 307d 2c0a 2020 2020 2020 2020  00000},.        
+0002b0a0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+0002b0b0: 2020 2020 2020 2020 2020 7b22 6c69 6d69            {"limi
+0002b0c0: 7422 3a32 3030 2c22 696e 6974 6961 6c4d  t":200,"initialM
+0002b0d0: 6172 6769 6e22 3a22 322e 3025 222c 2269  argin":"2.0%","i
+0002b0e0: 6e69 7469 616c 4d61 7267 696e 4572 223a  nitialMarginEr":
+0002b0f0: 3230 3030 3030 302c 226d 6169 6e74 656e  2000000,"mainten
+0002b100: 616e 6365 4d61 7267 696e 223a 2231 2e35  anceMargin":"1.5
+0002b110: 2522 2c22 6d61 696e 7465 6e61 6e63 654d  %","maintenanceM
+0002b120: 6172 6769 6e45 7222 3a31 3530 3030 3030  arginEr":1500000
+0002b130: 7d2c 0a20 2020 2020 2020 2023 2020 2020  },.        #    
+0002b140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b150: 205d 0a20 2020 2020 2020 2023 2020 2020   ].        #    
+0002b160: 2020 2020 2020 2020 2020 2020 207d 2c0a               },.
+0002b170: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002b180: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+0002b190: 2023 2020 2020 2020 2020 2020 2020 2022   #             "
+0002b1a0: 6c65 7665 7261 6765 7322 3a5b 0a20 2020  leverages":[.   
+0002b1b0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002b1c0: 2020 2020 2020 207b 2269 6e69 7469 616c         {"initial
+0002b1d0: 4d61 7267 696e 223a 2231 2e30 2522 2c22  Margin":"1.0%","
+0002b1e0: 696e 6974 6961 6c4d 6172 6769 6e45 7222  initialMarginEr"
+0002b1f0: 3a31 3030 3030 3030 2c22 6f70 7469 6f6e  :1000000,"option
+0002b200: 7322 3a5b 312c 322c 332c 352c 3130 2c32  s":[1,2,3,5,10,2
+0002b210: 352c 3530 2c31 3030 5d7d 2c0a 2020 2020  5,50,100]},.    
+0002b220: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002b230: 2020 2020 2020 7b22 696e 6974 6961 6c4d        {"initialM
+0002b240: 6172 6769 6e22 3a22 312e 3525 222c 2269  argin":"1.5%","i
+0002b250: 6e69 7469 616c 4d61 7267 696e 4572 223a  nitialMarginEr":
+0002b260: 3135 3030 3030 302c 226f 7074 696f 6e73  1500000,"options
+0002b270: 223a 5b31 2c32 2c33 2c35 2c31 302c 3235  ":[1,2,3,5,10,25
+0002b280: 2c35 302c 3636 5d7d 2c0a 2020 2020 2020  ,50,66]},.      
+0002b290: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002b2a0: 2020 2020 7b22 696e 6974 6961 6c4d 6172      {"initialMar
+0002b2b0: 6769 6e22 3a22 322e 3025 222c 2269 6e69  gin":"2.0%","ini
+0002b2c0: 7469 616c 4d61 7267 696e 4572 223a 3230  tialMarginEr":20
+0002b2d0: 3030 3030 302c 226f 7074 696f 6e73 223a  00000,"options":
+0002b2e0: 5b31 2c32 2c33 2c35 2c31 302c 3235 2c33  [1,2,3,5,10,25,3
+0002b2f0: 332c 3530 5d7d 2c0a 2020 2020 2020 2020  3,50]},.        
+0002b300: 2320 2020 2020 2020 2020 2020 2020 5d0a  #             ].
+0002b310: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002b320: 2020 7d0a 2020 2020 2020 2020 2320 2020    }.        #   
+0002b330: 2020 7d0a 2020 2020 2020 2020 230a 2020    }.        #.  
+0002b340: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
+0002b350: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
+0002b360: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
+0002b370: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
+0002b380: 2020 2020 2072 6973 6b4c 696d 6974 7320       riskLimits 
+0002b390: 3d20 7365 6c66 2e73 6166 655f 7661 6c75  = self.safe_valu
+0002b3a0: 6528 6461 7461 2c20 2772 6973 6b4c 696d  e(data, 'riskLim
+0002b3b0: 6974 7327 290a 2020 2020 2020 2020 7265  its').        re
+0002b3c0: 7475 726e 2073 656c 662e 7061 7273 655f  turn self.parse_
+0002b3d0: 6c65 7665 7261 6765 5f74 6965 7273 2872  leverage_tiers(r
+0002b3e0: 6973 6b4c 696d 6974 732c 2073 796d 626f  iskLimits, symbo
+0002b3f0: 6c73 2c20 2773 796d 626f 6c27 290a 0a20  ls, 'symbol').. 
+0002b400: 2020 2064 6566 2070 6172 7365 5f6d 6172     def parse_mar
+0002b410: 6b65 745f 6c65 7665 7261 6765 5f74 6965  ket_leverage_tie
+0002b420: 7273 2873 656c 662c 2069 6e66 6f2c 206d  rs(self, info, m
+0002b430: 6172 6b65 743d 4e6f 6e65 293a 0a20 2020  arket=None):.   
+0002b440: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0002b450: 203a 7061 7261 6d20 6469 6374 2069 6e66   :param dict inf
+0002b460: 6f3a 2045 7863 6861 6e67 6520 6d61 726b  o: Exchange mark
+0002b470: 6574 2072 6573 706f 6e73 6520 666f 7220  et response for 
+0002b480: 3120 6d61 726b 6574 0a20 2020 2020 2020  1 market.       
+0002b490: 203a 7061 7261 6d20 6469 6374 206d 6172   :param dict mar
+0002b4a0: 6b65 743a 2043 4358 5420 6d61 726b 6574  ket: CCXT market
+0002b4b0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0002b4c0: 2020 2020 2023 0a20 2020 2020 2020 2023       #.        #
+0002b4d0: 2020 2020 207b 0a20 2020 2020 2020 2023       {.        #
+0002b4e0: 2020 2020 2020 2020 2022 7379 6d62 6f6c           "symbol
+0002b4f0: 223a 2242 5443 5553 4422 2c0a 2020 2020  ":"BTCUSD",.    
+0002b500: 2020 2020 2320 2020 2020 2020 2020 2273      #         "s
+0002b510: 7465 7073 223a 2235 3022 2c0a 2020 2020  teps":"50",.    
+0002b520: 2020 2020 2320 2020 2020 2020 2020 2272      #         "r
+0002b530: 6973 6b4c 696d 6974 7322 3a5b 0a20 2020  iskLimits":[.   
+0002b540: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002b550: 2020 207b 226c 696d 6974 223a 3130 302c     {"limit":100,
+0002b560: 2269 6e69 7469 616c 4d61 7267 696e 223a  "initialMargin":
+0002b570: 2231 2e30 2522 2c22 696e 6974 6961 6c4d  "1.0%","initialM
+0002b580: 6172 6769 6e45 7222 3a31 3030 3030 3030  arginEr":1000000
+0002b590: 2c22 6d61 696e 7465 6e61 6e63 654d 6172  ,"maintenanceMar
+0002b5a0: 6769 6e22 3a22 302e 3525 222c 226d 6169  gin":"0.5%","mai
+0002b5b0: 6e74 656e 616e 6365 4d61 7267 696e 4572  ntenanceMarginEr
+0002b5c0: 223a 3530 3030 3030 7d2c 0a20 2020 2020  ":500000},.     
+0002b5d0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002b5e0: 207b 226c 696d 6974 223a 3135 302c 2269   {"limit":150,"i
+0002b5f0: 6e69 7469 616c 4d61 7267 696e 223a 2231  nitialMargin":"1
+0002b600: 2e35 2522 2c22 696e 6974 6961 6c4d 6172  .5%","initialMar
+0002b610: 6769 6e45 7222 3a31 3530 3030 3030 2c22  ginEr":1500000,"
+0002b620: 6d61 696e 7465 6e61 6e63 654d 6172 6769  maintenanceMargi
+0002b630: 6e22 3a22 312e 3025 222c 226d 6169 6e74  n":"1.0%","maint
+0002b640: 656e 616e 6365 4d61 7267 696e 4572 223a  enanceMarginEr":
+0002b650: 3130 3030 3030 307d 2c0a 2020 2020 2020  1000000},.      
+0002b660: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002b670: 7b22 6c69 6d69 7422 3a32 3030 2c22 696e  {"limit":200,"in
+0002b680: 6974 6961 6c4d 6172 6769 6e22 3a22 322e  itialMargin":"2.
+0002b690: 3025 222c 2269 6e69 7469 616c 4d61 7267  0%","initialMarg
+0002b6a0: 696e 4572 223a 3230 3030 3030 302c 226d  inEr":2000000,"m
+0002b6b0: 6169 6e74 656e 616e 6365 4d61 7267 696e  aintenanceMargin
+0002b6c0: 223a 2231 2e35 2522 2c22 6d61 696e 7465  ":"1.5%","mainte
+0002b6d0: 6e61 6e63 654d 6172 6769 6e45 7222 3a31  nanceMarginEr":1
+0002b6e0: 3530 3030 3030 7d2c 0a20 2020 2020 2020  500000},.       
+0002b6f0: 2023 2020 2020 2020 2020 205d 0a20 2020   #         ].   
+0002b700: 2020 2020 2023 2020 2020 207d 2c0a 2020       #     },.  
+0002b710: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
+0002b720: 6d61 726b 6574 203d 2073 656c 662e 7361  market = self.sa
+0002b730: 6665 5f6d 6172 6b65 7428 4e6f 6e65 2c20  fe_market(None, 
+0002b740: 6d61 726b 6574 290a 2020 2020 2020 2020  market).        
+0002b750: 7269 736b 4c69 6d69 7473 203d 2028 6d61  riskLimits = (ma
+0002b760: 726b 6574 5b27 696e 666f 275d 5b27 7269  rket['info']['ri
+0002b770: 736b 4c69 6d69 7473 275d 290a 2020 2020  skLimits']).    
+0002b780: 2020 2020 7469 6572 7320 3d20 5b5d 0a20      tiers = []. 
+0002b790: 2020 2020 2020 206d 696e 4e6f 7469 6f6e         minNotion
+0002b7a0: 616c 203d 2030 0a20 2020 2020 2020 2066  al = 0.        f
+0002b7b0: 6f72 2069 2069 6e20 7261 6e67 6528 302c  or i in range(0,
+0002b7c0: 206c 656e 2872 6973 6b4c 696d 6974 7329   len(riskLimits)
+0002b7d0: 293a 0a20 2020 2020 2020 2020 2020 2074  ):.            t
+0002b7e0: 6965 7220 3d20 7269 736b 4c69 6d69 7473  ier = riskLimits
+0002b7f0: 5b69 5d0a 2020 2020 2020 2020 2020 2020  [i].            
+0002b800: 6d61 784e 6f74 696f 6e61 6c20 3d20 7365  maxNotional = se
+0002b810: 6c66 2e73 6166 655f 696e 7465 6765 7228  lf.safe_integer(
+0002b820: 7469 6572 2c20 276c 696d 6974 2729 0a20  tier, 'limit'). 
+0002b830: 2020 2020 2020 2020 2020 2074 6965 7273             tiers
+0002b840: 2e61 7070 656e 6428 7b0a 2020 2020 2020  .append({.      
+0002b850: 2020 2020 2020 2020 2020 2774 6965 7227            'tier'
+0002b860: 3a20 7365 6c66 2e73 756d 2869 2c20 3129  : self.sum(i, 1)
+0002b870: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002b880: 2020 2763 7572 7265 6e63 7927 3a20 6d61    'currency': ma
+0002b890: 726b 6574 5b27 7365 7474 6c65 275d 2c0a  rket['settle'],.
+0002b8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b8b0: 276d 696e 4e6f 7469 6f6e 616c 273a 206d  'minNotional': m
+0002b8c0: 696e 4e6f 7469 6f6e 616c 2c0a 2020 2020  inNotional,.    
+0002b8d0: 2020 2020 2020 2020 2020 2020 276d 6178              'max
+0002b8e0: 4e6f 7469 6f6e 616c 273a 206d 6178 4e6f  Notional': maxNo
+0002b8f0: 7469 6f6e 616c 2c0a 2020 2020 2020 2020  tional,.        
+0002b900: 2020 2020 2020 2020 276d 6169 6e74 656e          'mainten
+0002b910: 616e 6365 4d61 7267 696e 5261 7465 273a  anceMarginRate':
+0002b920: 2073 656c 662e 7361 6665 5f73 7472 696e   self.safe_strin
+0002b930: 6728 7469 6572 2c20 276d 6169 6e74 656e  g(tier, 'mainten
+0002b940: 616e 6365 4d61 7267 696e 2729 2c0a 2020  anceMargin'),.  
+0002b950: 2020 2020 2020 2020 2020 2020 2020 276d                'm
+0002b960: 6178 4c65 7665 7261 6765 273a 204e 6f6e  axLeverage': Non
+0002b970: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0002b980: 2020 2027 696e 666f 273a 2074 6965 722c     'info': tier,
+0002b990: 0a20 2020 2020 2020 2020 2020 207d 290a  .            }).
+0002b9a0: 2020 2020 2020 2020 2020 2020 6d69 6e4e              minN
+0002b9b0: 6f74 696f 6e61 6c20 3d20 6d61 784e 6f74  otional = maxNot
+0002b9c0: 696f 6e61 6c0a 2020 2020 2020 2020 7265  ional.        re
+0002b9d0: 7475 726e 2074 6965 7273 0a0a 2020 2020  turn tiers..    
+0002b9e0: 6465 6620 7369 676e 2873 656c 662c 2070  def sign(self, p
+0002b9f0: 6174 682c 2061 7069 3d27 7075 626c 6963  ath, api='public
+0002ba00: 272c 206d 6574 686f 643d 2747 4554 272c  ', method='GET',
+0002ba10: 2070 6172 616d 733d 7b7d 2c20 6865 6164   params={}, head
+0002ba20: 6572 733d 4e6f 6e65 2c20 626f 6479 3d4e  ers=None, body=N
+0002ba30: 6f6e 6529 3a0a 2020 2020 2020 2020 7175  one):.        qu
+0002ba40: 6572 7920 3d20 7365 6c66 2e6f 6d69 7428  ery = self.omit(
+0002ba50: 7061 7261 6d73 2c20 7365 6c66 2e65 7874  params, self.ext
+0002ba60: 7261 6374 5f70 6172 616d 7328 7061 7468  ract_params(path
+0002ba70: 2929 0a20 2020 2020 2020 2072 6571 7565  )).        reque
+0002ba80: 7374 5061 7468 203d 2027 2f27 202b 2073  stPath = '/' + s
+0002ba90: 656c 662e 696d 706c 6f64 655f 7061 7261  elf.implode_para
+0002baa0: 6d73 2870 6174 682c 2070 6172 616d 7329  ms(path, params)
+0002bab0: 0a20 2020 2020 2020 2075 726c 203d 2072  .        url = r
+0002bac0: 6571 7565 7374 5061 7468 0a20 2020 2020  equestPath.     
+0002bad0: 2020 2071 7565 7279 5374 7269 6e67 203d     queryString =
+0002bae0: 2027 270a 2020 2020 2020 2020 6966 2028   ''.        if (
+0002baf0: 6d65 7468 6f64 203d 3d20 2747 4554 2729  method == 'GET')
+0002bb00: 206f 7220 286d 6574 686f 6420 3d3d 2027   or (method == '
+0002bb10: 4445 4c45 5445 2729 206f 7220 286d 6574  DELETE') or (met
+0002bb20: 686f 6420 3d3d 2027 5055 5427 2920 6f72  hod == 'PUT') or
+0002bb30: 2028 7572 6c20 3d3d 2027 2f70 6f73 6974   (url == '/posit
+0002bb40: 696f 6e73 2f61 7373 6967 6e27 293a 0a20  ions/assign'):. 
+0002bb50: 2020 2020 2020 2020 2020 2069 6620 7175             if qu
+0002bb60: 6572 793a 0a20 2020 2020 2020 2020 2020  ery:.           
+0002bb70: 2020 2020 2071 7565 7279 5374 7269 6e67       queryString
+0002bb80: 203d 2073 656c 662e 7572 6c65 6e63 6f64   = self.urlencod
+0002bb90: 655f 7769 7468 5f61 7272 6179 5f72 6570  e_with_array_rep
+0002bba0: 6561 7428 7175 6572 7929 0a20 2020 2020  eat(query).     
+0002bbb0: 2020 2020 2020 2020 2020 2075 726c 202b             url +
+0002bbc0: 3d20 273f 2720 2b20 7175 6572 7953 7472  = '?' + queryStr
+0002bbd0: 696e 670a 2020 2020 2020 2020 6966 2061  ing.        if a
+0002bbe0: 7069 203d 3d20 2770 7269 7661 7465 273a  pi == 'private':
+0002bbf0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0002bc00: 662e 6368 6563 6b5f 7265 7175 6972 6564  f.check_required
+0002bc10: 5f63 7265 6465 6e74 6961 6c73 2829 0a20  _credentials(). 
+0002bc20: 2020 2020 2020 2020 2020 2074 696d 6573             times
+0002bc30: 7461 6d70 203d 2073 656c 662e 7365 636f  tamp = self.seco
+0002bc40: 6e64 7328 290a 2020 2020 2020 2020 2020  nds().          
+0002bc50: 2020 7850 6865 6d65 7852 6571 7565 7374    xPhemexRequest
+0002bc60: 4578 7069 7279 203d 2073 656c 662e 7361  Expiry = self.sa
+0002bc70: 6665 5f69 6e74 6567 6572 2873 656c 662e  fe_integer(self.
+0002bc80: 6f70 7469 6f6e 732c 2027 782d 7068 656d  options, 'x-phem
+0002bc90: 6578 2d72 6571 7565 7374 2d65 7870 6972  ex-request-expir
+0002bca0: 7927 2c20 3630 290a 2020 2020 2020 2020  y', 60).        
+0002bcb0: 2020 2020 6578 7069 7279 203d 2073 656c      expiry = sel
+0002bcc0: 662e 7375 6d28 7469 6d65 7374 616d 702c  f.sum(timestamp,
+0002bcd0: 2078 5068 656d 6578 5265 7175 6573 7445   xPhemexRequestE
+0002bce0: 7870 6972 7929 0a20 2020 2020 2020 2020  xpiry).         
+0002bcf0: 2020 2065 7870 6972 7953 7472 696e 6720     expiryString 
+0002bd00: 3d20 7374 7228 6578 7069 7279 290a 2020  = str(expiry).  
+0002bd10: 2020 2020 2020 2020 2020 6865 6164 6572            header
+0002bd20: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0002bd30: 2020 2020 2020 2778 2d70 6865 6d65 782d        'x-phemex-
+0002bd40: 6163 6365 7373 2d74 6f6b 656e 273a 2073  access-token': s
+0002bd50: 656c 662e 6170 694b 6579 2c0a 2020 2020  elf.apiKey,.    
+0002bd60: 2020 2020 2020 2020 2020 2020 2778 2d70              'x-p
+0002bd70: 6865 6d65 782d 7265 7175 6573 742d 6578  hemex-request-ex
+0002bd80: 7069 7279 273a 2065 7870 6972 7953 7472  piry': expiryStr
+0002bd90: 696e 672c 0a20 2020 2020 2020 2020 2020  ing,.           
+0002bda0: 207d 0a20 2020 2020 2020 2020 2020 2070   }.            p
+0002bdb0: 6179 6c6f 6164 203d 2027 270a 2020 2020  ayload = ''.    
+0002bdc0: 2020 2020 2020 2020 6966 206d 6574 686f          if metho
+0002bdd0: 6420 3d3d 2027 504f 5354 273a 0a20 2020  d == 'POST':.   
+0002bde0: 2020 2020 2020 2020 2020 2020 2070 6179               pay
+0002bdf0: 6c6f 6164 203d 2073 656c 662e 6a73 6f6e  load = self.json
+0002be00: 2870 6172 616d 7329 0a20 2020 2020 2020  (params).       
+0002be10: 2020 2020 2020 2020 2062 6f64 7920 3d20           body = 
+0002be20: 7061 796c 6f61 640a 2020 2020 2020 2020  payload.        
+0002be30: 2020 2020 2020 2020 6865 6164 6572 735b          headers[
+0002be40: 2743 6f6e 7465 6e74 2d54 7970 6527 5d20  'Content-Type'] 
+0002be50: 3d20 2761 7070 6c69 6361 7469 6f6e 2f6a  = 'application/j
+0002be60: 736f 6e27 0a20 2020 2020 2020 2020 2020  son'.           
+0002be70: 2061 7574 6820 3d20 7265 7175 6573 7450   auth = requestP
+0002be80: 6174 6820 2b20 7175 6572 7953 7472 696e  ath + queryStrin
+0002be90: 6720 2b20 6578 7069 7279 5374 7269 6e67  g + expiryString
+0002bea0: 202b 2070 6179 6c6f 6164 0a20 2020 2020   + payload.     
+0002beb0: 2020 2020 2020 2068 6561 6465 7273 5b27         headers['
+0002bec0: 782d 7068 656d 6578 2d72 6571 7565 7374  x-phemex-request
+0002bed0: 2d73 6967 6e61 7475 7265 275d 203d 2073  -signature'] = s
+0002bee0: 656c 662e 686d 6163 2873 656c 662e 656e  elf.hmac(self.en
+0002bef0: 636f 6465 2861 7574 6829 2c20 7365 6c66  code(auth), self
+0002bf00: 2e65 6e63 6f64 6528 7365 6c66 2e73 6563  .encode(self.sec
+0002bf10: 7265 7429 2c20 6861 7368 6c69 622e 7368  ret), hashlib.sh
+0002bf20: 6132 3536 290a 2020 2020 2020 2020 7572  a256).        ur
+0002bf30: 6c20 3d20 7365 6c66 2e69 6d70 6c6f 6465  l = self.implode
+0002bf40: 5f68 6f73 746e 616d 6528 7365 6c66 2e75  _hostname(self.u
+0002bf50: 726c 735b 2761 7069 275d 5b61 7069 5d29  rls['api'][api])
+0002bf60: 202b 2075 726c 0a20 2020 2020 2020 2072   + url.        r
+0002bf70: 6574 7572 6e20 7b27 7572 6c27 3a20 7572  eturn {'url': ur
+0002bf80: 6c2c 2027 6d65 7468 6f64 273a 206d 6574  l, 'method': met
+0002bf90: 686f 642c 2027 626f 6479 273a 2062 6f64  hod, 'body': bod
+0002bfa0: 792c 2027 6865 6164 6572 7327 3a20 6865  y, 'headers': he
+0002bfb0: 6164 6572 737d 0a0a 2020 2020 6173 796e  aders}..    asyn
+0002bfc0: 6320 6465 6620 7365 745f 6c65 7665 7261  c def set_levera
+0002bfd0: 6765 2873 656c 662c 206c 6576 6572 6167  ge(self, leverag
+0002bfe0: 652c 2073 796d 626f 6c3a 204f 7074 696f  e, symbol: Optio
+0002bff0: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
+0002c000: 2070 6172 616d 733d 7b7d 293a 0a20 2020   params={}):.   
+0002c010: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0002c020: 2073 6574 2074 6865 206c 6576 656c 206f   set the level o
+0002c030: 6620 6c65 7665 7261 6765 2066 6f72 2061  f leverage for a
+0002c040: 206d 6172 6b65 740a 2020 2020 2020 2020   market.        
+0002c050: 7365 6520 6874 7470 733a 2f2f 6769 7468  see https://gith
+0002c060: 7562 2e63 6f6d 2f70 6865 6d65 782f 7068  ub.com/phemex/ph
+0002c070: 656d 6578 2d61 7069 2d64 6f63 732f 626c  emex-api-docs/bl
+0002c080: 6f62 2f6d 6173 7465 722f 5075 626c 6963  ob/master/Public
+0002c090: 2d48 6564 6765 642d 5065 7270 6574 7561  -Hedged-Perpetua
+0002c0a0: 6c2d 4150 492e 6d64 2373 6574 2d6c 6576  l-API.md#set-lev
+0002c0b0: 6572 6167 650a 2020 2020 2020 2020 3a70  erage.        :p
+0002c0c0: 6172 616d 2066 6c6f 6174 206c 6576 6572  aram float lever
+0002c0d0: 6167 653a 2074 6865 2072 6174 6520 6f66  age: the rate of
+0002c0e0: 206c 6576 6572 6167 650a 2020 2020 2020   leverage.      
+0002c0f0: 2020 3a70 6172 616d 2073 7472 2073 796d    :param str sym
+0002c100: 626f 6c3a 2075 6e69 6669 6564 206d 6172  bol: unified mar
+0002c110: 6b65 7420 7379 6d62 6f6c 0a20 2020 2020  ket symbol.     
+0002c120: 2020 203a 7061 7261 6d20 6469 6374 2070     :param dict p
+0002c130: 6172 616d 733a 2065 7874 7261 2070 6172  arams: extra par
+0002c140: 616d 6574 6572 7320 7370 6563 6966 6963  ameters specific
+0002c150: 2074 6f20 7468 6520 7068 656d 6578 2061   to the phemex a
+0002c160: 7069 2065 6e64 706f 696e 740a 2020 2020  pi endpoint.    
+0002c170: 2020 2020 3a72 6574 7572 6e73 2064 6963      :returns dic
+0002c180: 743a 2072 6573 706f 6e73 6520 6672 6f6d  t: response from
+0002c190: 2074 6865 2065 7863 6861 6e67 650a 2020   the exchange.  
+0002c1a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0002c1b0: 2020 2320 5741 524e 494e 473a 2054 4849    # WARNING: THI
+0002c1c0: 5320 5749 4c4c 2049 4e43 5245 4153 4520  S WILL INCREASE 
+0002c1d0: 4c49 5155 4944 4154 494f 4e20 5052 4943  LIQUIDATION PRIC
+0002c1e0: 4520 464f 5220 4f50 454e 2049 534f 4c41  E FOR OPEN ISOLA
+0002c1f0: 5445 4420 4c4f 4e47 2050 4f53 4954 494f  TED LONG POSITIO
+0002c200: 4e53 0a20 2020 2020 2020 2023 2041 4e44  NS.        # AND
+0002c210: 2044 4543 5245 4153 4520 4c49 5155 4944   DECREASE LIQUID
+0002c220: 4154 494f 4e20 5052 4943 4520 464f 5220  ATION PRICE FOR 
+0002c230: 4f50 454e 2049 534f 4c41 5445 4420 5348  OPEN ISOLATED SH
+0002c240: 4f52 5420 504f 5349 5449 4f4e 530a 2020  ORT POSITIONS.  
+0002c250: 2020 2020 2020 6966 2073 796d 626f 6c20        if symbol 
+0002c260: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+0002c270: 2020 2020 2072 6169 7365 2041 7267 756d       raise Argum
+0002c280: 656e 7473 5265 7175 6972 6564 2873 656c  entsRequired(sel
+0002c290: 662e 6964 202b 2027 2073 6574 4c65 7665  f.id + ' setLeve
+0002c2a0: 7261 6765 2829 2072 6571 7569 7265 7320  rage() requires 
+0002c2b0: 6120 7379 6d62 6f6c 2061 7267 756d 656e  a symbol argumen
+0002c2c0: 7427 290a 2020 2020 2020 2020 6966 2028  t').        if (
+0002c2d0: 6c65 7665 7261 6765 203c 2031 2920 6f72  leverage < 1) or
+0002c2e0: 2028 6c65 7665 7261 6765 203e 2031 3030   (leverage > 100
+0002c2f0: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+0002c300: 6169 7365 2042 6164 5265 7175 6573 7428  aise BadRequest(
+0002c310: 7365 6c66 2e69 6420 2b20 2720 7365 744c  self.id + ' setL
+0002c320: 6576 6572 6167 6528 2920 6c65 7665 7261  everage() levera
+0002c330: 6765 2073 686f 756c 6420 6265 2062 6574  ge should be bet
+0002c340: 7765 656e 2031 2061 6e64 2031 3030 2729  ween 1 and 100')
+0002c350: 0a20 2020 2020 2020 2061 7761 6974 2073  .        await s
+0002c360: 656c 662e 6c6f 6164 5f6d 6172 6b65 7473  elf.load_markets
+0002c370: 2829 0a20 2020 2020 2020 206d 6172 6b65  ().        marke
+0002c380: 7420 3d20 7365 6c66 2e6d 6172 6b65 7428  t = self.market(
+0002c390: 7379 6d62 6f6c 290a 2020 2020 2020 2020  symbol).        
+0002c3a0: 7265 7175 6573 7420 3d20 7b0a 2020 2020  request = {.    
+0002c3b0: 2020 2020 2020 2020 2773 796d 626f 6c27          'symbol'
+0002c3c0: 3a20 6d61 726b 6574 5b27 6964 275d 2c0a  : market['id'],.
+0002c3d0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+0002c3e0: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
+0002c3f0: 6174 6550 7574 506f 7369 7469 6f6e 734c  atePutPositionsL
+0002c400: 6576 6572 6167 6527 0a20 2020 2020 2020  everage'.       
+0002c410: 2069 6620 6d61 726b 6574 5b27 7365 7474   if market['sett
+0002c420: 6c65 275d 203d 3d20 2755 5344 5427 3a0a  le'] == 'USDT':.
+0002c430: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
+0002c440: 6f64 203d 2027 7072 6976 6174 6550 7574  od = 'privatePut
+0002c450: 4750 6f73 6974 696f 6e73 4c65 7665 7261  GPositionsLevera
+0002c460: 6765 270a 2020 2020 2020 2020 2020 2020  ge'.            
+0002c470: 7265 7175 6573 745b 276c 6576 6572 6167  request['leverag
+0002c480: 6552 7227 5d20 3d20 6c65 7665 7261 6765  eRr'] = leverage
+0002c490: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0002c4a0: 2020 2020 2020 2020 2020 2072 6571 7565             reque
+0002c4b0: 7374 5b27 6c65 7665 7261 6765 275d 203d  st['leverage'] =
+0002c4c0: 206c 6576 6572 6167 650a 2020 2020 2020   leverage.      
+0002c4d0: 2020 7265 7475 726e 2061 7761 6974 2067    return await g
+0002c4e0: 6574 6174 7472 2873 656c 662c 206d 6574  etattr(self, met
+0002c4f0: 686f 6429 2873 656c 662e 6578 7465 6e64  hod)(self.extend
+0002c500: 2872 6571 7565 7374 2c20 7061 7261 6d73  (request, params
+0002c510: 2929 0a0a 2020 2020 6173 796e 6320 6465  ))..    async de
+0002c520: 6620 7472 616e 7366 6572 2873 656c 662c  f transfer(self,
+0002c530: 2063 6f64 653a 2073 7472 2c20 616d 6f75   code: str, amou
+0002c540: 6e74 2c20 6672 6f6d 4163 636f 756e 742c  nt, fromAccount,
+0002c550: 2074 6f41 6363 6f75 6e74 2c20 7061 7261   toAccount, para
+0002c560: 6d73 3d7b 7d29 3a0a 2020 2020 2020 2020  ms={}):.        
+0002c570: 2222 220a 2020 2020 2020 2020 7472 616e  """.        tran
+0002c580: 7366 6572 2063 7572 7265 6e63 7920 696e  sfer currency in
+0002c590: 7465 726e 616c 6c79 2062 6574 7765 656e  ternally between
+0002c5a0: 2077 616c 6c65 7473 206f 6e20 7468 6520   wallets on the 
+0002c5b0: 7361 6d65 2061 6363 6f75 6e74 0a20 2020  same account.   
+0002c5c0: 2020 2020 203a 7061 7261 6d20 7374 7220       :param str 
+0002c5d0: 636f 6465 3a20 756e 6966 6965 6420 6375  code: unified cu
+0002c5e0: 7272 656e 6379 2063 6f64 650a 2020 2020  rrency code.    
+0002c5f0: 2020 2020 3a70 6172 616d 2066 6c6f 6174      :param float
+0002c600: 2061 6d6f 756e 743a 2061 6d6f 756e 7420   amount: amount 
+0002c610: 746f 2074 7261 6e73 6665 720a 2020 2020  to transfer.    
+0002c620: 2020 2020 3a70 6172 616d 2073 7472 2066      :param str f
+0002c630: 726f 6d41 6363 6f75 6e74 3a20 6163 636f  romAccount: acco
+0002c640: 756e 7420 746f 2074 7261 6e73 6665 7220  unt to transfer 
+0002c650: 6672 6f6d 0a20 2020 2020 2020 203a 7061  from.        :pa
+0002c660: 7261 6d20 7374 7220 746f 4163 636f 756e  ram str toAccoun
+0002c670: 743a 2061 6363 6f75 6e74 2074 6f20 7472  t: account to tr
+0002c680: 616e 7366 6572 2074 6f0a 2020 2020 2020  ansfer to.      
+0002c690: 2020 3a70 6172 616d 2064 6963 7420 7061    :param dict pa
+0002c6a0: 7261 6d73 3a20 6578 7472 6120 7061 7261  rams: extra para
+0002c6b0: 6d65 7465 7273 2073 7065 6369 6669 6320  meters specific 
+0002c6c0: 746f 2074 6865 2070 6865 6d65 7820 6170  to the phemex ap
+0002c6d0: 6920 656e 6470 6f69 6e74 0a20 2020 2020  i endpoint.     
+0002c6e0: 2020 203a 7061 7261 6d20 7374 727c 4e6f     :param str|No
+0002c6f0: 6e65 2070 6172 616d 735b 2762 697a 5479  ne params['bizTy
+0002c700: 7065 275d 3a20 666f 7220 7472 616e 7366  pe']: for transf
+0002c710: 6572 7269 6e67 2062 6574 7765 656e 206d  erring between m
+0002c720: 6169 6e20 616e 6420 7375 622d 6163 6f75  ain and sub-acou
+0002c730: 6e74 7320 6569 7468 6572 2027 5350 4f54  nts either 'SPOT
+0002c740: 2720 6f72 2027 5045 5250 4554 5541 4c27  ' or 'PERPETUAL'
+0002c750: 2064 6566 6175 6c74 2069 7320 2753 504f   default is 'SPO
+0002c760: 5427 0a20 2020 2020 2020 203a 7265 7475  T'.        :retu
+0002c770: 726e 7320 6469 6374 3a20 6120 6074 7261  rns dict: a `tra
+0002c780: 6e73 6665 7220 7374 7275 6374 7572 6520  nsfer structure 
+0002c790: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
+0002c7a0: 7874 2e63 6f6d 2f23 2f3f 6964 3d74 7261  xt.com/#/?id=tra
+0002c7b0: 6e73 6665 722d 7374 7275 6374 7572 653e  nsfer-structure>
+0002c7c0: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
+0002c7d0: 2020 2020 2020 6177 6169 7420 7365 6c66        await self
+0002c7e0: 2e6c 6f61 645f 6d61 726b 6574 7328 290a  .load_markets().
+0002c7f0: 2020 2020 2020 2020 6375 7272 656e 6379          currency
+0002c800: 203d 2073 656c 662e 6375 7272 656e 6379   = self.currency
+0002c810: 2863 6f64 6529 0a20 2020 2020 2020 2061  (code).        a
+0002c820: 6363 6f75 6e74 7342 7954 7970 6520 3d20  ccountsByType = 
+0002c830: 7365 6c66 2e73 6166 655f 7661 6c75 6528  self.safe_value(
+0002c840: 7365 6c66 2e6f 7074 696f 6e73 2c20 2761  self.options, 'a
+0002c850: 6363 6f75 6e74 7342 7954 7970 6527 2c20  ccountsByType', 
+0002c860: 7b7d 290a 2020 2020 2020 2020 6672 6f6d  {}).        from
+0002c870: 4964 203d 2073 656c 662e 7361 6665 5f73  Id = self.safe_s
+0002c880: 7472 696e 6728 6163 636f 756e 7473 4279  tring(accountsBy
+0002c890: 5479 7065 2c20 6672 6f6d 4163 636f 756e  Type, fromAccoun
+0002c8a0: 742c 2066 726f 6d41 6363 6f75 6e74 290a  t, fromAccount).
+0002c8b0: 2020 2020 2020 2020 746f 4964 203d 2073          toId = s
+0002c8c0: 656c 662e 7361 6665 5f73 7472 696e 6728  elf.safe_string(
+0002c8d0: 6163 636f 756e 7473 4279 5479 7065 2c20  accountsByType, 
+0002c8e0: 746f 4163 636f 756e 742c 2074 6f41 6363  toAccount, toAcc
+0002c8f0: 6f75 6e74 290a 2020 2020 2020 2020 7363  ount).        sc
+0002c900: 616c 6564 416d 6d6f 756e 7420 3d20 7365  aledAmmount = se
+0002c910: 6c66 2e74 6f5f 6576 2861 6d6f 756e 742c  lf.to_ev(amount,
+0002c920: 2063 7572 7265 6e63 7929 0a20 2020 2020   currency).     
+0002c930: 2020 2064 6972 6563 7469 6f6e 203d 204e     direction = N
+0002c940: 6f6e 650a 2020 2020 2020 2020 7472 616e  one.        tran
+0002c950: 7366 6572 203d 204e 6f6e 650a 2020 2020  sfer = None.    
+0002c960: 2020 2020 6966 2066 726f 6d49 6420 3d3d      if fromId ==
+0002c970: 2027 7370 6f74 2720 616e 6420 746f 4964   'spot' and toId
+0002c980: 203d 3d20 2766 7574 7572 6527 3a0a 2020   == 'future':.  
+0002c990: 2020 2020 2020 2020 2020 6469 7265 6374            direct
+0002c9a0: 696f 6e20 3d20 320a 2020 2020 2020 2020  ion = 2.        
+0002c9b0: 656c 6966 2066 726f 6d49 6420 3d3d 2027  elif fromId == '
+0002c9c0: 6675 7475 7265 2720 616e 6420 746f 4964  future' and toId
+0002c9d0: 203d 3d20 2773 706f 7427 3a0a 2020 2020   == 'spot':.    
+0002c9e0: 2020 2020 2020 2020 6469 7265 6374 696f          directio
+0002c9f0: 6e20 3d20 310a 2020 2020 2020 2020 6966  n = 1.        if
+0002ca00: 2064 6972 6563 7469 6f6e 2069 7320 6e6f   direction is no
+0002ca10: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+0002ca20: 2020 2020 7265 7175 6573 7420 3d20 7b0a      request = {.
+0002ca30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ca40: 2763 7572 7265 6e63 7927 3a20 6375 7272  'currency': curr
+0002ca50: 656e 6379 5b27 6964 275d 2c0a 2020 2020  ency['id'],.    
+0002ca60: 2020 2020 2020 2020 2020 2020 276d 6f76              'mov
+0002ca70: 654f 7027 3a20 6469 7265 6374 696f 6e2c  eOp': direction,
+0002ca80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002ca90: 2027 616d 6f75 6e74 4576 273a 2073 6361   'amountEv': sca
+0002caa0: 6c65 6441 6d6d 6f75 6e74 2c0a 2020 2020  ledAmmount,.    
+0002cab0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+0002cac0: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
+0002cad0: 2061 7761 6974 2073 656c 662e 7072 6976   await self.priv
+0002cae0: 6174 6550 6f73 7441 7373 6574 7354 7261  atePostAssetsTra
+0002caf0: 6e73 6665 7228 7365 6c66 2e65 7874 656e  nsfer(self.exten
+0002cb00: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
+0002cb10: 7329 290a 2020 2020 2020 2020 2020 2020  s)).            
+0002cb20: 230a 2020 2020 2020 2020 2020 2020 2320  #.            # 
+0002cb30: 2020 2020 7b0a 2020 2020 2020 2020 2020      {.          
+0002cb40: 2020 2320 2020 2020 2020 2020 636f 6465    #         code
+0002cb50: 3a20 2730 272c 0a20 2020 2020 2020 2020  : '0',.         
+0002cb60: 2020 2023 2020 2020 2020 2020 206d 7367     #         msg
+0002cb70: 3a20 274f 4b27 2c0a 2020 2020 2020 2020  : 'OK',.        
+0002cb80: 2020 2020 2320 2020 2020 2020 2020 6461      #         da
+0002cb90: 7461 3a20 7b0a 2020 2020 2020 2020 2020  ta: {.          
+0002cba0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002cbb0: 6c69 6e6b 4b65 793a 2027 3835 3634 6562  linkKey: '8564eb
+0002cbc0: 6134 2d63 3965 632d 3439 6436 2d39 6238  a4-c9ec-49d6-9b8
+0002cbd0: 632d 3265 6335 3030 3161 3066 6239 272c  c-2ec5001a0fb9',
+0002cbe0: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+0002cbf0: 2020 2020 2020 2020 2020 2075 7365 7249             userI
+0002cc00: 643a 2027 3430 3138 3334 3027 2c0a 2020  d: '4018340',.  
+0002cc10: 2020 2020 2020 2020 2020 2320 2020 2020            #     
+0002cc20: 2020 2020 2020 2020 6375 7272 656e 6379          currency
+0002cc30: 3a20 2755 5344 272c 0a20 2020 2020 2020  : 'USD',.       
+0002cc40: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002cc50: 2020 2061 6d6f 756e 7445 763a 2027 3130     amountEv: '10
+0002cc60: 272c 0a20 2020 2020 2020 2020 2020 2023  ',.            #
+0002cc70: 2020 2020 2020 2020 2020 2020 2073 6964               sid
+0002cc80: 653a 2027 3227 2c0a 2020 2020 2020 2020  e: '2',.        
+0002cc90: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002cca0: 2020 7374 6174 7573 3a20 2731 3027 0a20    status: '10'. 
+0002ccb0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
+0002ccc0: 2020 2020 207d 0a20 2020 2020 2020 2020       }.         
+0002ccd0: 2020 2023 2020 2020 207d 0a20 2020 2020     #     }.     
+0002cce0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
+0002ccf0: 2020 2020 2064 6174 6120 3d20 7365 6c66       data = self
+0002cd00: 2e73 6166 655f 7661 6c75 6528 7265 7370  .safe_value(resp
+0002cd10: 6f6e 7365 2c20 2764 6174 6127 2c20 7b7d  onse, 'data', {}
+0002cd20: 290a 2020 2020 2020 2020 2020 2020 7472  ).            tr
+0002cd30: 616e 7366 6572 203d 2073 656c 662e 7061  ansfer = self.pa
+0002cd40: 7273 655f 7472 616e 7366 6572 2864 6174  rse_transfer(dat
+0002cd50: 612c 2063 7572 7265 6e63 7929 0a20 2020  a, currency).   
+0002cd60: 2020 2020 2065 6c73 653a 2020 2320 7375       else:  # su
+0002cd70: 6220 6163 636f 756e 7420 7472 616e 7366  b account transf
+0002cd80: 6572 0a20 2020 2020 2020 2020 2020 2072  er.            r
+0002cd90: 6571 7565 7374 203d 207b 0a20 2020 2020  equest = {.     
+0002cda0: 2020 2020 2020 2020 2020 2027 6672 6f6d             'from
+0002cdb0: 5573 6572 4964 273a 2066 726f 6d49 642c  UserId': fromId,
+0002cdc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002cdd0: 2027 746f 5573 6572 4964 273a 2074 6f49   'toUserId': toI
+0002cde0: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
+0002cdf0: 2020 2027 616d 6f75 6e74 4576 273a 2073     'amountEv': s
+0002ce00: 6361 6c65 6441 6d6d 6f75 6e74 2c0a 2020  caledAmmount,.  
+0002ce10: 2020 2020 2020 2020 2020 2020 2020 2763                'c
+0002ce20: 7572 7265 6e63 7927 3a20 6375 7272 656e  urrency': curren
+0002ce30: 6379 5b27 6964 275d 2c0a 2020 2020 2020  cy['id'],.      
+0002ce40: 2020 2020 2020 2020 2020 2762 697a 5479            'bizTy
+0002ce50: 7065 273a 2073 656c 662e 7361 6665 5f73  pe': self.safe_s
+0002ce60: 7472 696e 6728 7061 7261 6d73 2c20 2762  tring(params, 'b
+0002ce70: 697a 5479 7065 272c 2027 5350 4f54 2729  izType', 'SPOT')
+0002ce80: 2c0a 2020 2020 2020 2020 2020 2020 7d0a  ,.            }.
+0002ce90: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+0002cea0: 6f6e 7365 203d 2061 7761 6974 2073 656c  onse = await sel
+0002ceb0: 662e 7072 6976 6174 6550 6f73 7441 7373  f.privatePostAss
+0002cec0: 6574 7355 6e69 7665 7273 616c 5472 616e  etsUniversalTran
+0002ced0: 7366 6572 2873 656c 662e 6578 7465 6e64  sfer(self.extend
+0002cee0: 2872 6571 7565 7374 2c20 7061 7261 6d73  (request, params
+0002cef0: 2929 0a20 2020 2020 2020 2020 2020 2023  )).            #
+0002cf00: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+0002cf10: 2020 207b 0a20 2020 2020 2020 2020 2020     {.           
+0002cf20: 2023 2020 2020 2020 2020 2063 6f64 653a   #         code:
+0002cf30: 2027 3027 2c0a 2020 2020 2020 2020 2020   '0',.          
+0002cf40: 2020 2320 2020 2020 2020 2020 6d73 673a    #         msg:
+0002cf50: 2027 4f4b 272c 0a20 2020 2020 2020 2020   'OK',.         
+0002cf60: 2020 2023 2020 2020 2020 2020 2064 6174     #         dat
+0002cf70: 613a 2027 4150 492d 3932 3364 6238 3236  a: 'API-923db826
+0002cf80: 2d61 6161 612d 6161 6161 2d61 6161 612d  -aaaa-aaaa-aaaa-
+0002cf90: 3464 3938 6333 6137 6339 6664 270a 2020  4d98c3a7c9fd'.  
+0002cfa0: 2020 2020 2020 2020 2020 2320 2020 2020            #     
+0002cfb0: 7d0a 2020 2020 2020 2020 2020 2020 230a  }.            #.
+0002cfc0: 2020 2020 2020 2020 2020 2020 7472 616e              tran
+0002cfd0: 7366 6572 203d 2073 656c 662e 7061 7273  sfer = self.pars
+0002cfe0: 655f 7472 616e 7366 6572 2872 6573 706f  e_transfer(respo
+0002cff0: 6e73 6529 0a20 2020 2020 2020 2074 7261  nse).        tra
+0002d000: 6e73 6665 724f 7074 696f 6e73 203d 2073  nsferOptions = s
+0002d010: 656c 662e 7361 6665 5f76 616c 7565 2873  elf.safe_value(s
+0002d020: 656c 662e 6f70 7469 6f6e 732c 2027 7472  elf.options, 'tr
+0002d030: 616e 7366 6572 272c 207b 7d29 0a20 2020  ansfer', {}).   
+0002d040: 2020 2020 2066 696c 6c52 6573 706f 6e73       fillRespons
+0002d050: 6546 726f 6d52 6571 7565 7374 203d 2073  eFromRequest = s
+0002d060: 656c 662e 7361 6665 5f76 616c 7565 2874  elf.safe_value(t
+0002d070: 7261 6e73 6665 724f 7074 696f 6e73 2c20  ransferOptions, 
+0002d080: 2766 696c 6c52 6573 706f 6e73 6546 726f  'fillResponseFro
+0002d090: 6d52 6571 7565 7374 272c 2054 7275 6529  mRequest', True)
+0002d0a0: 0a20 2020 2020 2020 2069 6620 6669 6c6c  .        if fill
+0002d0b0: 5265 7370 6f6e 7365 4672 6f6d 5265 7175  ResponseFromRequ
+0002d0c0: 6573 743a 0a20 2020 2020 2020 2020 2020  est:.           
+0002d0d0: 2069 6620 7472 616e 7366 6572 5b27 6672   if transfer['fr
+0002d0e0: 6f6d 4163 636f 756e 7427 5d20 6973 204e  omAccount'] is N
+0002d0f0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002d100: 2020 2020 2074 7261 6e73 6665 725b 2766       transfer['f
+0002d110: 726f 6d41 6363 6f75 6e74 275d 203d 2066  romAccount'] = f
+0002d120: 726f 6d41 6363 6f75 6e74 0a20 2020 2020  romAccount.     
+0002d130: 2020 2020 2020 2069 6620 7472 616e 7366         if transf
+0002d140: 6572 5b27 746f 4163 636f 756e 7427 5d20  er['toAccount'] 
+0002d150: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+0002d160: 2020 2020 2020 2020 2074 7261 6e73 6665           transfe
+0002d170: 725b 2774 6f41 6363 6f75 6e74 275d 203d  r['toAccount'] =
+0002d180: 2074 6f41 6363 6f75 6e74 0a20 2020 2020   toAccount.     
+0002d190: 2020 2020 2020 2069 6620 7472 616e 7366         if transf
+0002d1a0: 6572 5b27 616d 6f75 6e74 275d 2069 7320  er['amount'] is 
+0002d1b0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0002d1c0: 2020 2020 2020 7472 616e 7366 6572 5b27        transfer['
+0002d1d0: 616d 6f75 6e74 275d 203d 2061 6d6f 756e  amount'] = amoun
+0002d1e0: 740a 2020 2020 2020 2020 2020 2020 6966  t.            if
+0002d1f0: 2074 7261 6e73 6665 725b 2763 7572 7265   transfer['curre
+0002d200: 6e63 7927 5d20 6973 204e 6f6e 653a 0a20  ncy'] is None:. 
+0002d210: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0002d220: 7261 6e73 6665 725b 2763 7572 7265 6e63  ransfer['currenc
+0002d230: 7927 5d20 3d20 636f 6465 0a20 2020 2020  y'] = code.     
+0002d240: 2020 2072 6574 7572 6e20 7472 616e 7366     return transf
+0002d250: 6572 0a0a 2020 2020 6173 796e 6320 6465  er..    async de
+0002d260: 6620 6665 7463 685f 7472 616e 7366 6572  f fetch_transfer
+0002d270: 7328 7365 6c66 2c20 636f 6465 3a20 4f70  s(self, code: Op
+0002d280: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+0002d290: 6e65 2c20 7369 6e63 653a 204f 7074 696f  ne, since: Optio
+0002d2a0: 6e61 6c5b 696e 745d 203d 204e 6f6e 652c  nal[int] = None,
+0002d2b0: 206c 696d 6974 3a20 4f70 7469 6f6e 616c   limit: Optional
+0002d2c0: 5b69 6e74 5d20 3d20 4e6f 6e65 2c20 7061  [int] = None, pa
+0002d2d0: 7261 6d73 3d7b 7d29 3a0a 2020 2020 2020  rams={}):.      
+0002d2e0: 2020 2222 220a 2020 2020 2020 2020 6665    """.        fe
+0002d2f0: 7463 6820 6120 6869 7374 6f72 7920 6f66  tch a history of
+0002d300: 2069 6e74 6572 6e61 6c20 7472 616e 7366   internal transf
+0002d310: 6572 7320 6d61 6465 206f 6e20 616e 2061  ers made on an a
+0002d320: 6363 6f75 6e74 0a20 2020 2020 2020 203a  ccount.        :
+0002d330: 7061 7261 6d20 7374 727c 4e6f 6e65 2063  param str|None c
+0002d340: 6f64 653a 2075 6e69 6669 6564 2063 7572  ode: unified cur
+0002d350: 7265 6e63 7920 636f 6465 206f 6620 7468  rency code of th
+0002d360: 6520 6375 7272 656e 6379 2074 7261 6e73  e currency trans
+0002d370: 6665 7272 6564 0a20 2020 2020 2020 203a  ferred.        :
+0002d380: 7061 7261 6d20 696e 747c 4e6f 6e65 2073  param int|None s
+0002d390: 696e 6365 3a20 7468 6520 6561 726c 6965  ince: the earlie
+0002d3a0: 7374 2074 696d 6520 696e 206d 7320 746f  st time in ms to
+0002d3b0: 2066 6574 6368 2074 7261 6e73 6665 7273   fetch transfers
+0002d3c0: 2066 6f72 0a20 2020 2020 2020 203a 7061   for.        :pa
+0002d3d0: 7261 6d20 696e 747c 4e6f 6e65 206c 696d  ram int|None lim
+0002d3e0: 6974 3a20 7468 6520 6d61 7869 6d75 6d20  it: the maximum 
+0002d3f0: 6e75 6d62 6572 206f 6620 2074 7261 6e73  number of  trans
+0002d400: 6665 7273 2073 7472 7563 7475 7265 7320  fers structures 
+0002d410: 746f 2072 6574 7269 6576 650a 2020 2020  to retrieve.    
+0002d420: 2020 2020 3a70 6172 616d 2064 6963 7420      :param dict 
+0002d430: 7061 7261 6d73 3a20 6578 7472 6120 7061  params: extra pa
+0002d440: 7261 6d65 7465 7273 2073 7065 6369 6669  rameters specifi
+0002d450: 6320 746f 2074 6865 2070 6865 6d65 7820  c to the phemex 
+0002d460: 6170 6920 656e 6470 6f69 6e74 0a20 2020  api endpoint.   
+0002d470: 2020 2020 203a 7265 7475 726e 7320 5b64       :returns [d
+0002d480: 6963 745d 3a20 6120 6c69 7374 206f 6620  ict]: a list of 
+0002d490: 6074 7261 6e73 6665 7220 7374 7275 6374  `transfer struct
+0002d4a0: 7572 6573 203c 6874 7470 733a 2f2f 646f  ures <https://do
+0002d4b0: 6373 2e63 6378 742e 636f 6d2f 232f 3f69  cs.ccxt.com/#/?i
+0002d4c0: 643d 7472 616e 7366 6572 2d73 7472 7563  d=transfer-struc
+0002d4d0: 7475 7265 3e60 0a20 2020 2020 2020 2022  ture>`.        "
+0002d4e0: 2222 0a20 2020 2020 2020 2061 7761 6974  "".        await
+0002d4f0: 2073 656c 662e 6c6f 6164 5f6d 6172 6b65   self.load_marke
+0002d500: 7473 2829 0a20 2020 2020 2020 2069 6620  ts().        if 
+0002d510: 636f 6465 2069 7320 4e6f 6e65 3a0a 2020  code is None:.  
+0002d520: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0002d530: 4172 6775 6d65 6e74 7352 6571 7569 7265  ArgumentsRequire
+0002d540: 6428 7365 6c66 2e69 6420 2b20 2720 6665  d(self.id + ' fe
+0002d550: 7463 6854 7261 6e73 6665 7273 2829 2072  tchTransfers() r
+0002d560: 6571 7569 7265 7320 6120 636f 6465 2061  equires a code a
+0002d570: 7267 756d 656e 7427 290a 2020 2020 2020  rgument').      
+0002d580: 2020 6375 7272 656e 6379 203d 2073 656c    currency = sel
+0002d590: 662e 6375 7272 656e 6379 2863 6f64 6529  f.currency(code)
+0002d5a0: 0a20 2020 2020 2020 2072 6571 7565 7374  .        request
+0002d5b0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0002d5c0: 2027 6375 7272 656e 6379 273a 2063 7572   'currency': cur
+0002d5d0: 7265 6e63 795b 2769 6427 5d2c 0a20 2020  rency['id'],.   
+0002d5e0: 2020 2020 207d 0a20 2020 2020 2020 2069       }.        i
+0002d5f0: 6620 7369 6e63 6520 6973 206e 6f74 204e  f since is not N
+0002d600: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002d610: 2072 6571 7565 7374 5b27 7374 6172 7427   request['start'
+0002d620: 5d20 3d20 7369 6e63 650a 2020 2020 2020  ] = since.      
+0002d630: 2020 6966 206c 696d 6974 2069 7320 6e6f    if limit is no
+0002d640: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+0002d650: 2020 2020 7265 7175 6573 745b 276c 696d      request['lim
+0002d660: 6974 275d 203d 206c 696d 6974 0a20 2020  it'] = limit.   
+0002d670: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
+0002d680: 6177 6169 7420 7365 6c66 2e70 7269 7661  await self.priva
+0002d690: 7465 4765 7441 7373 6574 7354 7261 6e73  teGetAssetsTrans
+0002d6a0: 6665 7228 7365 6c66 2e65 7874 656e 6428  fer(self.extend(
+0002d6b0: 7265 7175 6573 742c 2070 6172 616d 7329  request, params)
+0002d6c0: 290a 2020 2020 2020 2020 230a 2020 2020  ).        #.    
+0002d6d0: 2020 2020 2320 2020 2020 7b0a 2020 2020      #     {.    
+0002d6e0: 2020 2020 2320 2020 2020 2020 2020 2263      #         "c
+0002d6f0: 6f64 6522 3a20 302c 0a20 2020 2020 2020  ode": 0,.       
+0002d700: 2023 2020 2020 2020 2020 2022 6d73 6722   #         "msg"
+0002d710: 3a20 224f 4b22 2c0a 2020 2020 2020 2020  : "OK",.        
+0002d720: 2320 2020 2020 2020 2020 2264 6174 6122  #         "data"
+0002d730: 3a20 7b0a 2020 2020 2020 2020 2320 2020  : {.        #   
+0002d740: 2020 2020 2020 2020 2020 2272 6f77 7322            "rows"
+0002d750: 3a20 5b0a 2020 2020 2020 2020 2320 2020  : [.        #   
+0002d760: 2020 2020 2020 2020 2020 2020 2020 7b0a                {.
+0002d770: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002d780: 2020 2020 2020 2020 2020 2020 2020 226c                "l
+0002d790: 696e 6b4b 6579 223a 2022 3837 6330 3731  inkKey": "87c071
+0002d7a0: 6133 2d38 3632 382d 3461 6332 2d61 6361  a3-8628-4ac2-aca
+0002d7b0: 312d 3663 6530 6431 6661 6436 3663 222c  1-6ce0d1fad66c",
+0002d7c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+0002d7d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0002d7e0: 7573 6572 4964 223a 2034 3134 3834 3238  userId": 4148428
+0002d7f0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002d800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d810: 2263 7572 7265 6e63 7922 3a20 2242 5443  "currency": "BTC
+0002d820: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002d830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d840: 2022 616d 6f75 6e74 4576 223a 2036 3739   "amountEv": 679
+0002d850: 3332 2c0a 2020 2020 2020 2020 2320 2020  32,.        #   
+0002d860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d870: 2020 2273 6964 6522 3a20 322c 0a20 2020    "side": 2,.   
+0002d880: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002d890: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
+0002d8a0: 7573 223a 2031 302c 0a20 2020 2020 2020  us": 10,.       
+0002d8b0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002d8c0: 2020 2020 2020 2022 6372 6561 7465 5469         "createTi
+0002d8d0: 6d65 223a 2031 3635 3238 3332 3436 3730  me": 16528324670
+0002d8e0: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+0002d8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d900: 2020 2262 697a 5479 7065 223a 2031 300a    "bizType": 10.
+0002d910: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002d920: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
+0002d930: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002d940: 2020 5d0a 2020 2020 2020 2020 2320 2020    ].        #   
+0002d950: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0002d960: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
+0002d970: 230a 2020 2020 2020 2020 6461 7461 203d  #.        data =
+0002d980: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+0002d990: 2872 6573 706f 6e73 652c 2027 6461 7461  (response, 'data
+0002d9a0: 272c 207b 7d29 0a20 2020 2020 2020 2074  ', {}).        t
+0002d9b0: 7261 6e73 6665 7273 203d 2073 656c 662e  ransfers = self.
+0002d9c0: 7361 6665 5f76 616c 7565 2864 6174 612c  safe_value(data,
+0002d9d0: 2027 726f 7773 272c 205b 5d29 0a20 2020   'rows', []).   
+0002d9e0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0002d9f0: 2e70 6172 7365 5f74 7261 6e73 6665 7273  .parse_transfers
+0002da00: 2874 7261 6e73 6665 7273 2c20 6375 7272  (transfers, curr
+0002da10: 656e 6379 2c20 7369 6e63 652c 206c 696d  ency, since, lim
+0002da20: 6974 290a 0a20 2020 2064 6566 2070 6172  it)..    def par
+0002da30: 7365 5f74 7261 6e73 6665 7228 7365 6c66  se_transfer(self
+0002da40: 2c20 7472 616e 7366 6572 2c20 6375 7272  , transfer, curr
+0002da50: 656e 6379 3d4e 6f6e 6529 3a0a 2020 2020  ency=None):.    
+0002da60: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+0002da70: 7472 616e 7366 6572 0a20 2020 2020 2020  transfer.       
+0002da80: 2023 0a20 2020 2020 2020 2023 2020 2020   #.        #    
+0002da90: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+0002daa0: 2020 2020 206c 696e 6b4b 6579 3a20 2738       linkKey: '8
+0002dab0: 3536 3465 6261 342d 6339 6563 2d34 3964  564eba4-c9ec-49d
+0002dac0: 362d 3962 3863 2d32 6563 3530 3031 6130  6-9b8c-2ec5001a0
+0002dad0: 6662 3927 2c0a 2020 2020 2020 2020 2320  fb9',.        # 
+0002dae0: 2020 2020 2020 2020 7573 6572 4964 3a20          userId: 
+0002daf0: 2734 3031 3833 3430 272c 0a20 2020 2020  '4018340',.     
+0002db00: 2020 2023 2020 2020 2020 2020 2063 7572     #         cur
+0002db10: 7265 6e63 793a 2027 5553 4427 2c0a 2020  rency: 'USD',.  
+0002db20: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002db30: 616d 6f75 6e74 4576 3a20 2731 3027 2c0a  amountEv: '10',.
+0002db40: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002db50: 2020 7369 6465 3a20 2732 272c 0a20 2020    side: '2',.   
+0002db60: 2020 2020 2023 2020 2020 2020 2020 2073       #         s
+0002db70: 7461 7475 733a 2027 3130 270a 2020 2020  tatus: '10'.    
+0002db80: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
+0002db90: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+0002dba0: 6665 7463 6854 7261 6e73 6665 7273 0a20  fetchTransfers. 
+0002dbb0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
+0002dbc0: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
+0002dbd0: 2023 2020 2020 2020 2020 2022 6c69 6e6b   #         "link
+0002dbe0: 4b65 7922 3a20 2238 3763 3037 3161 332d  Key": "87c071a3-
+0002dbf0: 3836 3238 2d34 6163 322d 6163 6131 2d36  8628-4ac2-aca1-6
+0002dc00: 6365 3064 3166 6164 3636 6322 2c0a 2020  ce0d1fad66c",.  
+0002dc10: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002dc20: 2275 7365 7249 6422 3a20 3431 3438 3432  "userId": 414842
+0002dc30: 382c 0a20 2020 2020 2020 2023 2020 2020  8,.        #    
+0002dc40: 2020 2020 2022 6375 7272 656e 6379 223a       "currency":
+0002dc50: 2022 4254 4322 2c0a 2020 2020 2020 2020   "BTC",.        
+0002dc60: 2320 2020 2020 2020 2020 2261 6d6f 756e  #         "amoun
+0002dc70: 7445 7622 3a20 3637 3933 322c 0a20 2020  tEv": 67932,.   
+0002dc80: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+0002dc90: 7369 6465 223a 2032 2c0a 2020 2020 2020  side": 2,.      
+0002dca0: 2020 2320 2020 2020 2020 2020 2273 7461    #         "sta
+0002dcb0: 7475 7322 3a20 3130 2c0a 2020 2020 2020  tus": 10,.      
+0002dcc0: 2020 2320 2020 2020 2020 2020 2263 7265    #         "cre
+0002dcd0: 6174 6554 696d 6522 3a20 3136 3532 3833  ateTime": 165283
+0002dce0: 3234 3637 3030 302c 0a20 2020 2020 2020  2467000,.       
+0002dcf0: 2023 2020 2020 2020 2020 2022 6269 7a54   #         "bizT
+0002dd00: 7970 6522 3a20 3130 0a20 2020 2020 2020  ype": 10.       
+0002dd10: 2023 2020 2020 207d 0a20 2020 2020 2020   #     }.       
+0002dd20: 2023 0a20 2020 2020 2020 2069 6420 3d20   #.        id = 
+0002dd30: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+0002dd40: 2874 7261 6e73 6665 722c 2027 6c69 6e6b  (transfer, 'link
+0002dd50: 4b65 7927 290a 2020 2020 2020 2020 7374  Key').        st
+0002dd60: 6174 7573 203d 2073 656c 662e 7361 6665  atus = self.safe
+0002dd70: 5f73 7472 696e 6728 7472 616e 7366 6572  _string(transfer
+0002dd80: 2c20 2773 7461 7475 7327 290a 2020 2020  , 'status').    
+0002dd90: 2020 2020 616d 6f75 6e74 4576 203d 2073      amountEv = s
+0002dda0: 656c 662e 7361 6665 5f73 7472 696e 6728  elf.safe_string(
+0002ddb0: 7472 616e 7366 6572 2c20 2761 6d6f 756e  transfer, 'amoun
+0002ddc0: 7445 7627 290a 2020 2020 2020 2020 616d  tEv').        am
+0002ddd0: 6f75 6e74 5472 616e 7366 6572 6564 203d  ountTransfered =
+0002dde0: 2073 656c 662e 6672 6f6d 5f65 7628 616d   self.from_ev(am
+0002ddf0: 6f75 6e74 4576 2c20 6375 7272 656e 6379  ountEv, currency
+0002de00: 290a 2020 2020 2020 2020 6375 7272 656e  ).        curren
+0002de10: 6379 4964 203d 2073 656c 662e 7361 6665  cyId = self.safe
+0002de20: 5f73 7472 696e 6728 7472 616e 7366 6572  _string(transfer
+0002de30: 2c20 2763 7572 7265 6e63 7927 290a 2020  , 'currency').  
+0002de40: 2020 2020 2020 636f 6465 203d 2073 656c        code = sel
+0002de50: 662e 7361 6665 5f63 7572 7265 6e63 795f  f.safe_currency_
+0002de60: 636f 6465 2863 7572 7265 6e63 7949 642c  code(currencyId,
+0002de70: 2063 7572 7265 6e63 7929 0a20 2020 2020   currency).     
+0002de80: 2020 2073 6964 6520 3d20 7365 6c66 2e73     side = self.s
+0002de90: 6166 655f 696e 7465 6765 7228 7472 616e  afe_integer(tran
+0002dea0: 7366 6572 2c20 2773 6964 6527 290a 2020  sfer, 'side').  
+0002deb0: 2020 2020 2020 6672 6f6d 4964 203d 204e        fromId = N
+0002dec0: 6f6e 650a 2020 2020 2020 2020 746f 4964  one.        toId
+0002ded0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+0002dee0: 6966 2073 6964 6520 3d3d 2031 3a0a 2020  if side == 1:.  
+0002def0: 2020 2020 2020 2020 2020 6672 6f6d 4964            fromId
+0002df00: 203d 2027 7377 6170 270a 2020 2020 2020   = 'swap'.      
+0002df10: 2020 2020 2020 746f 4964 203d 2027 7370        toId = 'sp
+0002df20: 6f74 270a 2020 2020 2020 2020 656c 6966  ot'.        elif
+0002df30: 2073 6964 6520 3d3d 2032 3a0a 2020 2020   side == 2:.    
+0002df40: 2020 2020 2020 2020 6672 6f6d 4964 203d          fromId =
+0002df50: 2027 7370 6f74 270a 2020 2020 2020 2020   'spot'.        
+0002df60: 2020 2020 746f 4964 203d 2027 7377 6170      toId = 'swap
+0002df70: 270a 2020 2020 2020 2020 7469 6d65 7374  '.        timest
+0002df80: 616d 7020 3d20 7365 6c66 2e73 6166 655f  amp = self.safe_
+0002df90: 696e 7465 6765 7228 7472 616e 7366 6572  integer(transfer
+0002dfa0: 2c20 2763 7265 6174 6554 696d 6527 290a  , 'createTime').
+0002dfb0: 2020 2020 2020 2020 7265 7475 726e 207b          return {
+0002dfc0: 0a20 2020 2020 2020 2020 2020 2027 696e  .            'in
+0002dfd0: 666f 273a 2074 7261 6e73 6665 722c 0a20  fo': transfer,. 
+0002dfe0: 2020 2020 2020 2020 2020 2027 6964 273a             'id':
+0002dff0: 2069 642c 0a20 2020 2020 2020 2020 2020   id,.           
+0002e000: 2027 7469 6d65 7374 616d 7027 3a20 7469   'timestamp': ti
+0002e010: 6d65 7374 616d 702c 0a20 2020 2020 2020  mestamp,.       
+0002e020: 2020 2020 2027 6461 7465 7469 6d65 273a       'datetime':
+0002e030: 2073 656c 662e 6973 6f38 3630 3128 7469   self.iso8601(ti
+0002e040: 6d65 7374 616d 7029 2c0a 2020 2020 2020  mestamp),.      
+0002e050: 2020 2020 2020 2763 7572 7265 6e63 7927        'currency'
+0002e060: 3a20 636f 6465 2c0a 2020 2020 2020 2020  : code,.        
+0002e070: 2020 2020 2761 6d6f 756e 7427 3a20 616d      'amount': am
+0002e080: 6f75 6e74 5472 616e 7366 6572 6564 2c0a  ountTransfered,.
+0002e090: 2020 2020 2020 2020 2020 2020 2766 726f              'fro
+0002e0a0: 6d41 6363 6f75 6e74 273a 2066 726f 6d49  mAccount': fromI
+0002e0b0: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+0002e0c0: 746f 4163 636f 756e 7427 3a20 746f 4964  toAccount': toId
+0002e0d0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+0002e0e0: 7461 7475 7327 3a20 7365 6c66 2e70 6172  tatus': self.par
+0002e0f0: 7365 5f74 7261 6e73 6665 725f 7374 6174  se_transfer_stat
+0002e100: 7573 2873 7461 7475 7329 2c0a 2020 2020  us(status),.    
+0002e110: 2020 2020 7d0a 0a20 2020 2064 6566 2070      }..    def p
+0002e120: 6172 7365 5f74 7261 6e73 6665 725f 7374  arse_transfer_st
+0002e130: 6174 7573 2873 656c 662c 2073 7461 7475  atus(self, statu
+0002e140: 7329 3a0a 2020 2020 2020 2020 7374 6174  s):.        stat
+0002e150: 7573 6573 203d 207b 0a20 2020 2020 2020  uses = {.       
+0002e160: 2020 2020 2027 3327 3a20 2772 656a 6563       '3': 'rejec
+0002e170: 7465 6427 2c20 2023 2027 5265 6a65 6374  ted',  # 'Reject
+0002e180: 6564 272c 0a20 2020 2020 2020 2020 2020  ed',.           
+0002e190: 2027 3627 3a20 2763 616e 6365 6c65 6427   '6': 'canceled'
+0002e1a0: 2c20 2023 2027 476f 7420 6572 726f 7220  ,  # 'Got error 
+0002e1b0: 616e 6420 7761 6974 2066 6f72 2072 6563  and wait for rec
+0002e1c0: 6f76 6572 7927 2c0a 2020 2020 2020 2020  overy',.        
+0002e1d0: 2020 2020 2731 3027 3a20 276f 6b27 2c20      '10': 'ok', 
+0002e1e0: 2023 2027 5375 6363 6573 7327 2c0a 2020   # 'Success',.  
+0002e1f0: 2020 2020 2020 2020 2020 2731 3127 3a20            '11': 
+0002e200: 2766 6169 6c65 6427 2c20 2023 2027 4661  'failed',  # 'Fa
+0002e210: 696c 6564 272c 0a20 2020 2020 2020 207d  iled',.        }
+0002e220: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0002e230: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+0002e240: 2873 7461 7475 7365 732c 2073 7461 7475  (statuses, statu
+0002e250: 732c 2073 7461 7475 7329 0a0a 2020 2020  s, status)..    
+0002e260: 6173 796e 6320 6465 6620 6665 7463 685f  async def fetch_
+0002e270: 6675 6e64 696e 675f 7261 7465 5f68 6973  funding_rate_his
+0002e280: 746f 7279 2873 656c 662c 2073 796d 626f  tory(self, symbo
+0002e290: 6c3a 204f 7074 696f 6e61 6c5b 7374 725d  l: Optional[str]
+0002e2a0: 203d 204e 6f6e 652c 2073 696e 6365 3a20   = None, since: 
+0002e2b0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
+0002e2c0: 4e6f 6e65 2c20 6c69 6d69 743a 204f 7074  None, limit: Opt
+0002e2d0: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
+0002e2e0: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
+0002e2f0: 2020 2020 2020 2073 656c 662e 6368 6563         self.chec
+0002e300: 6b5f 7265 7175 6972 6564 5f73 796d 626f  k_required_symbo
+0002e310: 6c28 2766 6574 6368 4675 6e64 696e 6752  l('fetchFundingR
+0002e320: 6174 6548 6973 746f 7279 272c 2073 796d  ateHistory', sym
+0002e330: 626f 6c29 0a20 2020 2020 2020 2061 7761  bol).        awa
+0002e340: 6974 2073 656c 662e 6c6f 6164 5f6d 6172  it self.load_mar
+0002e350: 6b65 7473 2829 0a20 2020 2020 2020 206d  kets().        m
+0002e360: 6172 6b65 7420 3d20 7365 6c66 2e6d 6172  arket = self.mar
+0002e370: 6b65 7428 7379 6d62 6f6c 290a 2020 2020  ket(symbol).    
+0002e380: 2020 2020 6973 5573 6474 5365 7474 6c65      isUsdtSettle
+0002e390: 6420 3d20 6d61 726b 6574 5b27 7365 7474  d = market['sett
+0002e3a0: 6c65 275d 203d 3d20 2755 5344 5427 0a20  le'] == 'USDT'. 
+0002e3b0: 2020 2020 2020 2069 6620 6e6f 7420 6d61         if not ma
+0002e3c0: 726b 6574 5b27 7377 6170 275d 3a0a 2020  rket['swap']:.  
+0002e3d0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0002e3e0: 4261 6452 6571 7565 7374 2873 656c 662e  BadRequest(self.
+0002e3f0: 6964 202b 2027 2066 6574 6368 4675 6e64  id + ' fetchFund
+0002e400: 696e 6752 6174 6548 6973 746f 7279 2829  ingRateHistory()
+0002e410: 2073 7570 706f 7274 7320 7377 6170 2063   supports swap c
+0002e420: 6f6e 7472 6163 7473 206f 6e6c 7927 290a  ontracts only').
+0002e430: 2020 2020 2020 2020 6375 7374 6f6d 5379          customSy
+0002e440: 6d62 6f6c 203d 204e 6f6e 650a 2020 2020  mbol = None.    
+0002e450: 2020 2020 6966 2069 7355 7364 7453 6574      if isUsdtSet
+0002e460: 746c 6564 3a0a 2020 2020 2020 2020 2020  tled:.          
+0002e470: 2020 6375 7374 6f6d 5379 6d62 6f6c 203d    customSymbol =
+0002e480: 2027 2e27 202b 206d 6172 6b65 745b 2769   '.' + market['i
+0002e490: 6427 5d20 2b20 2746 5238 4827 2020 2320  d'] + 'FR8H'  # 
+0002e4a0: 7068 656d 6578 2072 6571 7569 7265 7320  phemex requires 
+0002e4b0: 6120 6375 7374 6f6d 2073 796d 626f 6c20  a custom symbol 
+0002e4c0: 666f 7220 6675 6e64 696e 6720 7261 7465  for funding rate
+0002e4d0: 2068 6973 746f 7279 0a20 2020 2020 2020   history.       
+0002e4e0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0002e4f0: 2020 2063 7573 746f 6d53 796d 626f 6c20     customSymbol 
+0002e500: 3d20 272e 2720 2b20 6d61 726b 6574 5b27  = '.' + market['
+0002e510: 6261 7365 4964 275d 202b 2027 4652 3848  baseId'] + 'FR8H
+0002e520: 270a 2020 2020 2020 2020 7265 7175 6573  '.        reques
+0002e530: 7420 3d20 7b0a 2020 2020 2020 2020 2020  t = {.          
+0002e540: 2020 2773 796d 626f 6c27 3a20 6375 7374    'symbol': cust
+0002e550: 6f6d 5379 6d62 6f6c 2c0a 2020 2020 2020  omSymbol,.      
+0002e560: 2020 7d0a 2020 2020 2020 2020 6966 2073    }.        if s
+0002e570: 696e 6365 2069 7320 6e6f 7420 4e6f 6e65  ince is not None
+0002e580: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0002e590: 7175 6573 745b 2773 7461 7274 275d 203d  quest['start'] =
+0002e5a0: 2073 696e 6365 0a20 2020 2020 2020 2069   since.        i
+0002e5b0: 6620 6c69 6d69 7420 6973 206e 6f74 204e  f limit is not N
+0002e5c0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002e5d0: 2072 6571 7565 7374 5b27 6c69 6d69 7427   request['limit'
+0002e5e0: 5d20 3d20 6c69 6d69 740a 2020 2020 2020  ] = limit.      
+0002e5f0: 2020 7265 7370 6f6e 7365 203d 204e 6f6e    response = Non
+0002e600: 650a 2020 2020 2020 2020 6966 2069 7355  e.        if isU
+0002e610: 7364 7453 6574 746c 6564 3a0a 2020 2020  sdtSettled:.    
+0002e620: 2020 2020 2020 2020 7265 7370 6f6e 7365          response
+0002e630: 203d 2061 7761 6974 2073 656c 662e 7632   = await self.v2
+0002e640: 4765 7441 7069 4461 7461 5075 626c 6963  GetApiDataPublic
+0002e650: 4461 7461 4675 6e64 696e 6752 6174 6548  DataFundingRateH
+0002e660: 6973 746f 7279 2873 656c 662e 6578 7465  istory(self.exte
+0002e670: 6e64 2872 6571 7565 7374 2c20 7061 7261  nd(request, para
+0002e680: 6d73 2929 0a20 2020 2020 2020 2065 6c73  ms)).        els
+0002e690: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+0002e6a0: 6573 706f 6e73 6520 3d20 6177 6169 7420  esponse = await 
+0002e6b0: 7365 6c66 2e76 3147 6574 4170 6944 6174  self.v1GetApiDat
+0002e6c0: 6150 7562 6c69 6344 6174 6146 756e 6469  aPublicDataFundi
+0002e6d0: 6e67 5261 7465 4869 7374 6f72 7928 7365  ngRateHistory(se
+0002e6e0: 6c66 2e65 7874 656e 6428 7265 7175 6573  lf.extend(reques
+0002e6f0: 742c 2070 6172 616d 7329 290a 2020 2020  t, params)).    
+0002e700: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+0002e710: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
+0002e720: 2020 2020 2020 2263 6f64 6522 3a22 3022        "code":"0"
+0002e730: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002e740: 2020 2022 6d73 6722 3a22 4f4b 222c 0a20     "msg":"OK",. 
+0002e750: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002e760: 2264 6174 6122 3a7b 0a20 2020 2020 2020  "data":{.       
+0002e770: 2023 2020 2020 2020 2020 2020 2022 726f   #           "ro
+0002e780: 7773 223a 5b0a 2020 2020 2020 2020 2320  ws":[.        # 
+0002e790: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
+0002e7a0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002e7b0: 2020 2020 2020 2020 2022 7379 6d62 6f6c           "symbol
+0002e7c0: 223a 222e 4254 4355 5344 5446 5238 4822  ":".BTCUSDTFR8H"
+0002e7d0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002e7e0: 2020 2020 2020 2020 2020 2020 2266 756e              "fun
+0002e7f0: 6469 6e67 5261 7465 223a 2230 2e30 3030  dingRate":"0.000
+0002e800: 3122 2c0a 2020 2020 2020 2020 2320 2020  1",.        #   
+0002e810: 2020 2020 2020 2020 2020 2020 2020 2266                "f
+0002e820: 756e 6469 6e67 5469 6d65 223a 2231 3638  undingTime":"168
+0002e830: 3230 3634 3030 3030 3030 222c 0a20 2020  2064000000",.   
+0002e840: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002e850: 2020 2020 2020 2022 696e 7465 7276 616c         "interval
+0002e860: 5365 636f 6e64 7322 3a22 3238 3830 3022  Seconds":"28800"
+0002e870: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+0002e880: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+0002e890: 2020 2320 2020 2020 2020 2020 2020 5d0a    #           ].
+0002e8a0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002e8b0: 207d 0a20 2020 2020 2020 2023 2020 2020   }.        #    
+0002e8c0: 7d0a 2020 2020 2020 2020 230a 2020 2020  }.        #.    
+0002e8d0: 2020 2020 6461 7461 203d 2073 656c 662e      data = self.
+0002e8e0: 7361 6665 5f76 616c 7565 2872 6573 706f  safe_value(respo
+0002e8f0: 6e73 652c 2027 6461 7461 272c 207b 7d29  nse, 'data', {})
+0002e900: 0a20 2020 2020 2020 2072 6174 6573 203d  .        rates =
+0002e910: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+0002e920: 2864 6174 612c 2027 726f 7773 2729 0a20  (data, 'rows'). 
+0002e930: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0002e940: 5b5d 0a20 2020 2020 2020 2066 6f72 2069  [].        for i
+0002e950: 2069 6e20 7261 6e67 6528 302c 206c 656e   in range(0, len
+0002e960: 2872 6174 6573 2929 3a0a 2020 2020 2020  (rates)):.      
+0002e970: 2020 2020 2020 6974 656d 203d 2072 6174        item = rat
+0002e980: 6573 5b69 5d0a 2020 2020 2020 2020 2020  es[i].          
+0002e990: 2020 7469 6d65 7374 616d 7020 3d20 7365    timestamp = se
+0002e9a0: 6c66 2e73 6166 655f 696e 7465 6765 7228  lf.safe_integer(
+0002e9b0: 6974 656d 2c20 2766 756e 6469 6e67 5469  item, 'fundingTi
+0002e9c0: 6d65 2729 0a20 2020 2020 2020 2020 2020  me').           
+0002e9d0: 2072 6573 756c 742e 6170 7065 6e64 287b   result.append({
+0002e9e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002e9f0: 2027 696e 666f 273a 2069 7465 6d2c 0a20   'info': item,. 
+0002ea00: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0002ea10: 7379 6d62 6f6c 273a 2073 796d 626f 6c2c  symbol': symbol,
+0002ea20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002ea30: 2027 6675 6e64 696e 6752 6174 6527 3a20   'fundingRate': 
+0002ea40: 7365 6c66 2e73 6166 655f 6e75 6d62 6572  self.safe_number
+0002ea50: 2869 7465 6d2c 2027 6675 6e64 696e 6752  (item, 'fundingR
+0002ea60: 6174 6527 292c 0a20 2020 2020 2020 2020  ate'),.         
+0002ea70: 2020 2020 2020 2027 7469 6d65 7374 616d         'timestam
+0002ea80: 7027 3a20 7469 6d65 7374 616d 702c 0a20  p': timestamp,. 
+0002ea90: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0002eaa0: 6461 7465 7469 6d65 273a 2073 656c 662e  datetime': self.
+0002eab0: 6973 6f38 3630 3128 7469 6d65 7374 616d  iso8601(timestam
+0002eac0: 7029 2c0a 2020 2020 2020 2020 2020 2020  p),.            
+0002ead0: 7d29 0a20 2020 2020 2020 2073 6f72 7465  }).        sorte
+0002eae0: 6420 3d20 7365 6c66 2e73 6f72 745f 6279  d = self.sort_by
+0002eaf0: 2872 6573 756c 742c 2027 7469 6d65 7374  (result, 'timest
+0002eb00: 616d 7027 290a 2020 2020 2020 2020 7265  amp').        re
+0002eb10: 7475 726e 2073 656c 662e 6669 6c74 6572  turn self.filter
+0002eb20: 5f62 795f 7379 6d62 6f6c 5f73 696e 6365  _by_symbol_since
+0002eb30: 5f6c 696d 6974 2873 6f72 7465 642c 2073  _limit(sorted, s
+0002eb40: 796d 626f 6c2c 2073 696e 6365 2c20 6c69  ymbol, since, li
+0002eb50: 6d69 7429 0a0a 2020 2020 6465 6620 6861  mit)..    def ha
+0002eb60: 6e64 6c65 5f65 7272 6f72 7328 7365 6c66  ndle_errors(self
+0002eb70: 2c20 6874 7470 436f 6465 2c20 7265 6173  , httpCode, reas
+0002eb80: 6f6e 2c20 7572 6c2c 206d 6574 686f 642c  on, url, method,
+0002eb90: 2068 6561 6465 7273 2c20 626f 6479 2c20   headers, body, 
+0002eba0: 7265 7370 6f6e 7365 2c20 7265 7175 6573  response, reques
+0002ebb0: 7448 6561 6465 7273 2c20 7265 7175 6573  tHeaders, reques
+0002ebc0: 7442 6f64 7929 3a0a 2020 2020 2020 2020  tBody):.        
+0002ebd0: 6966 2072 6573 706f 6e73 6520 6973 204e  if response is N
+0002ebe0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002ebf0: 2072 6574 7572 6e20 4e6f 6e65 2020 2320   return None  # 
+0002ec00: 6661 6c6c 6261 636b 2074 6f20 6465 6661  fallback to defa
+0002ec10: 756c 7420 6572 726f 7220 6861 6e64 6c65  ult error handle
+0002ec20: 720a 2020 2020 2020 2020 230a 2020 2020  r.        #.    
+0002ec30: 2020 2020 2320 2020 2020 7b22 636f 6465      #     {"code
+0002ec40: 223a 3330 3031 382c 226d 7367 223a 2270  ":30018,"msg":"p
+0002ec50: 6865 6d65 782e 6461 7461 2e73 697a 652e  hemex.data.size.
+0002ec60: 7570 6c69 6d74 222c 2264 6174 6122 3a6e  uplimt","data":n
+0002ec70: 756c 6c7d 0a20 2020 2020 2020 2023 2020  ull}.        #  
+0002ec80: 2020 207b 2263 6f64 6522 3a34 3132 2c22     {"code":412,"
+0002ec90: 6d73 6722 3a22 4d69 7373 696e 6720 7061  msg":"Missing pa
+0002eca0: 7261 6d65 7465 7220 2d20 7265 736f 6c75  rameter - resolu
+0002ecb0: 7469 6f6e 222c 2264 6174 6122 3a6e 756c  tion","data":nul
+0002ecc0: 6c7d 0a20 2020 2020 2020 2023 2020 2020  l}.        #    
+0002ecd0: 207b 2263 6f64 6522 3a34 3132 2c22 6d73   {"code":412,"ms
+0002ece0: 6722 3a22 4d69 7373 696e 6720 7061 7261  g":"Missing para
+0002ecf0: 6d65 7465 7220 2d20 746f 222c 2264 6174  meter - to","dat
+0002ed00: 6122 3a6e 756c 6c7d 0a20 2020 2020 2020  a":null}.       
+0002ed10: 2023 2020 2020 207b 2265 7272 6f72 223a   #     {"error":
+0002ed20: 7b22 636f 6465 223a 3630 3031 2c22 6d65  {"code":6001,"me
+0002ed30: 7373 6167 6522 3a22 696e 7661 6c69 6420  ssage":"invalid 
+0002ed40: 6172 6775 6d65 6e74 227d 2c22 6964 223a  argument"},"id":
+0002ed50: 6e75 6c6c 2c22 7265 7375 6c74 223a 6e75  null,"result":nu
+0002ed60: 6c6c 7d0a 2020 2020 2020 2020 230a 2020  ll}.        #.  
+0002ed70: 2020 2020 2020 6572 726f 7220 3d20 7365        error = se
+0002ed80: 6c66 2e73 6166 655f 7661 6c75 6528 7265  lf.safe_value(re
+0002ed90: 7370 6f6e 7365 2c20 2765 7272 6f72 272c  sponse, 'error',
+0002eda0: 2072 6573 706f 6e73 6529 0a20 2020 2020   response).     
+0002edb0: 2020 2065 7272 6f72 436f 6465 203d 2073     errorCode = s
+0002edc0: 656c 662e 7361 6665 5f73 7472 696e 6728  elf.safe_string(
+0002edd0: 6572 726f 722c 2027 636f 6465 2729 0a20  error, 'code'). 
+0002ede0: 2020 2020 2020 206d 6573 7361 6765 203d         message =
+0002edf0: 2073 656c 662e 7361 6665 5f73 7472 696e   self.safe_strin
+0002ee00: 6728 6572 726f 722c 2027 6d73 6727 290a  g(error, 'msg').
+0002ee10: 2020 2020 2020 2020 6966 2028 6572 726f          if (erro
+0002ee20: 7243 6f64 6520 6973 206e 6f74 204e 6f6e  rCode is not Non
+0002ee30: 6529 2061 6e64 2028 6572 726f 7243 6f64  e) and (errorCod
+0002ee40: 6520 213d 2027 3027 293a 0a20 2020 2020  e != '0'):.     
+0002ee50: 2020 2020 2020 2066 6565 6462 6163 6b20         feedback 
+0002ee60: 3d20 7365 6c66 2e69 6420 2b20 2720 2720  = self.id + ' ' 
+0002ee70: 2b20 626f 6479 0a20 2020 2020 2020 2020  + body.         
+0002ee80: 2020 2073 656c 662e 7468 726f 775f 6578     self.throw_ex
+0002ee90: 6163 746c 795f 6d61 7463 6865 645f 6578  actly_matched_ex
+0002eea0: 6365 7074 696f 6e28 7365 6c66 2e65 7863  ception(self.exc
+0002eeb0: 6570 7469 6f6e 735b 2765 7861 6374 275d  eptions['exact']
+0002eec0: 2c20 6572 726f 7243 6f64 652c 2066 6565  , errorCode, fee
+0002eed0: 6462 6163 6b29 0a20 2020 2020 2020 2020  dback).         
+0002eee0: 2020 2073 656c 662e 7468 726f 775f 6272     self.throw_br
+0002eef0: 6f61 646c 795f 6d61 7463 6865 645f 6578  oadly_matched_ex
+0002ef00: 6365 7074 696f 6e28 7365 6c66 2e65 7863  ception(self.exc
+0002ef10: 6570 7469 6f6e 735b 2762 726f 6164 275d  eptions['broad']
+0002ef20: 2c20 6d65 7373 6167 652c 2066 6565 6462  , message, feedb
+0002ef30: 6163 6b29 0a20 2020 2020 2020 2020 2020  ack).           
+0002ef40: 2072 6169 7365 2045 7863 6861 6e67 6545   raise ExchangeE
+0002ef50: 7272 6f72 2866 6565 6462 6163 6b29 2020  rror(feedback)  
+0002ef60: 2320 756e 6b6e 6f77 6e20 6d65 7373 6167  # unknown messag
+0002ef70: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
+0002ef80: 204e 6f6e 650a                            None.
```

### Comparing `ccxt-3.0.97/ccxt/async_support/poloniex.py` & `ccxt-3.0.98/ccxt/async_support/poloniex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/poloniexfutures.py` & `ccxt-3.0.98/ccxt/async_support/poloniexfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/probit.py` & `ccxt-3.0.98/ccxt/async_support/probit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/ripio.py` & `ccxt-3.0.98/ccxt/async_support/ripio.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/stex.py` & `ccxt-3.0.98/ccxt/async_support/stex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/tidex.py` & `ccxt-3.0.98/ccxt/async_support/tidex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/timex.py` & `ccxt-3.0.98/ccxt/async_support/timex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/tokocrypto.py` & `ccxt-3.0.98/ccxt/async_support/tokocrypto.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/upbit.py` & `ccxt-3.0.98/ccxt/async_support/upbit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/wavesexchange.py` & `ccxt-3.0.98/ccxt/async_support/wavesexchange.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/wazirx.py` & `ccxt-3.0.98/ccxt/async_support/wazirx.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/whitebit.py` & `ccxt-3.0.98/ccxt/async_support/whitebit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/woo.py` & `ccxt-3.0.98/ccxt/async_support/woo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/xt.py` & `ccxt-3.0.98/ccxt/async_support/xt.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/yobit.py` & `ccxt-3.0.98/ccxt/async_support/yobit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/zaif.py` & `ccxt-3.0.98/ccxt/async_support/zaif.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/zb.py` & `ccxt-3.0.98/ccxt/async_support/zb.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/async_support/zonda.py` & `ccxt-3.0.98/ccxt/async_support/zonda.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/base/__init__.py` & `ccxt-3.0.98/ccxt/base/__init__.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/base/decimal_to_precision.py` & `ccxt-3.0.98/ccxt/base/decimal_to_precision.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/base/errors.py` & `ccxt-3.0.98/ccxt/base/errors.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/base/exchange.py` & `ccxt-3.0.98/ccxt/base/exchange.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 # -*- coding: utf-8 -*-
 
 """Base exchange class"""
 
 # -----------------------------------------------------------------------------
 
-__version__ = '3.0.97'
+__version__ = '3.0.98'
 
 # -----------------------------------------------------------------------------
 
 from ccxt.base.errors import ExchangeError
 from ccxt.base.errors import NetworkError
 from ccxt.base.errors import NotSupported
 from ccxt.base.errors import AuthenticationError
```

### Comparing `ccxt-3.0.97/ccxt/base/precise.py` & `ccxt-3.0.98/ccxt/base/precise.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/base/types.py` & `ccxt-3.0.98/ccxt/base/types.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bequant.py` & `ccxt-3.0.98/ccxt/bequant.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bigone.py` & `ccxt-3.0.98/ccxt/bigone.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/binance.py` & `ccxt-3.0.98/ccxt/binance.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/binancecoinm.py` & `ccxt-3.0.98/ccxt/binancecoinm.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/binanceus.py` & `ccxt-3.0.98/ccxt/binanceus.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/binanceusdm.py` & `ccxt-3.0.98/ccxt/binanceusdm.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bit2c.py` & `ccxt-3.0.98/ccxt/bit2c.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitbank.py` & `ccxt-3.0.98/ccxt/bitbank.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitbns.py` & `ccxt-3.0.98/ccxt/bitbns.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitfinex.py` & `ccxt-3.0.98/ccxt/bitfinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitfinex2.py` & `ccxt-3.0.98/ccxt/bitfinex2.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitflyer.py` & `ccxt-3.0.98/ccxt/bitflyer.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitforex.py` & `ccxt-3.0.98/ccxt/bitforex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitget.py` & `ccxt-3.0.98/ccxt/bitget.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bithumb.py` & `ccxt-3.0.98/ccxt/bithumb.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitmart.py` & `ccxt-3.0.98/ccxt/bitmart.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitmex.py` & `ccxt-3.0.98/ccxt/bitmex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitopro.py` & `ccxt-3.0.98/ccxt/bitopro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitpanda.py` & `ccxt-3.0.98/ccxt/bitpanda.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitrue.py` & `ccxt-3.0.98/ccxt/bitrue.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitso.py` & `ccxt-3.0.98/ccxt/bitso.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitstamp.py` & `ccxt-3.0.98/ccxt/bitstamp.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitstamp1.py` & `ccxt-3.0.98/ccxt/bitstamp1.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bittrex.py` & `ccxt-3.0.98/ccxt/bittrex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bitvavo.py` & `ccxt-3.0.98/ccxt/bitvavo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bkex.py` & `ccxt-3.0.98/ccxt/bkex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bl3p.py` & `ccxt-3.0.98/ccxt/bl3p.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/blockchaincom.py` & `ccxt-3.0.98/ccxt/blockchaincom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/btcalpha.py` & `ccxt-3.0.98/ccxt/btcalpha.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/btcbox.py` & `ccxt-3.0.98/ccxt/btcbox.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/btcex.py` & `ccxt-3.0.98/ccxt/btcex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/btcmarkets.py` & `ccxt-3.0.98/ccxt/btcmarkets.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/btctradeua.py` & `ccxt-3.0.98/ccxt/btctradeua.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/btcturk.py` & `ccxt-3.0.98/ccxt/btcturk.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/buda.py` & `ccxt-3.0.98/ccxt/buda.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/bybit.py` & `ccxt-3.0.98/ccxt/bybit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/cex.py` & `ccxt-3.0.98/ccxt/cex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coinbase.py` & `ccxt-3.0.98/ccxt/coinbase.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coinbaseprime.py` & `ccxt-3.0.98/ccxt/coinbaseprime.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coinbasepro.py` & `ccxt-3.0.98/ccxt/coinbasepro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coincheck.py` & `ccxt-3.0.98/ccxt/coincheck.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coinex.py` & `ccxt-3.0.98/ccxt/coinex.py`

 * *Files 0% similar despite different names*

```diff
@@ -1674,44 +1674,53 @@
             },
             'info': order,
         }, market)
 
     def create_order(self, symbol: str, type, side: OrderSide, amount, price=None, params={}):
         """
         create a trade order
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http017_put_limit
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http018_put_market
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http019_put_limit_stop
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http020_put_market_stop
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http031_market_close
+        see https://viabtc.github.io/coinex_api_en_doc/futures/#docsfutures001_http030_limit_close
         :param str symbol: unified symbol of the market to create an order in
         :param str type: 'market' or 'limit'
         :param str side: 'buy' or 'sell'
         :param float amount: how much of currency you want to trade in units of base currency
         :param float|None price: the price at which the order is to be fullfilled, in units of the quote currency, ignored in market orders
         :param dict params: extra parameters specific to the coinex api endpoint
         :param float triggerPrice: price at which to triger stop orders
         :param float stopPrice: price at which to triger stop orders
         :param float stopLossPrice: price at which to trigger stop-loss orders
         :param float takeProfitPrice: price at which to trigger take-profit orders
         :param str params['timeInForce']: "GTC", "IOC", "FOK", "PO"
         :param bool params.postOnly:
         :param bool params.reduceOnly:
+        :param bool|None params['position_id']: *required for reduce only orders* the position id to reduce
         :returns dict: an `order structure <https://docs.ccxt.com/#/?id=order-structure>`
         """
         self.load_markets()
         market = self.market(symbol)
         swap = market['swap']
         stopPrice = self.safe_value_2(params, 'stopPrice', 'triggerPrice')
         stopLossPrice = self.safe_value(params, 'stopLossPrice')
         takeProfitPrice = self.safe_value(params, 'takeProfitPrice')
         option = self.safe_string(params, 'option')
         isMarketOrder = type == 'market'
         postOnly = self.is_post_only(isMarketOrder, option == 'MAKER_ONLY', params)
         positionId = self.safe_integer_2(params, 'position_id', 'positionId')  # Required for closing swap positions
         timeInForceRaw = self.safe_string(params, 'timeInForce')  # Spot: IOC, FOK, PO, GTC, ... NORMAL(default), MAKER_ONLY
         reduceOnly = self.safe_value(params, 'reduceOnly')
-        if reduceOnly is not None:
+        if reduceOnly:
             if market['type'] != 'swap':
                 raise InvalidOrder(self.id + ' createOrder() does not support reduceOnly for ' + market['type'] + ' orders, reduceOnly orders are supported for swap markets only')
+            if positionId is None:
+                raise ArgumentsRequired(self.id + ' createOrder() requires a position_id/positionId parameter for reduceOnly orders')
         method = None
         request = {
             'market': market['id'],
         }
         if swap:
             if stopLossPrice or takeProfitPrice:
                 request['stop_type'] = self.safe_integer(params, 'stop_type', 1)  # 1: triggered by the latest transaction, 2: mark price, 3: index price
```

### Comparing `ccxt-3.0.97/ccxt/coinfalcon.py` & `ccxt-3.0.98/ccxt/coinfalcon.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coinmate.py` & `ccxt-3.0.98/ccxt/coinmate.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coinone.py` & `ccxt-3.0.98/ccxt/coinone.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coinsph.py` & `ccxt-3.0.98/ccxt/coinsph.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/coinspot.py` & `ccxt-3.0.98/ccxt/coinspot.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/cryptocom.py` & `ccxt-3.0.98/ccxt/cryptocom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/currencycom.py` & `ccxt-3.0.98/ccxt/currencycom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/delta.py` & `ccxt-3.0.98/ccxt/delta.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/deribit.py` & `ccxt-3.0.98/ccxt/deribit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/digifinex.py` & `ccxt-3.0.98/ccxt/digifinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/exmo.py` & `ccxt-3.0.98/ccxt/exmo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/flowbtc.py` & `ccxt-3.0.98/ccxt/flowbtc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/fmfwio.py` & `ccxt-3.0.98/ccxt/fmfwio.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/gate.py` & `ccxt-3.0.98/ccxt/gate.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/gemini.py` & `ccxt-3.0.98/ccxt/gemini.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/hitbtc.py` & `ccxt-3.0.98/ccxt/hitbtc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/hitbtc3.py` & `ccxt-3.0.98/ccxt/hitbtc3.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/hollaex.py` & `ccxt-3.0.98/ccxt/hollaex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/huobi.py` & `ccxt-3.0.98/ccxt/huobi.py`

 * *Files 1% similar despite different names*

```diff
@@ -2304,16 +2304,15 @@
             if limit is not None:
                 request['size'] = limit  # default 100, max 500
             if since is not None:
                 request['start-time'] = since  # a date within 120 days from today
                 # request['end-time'] = self.sum(since, 172800000)  # 48 hours window
             method = 'spotPrivateGetV1OrderMatchresults'
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' fetchMyTrades() requires a symbol for ' + marketType + ' orders')
+            self.check_required_symbol('fetchMyTrades', symbol)
             request['contract'] = market['id']
             request['trade_type'] = 0  # 0 all, 1 open long, 2 open short, 3 close short, 4 close long, 5 liquidate long positions, 6 liquidate short positions
             if since is not None:
                 request['start_time'] = since  # a date within 120 days from today
                 # request['end_time'] = self.sum(request['start_time'], 172800000)  # 48 hours window
             if limit is not None:
                 request['page_size'] = limit  # default 100, max 500
@@ -3090,16 +3089,15 @@
                 method = 'spotPrivateGetV1OrderOrdersGetClientOrder'
                 # will be filled below in self.extend()
                 # they expect clientOrderId instead of client-order-id
                 # request['clientOrderId'] = clientOrderId
             else:
                 request['order-id'] = id
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' fetchOrder() requires a symbol for ' + marketType + ' orders')
+            self.check_required_symbol('fetchOrder', symbol)
             request['contract_code'] = market['id']
             if market['linear']:
                 marginMode = None
                 marginMode, params = self.handle_margin_mode_and_params('fetchOrder', params)
                 marginMode = 'cross' if (marginMode is None) else marginMode
                 if marginMode == 'isolated':
                     method = 'contractPrivatePostLinearSwapApiV1SwapOrderInfo'
@@ -3261,16 +3259,15 @@
         if balance['type'] == 'frozen':
             account['used'] = self.safe_string(balance, 'balance')
         return account
 
     def fetch_spot_orders_by_states(self, states, symbol: Optional[str] = None, since: Optional[int] = None, limit: Optional[int] = None, params={}):
         method = self.safe_string(self.options, 'fetchOrdersByStatesMethod', 'spot_private_get_v1_order_orders')  # spot_private_get_v1_order_history
         if method == 'spot_private_get_v1_order_orders':
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' fetchOrders() requires a symbol argument')
+            self.check_required_symbol('fetchOrders', symbol)
         self.load_markets()
         market = None
         request = {
             # spot_private_get_v1_order_orders GET /v1/order/orders ----------
             # 'symbol': market['id'],  # required
             # 'types': 'buy-market,sell-market,buy-limit,sell-limit,buy-ioc,sell-ioc,buy-stop-limit,sell-stop-limit,buy-limit-fok,sell-limit-fok,buy-stop-limit-fok,sell-stop-limit-fok',
             # 'start-time': since,  # max window of 48h within a range of 180 days, within past 2 hours for cancelled orders
@@ -3327,16 +3324,15 @@
     def fetch_spot_orders(self, symbol: Optional[str] = None, since: Optional[int] = None, limit: Optional[int] = None, params={}):
         return self.fetch_spot_orders_by_states('pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled', symbol, since, limit, params)
 
     def fetch_closed_spot_orders(self, symbol: Optional[str] = None, since: Optional[int] = None, limit: Optional[int] = None, params={}):
         return self.fetch_spot_orders_by_states('filled,partial-canceled,canceled', symbol, since, limit, params)
 
     def fetch_contract_orders(self, symbol: Optional[str] = None, since: Optional[int] = None, limit: Optional[int] = None, params={}):
-        if symbol is None:
-            raise ArgumentsRequired(self.id + ' fetchContractOrders() requires a symbol argument')
+        self.check_required_symbol('fetchContractOrders', symbol)
         self.load_markets()
         market = self.market(symbol)
         request = {
             # POST /api/v1/contract_hisorders inverse futures ----------------
             # 'symbol': market['settleId'],  # BTC, ETH, ...
             # 'order_type': '1',  # 1 limit3 opponent4 lightning, 5 trigger order, 6 pst_only, 7 optimal_5, 8 optimal_10, 9 optimal_20, 10 fok, 11 ioc
             # POST /swap-api/v3/swap_hisorders inverse swap ------------------
@@ -3635,16 +3631,15 @@
                             break
             request['account-id'] = accountId
             if limit is not None:
                 request['size'] = limit
             params = self.omit(params, 'account-id')
             response = self.spotPrivateGetV1OrderOpenOrders(self.extend(request, params))
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' fetchOpenOrders() requires a symbol for ' + marketType + ' orders')
+            self.check_required_symbol('fetchOpenOrders', symbol)
             if limit is not None:
                 request['page_size'] = limit
             request['contract_code'] = market['id']
             stop = self.safe_value(params, 'stop')
             stopLossTakeProfit = self.safe_value(params, 'stopLossTakeProfit')
             params = self.omit(params, ['stop', 'stopLossTakeProfit'])
             if market['linear']:
@@ -4513,16 +4508,15 @@
                 request['order-id'] = id
                 response = self.spotPrivatePostV1OrderOrdersOrderIdSubmitcancel(self.extend(request, params))
             else:
                 request['client-order-id'] = clientOrderId
                 params = self.omit(params, ['client-order-id', 'clientOrderId'])
                 response = self.spotPrivatePostV1OrderOrdersSubmitCancelClientOrder(self.extend(request, params))
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' cancelOrder() requires a symbol for ' + marketType + ' orders')
+            self.check_required_symbol('cancelOrder', symbol)
             clientOrderId = self.safe_string_2(params, 'client_order_id', 'clientOrderId')
             if clientOrderId is None:
                 request['order_id'] = id
             else:
                 request['client_order_id'] = clientOrderId
                 params = self.omit(params, ['client_order_id', 'clientOrderId'])
             if market['future']:
@@ -4593,77 +4587,101 @@
 
     def cancel_orders(self, ids, symbol: Optional[str] = None, params={}):
         """
         cancel multiple orders
         :param [str] ids: order ids
         :param str|None symbol: unified market symbol, default is None
         :param dict params: extra parameters specific to the huobi api endpoint
+        :param bool|None params['stop']: *contract only* if the orders are stop trigger orders or not
+        :param bool|None params['stopLossTakeProfit']: *contract only* if the orders are stop-loss or take-profit orders
         :returns dict: an list of `order structures <https://docs.ccxt.com/#/?id=order-structure>`
         """
         self.load_markets()
         market = None
         if symbol is not None:
             market = self.market(symbol)
         marketType = None
         marketType, params = self.handle_market_type_and_params('cancelOrders', market, params)
         request = {
             # spot -----------------------------------------------------------
-            # 'order-ids': ids.jsoin(','),  # max 50
+            # 'order-ids': ','.join(ids),  # max 50
             # 'client-order-ids': ','.join(ids),  # max 50
             # contracts ------------------------------------------------------
             # 'order_id': id,  # comma separated, max 10
             # 'client_order_id': clientOrderId,  # comma separated, max 10
             # 'contract_code': market['id'],
             # 'symbol': market['settleId'],
         }
-        method = None
+        response = None
         if marketType == 'spot':
             clientOrderIds = self.safe_value_2(params, 'client-order-id', 'clientOrderId')
             clientOrderIds = self.safe_value_2(params, 'client-order-ids', 'clientOrderIds', clientOrderIds)
             if clientOrderIds is None:
                 if isinstance(clientOrderIds, str):
-                    request['order-ids'] = ids
+                    request['order-ids'] = [ids]
                 else:
-                    request['order-ids'] = ','.join(ids)
+                    request['order-ids'] = ids
             else:
                 if isinstance(clientOrderIds, str):
-                    request['client-order-ids'] = clientOrderIds
+                    request['client-order-ids'] = [clientOrderIds]
                 else:
-                    request['client-order-ids'] = ','.join(clientOrderIds)
+                    request['client-order-ids'] = clientOrderIds
                 params = self.omit(params, ['client-order-id', 'client-order-ids', 'clientOrderId', 'clientOrderIds'])
-            method = 'spotPrivatePostV1OrderOrdersBatchcancel'
+            response = self.spotPrivatePostV1OrderOrdersBatchcancel(self.extend(request, params))
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' cancelOrders() requires a symbol for ' + marketType + ' orders')
-            marketInner = self.market(symbol)
-            request['contract_code'] = marketInner['id']
-            if marketInner['linear']:
-                marginMode = None
-                marginMode, params = self.handle_margin_mode_and_params('cancelOrders', params)
-                marginMode = 'cross' if (marginMode is None) else marginMode
-                if marginMode == 'isolated':
-                    method = 'contractPrivatePostLinearSwapApiV1SwapCancel'
-                elif marginMode == 'cross':
-                    method = 'contractPrivatePostLinearSwapApiV1SwapCrossCancel'
-            elif marketInner['inverse']:
-                if marketInner['future']:
-                    method = 'contractPrivatePostApiV1ContractCancel'
-                    request['symbol'] = marketInner['settleId']
-                elif marketInner['swap']:
-                    method = 'contractPrivatePostSwapApiV1SwapCancel'
-                else:
-                    raise NotSupported(self.id + ' cancelOrders() does not support ' + marketType + ' markets')
+            self.check_required_symbol('cancelOrders', symbol)
             clientOrderIds = self.safe_string_2(params, 'client_order_id', 'clientOrderId')
             clientOrderIds = self.safe_string_2(params, 'client_order_ids', 'clientOrderIds', clientOrderIds)
             if clientOrderIds is None:
                 request['order_id'] = ','.join(ids)
             else:
                 request['client_order_id'] = clientOrderIds
                 params = self.omit(params, ['client_order_id', 'client_order_ids', 'clientOrderId', 'clientOrderIds'])
-        response = getattr(self, method)(self.extend(request, params))
+            if market['future']:
+                request['symbol'] = market['settleId']
+            else:
+                request['contract_code'] = market['id']
+            stop = self.safe_value(params, 'stop')
+            stopLossTakeProfit = self.safe_value(params, 'stopLossTakeProfit')
+            params = self.omit(params, ['stop', 'stopLossTakeProfit'])
+            if market['linear']:
+                marginMode = None
+                marginMode, params = self.handle_margin_mode_and_params('cancelOrders', params)
+                marginMode = 'cross' if (marginMode is None) else marginMode
+                if marginMode == 'isolated':
+                    if stop:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapTriggerCancel(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapTpslCancel(self.extend(request, params))
+                    else:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapCancel(self.extend(request, params))
+                elif marginMode == 'cross':
+                    if stop:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapCrossTriggerCancel(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapCrossTpslCancel(self.extend(request, params))
+                    else:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapCrossCancel(self.extend(request, params))
+            elif market['inverse']:
+                if market['swap']:
+                    if stop:
+                        response = self.contractPrivatePostSwapApiV1SwapTriggerCancel(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = self.contractPrivatePostSwapApiV1SwapTpslCancel(self.extend(request, params))
+                    else:
+                        response = self.contractPrivatePostSwapApiV1SwapCancel(self.extend(request, params))
+                elif market['future']:
+                    if stop:
+                        response = self.contractPrivatePostApiV1ContractTriggerCancel(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = self.contractPrivatePostApiV1ContractTpslCancel(self.extend(request, params))
+                    else:
+                        response = self.contractPrivatePostApiV1ContractCancel(self.extend(request, params))
+            else:
+                raise NotSupported(self.id + ' cancelOrders() does not support ' + marketType + ' markets')
         #
         # spot
         #
         #     {
         #         "status": "ok",
         #         "data": {
         #             "success": [
@@ -4690,15 +4708,15 @@
         #                     "err-code": "base-not-found",
         #                     "client-order-id": "third"
         #                 }
         #             ]
         #         }
         #     }
         #
-        # contracts
+        # future and swap
         #
         #     {
         #         "status": "ok",
         #         "data": {
         #             "errors": [
         #                 {
         #                     "order_id": "769206471845261312",
@@ -4714,14 +4732,16 @@
         return response
 
     def cancel_all_orders(self, symbol: Optional[str] = None, params={}):
         """
         cancel all open orders
         :param str|None symbol: unified market symbol, only orders in the market of self symbol are cancelled when symbol is not None
         :param dict params: extra parameters specific to the huobi api endpoint
+        :param bool|None params['stop']: *contract only* if the orders are stop trigger orders or not
+        :param bool|None params['stopLossTakeProfit']: *contract only* if the orders are stop-loss or take-profit orders
         :returns [dict]: a list of `order structures <https://docs.ccxt.com/#/?id=order-structure>`
         """
         self.load_markets()
         market = None
         if symbol is not None:
             market = self.market(symbol)
         marketType = None
@@ -4736,52 +4756,85 @@
             # contract -------------------------------------------------------
             # 'symbol': market['settleId'],  # required
             # 'contract_code': market['id'],
             # 'contract_type': 'this_week',  # swap, self_week, next_week, quarter, next_ quarter
             # 'direction': 'buy':  # buy, sell
             # 'offset': 'open',  # open, close
         }
-        method = None
+        response = None
         if marketType == 'spot':
             if symbol is not None:
-                market = self.market(symbol)
                 request['symbol'] = market['id']
-            method = 'spotPrivatePostV1OrderOrdersBatchCancelOpenOrders'
+            response = self.spotPrivatePostV1OrderOrdersBatchCancelOpenOrders(self.extend(request, params))
         else:
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' cancelAllOrders() requires a symbol for ' + marketType + ' orders')
-            marketInner = self.market(symbol)
-            request['contract_code'] = marketInner['id']
-            if marketInner['linear']:
+            self.check_required_symbol('cancelAllOrders', symbol)
+            if market['future']:
+                request['symbol'] = market['settleId']
+            request['contract_code'] = market['id']
+            stop = self.safe_value(params, 'stop')
+            stopLossTakeProfit = self.safe_value(params, 'stopLossTakeProfit')
+            params = self.omit(params, ['stop', 'stopLossTakeProfit'])
+            if market['linear']:
                 marginMode = None
                 marginMode, params = self.handle_margin_mode_and_params('cancelAllOrders', params)
                 marginMode = 'cross' if (marginMode is None) else marginMode
                 if marginMode == 'isolated':
-                    method = 'contractPrivatePostLinearSwapApiV1SwapCancelallall'
+                    if stop:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapTriggerCancelall(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapTpslCancelall(self.extend(request, params))
+                    else:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapCancelall(self.extend(request, params))
                 elif marginMode == 'cross':
-                    method = 'contractPrivatePostLinearSwapApiV1SwapCrossCancelall'
-            elif marketInner['inverse']:
-                if marketType == 'future':
-                    method = 'contractPrivatePostApiV1ContractCancelall'
-                    request['symbol'] = marketInner['settleId']
-                elif marketType == 'swap':
-                    method = 'contractPrivatePostSwapApiV1SwapCancelall'
-                else:
-                    raise NotSupported(self.id + ' cancelAllOrders() does not support ' + marketType + ' markets')
-        response = getattr(self, method)(self.extend(request, params))
+                    if stop:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapCrossTriggerCancelall(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapCrossTpslCancelall(self.extend(request, params))
+                    else:
+                        response = self.contractPrivatePostLinearSwapApiV1SwapCrossCancelall(self.extend(request, params))
+            elif market['inverse']:
+                if market['swap']:
+                    if stop:
+                        response = self.contractPrivatePostSwapApiV1SwapTriggerCancelall(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = self.contractPrivatePostSwapApiV1SwapTpslCancelall(self.extend(request, params))
+                    else:
+                        response = self.contractPrivatePostSwapApiV1SwapCancelall(self.extend(request, params))
+                elif market['future']:
+                    if stop:
+                        response = self.contractPrivatePostApiV1ContractTriggerCancelall(self.extend(request, params))
+                    elif stopLossTakeProfit:
+                        response = self.contractPrivatePostApiV1ContractTpslCancelall(self.extend(request, params))
+                    else:
+                        response = self.contractPrivatePostApiV1ContractCancelall(self.extend(request, params))
+            else:
+                raise NotSupported(self.id + ' cancelAllOrders() does not support ' + marketType + ' markets')
+        #
+        # spot
         #
         #     {
         #         code: 200,
         #         data: {
         #             "success-count": 2,
         #             "failed-count": 0,
         #             "next-id": 5454600
         #         }
         #     }
         #
+        # future and swap
+        #
+        #     {
+        #         status: "ok",
+        #         data: {
+        #             errors: [],
+        #             successes: "1104754904426696704"
+        #         },
+        #         ts: "1683435723755"
+        #     }
+        #
         return response
 
     def parse_deposit_address(self, depositAddress, currency=None):
         #
         #     {
         #         currency: "usdt",
         #         address: "0xf7292eb9ba7bc50358e27f0e025a4d225a64127b",
@@ -5375,16 +5428,15 @@
         fetches historical funding rate prices
         :param str|None symbol: unified symbol of the market to fetch the funding rate history for
         :param int|None since: not used by huobi, but filtered internally by ccxt
         :param int|None limit: not used by huobi, but filtered internally by ccxt
         :param dict params: extra parameters specific to the huobi api endpoint
         :returns [dict]: a list of `funding rate structures <https://docs.ccxt.com/en/latest/manual.html?#funding-rate-history-structure>`
         """
-        if symbol is None:
-            raise ArgumentsRequired(self.id + ' fetchFundingRateHistory() requires a symbol argument')
+        self.check_required_symbol('fetchFundingRateHistory', symbol)
         self.load_markets()
         market = self.market(symbol)
         request = {
             'contract_code': market['id'],
         }
         method = None
         if market['inverse']:
@@ -5880,16 +5932,15 @@
         """
         set the level of leverage for a market
         :param float leverage: the rate of leverage
         :param str symbol: unified market symbol
         :param dict params: extra parameters specific to the huobi api endpoint
         :returns dict: response from the exchange
         """
-        if symbol is None:
-            raise ArgumentsRequired(self.id + ' setLeverage() requires a symbol argument')
+        self.check_required_symbol('setLeverage', symbol)
         self.load_markets()
         market = self.market(symbol)
         marketType, query = self.handle_market_type_and_params('setLeverage', market, params)
         method = None
         if market['linear']:
             marginMode = None
             marginMode, params = self.handle_margin_mode_and_params('setLeverage', params)
@@ -6960,16 +7011,15 @@
             'amount': self.currency_to_precision(code, amount),
         }
         marginMode = None
         marginMode, params = self.handle_margin_mode_and_params('borrowMargin', params)
         marginMode = 'cross' if (marginMode is None) else marginMode
         method = None
         if marginMode == 'isolated':
-            if symbol is None:
-                raise ArgumentsRequired(self.id + ' borrowMargin() requires a symbol argument for isolated margin')
+            self.check_required_symbol('borrowMargin', symbol)
             market = self.market(symbol)
             request['symbol'] = market['id']
             method = 'privatePostMarginOrders'
         elif marginMode == 'cross':
             method = 'privatePostCrossMarginOrders'
         response = getattr(self, method)(self.extend(request, params))
         #
```

### Comparing `ccxt-3.0.97/ccxt/huobijp.py` & `ccxt-3.0.98/ccxt/huobijp.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/huobipro.py` & `ccxt-3.0.98/ccxt/huobipro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/idex.py` & `ccxt-3.0.98/ccxt/idex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/independentreserve.py` & `ccxt-3.0.98/ccxt/independentreserve.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/indodax.py` & `ccxt-3.0.98/ccxt/indodax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/itbit.py` & `ccxt-3.0.98/ccxt/itbit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/kraken.py` & `ccxt-3.0.98/ccxt/kraken.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/krakenfutures.py` & `ccxt-3.0.98/ccxt/krakenfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/kucoin.py` & `ccxt-3.0.98/ccxt/kucoin.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/kucoinfutures.py` & `ccxt-3.0.98/ccxt/kucoinfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/kuna.py` & `ccxt-3.0.98/ccxt/kuna.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/latoken.py` & `ccxt-3.0.98/ccxt/latoken.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/lbank.py` & `ccxt-3.0.98/ccxt/lbank.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/lbank2.py` & `ccxt-3.0.98/ccxt/lbank2.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/luno.py` & `ccxt-3.0.98/ccxt/luno.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/lykke.py` & `ccxt-3.0.98/ccxt/lykke.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/mercado.py` & `ccxt-3.0.98/ccxt/mercado.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/mexc.py` & `ccxt-3.0.98/ccxt/mexc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/ndax.py` & `ccxt-3.0.98/ccxt/ndax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/novadax.py` & `ccxt-3.0.98/ccxt/novadax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/oceanex.py` & `ccxt-3.0.98/ccxt/oceanex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/okcoin.py` & `ccxt-3.0.98/ccxt/okcoin.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/okx.py` & `ccxt-3.0.98/ccxt/okx.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/paymium.py` & `ccxt-3.0.98/ccxt/paymium.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/phemex.py` & `ccxt-3.0.98/ccxt/phemex.py`

 * *Files 0% similar despite different names*

```diff
@@ -7481,4509 +7481,4508 @@
 0001d380: 616d 2064 6963 7420 7061 7261 6d73 3a20  am dict params: 
 0001d390: 6578 7472 6120 7061 7261 6d65 7465 7273  extra parameters
 0001d3a0: 2073 7065 6369 6669 6320 746f 2074 6865   specific to the
 0001d3b0: 2070 6865 6d65 7820 6170 6920 656e 6470   phemex api endp
 0001d3c0: 6f69 6e74 0a20 2020 2020 2020 203a 7061  oint.        :pa
 0001d3d0: 7261 6d20 7374 727c 4e6f 6e65 2070 6172  ram str|None par
 0001d3e0: 616d 735b 2770 6f73 5369 6465 275d 3a20  ams['posSide']: 
-0001d3f0: 6569 7468 6572 2027 4865 6467 6564 2720  either 'Hedged' 
-0001d400: 6f72 2027 4f6e 6557 6179 2720 6f72 2027  or 'OneWay' or '
-0001d410: 4d65 7267 6564 270a 2020 2020 2020 2020  Merged'.        
-0001d420: 3a72 6574 7572 6e73 2064 6963 743a 2061  :returns dict: a
-0001d430: 6e20 606f 7264 6572 2073 7472 7563 7475  n `order structu
-0001d440: 7265 203c 6874 7470 733a 2f2f 646f 6373  re <https://docs
-0001d450: 2e63 6378 742e 636f 6d2f 232f 3f69 643d  .ccxt.com/#/?id=
-0001d460: 6f72 6465 722d 7374 7275 6374 7572 653e  order-structure>
-0001d470: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
-0001d480: 2020 2020 2020 6966 2073 796d 626f 6c20        if symbol 
-0001d490: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0001d4a0: 2020 2020 2072 6169 7365 2041 7267 756d       raise Argum
-0001d4b0: 656e 7473 5265 7175 6972 6564 2873 656c  entsRequired(sel
-0001d4c0: 662e 6964 202b 2027 2065 6469 744f 7264  f.id + ' editOrd
-0001d4d0: 6572 2829 2072 6571 7569 7265 7320 6120  er() requires a 
-0001d4e0: 7379 6d62 6f6c 2061 7267 756d 656e 7427  symbol argument'
-0001d4f0: 290a 2020 2020 2020 2020 7365 6c66 2e6c  ).        self.l
-0001d500: 6f61 645f 6d61 726b 6574 7328 290a 2020  oad_markets().  
-0001d510: 2020 2020 2020 6d61 726b 6574 203d 2073        market = s
-0001d520: 656c 662e 6d61 726b 6574 2873 796d 626f  elf.market(symbo
-0001d530: 6c29 0a20 2020 2020 2020 2072 6571 7565  l).        reque
-0001d540: 7374 203d 207b 0a20 2020 2020 2020 2020  st = {.         
-0001d550: 2020 2027 7379 6d62 6f6c 273a 206d 6172     'symbol': mar
-0001d560: 6b65 745b 2769 6427 5d2c 0a20 2020 2020  ket['id'],.     
-0001d570: 2020 207d 0a20 2020 2020 2020 2063 6c69     }.        cli
-0001d580: 656e 744f 7264 6572 4964 203d 2073 656c  entOrderId = sel
-0001d590: 662e 7361 6665 5f73 7472 696e 675f 3228  f.safe_string_2(
-0001d5a0: 7061 7261 6d73 2c20 2763 6c69 656e 744f  params, 'clientO
-0001d5b0: 7264 6572 4964 272c 2027 636c 4f72 6449  rderId', 'clOrdI
-0001d5c0: 4427 290a 2020 2020 2020 2020 7061 7261  D').        para
-0001d5d0: 6d73 203d 2073 656c 662e 6f6d 6974 2870  ms = self.omit(p
-0001d5e0: 6172 616d 732c 205b 2763 6c69 656e 744f  arams, ['clientO
-0001d5f0: 7264 6572 4964 272c 2027 636c 4f72 6449  rderId', 'clOrdI
-0001d600: 4427 5d29 0a20 2020 2020 2020 2069 7355  D']).        isU
-0001d610: 5344 5453 6574 746c 6564 203d 2028 6d61  SDTSettled = (ma
-0001d620: 726b 6574 5b27 7365 7474 6c65 275d 203d  rket['settle'] =
-0001d630: 3d20 2755 5344 5427 290a 2020 2020 2020  = 'USDT').      
-0001d640: 2020 6966 2063 6c69 656e 744f 7264 6572    if clientOrder
-0001d650: 4964 2069 7320 6e6f 7420 4e6f 6e65 3a0a  Id is not None:.
-0001d660: 2020 2020 2020 2020 2020 2020 7265 7175              requ
-0001d670: 6573 745b 2763 6c4f 7264 4944 275d 203d  est['clOrdID'] =
-0001d680: 2063 6c69 656e 744f 7264 6572 4964 0a20   clientOrderId. 
-0001d690: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001d6a0: 2020 2020 2020 2020 2072 6571 7565 7374           request
-0001d6b0: 5b27 6f72 6465 7249 4427 5d20 3d20 6964  ['orderID'] = id
-0001d6c0: 0a20 2020 2020 2020 2069 6620 7072 6963  .        if pric
-0001d6d0: 6520 6973 206e 6f74 204e 6f6e 653a 0a20  e is not None:. 
-0001d6e0: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-0001d6f0: 5553 4454 5365 7474 6c65 643a 0a20 2020  USDTSettled:.   
-0001d700: 2020 2020 2020 2020 2020 2020 2072 6571               req
-0001d710: 7565 7374 5b27 7072 6963 6552 7027 5d20  uest['priceRp'] 
-0001d720: 3d20 7365 6c66 2e70 7269 6365 5f74 6f5f  = self.price_to_
-0001d730: 7072 6563 6973 696f 6e28 6d61 726b 6574  precision(market
-0001d740: 5b27 7379 6d62 6f6c 275d 2c20 7072 6963  ['symbol'], pric
-0001d750: 6529 0a20 2020 2020 2020 2020 2020 2065  e).            e
-0001d760: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0001d770: 2020 2020 2072 6571 7565 7374 5b27 7072       request['pr
-0001d780: 6963 6545 7027 5d20 3d20 7365 6c66 2e74  iceEp'] = self.t
-0001d790: 6f5f 6570 2870 7269 6365 2c20 6d61 726b  o_ep(price, mark
-0001d7a0: 6574 290a 2020 2020 2020 2020 2320 4e6f  et).        # No
-0001d7b0: 7465 2074 6865 2075 7070 6572 6361 7365  te the uppercase
-0001d7c0: 2027 5627 2069 6e20 2762 6173 6551 7479   'V' in 'baseQty
-0001d7d0: 4556 2720 7265 7175 6573 742e 2074 6861  EV' request. tha
-0001d7e0: 7420 6973 2065 7863 6861 6e67 6527 7320  t is exchange's 
-0001d7f0: 7265 7175 6972 656d 656e 7420 6174 2073  requirement at s
-0001d800: 656c 6620 6d6f 6d65 6e74 2e20 486f 7765  elf moment. Howe
-0001d810: 7665 722c 2074 6f20 6176 6f69 6420 6d69  ver, to avoid mi
-0001d820: 7374 616b 6573 2066 726f 6d20 7573 6572  stakes from user
-0001d830: 2073 6964 652c 206c 6574 2773 2073 7570   side, let's sup
-0001d840: 706f 7274 206c 6f77 6572 6361 7365 6420  port lowercased 
-0001d850: 2762 6173 6551 7479 4576 2720 746f 6f0a  'baseQtyEv' too.
-0001d860: 2020 2020 2020 2020 6669 6e61 6c51 7479          finalQty
-0001d870: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
-0001d880: 696e 6728 7061 7261 6d73 2c20 2762 6173  ing(params, 'bas
-0001d890: 6551 7479 4576 2729 0a20 2020 2020 2020  eQtyEv').       
-0001d8a0: 2070 6172 616d 7320 3d20 7365 6c66 2e6f   params = self.o
-0001d8b0: 6d69 7428 7061 7261 6d73 2c20 5b27 6261  mit(params, ['ba
-0001d8c0: 7365 5174 7945 7627 5d29 0a20 2020 2020  seQtyEv']).     
-0001d8d0: 2020 2069 6620 6669 6e61 6c51 7479 2069     if finalQty i
-0001d8e0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-0001d8f0: 2020 2020 2020 2020 7265 7175 6573 745b          request[
-0001d900: 2762 6173 6551 7479 4556 275d 203d 2066  'baseQtyEV'] = f
-0001d910: 696e 616c 5174 790a 2020 2020 2020 2020  inalQty.        
-0001d920: 656c 6966 2061 6d6f 756e 7420 6973 206e  elif amount is n
-0001d930: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-0001d940: 2020 2020 2069 6620 6973 5553 4454 5365       if isUSDTSe
-0001d950: 7474 6c65 643a 0a20 2020 2020 2020 2020  ttled:.         
-0001d960: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
-0001d970: 6261 7365 5174 7945 5627 5d20 3d20 7365  baseQtyEV'] = se
-0001d980: 6c66 2e61 6d6f 756e 745f 746f 5f70 7265  lf.amount_to_pre
-0001d990: 6369 7369 6f6e 286d 6172 6b65 745b 2773  cision(market['s
-0001d9a0: 796d 626f 6c27 5d2c 2061 6d6f 756e 7429  ymbol'], amount)
-0001d9b0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-0001d9c0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0001d9d0: 2020 2072 6571 7565 7374 5b27 6261 7365     request['base
-0001d9e0: 5174 7945 5627 5d20 3d20 7365 6c66 2e74  QtyEV'] = self.t
-0001d9f0: 6f5f 6576 2861 6d6f 756e 742c 206d 6172  o_ev(amount, mar
-0001da00: 6b65 7429 0a20 2020 2020 2020 2073 746f  ket).        sto
-0001da10: 7050 7269 6365 203d 2073 656c 662e 7361  pPrice = self.sa
-0001da20: 6665 5f73 7472 696e 675f 3228 7061 7261  fe_string_2(para
-0001da30: 6d73 2c20 2773 746f 7050 7827 2c20 2773  ms, 'stopPx', 's
-0001da40: 746f 7050 7269 6365 2729 0a20 2020 2020  topPrice').     
-0001da50: 2020 2069 6620 7374 6f70 5072 6963 6520     if stopPrice 
-0001da60: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-0001da70: 2020 2020 2020 2020 2069 6620 6973 5553           if isUS
-0001da80: 4454 5365 7474 6c65 643a 0a20 2020 2020  DTSettled:.     
-0001da90: 2020 2020 2020 2020 2020 2072 6571 7565             reque
-0001daa0: 7374 5b27 7374 6f70 5078 5270 275d 203d  st['stopPxRp'] =
-0001dab0: 2073 656c 662e 7072 6963 655f 746f 5f70   self.price_to_p
-0001dac0: 7265 6369 7369 6f6e 2873 796d 626f 6c2c  recision(symbol,
-0001dad0: 2073 746f 7050 7269 6365 290a 2020 2020   stopPrice).    
-0001dae0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0001daf0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0001db00: 7175 6573 745b 2773 746f 7050 7845 7027  quest['stopPxEp'
-0001db10: 5d20 3d20 7365 6c66 2e74 6f5f 6570 2873  ] = self.to_ep(s
-0001db20: 746f 7050 7269 6365 2c20 6d61 726b 6574  topPrice, market
-0001db30: 290a 2020 2020 2020 2020 7061 7261 6d73  ).        params
-0001db40: 203d 2073 656c 662e 6f6d 6974 2870 6172   = self.omit(par
-0001db50: 616d 732c 205b 2773 746f 7050 7827 2c20  ams, ['stopPx', 
-0001db60: 2773 746f 7050 7269 6365 275d 290a 2020  'stopPrice']).  
-0001db70: 2020 2020 2020 6d65 7468 6f64 203d 2027        method = '
-0001db80: 7072 6976 6174 6550 7574 5370 6f74 4f72  privatePutSpotOr
-0001db90: 6465 7273 270a 2020 2020 2020 2020 6966  ders'.        if
-0001dba0: 2069 7355 5344 5453 6574 746c 6564 3a0a   isUSDTSettled:.
-0001dbb0: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
-0001dbc0: 6f64 203d 2027 7072 6976 6174 6550 7574  od = 'privatePut
-0001dbd0: 474f 7264 6572 7352 6570 6c61 6365 270a  GOrdersReplace'.
-0001dbe0: 2020 2020 2020 2020 2020 2020 706f 7353              posS
-0001dbf0: 6964 6520 3d20 7365 6c66 2e73 6166 655f  ide = self.safe_
-0001dc00: 7374 7269 6e67 2870 6172 616d 732c 2027  string(params, '
-0001dc10: 706f 7353 6964 6527 290a 2020 2020 2020  posSide').      
-0001dc20: 2020 2020 2020 6966 2070 6f73 5369 6465        if posSide
-0001dc30: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-0001dc40: 2020 2020 2020 2020 2020 7265 7175 6573            reques
-0001dc50: 745b 2770 6f73 5369 6465 275d 203d 2027  t['posSide'] = '
-0001dc60: 4d65 7267 6564 270a 2020 2020 2020 2020  Merged'.        
-0001dc70: 656c 6966 206d 6172 6b65 745b 2773 7761  elif market['swa
-0001dc80: 7027 5d3a 0a20 2020 2020 2020 2020 2020  p']:.           
-0001dc90: 206d 6574 686f 6420 3d20 2770 7269 7661   method = 'priva
-0001dca0: 7465 5075 744f 7264 6572 7352 6570 6c61  tePutOrdersRepla
-0001dcb0: 6365 270a 2020 2020 2020 2020 7265 7370  ce'.        resp
-0001dcc0: 6f6e 7365 203d 2067 6574 6174 7472 2873  onse = getattr(s
-0001dcd0: 656c 662c 206d 6574 686f 6429 2873 656c  elf, method)(sel
-0001dce0: 662e 6578 7465 6e64 2872 6571 7565 7374  f.extend(request
-0001dcf0: 2c20 7061 7261 6d73 2929 0a20 2020 2020  , params)).     
-0001dd00: 2020 2064 6174 6120 3d20 7365 6c66 2e73     data = self.s
-0001dd10: 6166 655f 7661 6c75 6528 7265 7370 6f6e  afe_value(respon
-0001dd20: 7365 2c20 2764 6174 6127 2c20 7b7d 290a  se, 'data', {}).
-0001dd30: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0001dd40: 656c 662e 7061 7273 655f 6f72 6465 7228  elf.parse_order(
-0001dd50: 6461 7461 2c20 6d61 726b 6574 290a 0a20  data, market).. 
-0001dd60: 2020 2064 6566 2063 616e 6365 6c5f 6f72     def cancel_or
-0001dd70: 6465 7228 7365 6c66 2c20 6964 3a20 7374  der(self, id: st
-0001dd80: 722c 2073 796d 626f 6c3a 204f 7074 696f  r, symbol: Optio
-0001dd90: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
-0001dda0: 2070 6172 616d 733d 7b7d 293a 0a20 2020   params={}):.   
-0001ddb0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001ddc0: 2063 616e 6365 6c73 2061 6e20 6f70 656e   cancels an open
-0001ddd0: 206f 7264 6572 0a20 2020 2020 2020 2073   order.        s
-0001dde0: 6565 2068 7474 7073 3a2f 2f67 6974 6875  ee https://githu
-0001ddf0: 622e 636f 6d2f 7068 656d 6578 2f70 6865  b.com/phemex/phe
-0001de00: 6d65 782d 6170 692d 646f 6373 2f62 6c6f  mex-api-docs/blo
-0001de10: 622f 6d61 7374 6572 2f50 7562 6c69 632d  b/master/Public-
-0001de20: 4865 6467 6564 2d50 6572 7065 7475 616c  Hedged-Perpetual
-0001de30: 2d41 5049 2e6d 6423 6361 6e63 656c 2d73  -API.md#cancel-s
-0001de40: 696e 676c 652d 6f72 6465 722d 6279 2d6f  ingle-order-by-o
-0001de50: 7264 6572 6964 0a20 2020 2020 2020 203a  rderid.        :
-0001de60: 7061 7261 6d20 7374 7220 6964 3a20 6f72  param str id: or
-0001de70: 6465 7220 6964 0a20 2020 2020 2020 203a  der id.        :
-0001de80: 7061 7261 6d20 7374 7220 7379 6d62 6f6c  param str symbol
-0001de90: 3a20 756e 6966 6965 6420 7379 6d62 6f6c  : unified symbol
-0001dea0: 206f 6620 7468 6520 6d61 726b 6574 2074   of the market t
-0001deb0: 6865 206f 7264 6572 2077 6173 206d 6164  he order was mad
-0001dec0: 6520 696e 0a20 2020 2020 2020 203a 7061  e in.        :pa
-0001ded0: 7261 6d20 6469 6374 2070 6172 616d 733a  ram dict params:
-0001dee0: 2065 7874 7261 2070 6172 616d 6574 6572   extra parameter
-0001def0: 7320 7370 6563 6966 6963 2074 6f20 7468  s specific to th
-0001df00: 6520 7068 656d 6578 2061 7069 2065 6e64  e phemex api end
-0001df10: 706f 696e 740a 2020 2020 2020 2020 3a70  point.        :p
-0001df20: 6172 616d 2073 7472 7c4e 6f6e 6520 7061  aram str|None pa
-0001df30: 7261 6d73 5b27 706f 7353 6964 6527 5d3a  rams['posSide']:
-0001df40: 2065 6974 6865 7220 2748 6564 6765 6427   either 'Hedged'
-0001df50: 206f 7220 274f 6e65 5761 7927 206f 7220   or 'OneWay' or 
-0001df60: 274d 6572 6765 6427 0a20 2020 2020 2020  'Merged'.       
-0001df70: 203a 7265 7475 726e 7320 6469 6374 3a20   :returns dict: 
-0001df80: 416e 2060 6f72 6465 7220 7374 7275 6374  An `order struct
-0001df90: 7572 6520 3c68 7474 7073 3a2f 2f64 6f63  ure <https://doc
-0001dfa0: 732e 6363 7874 2e63 6f6d 2f23 2f3f 6964  s.ccxt.com/#/?id
-0001dfb0: 3d6f 7264 6572 2d73 7472 7563 7475 7265  =order-structure
-0001dfc0: 3e60 0a20 2020 2020 2020 2022 2222 0a20  >`.        """. 
-0001dfd0: 2020 2020 2020 2069 6620 7379 6d62 6f6c         if symbol
-0001dfe0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-0001dff0: 2020 2020 2020 7261 6973 6520 4172 6775        raise Argu
-0001e000: 6d65 6e74 7352 6571 7569 7265 6428 7365  mentsRequired(se
-0001e010: 6c66 2e69 6420 2b20 2720 6361 6e63 656c  lf.id + ' cancel
-0001e020: 4f72 6465 7228 2920 7265 7175 6972 6573  Order() requires
-0001e030: 2061 2073 796d 626f 6c20 6172 6775 6d65   a symbol argume
-0001e040: 6e74 2729 0a20 2020 2020 2020 2073 656c  nt').        sel
-0001e050: 662e 6c6f 6164 5f6d 6172 6b65 7473 2829  f.load_markets()
-0001e060: 0a20 2020 2020 2020 206d 6172 6b65 7420  .        market 
-0001e070: 3d20 7365 6c66 2e6d 6172 6b65 7428 7379  = self.market(sy
-0001e080: 6d62 6f6c 290a 2020 2020 2020 2020 7265  mbol).        re
-0001e090: 7175 6573 7420 3d20 7b0a 2020 2020 2020  quest = {.      
-0001e0a0: 2020 2020 2020 2773 796d 626f 6c27 3a20        'symbol': 
-0001e0b0: 6d61 726b 6574 5b27 6964 275d 2c0a 2020  market['id'],.  
-0001e0c0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-0001e0d0: 636c 6965 6e74 4f72 6465 7249 6420 3d20  clientOrderId = 
-0001e0e0: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
-0001e0f0: 5f32 2870 6172 616d 732c 2027 636c 6965  _2(params, 'clie
-0001e100: 6e74 4f72 6465 7249 6427 2c20 2763 6c4f  ntOrderId', 'clO
-0001e110: 7264 4944 2729 0a20 2020 2020 2020 2070  rdID').        p
-0001e120: 6172 616d 7320 3d20 7365 6c66 2e6f 6d69  arams = self.omi
-0001e130: 7428 7061 7261 6d73 2c20 5b27 636c 6965  t(params, ['clie
-0001e140: 6e74 4f72 6465 7249 6427 2c20 2763 6c4f  ntOrderId', 'clO
-0001e150: 7264 4944 275d 290a 2020 2020 2020 2020  rdID']).        
-0001e160: 6966 2063 6c69 656e 744f 7264 6572 4964  if clientOrderId
-0001e170: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-0001e180: 2020 2020 2020 2020 2020 7265 7175 6573            reques
-0001e190: 745b 2763 6c4f 7264 4944 275d 203d 2063  t['clOrdID'] = c
-0001e1a0: 6c69 656e 744f 7264 6572 4964 0a20 2020  lientOrderId.   
-0001e1b0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001e1c0: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
-0001e1d0: 6f72 6465 7249 4427 5d20 3d20 6964 0a20  orderID'] = id. 
-0001e1e0: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
-0001e1f0: 2770 7269 7661 7465 4465 6c65 7465 5370  'privateDeleteSp
-0001e200: 6f74 4f72 6465 7273 270a 2020 2020 2020  otOrders'.      
-0001e210: 2020 6966 206d 6172 6b65 745b 2773 6574    if market['set
-0001e220: 746c 6527 5d20 3d3d 2027 5553 4454 273a  tle'] == 'USDT':
-0001e230: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-0001e240: 686f 6420 3d20 2770 7269 7661 7465 4465  hod = 'privateDe
-0001e250: 6c65 7465 474f 7264 6572 7343 616e 6365  leteGOrdersCance
-0001e260: 6c27 0a20 2020 2020 2020 2020 2020 2070  l'.            p
-0001e270: 6f73 5369 6465 203d 2073 656c 662e 7361  osSide = self.sa
-0001e280: 6665 5f73 7472 696e 6728 7061 7261 6d73  fe_string(params
-0001e290: 2c20 2770 6f73 5369 6465 2729 0a20 2020  , 'posSide').   
-0001e2a0: 2020 2020 2020 2020 2069 6620 706f 7353           if posS
-0001e2b0: 6964 6520 6973 204e 6f6e 653a 0a20 2020  ide is None:.   
-0001e2c0: 2020 2020 2020 2020 2020 2020 2072 6571               req
-0001e2d0: 7565 7374 5b27 706f 7353 6964 6527 5d20  uest['posSide'] 
-0001e2e0: 3d20 274d 6572 6765 6427 0a20 2020 2020  = 'Merged'.     
-0001e2f0: 2020 2065 6c69 6620 6d61 726b 6574 5b27     elif market['
-0001e300: 7377 6170 275d 3a0a 2020 2020 2020 2020  swap']:.        
-0001e310: 2020 2020 6d65 7468 6f64 203d 2027 7072      method = 'pr
-0001e320: 6976 6174 6544 656c 6574 654f 7264 6572  ivateDeleteOrder
-0001e330: 7343 616e 6365 6c27 0a20 2020 2020 2020  sCancel'.       
-0001e340: 2072 6573 706f 6e73 6520 3d20 6765 7461   response = geta
-0001e350: 7474 7228 7365 6c66 2c20 6d65 7468 6f64  ttr(self, method
-0001e360: 2928 7365 6c66 2e65 7874 656e 6428 7265  )(self.extend(re
-0001e370: 7175 6573 742c 2070 6172 616d 7329 290a  quest, params)).
-0001e380: 2020 2020 2020 2020 6461 7461 203d 2073          data = s
-0001e390: 656c 662e 7361 6665 5f76 616c 7565 2872  elf.safe_value(r
-0001e3a0: 6573 706f 6e73 652c 2027 6461 7461 272c  esponse, 'data',
-0001e3b0: 207b 7d29 0a20 2020 2020 2020 2072 6574   {}).        ret
-0001e3c0: 7572 6e20 7365 6c66 2e70 6172 7365 5f6f  urn self.parse_o
-0001e3d0: 7264 6572 2864 6174 612c 206d 6172 6b65  rder(data, marke
-0001e3e0: 7429 0a0a 2020 2020 6465 6620 6361 6e63  t)..    def canc
-0001e3f0: 656c 5f61 6c6c 5f6f 7264 6572 7328 7365  el_all_orders(se
-0001e400: 6c66 2c20 7379 6d62 6f6c 3a20 4f70 7469  lf, symbol: Opti
-0001e410: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0001e420: 2c20 7061 7261 6d73 3d7b 7d29 3a0a 2020  , params={}):.  
-0001e430: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001e440: 2020 6361 6e63 656c 2061 6c6c 206f 7065    cancel all ope
-0001e450: 6e20 6f72 6465 7273 2069 6e20 6120 6d61  n orders in a ma
-0001e460: 726b 6574 0a20 2020 2020 2020 2073 6565  rket.        see
-0001e470: 2068 7474 7073 3a2f 2f67 6974 6875 622e   https://github.
-0001e480: 636f 6d2f 7068 656d 6578 2f70 6865 6d65  com/phemex/pheme
-0001e490: 782d 6170 692d 646f 6373 2f62 6c6f 622f  x-api-docs/blob/
-0001e4a0: 6d61 7374 6572 2f50 7562 6c69 632d 4865  master/Public-He
-0001e4b0: 6467 6564 2d50 6572 7065 7475 616c 2d41  dged-Perpetual-A
-0001e4c0: 5049 2e6d 6423 6361 6e63 656c 616c 6c0a  PI.md#cancelall.
-0001e4d0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-0001e4e0: 7472 2073 796d 626f 6c3a 2075 6e69 6669  tr symbol: unifi
-0001e4f0: 6564 206d 6172 6b65 7420 7379 6d62 6f6c  ed market symbol
-0001e500: 206f 6620 7468 6520 6d61 726b 6574 2074   of the market t
-0001e510: 6f20 6361 6e63 656c 206f 7264 6572 7320  o cancel orders 
-0001e520: 696e 0a20 2020 2020 2020 203a 7061 7261  in.        :para
-0001e530: 6d20 6469 6374 2070 6172 616d 733a 2065  m dict params: e
-0001e540: 7874 7261 2070 6172 616d 6574 6572 7320  xtra parameters 
-0001e550: 7370 6563 6966 6963 2074 6f20 7468 6520  specific to the 
-0001e560: 7068 656d 6578 2061 7069 2065 6e64 706f  phemex api endpo
-0001e570: 696e 740a 2020 2020 2020 2020 3a72 6574  int.        :ret
-0001e580: 7572 6e73 205b 6469 6374 5d3a 2061 206c  urns [dict]: a l
-0001e590: 6973 7420 6f66 2060 6f72 6465 7220 7374  ist of `order st
-0001e5a0: 7275 6374 7572 6573 203c 6874 7470 733a  ructures <https:
-0001e5b0: 2f2f 646f 6373 2e63 6378 742e 636f 6d2f  //docs.ccxt.com/
-0001e5c0: 232f 3f69 643d 6f72 6465 722d 7374 7275  #/?id=order-stru
-0001e5d0: 6374 7572 653e 600a 2020 2020 2020 2020  cture>`.        
-0001e5e0: 2222 220a 2020 2020 2020 2020 6966 2073  """.        if s
-0001e5f0: 796d 626f 6c20 6973 204e 6f6e 653a 0a20  ymbol is None:. 
-0001e600: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0001e610: 2041 7267 756d 656e 7473 5265 7175 6972   ArgumentsRequir
-0001e620: 6564 2873 656c 662e 6964 202b 2027 2063  ed(self.id + ' c
-0001e630: 616e 6365 6c41 6c6c 4f72 6465 7273 2829  ancelAllOrders()
-0001e640: 2072 6571 7569 7265 7320 6120 7379 6d62   requires a symb
-0001e650: 6f6c 2061 7267 756d 656e 7427 290a 2020  ol argument').  
-0001e660: 2020 2020 2020 7365 6c66 2e6c 6f61 645f        self.load_
-0001e670: 6d61 726b 6574 7328 290a 2020 2020 2020  markets().      
-0001e680: 2020 7265 7175 6573 7420 3d20 7b0a 2020    request = {.  
-0001e690: 2020 2020 2020 2020 2020 2320 2773 796d            # 'sym
-0001e6a0: 626f 6c27 3a20 6d61 726b 6574 5b27 6964  bol': market['id
-0001e6b0: 275d 2c0a 2020 2020 2020 2020 2020 2020  '],.            
-0001e6c0: 2320 2775 6e74 7269 6767 6572 7265 6427  # 'untriggerred'
-0001e6d0: 3a20 4661 6c73 652c 2020 2320 4661 6c73  : False,  # Fals
-0001e6e0: 6520 746f 2063 616e 6365 6c20 6e6f 6e2d  e to cancel non-
-0001e6f0: 636f 6e64 6974 696f 6e61 6c20 6f72 6465  conditional orde
-0001e700: 7273 2c20 5472 7565 2074 6f20 6361 6e63  rs, True to canc
-0001e710: 656c 2063 6f6e 6469 7469 6f6e 616c 206f  el conditional o
-0001e720: 7264 6572 730a 2020 2020 2020 2020 2020  rders.          
-0001e730: 2020 2320 2774 6578 7427 3a20 2775 7020    # 'text': 'up 
-0001e740: 746f 2034 3020 6368 6172 6163 7465 7273  to 40 characters
-0001e750: 206d 6178 272c 0a20 2020 2020 2020 207d   max',.        }
-0001e760: 0a20 2020 2020 2020 206d 6172 6b65 7420  .        market 
-0001e770: 3d20 7365 6c66 2e6d 6172 6b65 7428 7379  = self.market(sy
-0001e780: 6d62 6f6c 290a 2020 2020 2020 2020 6d65  mbol).        me
-0001e790: 7468 6f64 203d 2027 7072 6976 6174 6544  thod = 'privateD
-0001e7a0: 656c 6574 6553 706f 744f 7264 6572 7341  eleteSpotOrdersA
-0001e7b0: 6c6c 270a 2020 2020 2020 2020 6966 206d  ll'.        if m
-0001e7c0: 6172 6b65 745b 2773 6574 746c 6527 5d20  arket['settle'] 
-0001e7d0: 3d3d 2027 5553 4454 273a 0a20 2020 2020  == 'USDT':.     
-0001e7e0: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
-0001e7f0: 2770 7269 7661 7465 4465 6c65 7465 474f  'privateDeleteGO
-0001e800: 7264 6572 7341 6c6c 270a 2020 2020 2020  rdersAll'.      
-0001e810: 2020 656c 6966 206d 6172 6b65 745b 2773    elif market['s
-0001e820: 7761 7027 5d3a 0a20 2020 2020 2020 2020  wap']:.         
-0001e830: 2020 206d 6574 686f 6420 3d20 2770 7269     method = 'pri
-0001e840: 7661 7465 4465 6c65 7465 4f72 6465 7273  vateDeleteOrders
-0001e850: 416c 6c27 0a20 2020 2020 2020 2072 6571  All'.        req
-0001e860: 7565 7374 5b27 7379 6d62 6f6c 275d 203d  uest['symbol'] =
-0001e870: 206d 6172 6b65 745b 2769 6427 5d0a 2020   market['id'].  
-0001e880: 2020 2020 2020 7265 7475 726e 2067 6574        return get
-0001e890: 6174 7472 2873 656c 662c 206d 6574 686f  attr(self, metho
-0001e8a0: 6429 2873 656c 662e 6578 7465 6e64 2872  d)(self.extend(r
-0001e8b0: 6571 7565 7374 2c20 7061 7261 6d73 2929  equest, params))
-0001e8c0: 0a0a 2020 2020 6465 6620 6665 7463 685f  ..    def fetch_
-0001e8d0: 6f72 6465 7228 7365 6c66 2c20 6964 3a20  order(self, id: 
-0001e8e0: 7374 722c 2073 796d 626f 6c3a 204f 7074  str, symbol: Opt
-0001e8f0: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
-0001e900: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
-0001e910: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0001e920: 2020 2066 6574 6368 6573 2069 6e66 6f72     fetches infor
-0001e930: 6d61 7469 6f6e 206f 6e20 616e 206f 7264  mation on an ord
-0001e940: 6572 206d 6164 6520 6279 2074 6865 2075  er made by the u
-0001e950: 7365 720a 2020 2020 2020 2020 3a70 6172  ser.        :par
-0001e960: 616d 2073 7472 2073 796d 626f 6c3a 2075  am str symbol: u
-0001e970: 6e69 6669 6564 2073 796d 626f 6c20 6f66  nified symbol of
-0001e980: 2074 6865 206d 6172 6b65 7420 7468 6520   the market the 
-0001e990: 6f72 6465 7220 7761 7320 6d61 6465 2069  order was made i
-0001e9a0: 6e0a 2020 2020 2020 2020 3a70 6172 616d  n.        :param
-0001e9b0: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
-0001e9c0: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
-0001e9d0: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
-0001e9e0: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
-0001e9f0: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
-0001ea00: 726e 7320 6469 6374 3a20 416e 2060 6f72  rns dict: An `or
-0001ea10: 6465 7220 7374 7275 6374 7572 6520 3c68  der structure <h
-0001ea20: 7474 7073 3a2f 2f64 6f63 732e 6363 7874  ttps://docs.ccxt
-0001ea30: 2e63 6f6d 2f23 2f3f 6964 3d6f 7264 6572  .com/#/?id=order
-0001ea40: 2d73 7472 7563 7475 7265 3e60 0a20 2020  -structure>`.   
-0001ea50: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001ea60: 2069 6620 7379 6d62 6f6c 2069 7320 4e6f   if symbol is No
-0001ea70: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0001ea80: 7261 6973 6520 4172 6775 6d65 6e74 7352  raise ArgumentsR
-0001ea90: 6571 7569 7265 6428 7365 6c66 2e69 6420  equired(self.id 
-0001eaa0: 2b20 2720 6665 7463 684f 7264 6572 2829  + ' fetchOrder()
-0001eab0: 2072 6571 7569 7265 7320 6120 7379 6d62   requires a symb
-0001eac0: 6f6c 2061 7267 756d 656e 7427 290a 2020  ol argument').  
-0001ead0: 2020 2020 2020 7365 6c66 2e6c 6f61 645f        self.load_
-0001eae0: 6d61 726b 6574 7328 290a 2020 2020 2020  markets().      
-0001eaf0: 2020 6d61 726b 6574 203d 2073 656c 662e    market = self.
-0001eb00: 6d61 726b 6574 2873 796d 626f 6c29 0a20  market(symbol). 
-0001eb10: 2020 2020 2020 2069 6620 6d61 726b 6574         if market
-0001eb20: 5b27 7365 7474 6c65 275d 203d 3d20 2755  ['settle'] == 'U
-0001eb30: 5344 5427 3a0a 2020 2020 2020 2020 2020  SDT':.          
-0001eb40: 2020 7261 6973 6520 4e6f 7453 7570 706f    raise NotSuppo
-0001eb50: 7274 6564 2873 656c 662e 6964 202b 2027  rted(self.id + '
-0001eb60: 6665 7463 684f 7264 6572 2829 2069 7320  fetchOrder() is 
-0001eb70: 6e6f 7420 7375 7070 6f72 7465 6420 7965  not supported ye
-0001eb80: 7420 666f 7220 5553 4454 2073 6574 746c  t for USDT settl
-0001eb90: 6564 2073 7761 7020 6d61 726b 6574 7327  ed swap markets'
-0001eba0: 2920 2023 2068 7474 7073 3a2f 2f67 6974  )  # https://git
-0001ebb0: 6875 622e 636f 6d2f 7068 656d 6578 2f70  hub.com/phemex/p
-0001ebc0: 6865 6d65 782d 6170 692d 646f 6373 2f62  hemex-api-docs/b
-0001ebd0: 6c6f 622f 6d61 7374 6572 2f50 7562 6c69  lob/master/Publi
-0001ebe0: 632d 4865 6467 6564 2d50 6572 7065 7475  c-Hedged-Perpetu
-0001ebf0: 616c 2d41 5049 2e6d 6423 7175 6572 792d  al-API.md#query-
-0001ec00: 7573 6572 2d6f 7264 6572 2d62 792d 6f72  user-order-by-or
-0001ec10: 6465 7269 642d 6f72 2d71 7565 7279 2d75  derid-or-query-u
-0001ec20: 7365 722d 6f72 6465 722d 6279 2d63 6c69  ser-order-by-cli
-0001ec30: 656e 742d 6f72 6465 722d 6964 0a20 2020  ent-order-id.   
-0001ec40: 2020 2020 206d 6574 686f 6420 3d20 2770       method = 'p
-0001ec50: 7269 7661 7465 4765 7453 706f 744f 7264  rivateGetSpotOrd
-0001ec60: 6572 7341 6374 6976 6527 2069 6620 6d61  ersActive' if ma
-0001ec70: 726b 6574 5b27 7370 6f74 275d 2065 6c73  rket['spot'] els
-0001ec80: 6520 2770 7269 7661 7465 4765 7445 7863  e 'privateGetExc
-0001ec90: 6861 6e67 654f 7264 6572 270a 2020 2020  hangeOrder'.    
-0001eca0: 2020 2020 7265 7175 6573 7420 3d20 7b0a      request = {.
-0001ecb0: 2020 2020 2020 2020 2020 2020 2773 796d              'sym
-0001ecc0: 626f 6c27 3a20 6d61 726b 6574 5b27 6964  bol': market['id
-0001ecd0: 275d 2c0a 2020 2020 2020 2020 7d0a 2020  '],.        }.  
-0001ece0: 2020 2020 2020 636c 6965 6e74 4f72 6465        clientOrde
-0001ecf0: 7249 6420 3d20 7365 6c66 2e73 6166 655f  rId = self.safe_
-0001ed00: 7374 7269 6e67 5f32 2870 6172 616d 732c  string_2(params,
-0001ed10: 2027 636c 6965 6e74 4f72 6465 7249 6427   'clientOrderId'
-0001ed20: 2c20 2763 6c4f 7264 4944 2729 0a20 2020  , 'clOrdID').   
-0001ed30: 2020 2020 2070 6172 616d 7320 3d20 7365       params = se
-0001ed40: 6c66 2e6f 6d69 7428 7061 7261 6d73 2c20  lf.omit(params, 
-0001ed50: 5b27 636c 6965 6e74 4f72 6465 7249 6427  ['clientOrderId'
-0001ed60: 2c20 2763 6c4f 7264 4944 275d 290a 2020  , 'clOrdID']).  
-0001ed70: 2020 2020 2020 6966 2063 6c69 656e 744f        if clientO
-0001ed80: 7264 6572 4964 2069 7320 6e6f 7420 4e6f  rderId is not No
-0001ed90: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0001eda0: 7265 7175 6573 745b 2763 6c4f 7264 4944  request['clOrdID
-0001edb0: 275d 203d 2063 6c69 656e 744f 7264 6572  '] = clientOrder
-0001edc0: 4964 0a20 2020 2020 2020 2065 6c73 653a  Id.        else:
-0001edd0: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
-0001ede0: 7565 7374 5b27 6f72 6465 7249 4427 5d20  uest['orderID'] 
-0001edf0: 3d20 6964 0a20 2020 2020 2020 2072 6573  = id.        res
-0001ee00: 706f 6e73 6520 3d20 6765 7461 7474 7228  ponse = getattr(
-0001ee10: 7365 6c66 2c20 6d65 7468 6f64 2928 7365  self, method)(se
-0001ee20: 6c66 2e65 7874 656e 6428 7265 7175 6573  lf.extend(reques
-0001ee30: 742c 2070 6172 616d 7329 290a 2020 2020  t, params)).    
-0001ee40: 2020 2020 6461 7461 203d 2073 656c 662e      data = self.
-0001ee50: 7361 6665 5f76 616c 7565 2872 6573 706f  safe_value(respo
-0001ee60: 6e73 652c 2027 6461 7461 272c 207b 7d29  nse, 'data', {})
-0001ee70: 0a20 2020 2020 2020 206f 7264 6572 203d  .        order =
-0001ee80: 2064 6174 610a 2020 2020 2020 2020 6966   data.        if
-0001ee90: 2069 7369 6e73 7461 6e63 6528 6461 7461   isinstance(data
-0001eea0: 2c20 6c69 7374 293a 0a20 2020 2020 2020  , list):.       
-0001eeb0: 2020 2020 206e 756d 4f72 6465 7273 203d       numOrders =
-0001eec0: 206c 656e 2864 6174 6129 0a20 2020 2020   len(data).     
-0001eed0: 2020 2020 2020 2069 6620 6e75 6d4f 7264         if numOrd
-0001eee0: 6572 7320 3c20 313a 0a20 2020 2020 2020  ers < 1:.       
-0001eef0: 2020 2020 2020 2020 2069 6620 636c 6965           if clie
-0001ef00: 6e74 4f72 6465 7249 6420 6973 206e 6f74  ntOrderId is not
-0001ef10: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-0001ef20: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0001ef30: 204f 7264 6572 4e6f 7446 6f75 6e64 2873   OrderNotFound(s
-0001ef40: 656c 662e 6964 202b 2027 2066 6574 6368  elf.id + ' fetch
-0001ef50: 4f72 6465 7228 2920 2720 2b20 7379 6d62  Order() ' + symb
-0001ef60: 6f6c 202b 2027 206f 7264 6572 2077 6974  ol + ' order wit
-0001ef70: 6820 636c 6965 6e74 4f72 6465 7249 6420  h clientOrderId 
-0001ef80: 2720 2b20 636c 6965 6e74 4f72 6465 7249  ' + clientOrderI
-0001ef90: 6420 2b20 2720 6e6f 7420 666f 756e 6427  d + ' not found'
-0001efa0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001efb0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0001efc0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0001efd0: 6520 4f72 6465 724e 6f74 466f 756e 6428  e OrderNotFound(
-0001efe0: 7365 6c66 2e69 6420 2b20 2720 6665 7463  self.id + ' fetc
-0001eff0: 684f 7264 6572 2829 2027 202b 2073 796d  hOrder() ' + sym
-0001f000: 626f 6c20 2b20 2720 6f72 6465 7220 7769  bol + ' order wi
-0001f010: 7468 2069 6420 2720 2b20 6964 202b 2027  th id ' + id + '
-0001f020: 206e 6f74 2066 6f75 6e64 2729 0a20 2020   not found').   
-0001f030: 2020 2020 2020 2020 206f 7264 6572 203d           order =
-0001f040: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
-0001f050: 2864 6174 612c 2030 2c20 7b7d 290a 2020  (data, 0, {}).  
-0001f060: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-0001f070: 662e 7061 7273 655f 6f72 6465 7228 6f72  f.parse_order(or
-0001f080: 6465 722c 206d 6172 6b65 7429 0a0a 2020  der, market)..  
-0001f090: 2020 6465 6620 6665 7463 685f 6f72 6465    def fetch_orde
-0001f0a0: 7273 2873 656c 662c 2073 796d 626f 6c3a  rs(self, symbol:
-0001f0b0: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
-0001f0c0: 204e 6f6e 652c 2073 696e 6365 3a20 4f70   None, since: Op
-0001f0d0: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
-0001f0e0: 6e65 2c20 6c69 6d69 743a 204f 7074 696f  ne, limit: Optio
-0001f0f0: 6e61 6c5b 696e 745d 203d 204e 6f6e 652c  nal[int] = None,
-0001f100: 2070 6172 616d 733d 7b7d 293a 0a20 2020   params={}):.   
-0001f110: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001f120: 2066 6574 6368 6573 2069 6e66 6f72 6d61   fetches informa
-0001f130: 7469 6f6e 206f 6e20 6d75 6c74 6970 6c65  tion on multiple
-0001f140: 206f 7264 6572 7320 6d61 6465 2062 7920   orders made by 
-0001f150: 7468 6520 7573 6572 0a20 2020 2020 2020  the user.       
-0001f160: 2073 6565 2068 7474 7073 3a2f 2f67 6974   see https://git
-0001f170: 6875 622e 636f 6d2f 7068 656d 6578 2f70  hub.com/phemex/p
-0001f180: 6865 6d65 782d 6170 692d 646f 6373 2f62  hemex-api-docs/b
-0001f190: 6c6f 622f 6d61 7374 6572 2f50 7562 6c69  lob/master/Publi
-0001f1a0: 632d 4865 6467 6564 2d50 6572 7065 7475  c-Hedged-Perpetu
-0001f1b0: 616c 2d41 5049 2e6d 6423 7175 6572 796f  al-API.md#queryo
-0001f1c0: 7264 6572 0a20 2020 2020 2020 203a 7061  rder.        :pa
-0001f1d0: 7261 6d20 7374 7220 7379 6d62 6f6c 3a20  ram str symbol: 
-0001f1e0: 756e 6966 6965 6420 6d61 726b 6574 2073  unified market s
-0001f1f0: 796d 626f 6c20 6f66 2074 6865 206d 6172  ymbol of the mar
-0001f200: 6b65 7420 6f72 6465 7273 2077 6572 6520  ket orders were 
-0001f210: 6d61 6465 2069 6e0a 2020 2020 2020 2020  made in.        
-0001f220: 3a70 6172 616d 2069 6e74 7c4e 6f6e 6520  :param int|None 
-0001f230: 7369 6e63 653a 2074 6865 2065 6172 6c69  since: the earli
-0001f240: 6573 7420 7469 6d65 2069 6e20 6d73 2074  est time in ms t
-0001f250: 6f20 6665 7463 6820 6f72 6465 7273 2066  o fetch orders f
-0001f260: 6f72 0a20 2020 2020 2020 203a 7061 7261  or.        :para
-0001f270: 6d20 696e 747c 4e6f 6e65 206c 696d 6974  m int|None limit
-0001f280: 3a20 7468 6520 6d61 7869 6d75 6d20 6e75  : the maximum nu
-0001f290: 6d62 6572 206f 6620 206f 7264 6520 7374  mber of  orde st
-0001f2a0: 7275 6374 7572 6573 2074 6f20 7265 7472  ructures to retr
-0001f2b0: 6965 7665 0a20 2020 2020 2020 203a 7061  ieve.        :pa
-0001f2c0: 7261 6d20 6469 6374 2070 6172 616d 733a  ram dict params:
-0001f2d0: 2065 7874 7261 2070 6172 616d 6574 6572   extra parameter
-0001f2e0: 7320 7370 6563 6966 6963 2074 6f20 7468  s specific to th
-0001f2f0: 6520 7068 656d 6578 2061 7069 2065 6e64  e phemex api end
-0001f300: 706f 696e 740a 2020 2020 2020 2020 3a72  point.        :r
-0001f310: 6574 7572 6e73 205b 6469 6374 5d3a 2061  eturns [dict]: a
-0001f320: 206c 6973 7420 6f66 2060 6f72 6465 7220   list of `order 
-0001f330: 7374 7275 6374 7572 6573 203c 6874 7470  structures <http
-0001f340: 733a 2f2f 646f 6373 2e63 6378 742e 636f  s://docs.ccxt.co
-0001f350: 6d2f 232f 3f69 643d 6f72 6465 722d 7374  m/#/?id=order-st
-0001f360: 7275 6374 7572 653e 600a 2020 2020 2020  ructure>`.      
-0001f370: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-0001f380: 2073 796d 626f 6c20 6973 204e 6f6e 653a   symbol is None:
-0001f390: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0001f3a0: 7365 2041 7267 756d 656e 7473 5265 7175  se ArgumentsRequ
-0001f3b0: 6972 6564 2873 656c 662e 6964 202b 2027  ired(self.id + '
-0001f3c0: 2066 6574 6368 4f72 6465 7273 2829 2072   fetchOrders() r
-0001f3d0: 6571 7569 7265 7320 6120 7379 6d62 6f6c  equires a symbol
-0001f3e0: 2061 7267 756d 656e 7427 290a 2020 2020   argument').    
-0001f3f0: 2020 2020 7365 6c66 2e6c 6f61 645f 6d61      self.load_ma
-0001f400: 726b 6574 7328 290a 2020 2020 2020 2020  rkets().        
-0001f410: 6d61 726b 6574 203d 2073 656c 662e 6d61  market = self.ma
-0001f420: 726b 6574 2873 796d 626f 6c29 0a20 2020  rket(symbol).   
-0001f430: 2020 2020 2072 6571 7565 7374 203d 207b       request = {
-0001f440: 0a20 2020 2020 2020 2020 2020 2027 7379  .            'sy
-0001f450: 6d62 6f6c 273a 206d 6172 6b65 745b 2769  mbol': market['i
-0001f460: 6427 5d2c 0a20 2020 2020 2020 207d 0a20  d'],.        }. 
-0001f470: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
-0001f480: 2770 7269 7661 7465 4765 7453 706f 744f  'privateGetSpotO
-0001f490: 7264 6572 7327 0a20 2020 2020 2020 2069  rders'.        i
-0001f4a0: 6620 6d61 726b 6574 5b27 7365 7474 6c65  f market['settle
-0001f4b0: 275d 203d 3d20 2755 5344 5427 3a0a 2020  '] == 'USDT':.  
-0001f4c0: 2020 2020 2020 2020 2020 7265 7175 6573            reques
-0001f4d0: 745b 2763 7572 7265 6e63 7927 5d20 3d20  t['currency'] = 
-0001f4e0: 6d61 726b 6574 5b27 7365 7474 6c65 275d  market['settle']
-0001f4f0: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-0001f500: 686f 6420 3d20 2770 7269 7661 7465 4765  hod = 'privateGe
-0001f510: 7445 7863 6861 6e67 654f 7264 6572 5632  tExchangeOrderV2
-0001f520: 4f72 6465 724c 6973 7427 0a20 2020 2020  OrderList'.     
-0001f530: 2020 2065 6c69 6620 6d61 726b 6574 5b27     elif market['
-0001f540: 7377 6170 275d 3a0a 2020 2020 2020 2020  swap']:.        
-0001f550: 2020 2020 6d65 7468 6f64 203d 2027 7072      method = 'pr
-0001f560: 6976 6174 6547 6574 4578 6368 616e 6765  ivateGetExchange
-0001f570: 4f72 6465 724c 6973 7427 0a20 2020 2020  OrderList'.     
-0001f580: 2020 2069 6620 7369 6e63 6520 6973 206e     if since is n
-0001f590: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-0001f5a0: 2020 2020 2072 6571 7565 7374 5b27 7374       request['st
-0001f5b0: 6172 7427 5d20 3d20 7369 6e63 650a 2020  art'] = since.  
-0001f5c0: 2020 2020 2020 6966 206c 696d 6974 2069        if limit i
-0001f5d0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-0001f5e0: 2020 2020 2020 2020 7265 7175 6573 745b          request[
-0001f5f0: 276c 696d 6974 275d 203d 206c 696d 6974  'limit'] = limit
-0001f600: 0a20 2020 2020 2020 2072 6573 706f 6e73  .        respons
-0001f610: 6520 3d20 6765 7461 7474 7228 7365 6c66  e = getattr(self
-0001f620: 2c20 6d65 7468 6f64 2928 7365 6c66 2e65  , method)(self.e
-0001f630: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
-0001f640: 6172 616d 7329 290a 2020 2020 2020 2020  arams)).        
-0001f650: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
-0001f660: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
-0001f670: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
-0001f680: 2020 2020 2072 6f77 7320 3d20 7365 6c66       rows = self
-0001f690: 2e73 6166 655f 7661 6c75 6528 6461 7461  .safe_value(data
-0001f6a0: 2c20 2772 6f77 7327 2c20 6461 7461 290a  , 'rows', data).
-0001f6b0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0001f6c0: 656c 662e 7061 7273 655f 6f72 6465 7273  elf.parse_orders
-0001f6d0: 2872 6f77 732c 206d 6172 6b65 742c 2073  (rows, market, s
-0001f6e0: 696e 6365 2c20 6c69 6d69 7429 0a0a 2020  ince, limit)..  
-0001f6f0: 2020 6465 6620 6665 7463 685f 6f70 656e    def fetch_open
-0001f700: 5f6f 7264 6572 7328 7365 6c66 2c20 7379  _orders(self, sy
-0001f710: 6d62 6f6c 3a20 4f70 7469 6f6e 616c 5b73  mbol: Optional[s
-0001f720: 7472 5d20 3d20 4e6f 6e65 2c20 7369 6e63  tr] = None, sinc
-0001f730: 653a 204f 7074 696f 6e61 6c5b 696e 745d  e: Optional[int]
-0001f740: 203d 204e 6f6e 652c 206c 696d 6974 3a20   = None, limit: 
-0001f750: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
-0001f760: 4e6f 6e65 2c20 7061 7261 6d73 3d7b 7d29  None, params={})
-0001f770: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001f780: 2020 2020 2020 6665 7463 6820 616c 6c20        fetch all 
-0001f790: 756e 6669 6c6c 6564 2063 7572 7265 6e74  unfilled current
-0001f7a0: 6c79 206f 7065 6e20 6f72 6465 7273 0a20  ly open orders. 
-0001f7b0: 2020 2020 2020 2073 6565 2068 7474 7073         see https
-0001f7c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7068  ://github.com/ph
-0001f7d0: 656d 6578 2f70 6865 6d65 782d 6170 692d  emex/phemex-api-
-0001f7e0: 646f 6373 2f62 6c6f 622f 6d61 7374 6572  docs/blob/master
-0001f7f0: 2f50 7562 6c69 632d 4865 6467 6564 2d50  /Public-Hedged-P
-0001f800: 6572 7065 7475 616c 2d41 5049 2e6d 6423  erpetual-API.md#
-0001f810: 7175 6572 796f 7065 6e6f 7264 6572 0a20  queryopenorder. 
-0001f820: 2020 2020 2020 2073 6565 2068 7474 7073         see https
-0001f830: 3a2f 2f67 6974 6875 622e 636f 6d2f 7068  ://github.com/ph
-0001f840: 656d 6578 2f70 6865 6d65 782d 6170 692d  emex/phemex-api-
-0001f850: 646f 6373 2f62 6c6f 622f 6d61 7374 6572  docs/blob/master
-0001f860: 2f50 7562 6c69 632d 436f 6e74 7261 6374  /Public-Contract
-0001f870: 2d41 5049 2d65 6e2e 6d64 0a20 2020 2020  -API-en.md.     
-0001f880: 2020 203a 7061 7261 6d20 7374 7220 7379     :param str sy
-0001f890: 6d62 6f6c 3a20 756e 6966 6965 6420 6d61  mbol: unified ma
-0001f8a0: 726b 6574 2073 796d 626f 6c0a 2020 2020  rket symbol.    
-0001f8b0: 2020 2020 3a70 6172 616d 2069 6e74 7c4e      :param int|N
-0001f8c0: 6f6e 6520 7369 6e63 653a 2074 6865 2065  one since: the e
-0001f8d0: 6172 6c69 6573 7420 7469 6d65 2069 6e20  arliest time in 
-0001f8e0: 6d73 2074 6f20 6665 7463 6820 6f70 656e  ms to fetch open
-0001f8f0: 206f 7264 6572 7320 666f 720a 2020 2020   orders for.    
-0001f900: 2020 2020 3a70 6172 616d 2069 6e74 7c4e      :param int|N
-0001f910: 6f6e 6520 6c69 6d69 743a 2074 6865 206d  one limit: the m
-0001f920: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
-0001f930: 2020 6f70 656e 206f 7264 6572 7320 7374    open orders st
-0001f940: 7275 6374 7572 6573 2074 6f20 7265 7472  ructures to retr
-0001f950: 6965 7665 0a20 2020 2020 2020 203a 7061  ieve.        :pa
-0001f960: 7261 6d20 6469 6374 2070 6172 616d 733a  ram dict params:
-0001f970: 2065 7874 7261 2070 6172 616d 6574 6572   extra parameter
-0001f980: 7320 7370 6563 6966 6963 2074 6f20 7468  s specific to th
-0001f990: 6520 7068 656d 6578 2061 7069 2065 6e64  e phemex api end
-0001f9a0: 706f 696e 740a 2020 2020 2020 2020 3a72  point.        :r
-0001f9b0: 6574 7572 6e73 205b 6469 6374 5d3a 2061  eturns [dict]: a
-0001f9c0: 206c 6973 7420 6f66 2060 6f72 6465 7220   list of `order 
-0001f9d0: 7374 7275 6374 7572 6573 203c 6874 7470  structures <http
-0001f9e0: 733a 2f2f 646f 6373 2e63 6378 742e 636f  s://docs.ccxt.co
-0001f9f0: 6d2f 232f 3f69 643d 6f72 6465 722d 7374  m/#/?id=order-st
-0001fa00: 7275 6374 7572 653e 600a 2020 2020 2020  ructure>`.      
-0001fa10: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-0001fa20: 2073 796d 626f 6c20 6973 204e 6f6e 653a   symbol is None:
-0001fa30: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0001fa40: 7365 2041 7267 756d 656e 7473 5265 7175  se ArgumentsRequ
-0001fa50: 6972 6564 2873 656c 662e 6964 202b 2027  ired(self.id + '
-0001fa60: 2066 6574 6368 4f70 656e 4f72 6465 7273   fetchOpenOrders
-0001fa70: 2829 2072 6571 7569 7265 7320 6120 7379  () requires a sy
-0001fa80: 6d62 6f6c 2061 7267 756d 656e 7427 290a  mbol argument').
-0001fa90: 2020 2020 2020 2020 7365 6c66 2e6c 6f61          self.loa
-0001faa0: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
-0001fab0: 2020 2020 6d61 726b 6574 203d 2073 656c      market = sel
-0001fac0: 662e 6d61 726b 6574 2873 796d 626f 6c29  f.market(symbol)
-0001fad0: 0a20 2020 2020 2020 206d 6574 686f 6420  .        method 
-0001fae0: 3d20 2770 7269 7661 7465 4765 7453 706f  = 'privateGetSpo
-0001faf0: 744f 7264 6572 7327 0a20 2020 2020 2020  tOrders'.       
-0001fb00: 2069 6620 6d61 726b 6574 5b27 7365 7474   if market['sett
-0001fb10: 6c65 275d 203d 3d20 2755 5344 5427 3a0a  le'] == 'USDT':.
-0001fb20: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
-0001fb30: 6f64 203d 2027 7072 6976 6174 6547 6574  od = 'privateGet
-0001fb40: 474f 7264 6572 7341 6374 6976 654c 6973  GOrdersActiveLis
-0001fb50: 7427 0a20 2020 2020 2020 2065 6c69 6620  t'.        elif 
-0001fb60: 6d61 726b 6574 5b27 7377 6170 275d 3a0a  market['swap']:.
-0001fb70: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
-0001fb80: 6f64 203d 2027 7072 6976 6174 6547 6574  od = 'privateGet
-0001fb90: 4f72 6465 7273 4163 7469 7665 4c69 7374  OrdersActiveList
-0001fba0: 270a 2020 2020 2020 2020 7265 7175 6573  '.        reques
-0001fbb0: 7420 3d20 7b0a 2020 2020 2020 2020 2020  t = {.          
-0001fbc0: 2020 2773 796d 626f 6c27 3a20 6d61 726b    'symbol': mark
-0001fbd0: 6574 5b27 6964 275d 2c0a 2020 2020 2020  et['id'],.      
-0001fbe0: 2020 7d0a 2020 2020 2020 2020 7265 7370    }.        resp
-0001fbf0: 6f6e 7365 203d 204e 6f6e 650a 2020 2020  onse = None.    
-0001fc00: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0001fc10: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
-0001fc20: 6765 7461 7474 7228 7365 6c66 2c20 6d65  getattr(self, me
-0001fc30: 7468 6f64 2928 7365 6c66 2e65 7874 656e  thod)(self.exten
-0001fc40: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
-0001fc50: 7329 290a 2020 2020 2020 2020 6578 6365  s)).        exce
-0001fc60: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
-0001fc70: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
-0001fc80: 6620 6973 696e 7374 616e 6365 2865 2c20  f isinstance(e, 
-0001fc90: 4f72 6465 724e 6f74 466f 756e 6429 3a0a  OrderNotFound):.
-0001fca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fcb0: 7265 7475 726e 205b 5d0a 2020 2020 2020  return [].      
-0001fcc0: 2020 2020 2020 7261 6973 6520 650a 2020        raise e.  
-0001fcd0: 2020 2020 2020 6461 7461 203d 2073 656c        data = sel
-0001fce0: 662e 7361 6665 5f76 616c 7565 2872 6573  f.safe_value(res
-0001fcf0: 706f 6e73 652c 2027 6461 7461 272c 207b  ponse, 'data', {
-0001fd00: 7d29 0a20 2020 2020 2020 2069 6620 6973  }).        if is
-0001fd10: 696e 7374 616e 6365 2864 6174 612c 206c  instance(data, l
-0001fd20: 6973 7429 3a0a 2020 2020 2020 2020 2020  ist):.          
-0001fd30: 2020 7265 7475 726e 2073 656c 662e 7061    return self.pa
-0001fd40: 7273 655f 6f72 6465 7273 2864 6174 612c  rse_orders(data,
-0001fd50: 206d 6172 6b65 742c 2073 696e 6365 2c20   market, since, 
-0001fd60: 6c69 6d69 7429 0a20 2020 2020 2020 2065  limit).        e
-0001fd70: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0001fd80: 2072 6f77 7320 3d20 7365 6c66 2e73 6166   rows = self.saf
-0001fd90: 655f 7661 6c75 6528 6461 7461 2c20 2772  e_value(data, 'r
-0001fda0: 6f77 7327 2c20 5b5d 290a 2020 2020 2020  ows', []).      
-0001fdb0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-0001fdc0: 662e 7061 7273 655f 6f72 6465 7273 2872  f.parse_orders(r
-0001fdd0: 6f77 732c 206d 6172 6b65 742c 2073 696e  ows, market, sin
-0001fde0: 6365 2c20 6c69 6d69 7429 0a0a 2020 2020  ce, limit)..    
-0001fdf0: 6465 6620 6665 7463 685f 636c 6f73 6564  def fetch_closed
-0001fe00: 5f6f 7264 6572 7328 7365 6c66 2c20 7379  _orders(self, sy
-0001fe10: 6d62 6f6c 3a20 4f70 7469 6f6e 616c 5b73  mbol: Optional[s
-0001fe20: 7472 5d20 3d20 4e6f 6e65 2c20 7369 6e63  tr] = None, sinc
-0001fe30: 653a 204f 7074 696f 6e61 6c5b 696e 745d  e: Optional[int]
-0001fe40: 203d 204e 6f6e 652c 206c 696d 6974 3a20   = None, limit: 
-0001fe50: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
-0001fe60: 4e6f 6e65 2c20 7061 7261 6d73 3d7b 7d29  None, params={})
-0001fe70: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001fe80: 2020 2020 2020 6665 7463 6865 7320 696e        fetches in
-0001fe90: 666f 726d 6174 696f 6e20 6f6e 206d 756c  formation on mul
-0001fea0: 7469 706c 6520 636c 6f73 6564 206f 7264  tiple closed ord
-0001feb0: 6572 7320 6d61 6465 2062 7920 7468 6520  ers made by the 
-0001fec0: 7573 6572 0a20 2020 2020 2020 2073 6565  user.        see
-0001fed0: 2068 7474 7073 3a2f 2f67 6974 6875 622e   https://github.
-0001fee0: 636f 6d2f 7068 656d 6578 2f70 6865 6d65  com/phemex/pheme
-0001fef0: 782d 6170 692d 646f 6373 2f62 6c6f 622f  x-api-docs/blob/
-0001ff00: 6d61 7374 6572 2f50 7562 6c69 632d 4865  master/Public-He
-0001ff10: 6467 6564 2d50 6572 7065 7475 616c 2d41  dged-Perpetual-A
-0001ff20: 5049 2e6d 6423 7175 6572 796f 7264 6572  PI.md#queryorder
-0001ff30: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0001ff40: 7374 7220 7379 6d62 6f6c 3a20 756e 6966  str symbol: unif
-0001ff50: 6965 6420 6d61 726b 6574 2073 796d 626f  ied market symbo
-0001ff60: 6c20 6f66 2074 6865 206d 6172 6b65 7420  l of the market 
-0001ff70: 6f72 6465 7273 2077 6572 6520 6d61 6465  orders were made
-0001ff80: 2069 6e0a 2020 2020 2020 2020 3a70 6172   in.        :par
-0001ff90: 616d 2069 6e74 7c4e 6f6e 6520 7369 6e63  am int|None sinc
-0001ffa0: 653a 2074 6865 2065 6172 6c69 6573 7420  e: the earliest 
-0001ffb0: 7469 6d65 2069 6e20 6d73 2074 6f20 6665  time in ms to fe
-0001ffc0: 7463 6820 6f72 6465 7273 2066 6f72 0a20  tch orders for. 
-0001ffd0: 2020 2020 2020 203a 7061 7261 6d20 696e         :param in
-0001ffe0: 747c 4e6f 6e65 206c 696d 6974 3a20 7468  t|None limit: th
-0001fff0: 6520 6d61 7869 6d75 6d20 6e75 6d62 6572  e maximum number
-00020000: 206f 6620 206f 7264 6520 7374 7275 6374   of  orde struct
-00020010: 7572 6573 2074 6f20 7265 7472 6965 7665  ures to retrieve
-00020020: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00020030: 6469 6374 2070 6172 616d 733a 2065 7874  dict params: ext
-00020040: 7261 2070 6172 616d 6574 6572 7320 7370  ra parameters sp
-00020050: 6563 6966 6963 2074 6f20 7468 6520 7068  ecific to the ph
-00020060: 656d 6578 2061 7069 2065 6e64 706f 696e  emex api endpoin
-00020070: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
-00020080: 6e73 205b 6469 6374 5d3a 2061 206c 6973  ns [dict]: a lis
-00020090: 7420 6f66 2060 6f72 6465 7220 7374 7275  t of `order stru
-000200a0: 6374 7572 6573 203c 6874 7470 733a 2f2f  ctures <https://
-000200b0: 646f 6373 2e63 6378 742e 636f 6d2f 232f  docs.ccxt.com/#/
-000200c0: 3f69 643d 6f72 6465 722d 7374 7275 6374  ?id=order-struct
-000200d0: 7572 653e 600a 2020 2020 2020 2020 2222  ure>`.        ""
-000200e0: 220a 2020 2020 2020 2020 6966 2073 796d  ".        if sym
-000200f0: 626f 6c20 6973 204e 6f6e 653a 0a20 2020  bol is None:.   
-00020100: 2020 2020 2020 2020 2072 6169 7365 2041           raise A
-00020110: 7267 756d 656e 7473 5265 7175 6972 6564  rgumentsRequired
-00020120: 2873 656c 662e 6964 202b 2027 2066 6574  (self.id + ' fet
-00020130: 6368 436c 6f73 6564 4f72 6465 7273 2829  chClosedOrders()
-00020140: 2072 6571 7569 7265 7320 6120 7379 6d62   requires a symb
-00020150: 6f6c 2061 7267 756d 656e 7427 290a 2020  ol argument').  
-00020160: 2020 2020 2020 7365 6c66 2e6c 6f61 645f        self.load_
-00020170: 6d61 726b 6574 7328 290a 2020 2020 2020  markets().      
-00020180: 2020 6d61 726b 6574 203d 2073 656c 662e    market = self.
-00020190: 6d61 726b 6574 2873 796d 626f 6c29 0a20  market(symbol). 
-000201a0: 2020 2020 2020 2072 6571 7565 7374 203d         request =
-000201b0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-000201c0: 7379 6d62 6f6c 273a 206d 6172 6b65 745b  symbol': market[
-000201d0: 2769 6427 5d2c 0a20 2020 2020 2020 207d  'id'],.        }
-000201e0: 0a20 2020 2020 2020 206d 6574 686f 6420  .        method 
-000201f0: 3d20 2770 7269 7661 7465 4765 7445 7863  = 'privateGetExc
-00020200: 6861 6e67 6553 706f 744f 7264 6572 270a  hangeSpotOrder'.
-00020210: 2020 2020 2020 2020 6966 206d 6172 6b65          if marke
-00020220: 745b 2773 6574 746c 6527 5d20 3d3d 2027  t['settle'] == '
-00020230: 5553 4454 273a 0a20 2020 2020 2020 2020  USDT':.         
-00020240: 2020 2072 6571 7565 7374 5b27 6375 7272     request['curr
-00020250: 656e 6379 275d 203d 206d 6172 6b65 745b  ency'] = market[
-00020260: 2773 6574 746c 6527 5d0a 2020 2020 2020  'settle'].      
-00020270: 2020 2020 2020 6d65 7468 6f64 203d 2027        method = '
-00020280: 7072 6976 6174 6547 6574 4578 6368 616e  privateGetExchan
-00020290: 6765 4f72 6465 7256 324f 7264 6572 4c69  geOrderV2OrderLi
-000202a0: 7374 270a 2020 2020 2020 2020 656c 6966  st'.        elif
-000202b0: 206d 6172 6b65 745b 2773 7761 7027 5d3a   market['swap']:
-000202c0: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-000202d0: 686f 6420 3d20 2770 7269 7661 7465 4765  hod = 'privateGe
-000202e0: 7445 7863 6861 6e67 654f 7264 6572 4c69  tExchangeOrderLi
-000202f0: 7374 270a 2020 2020 2020 2020 6966 2073  st'.        if s
-00020300: 696e 6365 2069 7320 6e6f 7420 4e6f 6e65  ince is not None
-00020310: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00020320: 7175 6573 745b 2773 7461 7274 275d 203d  quest['start'] =
-00020330: 2073 696e 6365 0a20 2020 2020 2020 2069   since.        i
-00020340: 6620 6c69 6d69 7420 6973 206e 6f74 204e  f limit is not N
-00020350: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-00020360: 2072 6571 7565 7374 5b27 6c69 6d69 7427   request['limit'
-00020370: 5d20 3d20 6c69 6d69 740a 2020 2020 2020  ] = limit.      
-00020380: 2020 7265 7370 6f6e 7365 203d 2067 6574    response = get
-00020390: 6174 7472 2873 656c 662c 206d 6574 686f  attr(self, metho
-000203a0: 6429 2873 656c 662e 6578 7465 6e64 2872  d)(self.extend(r
-000203b0: 6571 7565 7374 2c20 7061 7261 6d73 2929  equest, params))
-000203c0: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
-000203d0: 2020 2023 2073 706f 740a 2020 2020 2020     # spot.      
-000203e0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
-000203f0: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
-00020400: 2020 2020 2020 2263 6f64 6522 3a30 2c0a        "code":0,.
-00020410: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00020420: 2020 226d 7367 223a 224f 4b22 2c0a 2020    "msg":"OK",.  
-00020430: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00020440: 2264 6174 6122 3a7b 0a20 2020 2020 2020  "data":{.       
-00020450: 2023 2020 2020 2020 2020 2020 2020 2022   #             "
-00020460: 746f 7461 6c22 3a38 2c0a 2020 2020 2020  total":8,.      
-00020470: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00020480: 2272 6f77 7322 3a5b 0a20 2020 2020 2020  "rows":[.       
-00020490: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-000204a0: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
-000204b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000204c0: 2020 2022 6f72 6465 7249 4422 3a22 3939     "orderID":"99
-000204d0: 3233 3263 3365 2d33 6436 612d 3435 3566  232c3e-3d6a-455f
-000204e0: 2d39 3863 632d 3230 3631 6364 6665 3931  -98cc-2061cdfe91
-000204f0: 6263 222c 0a20 2020 2020 2020 2023 2020  bc",.        #  
-00020500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020510: 2020 2022 7374 6f70 5078 4570 223a 302c     "stopPxEp":0,
-00020520: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00020530: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00020540: 6176 6750 7269 6365 4570 223a 302c 0a20  avgPriceEp":0,. 
-00020550: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00020560: 2020 2020 2020 2020 2020 2020 2022 7174               "qt
-00020570: 7954 7970 6522 3a22 4279 4261 7365 222c  yType":"ByBase",
-00020580: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00020590: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000205a0: 6c65 6176 6573 4261 7365 5174 7945 7622  leavesBaseQtyEv"
-000205b0: 3a30 2c0a 2020 2020 2020 2020 2320 2020  :0,.        #   
-000205c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000205d0: 2020 226c 6561 7665 7351 756f 7465 5174    "leavesQuoteQt
-000205e0: 7945 7622 3a30 2c0a 2020 2020 2020 2020  yEv":0,.        
-000205f0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00020600: 2020 2020 2020 2262 6173 6551 7479 4576        "baseQtyEv
-00020610: 223a 2231 3030 3030 3030 3030 3022 2c0a  ":"1000000000",.
-00020620: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00020630: 2020 2020 2020 2020 2020 2020 2020 2266                "f
-00020640: 6565 4375 7272 656e 6379 223a 2234 222c  eeCurrency":"4",
-00020650: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00020660: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00020670: 7374 6f70 4469 7265 6374 696f 6e22 3a22  stopDirection":"
-00020680: 554e 5350 4543 4946 4945 4422 2c0a 2020  UNSPECIFIED",.  
-00020690: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000206a0: 2020 2020 2020 2020 2020 2020 2273 796d              "sym
-000206b0: 626f 6c22 3a22 7345 5448 5553 4454 222c  bol":"sETHUSDT",
-000206c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000206d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000206e0: 7369 6465 223a 2242 7579 222c 0a20 2020  side":"Buy",.   
-000206f0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00020700: 2020 2020 2020 2020 2020 2022 7175 6f74             "quot
-00020710: 6551 7479 4576 223a 3235 3030 3030 3030  eQtyEv":25000000
-00020720: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
-00020730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020740: 2020 2020 2270 7269 6365 4570 223a 3235      "priceEp":25
-00020750: 3030 3030 3030 3030 302c 0a20 2020 2020  000000000,.     
-00020760: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00020770: 2020 2020 2020 2020 2022 6f72 6454 7970           "ordTyp
-00020780: 6522 3a22 4c69 6d69 7422 2c0a 2020 2020  e":"Limit",.    
-00020790: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-000207a0: 2020 2020 2020 2020 2020 2274 696d 6549            "timeI
-000207b0: 6e46 6f72 6365 223a 2247 6f6f 6454 696c  nForce":"GoodTil
-000207c0: 6c43 616e 6365 6c22 2c0a 2020 2020 2020  lCancel",.      
-000207d0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-000207e0: 2020 2020 2020 2020 226f 7264 5374 6174          "ordStat
-000207f0: 7573 223a 2252 656a 6563 7465 6422 2c0a  us":"Rejected",.
-00020800: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00020810: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00020820: 7865 6353 7461 7475 7322 3a22 4e65 7752  xecStatus":"NewR
-00020830: 656a 6563 7465 6422 2c0a 2020 2020 2020  ejected",.      
-00020840: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00020850: 2020 2020 2020 2020 2263 7265 6174 6554          "createT
-00020860: 696d 654e 7322 3a31 3539 3236 3735 3330  imeNs":159267530
-00020870: 3532 3636 3033 3731 3330 2c0a 2020 2020  5266037130,.    
-00020880: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00020890: 2020 2020 2020 2020 2020 2263 756d 4665            "cumFe
-000208a0: 6545 7622 3a30 2c0a 2020 2020 2020 2020  eEv":0,.        
-000208b0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-000208c0: 2020 2020 2020 2263 756d 4261 7365 5661        "cumBaseVa
-000208d0: 6c75 6545 7622 3a30 2c0a 2020 2020 2020  lueEv":0,.      
-000208e0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-000208f0: 2020 2020 2020 2020 2263 756d 5175 6f74          "cumQuot
-00020900: 6556 616c 7565 4576 223a 300a 2020 2020  eValueEv":0.    
-00020910: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00020920: 2020 2020 2020 7d2c 0a20 2020 2020 2020        },.       
-00020930: 2023 2020 2020 2020 2020 2020 2020 205d   #             ]
-00020940: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00020950: 2020 207d 0a20 2020 2020 2020 2023 2020     }.        #  
-00020960: 2020 207d 0a20 2020 2020 2020 2023 0a20     }.        #. 
-00020970: 2020 2020 2020 2064 6174 6120 3d20 7365         data = se
-00020980: 6c66 2e73 6166 655f 7661 6c75 6528 7265  lf.safe_value(re
-00020990: 7370 6f6e 7365 2c20 2764 6174 6127 2c20  sponse, 'data', 
-000209a0: 7b7d 290a 2020 2020 2020 2020 6966 2069  {}).        if i
-000209b0: 7369 6e73 7461 6e63 6528 6461 7461 2c20  sinstance(data, 
-000209c0: 6c69 7374 293a 0a20 2020 2020 2020 2020  list):.         
-000209d0: 2020 2072 6574 7572 6e20 7365 6c66 2e70     return self.p
-000209e0: 6172 7365 5f6f 7264 6572 7328 6461 7461  arse_orders(data
-000209f0: 2c20 6d61 726b 6574 2c20 7369 6e63 652c  , market, since,
-00020a00: 206c 696d 6974 290a 2020 2020 2020 2020   limit).        
-00020a10: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00020a20: 2020 726f 7773 203d 2073 656c 662e 7361    rows = self.sa
-00020a30: 6665 5f76 616c 7565 2864 6174 612c 2027  fe_value(data, '
-00020a40: 726f 7773 272c 205b 5d29 0a20 2020 2020  rows', []).     
-00020a50: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00020a60: 6c66 2e70 6172 7365 5f6f 7264 6572 7328  lf.parse_orders(
-00020a70: 726f 7773 2c20 6d61 726b 6574 2c20 7369  rows, market, si
-00020a80: 6e63 652c 206c 696d 6974 290a 0a20 2020  nce, limit)..   
-00020a90: 2064 6566 2066 6574 6368 5f6d 795f 7472   def fetch_my_tr
-00020aa0: 6164 6573 2873 656c 662c 2073 796d 626f  ades(self, symbo
-00020ab0: 6c3a 204f 7074 696f 6e61 6c5b 7374 725d  l: Optional[str]
-00020ac0: 203d 204e 6f6e 652c 2073 696e 6365 3a20   = None, since: 
-00020ad0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
-00020ae0: 4e6f 6e65 2c20 6c69 6d69 743a 204f 7074  None, limit: Opt
-00020af0: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
-00020b00: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
-00020b10: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00020b20: 2020 2066 6574 6368 2061 6c6c 2074 7261     fetch all tra
-00020b30: 6465 7320 6d61 6465 2062 7920 7468 6520  des made by the 
-00020b40: 7573 6572 0a20 2020 2020 2020 2073 6565  user.        see
-00020b50: 2068 7474 7073 3a2f 2f67 6974 6875 622e   https://github.
-00020b60: 636f 6d2f 7068 656d 6578 2f70 6865 6d65  com/phemex/pheme
-00020b70: 782d 6170 692d 646f 6373 2f62 6c6f 622f  x-api-docs/blob/
-00020b80: 6d61 7374 6572 2f50 7562 6c69 632d 436f  master/Public-Co
-00020b90: 6e74 7261 6374 2d41 5049 2d65 6e2e 6d64  ntract-API-en.md
-00020ba0: 2371 7565 7279 2d75 7365 722d 7472 6164  #query-user-trad
-00020bb0: 650a 2020 2020 2020 2020 7365 6520 6874  e.        see ht
-00020bc0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00020bd0: 2f70 6865 6d65 782f 7068 656d 6578 2d61  /phemex/phemex-a
-00020be0: 7069 2d64 6f63 732f 626c 6f62 2f6d 6173  pi-docs/blob/mas
-00020bf0: 7465 722f 5075 626c 6963 2d48 6564 6765  ter/Public-Hedge
-00020c00: 642d 5065 7270 6574 7561 6c2d 4150 492e  d-Perpetual-API.
-00020c10: 6d64 2371 7565 7279 2d75 7365 722d 7472  md#query-user-tr
-00020c20: 6164 650a 2020 2020 2020 2020 3a70 6172  ade.        :par
-00020c30: 616d 2073 7472 2073 796d 626f 6c3a 2075  am str symbol: u
-00020c40: 6e69 6669 6564 206d 6172 6b65 7420 7379  nified market sy
-00020c50: 6d62 6f6c 0a20 2020 2020 2020 203a 7061  mbol.        :pa
-00020c60: 7261 6d20 696e 747c 4e6f 6e65 2073 696e  ram int|None sin
-00020c70: 6365 3a20 7468 6520 6561 726c 6965 7374  ce: the earliest
-00020c80: 2074 696d 6520 696e 206d 7320 746f 2066   time in ms to f
-00020c90: 6574 6368 2074 7261 6465 7320 666f 720a  etch trades for.
-00020ca0: 2020 2020 2020 2020 3a70 6172 616d 2069          :param i
-00020cb0: 6e74 7c4e 6f6e 6520 6c69 6d69 743a 2074  nt|None limit: t
-00020cc0: 6865 206d 6178 696d 756d 206e 756d 6265  he maximum numbe
-00020cd0: 7220 6f66 2074 7261 6465 7320 7374 7275  r of trades stru
-00020ce0: 6374 7572 6573 2074 6f20 7265 7472 6965  ctures to retrie
-00020cf0: 7665 0a20 2020 2020 2020 203a 7061 7261  ve.        :para
-00020d00: 6d20 6469 6374 2070 6172 616d 733a 2065  m dict params: e
-00020d10: 7874 7261 2070 6172 616d 6574 6572 7320  xtra parameters 
-00020d20: 7370 6563 6966 6963 2074 6f20 7468 6520  specific to the 
-00020d30: 7068 656d 6578 2061 7069 2065 6e64 706f  phemex api endpo
-00020d40: 696e 740a 2020 2020 2020 2020 3a72 6574  int.        :ret
-00020d50: 7572 6e73 205b 6469 6374 5d3a 2061 206c  urns [dict]: a l
-00020d60: 6973 7420 6f66 2060 7472 6164 6520 7374  ist of `trade st
-00020d70: 7275 6374 7572 6573 203c 6874 7470 733a  ructures <https:
-00020d80: 2f2f 646f 6373 2e63 6378 742e 636f 6d2f  //docs.ccxt.com/
-00020d90: 232f 3f69 643d 7472 6164 652d 7374 7275  #/?id=trade-stru
-00020da0: 6374 7572 653e 600a 2020 2020 2020 2020  cture>`.        
-00020db0: 2222 220a 2020 2020 2020 2020 6966 2073  """.        if s
-00020dc0: 796d 626f 6c20 6973 204e 6f6e 653a 0a20  ymbol is None:. 
-00020dd0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00020de0: 2041 7267 756d 656e 7473 5265 7175 6972   ArgumentsRequir
-00020df0: 6564 2873 656c 662e 6964 202b 2027 2066  ed(self.id + ' f
-00020e00: 6574 6368 4d79 5472 6164 6573 2829 2072  etchMyTrades() r
-00020e10: 6571 7569 7265 7320 6120 7379 6d62 6f6c  equires a symbol
-00020e20: 2061 7267 756d 656e 7427 290a 2020 2020   argument').    
-00020e30: 2020 2020 7365 6c66 2e6c 6f61 645f 6d61      self.load_ma
-00020e40: 726b 6574 7328 290a 2020 2020 2020 2020  rkets().        
-00020e50: 6d61 726b 6574 203d 2073 656c 662e 6d61  market = self.ma
-00020e60: 726b 6574 2873 796d 626f 6c29 0a20 2020  rket(symbol).   
-00020e70: 2020 2020 206d 6574 686f 6420 3d20 2770       method = 'p
-00020e80: 7269 7661 7465 4765 7445 7863 6861 6e67  rivateGetExchang
-00020e90: 6553 706f 744f 7264 6572 5472 6164 6573  eSpotOrderTrades
-00020ea0: 270a 2020 2020 2020 2020 6966 206d 6172  '.        if mar
-00020eb0: 6b65 745b 2773 7761 7027 5d3a 0a20 2020  ket['swap']:.   
-00020ec0: 2020 2020 2020 2020 206d 6574 686f 6420           method 
-00020ed0: 3d20 2770 7269 7661 7465 4765 7445 7863  = 'privateGetExc
-00020ee0: 6861 6e67 654f 7264 6572 5472 6164 6527  hangeOrderTrade'
-00020ef0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00020f00: 6d61 726b 6574 5b27 7365 7474 6c65 275d  market['settle']
-00020f10: 203d 3d20 2755 5344 5427 3a0a 2020 2020   == 'USDT':.    
-00020f20: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
-00020f30: 6f64 203d 2027 7072 6976 6174 6547 6574  od = 'privateGet
-00020f40: 4578 6368 616e 6765 4f72 6465 7256 3254  ExchangeOrderV2T
-00020f50: 7261 6469 6e67 4c69 7374 270a 2020 2020  radingList'.    
-00020f60: 2020 2020 7265 7175 6573 7420 3d20 7b7d      request = {}
-00020f70: 0a20 2020 2020 2020 2069 6620 6c69 6d69  .        if limi
-00020f80: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
-00020f90: 2020 2020 2020 2020 2020 206c 696d 6974             limit
-00020fa0: 203d 206d 696e 2832 3030 2c20 6c69 6d69   = min(200, limi
-00020fb0: 7429 0a20 2020 2020 2020 2020 2020 2072  t).            r
-00020fc0: 6571 7565 7374 5b27 6c69 6d69 7427 5d20  equest['limit'] 
-00020fd0: 3d20 6c69 6d69 740a 2020 2020 2020 2020  = limit.        
-00020fe0: 6966 206d 6172 6b65 745b 2773 6574 746c  if market['settl
-00020ff0: 6527 5d20 3d3d 2027 5553 4454 273a 0a20  e'] == 'USDT':. 
-00021000: 2020 2020 2020 2020 2020 2072 6571 7565             reque
-00021010: 7374 5b27 6375 7272 656e 6379 275d 203d  st['currency'] =
-00021020: 2027 5553 4454 270a 2020 2020 2020 2020   'USDT'.        
-00021030: 2020 2020 7265 7175 6573 745b 276f 6666      request['off
-00021040: 7365 7427 5d20 3d20 300a 2020 2020 2020  set'] = 0.      
-00021050: 2020 2020 2020 6966 206c 696d 6974 2069        if limit i
-00021060: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-00021070: 2020 2020 2020 2020 7265 7175 6573 745b          request[
-00021080: 276c 696d 6974 275d 203d 2032 3030 0a20  'limit'] = 200. 
-00021090: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-000210a0: 2020 2020 2020 2020 2072 6571 7565 7374           request
-000210b0: 5b27 7379 6d62 6f6c 275d 203d 206d 6172  ['symbol'] = mar
-000210c0: 6b65 745b 2769 6427 5d0a 2020 2020 2020  ket['id'].      
-000210d0: 2020 6966 2073 696e 6365 2069 7320 6e6f    if since is no
-000210e0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-000210f0: 2020 2020 7265 7175 6573 745b 2773 7461      request['sta
-00021100: 7274 275d 203d 2073 696e 6365 0a20 2020  rt'] = since.   
-00021110: 2020 2020 2069 6620 6d61 726b 6574 5b27       if market['
-00021120: 7377 6170 275d 2061 6e64 2028 6c69 6d69  swap'] and (limi
-00021130: 7420 6973 206e 6f74 204e 6f6e 6529 3a0a  t is not None):.
-00021140: 2020 2020 2020 2020 2020 2020 7265 7175              requ
-00021150: 6573 745b 276c 696d 6974 275d 203d 206c  est['limit'] = l
-00021160: 696d 6974 0a20 2020 2020 2020 2072 6573  imit.        res
-00021170: 706f 6e73 6520 3d20 6765 7461 7474 7228  ponse = getattr(
-00021180: 7365 6c66 2c20 6d65 7468 6f64 2928 7365  self, method)(se
-00021190: 6c66 2e65 7874 656e 6428 7265 7175 6573  lf.extend(reques
-000211a0: 742c 2070 6172 616d 7329 290a 2020 2020  t, params)).    
-000211b0: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
-000211c0: 7370 6f74 0a20 2020 2020 2020 2023 0a20  spot.        #. 
-000211d0: 2020 2020 2020 2023 2020 2020 207b 0a20         #     {. 
-000211e0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000211f0: 2022 636f 6465 223a 2030 2c0a 2020 2020   "code": 0,.    
-00021200: 2020 2020 2320 2020 2020 2020 2020 226d      #         "m
-00021210: 7367 223a 2022 4f4b 222c 0a20 2020 2020  sg": "OK",.     
-00021220: 2020 2023 2020 2020 2020 2020 2022 6461     #         "da
-00021230: 7461 223a 207b 0a20 2020 2020 2020 2023  ta": {.        #
-00021240: 2020 2020 2020 2020 2020 2020 2022 746f               "to
-00021250: 7461 6c22 3a20 312c 0a20 2020 2020 2020  tal": 1,.       
-00021260: 2023 2020 2020 2020 2020 2020 2020 2022   #             "
-00021270: 726f 7773 223a 205b 0a20 2020 2020 2020  rows": [.       
-00021280: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-00021290: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
-000212a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000212b0: 2020 2022 7174 7954 7970 6522 3a20 2242     "qtyType": "B
-000212c0: 7951 756f 7465 222c 0a20 2020 2020 2020  yQuote",.       
-000212d0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-000212e0: 2020 2020 2020 2022 7472 616e 7361 6374         "transact
-000212f0: 5469 6d65 4e73 223a 2031 3538 3934 3530  TimeNs": 1589450
-00021300: 3937 3438 3030 3535 3031 3030 2c0a 2020  974800550100,.  
-00021310: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021320: 2020 2020 2020 2020 2020 2020 2263 6c4f              "clO
-00021330: 7264 4944 223a 2022 3862 6135 3964 3430  rdID": "8ba59d40
-00021340: 2d64 6632 352d 6434 6230 2d31 3463 662d  -df25-d4b0-14cf-
-00021350: 3037 3033 6634 3465 3936 3930 222c 0a20  0703f44e9690",. 
-00021360: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00021370: 2020 2020 2020 2020 2020 2020 2022 6f72               "or
-00021380: 6465 7249 4422 3a20 2262 3262 3730 3138  derID": "b2b7018
-00021390: 642d 6630 3266 2d34 6335 392d 6234 6366  d-f02f-4c59-b4cf
-000213a0: 2d30 3531 6239 6332 6432 6538 3322 2c0a  -051b9c2d2e83",.
-000213b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000213c0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-000213d0: 796d 626f 6c22 3a20 2273 4254 4355 5344  ymbol": "sBTCUSD
-000213e0: 5422 2c0a 2020 2020 2020 2020 2320 2020  T",.        #   
-000213f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021400: 2020 2273 6964 6522 3a20 2242 7579 222c    "side": "Buy",
-00021410: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00021420: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00021430: 7072 6963 6545 5022 3a20 3937 3030 3536  priceEP": 970056
-00021440: 3030 3030 3030 2c0a 2020 2020 2020 2020  000000,.        
-00021450: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021460: 2020 2020 2020 2262 6173 6551 7479 4576        "baseQtyEv
-00021470: 223a 2030 2c0a 2020 2020 2020 2020 2320  ": 0,.        # 
-00021480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021490: 2020 2020 2271 756f 7465 5174 7945 7622      "quoteQtyEv"
-000214a0: 3a20 3130 3030 3030 3030 3030 2c0a 2020  : 1000000000,.  
-000214b0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000214c0: 2020 2020 2020 2020 2020 2020 2261 6374              "act
-000214d0: 696f 6e22 3a20 224e 6577 222c 0a20 2020  ion": "New",.   
-000214e0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-000214f0: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
-00021500: 5374 6174 7573 223a 2022 4d61 6b65 7246  Status": "MakerF
-00021510: 696c 6c22 2c0a 2020 2020 2020 2020 2320  ill",.        # 
-00021520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021530: 2020 2020 226f 7264 5374 6174 7573 223a      "ordStatus":
-00021540: 2022 4669 6c6c 6564 222c 0a20 2020 2020   "Filled",.     
-00021550: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00021560: 2020 2020 2020 2020 2022 6f72 6454 7970           "ordTyp
-00021570: 6522 3a20 224c 696d 6974 222c 0a20 2020  e": "Limit",.   
-00021580: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00021590: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
-000215a0: 496e 7374 223a 2022 4e6f 6e65 222c 0a20  Inst": "None",. 
-000215b0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000215c0: 2020 2020 2020 2020 2020 2020 2022 7469               "ti
-000215d0: 6d65 496e 466f 7263 6522 3a20 2247 6f6f  meInForce": "Goo
-000215e0: 6454 696c 6c43 616e 6365 6c22 2c0a 2020  dTillCancel",.  
-000215f0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021600: 2020 2020 2020 2020 2020 2020 2273 746f              "sto
-00021610: 7044 6972 6563 7469 6f6e 223a 2022 554e  pDirection": "UN
-00021620: 5350 4543 4946 4945 4422 2c0a 2020 2020  SPECIFIED",.    
-00021630: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00021640: 2020 2020 2020 2020 2020 2274 7261 6465            "trade
-00021650: 5479 7065 223a 2022 5472 6164 6522 2c0a  Type": "Trade",.
-00021660: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00021670: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-00021680: 746f 7050 7845 7022 3a20 302c 0a20 2020  topPxEp": 0,.   
-00021690: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-000216a0: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
-000216b0: 4964 223a 2022 6336 6264 3839 3739 2d30  Id": "c6bd8979-0
-000216c0: 3762 612d 3539 3436 2d62 3037 652d 6638  7ba-5946-b07e-f8
-000216d0: 6236 3531 3335 6462 6231 222c 0a20 2020  b65135dbb1",.   
-000216e0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-000216f0: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
-00021700: 5072 6963 6545 7022 3a20 3937 3030 3536  PriceEp": 970056
-00021710: 3030 3030 3030 2c0a 2020 2020 2020 2020  000000,.        
-00021720: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021730: 2020 2020 2020 2265 7865 6342 6173 6551        "execBaseQ
-00021740: 7479 4576 223a 2031 3033 3030 302c 0a20  tyEv": 103000,. 
-00021750: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00021760: 2020 2020 2020 2020 2020 2020 2022 6578               "ex
-00021770: 6563 5175 6f74 6551 7479 4576 223a 2039  ecQuoteQtyEv": 9
-00021780: 3939 3135 3736 3830 2c0a 2020 2020 2020  99157680,.      
-00021790: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-000217a0: 2020 2020 2020 2020 226c 6561 7665 7342          "leavesB
-000217b0: 6173 6551 7479 4576 223a 2030 2c0a 2020  aseQtyEv": 0,.  
-000217c0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000217d0: 2020 2020 2020 2020 2020 2020 226c 6561              "lea
-000217e0: 7665 7351 756f 7465 5174 7945 7622 3a20  vesQuoteQtyEv": 
-000217f0: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00021800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021810: 2022 6578 6563 4665 6545 7622 3a20 302c   "execFeeEv": 0,
-00021820: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00021830: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00021840: 6665 6552 6174 6545 7222 3a20 300a 2020  feeRateEr": 0.  
-00021850: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021860: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-00021870: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00021880: 5d0a 2020 2020 2020 2020 2320 2020 2020  ].        #     
-00021890: 2020 2020 7d0a 2020 2020 2020 2020 2320      }.        # 
-000218a0: 2020 2020 7d0a 2020 2020 2020 2020 230a      }.        #.
-000218b0: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-000218c0: 2020 2320 7377 6170 0a20 2020 2020 2020    # swap.       
-000218d0: 2023 0a20 2020 2020 2020 2023 2020 2020   #.        #    
-000218e0: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
-000218f0: 2020 2020 2022 636f 6465 223a 2030 2c0a       "code": 0,.
-00021900: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00021910: 2020 226d 7367 223a 2022 4f4b 222c 0a20    "msg": "OK",. 
-00021920: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00021930: 2022 6461 7461 223a 207b 0a20 2020 2020   "data": {.     
-00021940: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00021950: 2022 746f 7461 6c22 3a20 3739 2c0a 2020   "total": 79,.  
-00021960: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021970: 2020 2020 2272 6f77 7322 3a20 5b0a 2020      "rows": [.  
-00021980: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021990: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
-000219a0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-000219b0: 2020 2020 2020 2020 2274 7261 6e73 6163          "transac
-000219c0: 7454 696d 654e 7322 3a20 3136 3036 3035  tTimeNs": 160605
-000219d0: 3438 3739 3333 3135 3635 3330 302c 0a20  4879331565300,. 
-000219e0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000219f0: 2020 2020 2020 2020 2020 2020 2022 7379               "sy
-00021a00: 6d62 6f6c 223a 2022 4254 4355 5344 222c  mbol": "BTCUSD",
-00021a10: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00021a20: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00021a30: 6375 7272 656e 6379 223a 2022 4254 4322  currency": "BTC"
-00021a40: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00021a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021a60: 2261 6374 696f 6e22 3a20 224e 6577 222c  "action": "New",
-00021a70: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00021a80: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00021a90: 7369 6465 223a 2022 4275 7922 2c0a 2020  side": "Buy",.  
-00021aa0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021ab0: 2020 2020 2020 2020 2020 2020 2274 7261              "tra
-00021ac0: 6465 5479 7065 223a 2022 5472 6164 6522  deType": "Trade"
-00021ad0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00021ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021af0: 2265 7865 6351 7479 223a 2035 2c0a 2020  "execQty": 5,.  
-00021b00: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021b10: 2020 2020 2020 2020 2020 2020 2265 7865              "exe
-00021b20: 6350 7269 6365 4570 223a 2031 3832 3939  cPriceEp": 18299
-00021b30: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
-00021b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021b50: 2020 2020 226f 7264 6572 5174 7922 3a20      "orderQty": 
-00021b60: 352c 0a20 2020 2020 2020 2023 2020 2020  5,.        #    
-00021b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021b80: 2022 7072 6963 6545 7022 3a20 3138 3338   "priceEp": 1838
-00021b90: 3730 3030 302c 0a20 2020 2020 2020 2023  70000,.        #
-00021ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021bb0: 2020 2020 2022 6578 6563 5661 6c75 6545       "execValueE
-00021bc0: 7622 3a20 3237 3332 332c 0a20 2020 2020  v": 27323,.     
-00021bd0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00021be0: 2020 2020 2020 2020 2022 6665 6552 6174           "feeRat
-00021bf0: 6545 7222 3a20 3735 3030 302c 0a20 2020  eEr": 75000,.   
-00021c00: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00021c10: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
-00021c20: 4665 6545 7622 3a20 3231 2c0a 2020 2020  FeeEv": 21,.    
-00021c30: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00021c40: 2020 2020 2020 2020 2020 226f 7264 5479            "ordTy
-00021c50: 7065 223a 2022 4d61 726b 6574 222c 0a20  pe": "Market",. 
-00021c60: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00021c70: 2020 2020 2020 2020 2020 2020 2022 6578               "ex
-00021c80: 6563 4944 223a 2022 3565 6565 3536 6134  ecID": "5eee56a4
-00021c90: 2d30 3461 392d 3536 3737 2d38 6562 302d  -04a9-5677-8eb0-
-00021ca0: 6332 6665 3232 6165 3336 3435 222c 0a20  c2fe22ae3645",. 
-00021cb0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00021cc0: 2020 2020 2020 2020 2020 2020 2022 6f72               "or
-00021cd0: 6465 7249 4422 3a20 2265 6530 6163 6238  derID": "ee0acb8
-00021ce0: 322d 6637 3132 2d34 3534 332d 6131 3164  2-f712-4543-a11d
-00021cf0: 2d64 3233 6566 6361 3733 3139 3722 2c0a  -d23efca73197",.
-00021d00: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00021d10: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00021d20: 6c4f 7264 4944 223a 2022 222c 0a20 2020  lOrdID": "",.   
-00021d30: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00021d40: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
-00021d50: 5374 6174 7573 223a 2022 5461 6b65 7246  Status": "TakerF
-00021d60: 696c 6c22 0a20 2020 2020 2020 2023 2020  ill".        #  
-00021d70: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-00021d80: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00021d90: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
-00021da0: 2020 2320 2020 2020 2020 2020 7d0a 2020    #         }.  
-00021db0: 2020 2020 2020 2320 2020 2020 7d0a 2020        #     }.  
-00021dc0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-00021dd0: 2320 7377 6170 202d 2075 7364 740a 2020  # swap - usdt.  
-00021de0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-00021df0: 2320 7b0a 2020 2020 2020 2020 2320 2020  # {.        #   
-00021e00: 2020 2263 6f64 6522 3a20 302c 0a20 2020    "code": 0,.   
-00021e10: 2020 2020 2023 2020 2020 2022 6d73 6722       #     "msg"
-00021e20: 3a20 224f 4b22 2c0a 2020 2020 2020 2020  : "OK",.        
-00021e30: 2320 2020 2020 2264 6174 6122 3a20 7b0a  #     "data": {.
-00021e40: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00021e50: 2020 2274 6f74 616c 223a 2034 2c0a 2020    "total": 4,.  
-00021e60: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00021e70: 2272 6f77 7322 3a20 5b0a 2020 2020 2020  "rows": [.      
-00021e80: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00021e90: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
-00021ea0: 2020 2020 2020 2020 2020 2020 2263 7265              "cre
-00021eb0: 6174 6564 4174 223a 2031 3636 3632 3236  atedAt": 1666226
-00021ec0: 3933 3232 3539 2c0a 2020 2020 2020 2020  932259,.        
-00021ed0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021ee0: 2020 2273 796d 626f 6c22 3a20 2245 5448    "symbol": "ETH
-00021ef0: 5553 4454 222c 0a20 2020 2020 2020 2023  USDT",.        #
-00021f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021f10: 2022 6375 7272 656e 6379 223a 2022 5553   "currency": "US
-00021f20: 4454 222c 0a20 2020 2020 2020 2023 2020  DT",.        #  
-00021f30: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00021f40: 6163 7469 6f6e 223a 2031 2c0a 2020 2020  action": 1,.    
-00021f50: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00021f60: 2020 2020 2020 2274 7261 6465 5479 7065        "tradeType
-00021f70: 223a 2031 2c0a 2020 2020 2020 2020 2320  ": 1,.        # 
-00021f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021f90: 2265 7865 6351 7479 5271 223a 2022 302e  "execQtyRq": "0.
-00021fa0: 3031 222c 0a20 2020 2020 2020 2023 2020  01",.        #  
-00021fb0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00021fc0: 6578 6563 5072 6963 6552 7022 3a20 2231  execPriceRp": "1
-00021fd0: 3237 312e 3922 2c0a 2020 2020 2020 2020  271.9",.        
-00021fe0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00021ff0: 2020 2273 6964 6522 3a20 312c 0a20 2020    "side": 1,.   
-00022000: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00022010: 2020 2020 2020 2022 6f72 6465 7251 7479         "orderQty
-00022020: 5271 223a 2022 302e 3738 222c 0a20 2020  Rq": "0.78",.   
-00022030: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00022040: 2020 2020 2020 2022 7072 6963 6552 7022         "priceRp"
-00022050: 3a20 2231 3237 312e 3922 2c0a 2020 2020  : "1271.9",.    
-00022060: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00022070: 2020 2020 2020 2265 7865 6356 616c 7565        "execValue
-00022080: 5276 223a 2022 3132 2e37 3139 222c 0a20  Rv": "12.719",. 
-00022090: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000220a0: 2020 2020 2020 2020 2022 6665 6552 6174           "feeRat
-000220b0: 6552 7222 3a20 2230 2e30 3030 3122 2c0a  eRr": "0.0001",.
-000220c0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000220d0: 2020 2020 2020 2020 2020 2265 7865 6346            "execF
-000220e0: 6565 5276 223a 2022 302e 3030 3132 3731  eeRv": "0.001271
-000220f0: 3922 2c0a 2020 2020 2020 2020 2320 2020  9",.        #   
-00022100: 2020 2020 2020 2020 2020 2020 2020 226f                "o
-00022110: 7264 5479 7065 223a 2032 2c0a 2020 2020  rdType": 2,.    
-00022120: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00022130: 2020 2020 2020 2265 7865 6349 6422 3a20        "execId": 
-00022140: 2238 3731 3863 6165 222c 0a20 2020 2020  "8718cae",.     
-00022150: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00022160: 2020 2020 2022 6578 6563 5374 6174 7573       "execStatus
-00022170: 223a 2036 0a20 2020 2020 2020 2023 2020  ": 6.        #  
-00022180: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
-00022190: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000221a0: 5d0a 2020 2020 2020 2020 2320 2020 2020  ].        #     
-000221b0: 7d0a 2020 2020 2020 2020 2320 7d0a 2020  }.        # }.  
-000221c0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-000221d0: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
-000221e0: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
-000221f0: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
-00022200: 2020 2020 2069 6620 6d65 7468 6f64 2021       if method !
-00022210: 3d20 2770 7269 7661 7465 4765 7445 7863  = 'privateGetExc
-00022220: 6861 6e67 654f 7264 6572 5632 5472 6164  hangeOrderV2Trad
-00022230: 696e 674c 6973 7427 3a0a 2020 2020 2020  ingList':.      
-00022240: 2020 2020 2020 726f 7773 203d 2073 656c        rows = sel
-00022250: 662e 7361 6665 5f76 616c 7565 2864 6174  f.safe_value(dat
-00022260: 612c 2027 726f 7773 272c 205b 5d29 0a20  a, 'rows', []). 
-00022270: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00022280: 6e20 7365 6c66 2e70 6172 7365 5f74 7261  n self.parse_tra
-00022290: 6465 7328 726f 7773 2c20 6d61 726b 6574  des(rows, market
-000222a0: 2c20 7369 6e63 652c 206c 696d 6974 290a  , since, limit).
-000222b0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-000222c0: 656c 662e 7061 7273 655f 7472 6164 6573  elf.parse_trades
-000222d0: 2864 6174 612c 206d 6172 6b65 742c 2073  (data, market, s
-000222e0: 696e 6365 2c20 6c69 6d69 7429 0a0a 2020  ince, limit)..  
-000222f0: 2020 6465 6620 6665 7463 685f 6465 706f    def fetch_depo
-00022300: 7369 745f 6164 6472 6573 7328 7365 6c66  sit_address(self
-00022310: 2c20 636f 6465 3a20 7374 722c 2070 6172  , code: str, par
-00022320: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
-00022330: 2022 2222 0a20 2020 2020 2020 2066 6574   """.        fet
-00022340: 6368 2074 6865 2064 6570 6f73 6974 2061  ch the deposit a
-00022350: 6464 7265 7373 2066 6f72 2061 2063 7572  ddress for a cur
-00022360: 7265 6e63 7920 6173 736f 6369 6174 6564  rency associated
-00022370: 2077 6974 6820 7365 6c66 2061 6363 6f75   with self accou
-00022380: 6e74 0a20 2020 2020 2020 203a 7061 7261  nt.        :para
-00022390: 6d20 7374 7220 636f 6465 3a20 756e 6966  m str code: unif
-000223a0: 6965 6420 6375 7272 656e 6379 2063 6f64  ied currency cod
-000223b0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-000223c0: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
-000223d0: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
-000223e0: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
-000223f0: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
-00022400: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
-00022410: 726e 7320 6469 6374 3a20 616e 2060 6164  rns dict: an `ad
-00022420: 6472 6573 7320 7374 7275 6374 7572 6520  dress structure 
-00022430: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
-00022440: 7874 2e63 6f6d 2f23 2f3f 6964 3d61 6464  xt.com/#/?id=add
-00022450: 7265 7373 2d73 7472 7563 7475 7265 3e60  ress-structure>`
-00022460: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00022470: 2020 2020 2073 656c 662e 6c6f 6164 5f6d       self.load_m
-00022480: 6172 6b65 7473 2829 0a20 2020 2020 2020  arkets().       
-00022490: 2063 7572 7265 6e63 7920 3d20 7365 6c66   currency = self
-000224a0: 2e63 7572 7265 6e63 7928 636f 6465 290a  .currency(code).
-000224b0: 2020 2020 2020 2020 7265 7175 6573 7420          request 
-000224c0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-000224d0: 2763 7572 7265 6e63 7927 3a20 6375 7272  'currency': curr
-000224e0: 656e 6379 5b27 6964 275d 2c0a 2020 2020  ency['id'],.    
-000224f0: 2020 2020 7d0a 2020 2020 2020 2020 6465      }.        de
-00022500: 6661 756c 744e 6574 776f 726b 7320 3d20  faultNetworks = 
-00022510: 7365 6c66 2e73 6166 655f 7661 6c75 6528  self.safe_value(
-00022520: 7365 6c66 2e6f 7074 696f 6e73 2c20 2764  self.options, 'd
-00022530: 6566 6175 6c74 4e65 7477 6f72 6b73 2729  efaultNetworks')
-00022540: 0a20 2020 2020 2020 2064 6566 6175 6c74  .        default
-00022550: 4e65 7477 6f72 6b20 3d20 7365 6c66 2e73  Network = self.s
-00022560: 6166 655f 7374 7269 6e67 5f75 7070 6572  afe_string_upper
-00022570: 2864 6566 6175 6c74 4e65 7477 6f72 6b73  (defaultNetworks
-00022580: 2c20 636f 6465 290a 2020 2020 2020 2020  , code).        
-00022590: 6e65 7477 6f72 6b73 203d 2073 656c 662e  networks = self.
-000225a0: 7361 6665 5f76 616c 7565 2873 656c 662e  safe_value(self.
-000225b0: 6f70 7469 6f6e 732c 2027 6e65 7477 6f72  options, 'networ
-000225c0: 6b73 272c 207b 7d29 0a20 2020 2020 2020  ks', {}).       
-000225d0: 206e 6574 776f 726b 203d 2073 656c 662e   network = self.
-000225e0: 7361 6665 5f73 7472 696e 675f 7570 7065  safe_string_uppe
-000225f0: 7228 7061 7261 6d73 2c20 276e 6574 776f  r(params, 'netwo
-00022600: 726b 272c 2064 6566 6175 6c74 4e65 7477  rk', defaultNetw
-00022610: 6f72 6b29 0a20 2020 2020 2020 206e 6574  ork).        net
-00022620: 776f 726b 203d 2073 656c 662e 7361 6665  work = self.safe
-00022630: 5f73 7472 696e 6728 6e65 7477 6f72 6b73  _string(networks
-00022640: 2c20 6e65 7477 6f72 6b2c 206e 6574 776f  , network, netwo
-00022650: 726b 290a 2020 2020 2020 2020 6966 206e  rk).        if n
-00022660: 6574 776f 726b 2069 7320 4e6f 6e65 3a0a  etwork is None:.
-00022670: 2020 2020 2020 2020 2020 2020 7265 7175              requ
-00022680: 6573 745b 2763 6861 696e 4e61 6d65 275d  est['chainName']
-00022690: 203d 2063 7572 7265 6e63 795b 2769 6427   = currency['id'
-000226a0: 5d0a 2020 2020 2020 2020 656c 7365 3a0a  ].        else:.
-000226b0: 2020 2020 2020 2020 2020 2020 7265 7175              requ
-000226c0: 6573 745b 2763 6861 696e 4e61 6d65 275d  est['chainName']
-000226d0: 203d 206e 6574 776f 726b 0a20 2020 2020   = network.     
-000226e0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-000226f0: 7365 6c66 2e6f 6d69 7428 7061 7261 6d73  self.omit(params
-00022700: 2c20 276e 6574 776f 726b 2729 0a20 2020  , 'network').   
-00022710: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
-00022720: 7365 6c66 2e70 7269 7661 7465 4765 7450  self.privateGetP
-00022730: 6865 6d65 7855 7365 7257 616c 6c65 7473  hemexUserWallets
-00022740: 5632 4465 706f 7369 7441 6464 7265 7373  V2DepositAddress
-00022750: 2873 656c 662e 6578 7465 6e64 2872 6571  (self.extend(req
-00022760: 7565 7374 2c20 7061 7261 6d73 2929 0a20  uest, params)). 
-00022770: 2020 2020 2020 2023 2020 2020 207b 0a20         #     {. 
-00022780: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00022790: 2022 636f 6465 223a 302c 0a20 2020 2020   "code":0,.     
-000227a0: 2020 2023 2020 2020 2020 2020 2022 6d73     #         "ms
-000227b0: 6722 3a22 4f4b 222c 0a20 2020 2020 2020  g":"OK",.       
-000227c0: 2023 2020 2020 2020 2020 2022 6461 7461   #         "data
-000227d0: 223a 7b0a 2020 2020 2020 2020 2320 2020  ":{.        #   
-000227e0: 2020 2020 2020 2020 2020 2261 6464 7265            "addre
-000227f0: 7373 223a 2230 7835 6266 6266 3630 6530  ss":"0x5bfbf60e0
-00022800: 6661 3766 3633 3539 3865 3663 6664 3861  fa7f63598e6cfd8a
-00022810: 3766 6433 6666 6163 3463 6363 3661 6422  7fd3ffac4ccc6ad"
-00022820: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00022830: 2020 2020 2020 2020 2274 6167 223a 6e75          "tag":nu
-00022840: 6c6c 0a20 2020 2020 2020 2023 2020 2020  ll.        #    
-00022850: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
-00022860: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
-00022870: 0a20 2020 2020 2020 2064 6174 6120 3d20  .        data = 
-00022880: 7365 6c66 2e73 6166 655f 7661 6c75 6528  self.safe_value(
-00022890: 7265 7370 6f6e 7365 2c20 2764 6174 6127  response, 'data'
-000228a0: 2c20 7b7d 290a 2020 2020 2020 2020 6164  , {}).        ad
-000228b0: 6472 6573 7320 3d20 7365 6c66 2e73 6166  dress = self.saf
-000228c0: 655f 7374 7269 6e67 2864 6174 612c 2027  e_string(data, '
-000228d0: 6164 6472 6573 7327 290a 2020 2020 2020  address').      
-000228e0: 2020 7461 6720 3d20 7365 6c66 2e73 6166    tag = self.saf
-000228f0: 655f 7374 7269 6e67 2864 6174 612c 2027  e_string(data, '
-00022900: 7461 6727 290a 2020 2020 2020 2020 7365  tag').        se
-00022910: 6c66 2e63 6865 636b 5f61 6464 7265 7373  lf.check_address
-00022920: 2861 6464 7265 7373 290a 2020 2020 2020  (address).      
-00022930: 2020 7265 7475 726e 207b 0a20 2020 2020    return {.     
-00022940: 2020 2020 2020 2027 6375 7272 656e 6379         'currency
-00022950: 273a 2063 6f64 652c 0a20 2020 2020 2020  ': code,.       
-00022960: 2020 2020 2027 6164 6472 6573 7327 3a20       'address': 
-00022970: 6164 6472 6573 732c 0a20 2020 2020 2020  address,.       
-00022980: 2020 2020 2027 7461 6727 3a20 7461 672c       'tag': tag,
-00022990: 0a20 2020 2020 2020 2020 2020 2027 6e65  .            'ne
-000229a0: 7477 6f72 6b27 3a20 4e6f 6e65 2c0a 2020  twork': None,.  
-000229b0: 2020 2020 2020 2020 2020 2769 6e66 6f27            'info'
-000229c0: 3a20 7265 7370 6f6e 7365 2c0a 2020 2020  : response,.    
-000229d0: 2020 2020 7d0a 0a20 2020 2064 6566 2066      }..    def f
-000229e0: 6574 6368 5f64 6570 6f73 6974 7328 7365  etch_deposits(se
-000229f0: 6c66 2c20 636f 6465 3a20 4f70 7469 6f6e  lf, code: Option
-00022a00: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c20  al[str] = None, 
-00022a10: 7369 6e63 653a 204f 7074 696f 6e61 6c5b  since: Optional[
-00022a20: 696e 745d 203d 204e 6f6e 652c 206c 696d  int] = None, lim
-00022a30: 6974 3a20 4f70 7469 6f6e 616c 5b69 6e74  it: Optional[int
-00022a40: 5d20 3d20 4e6f 6e65 2c20 7061 7261 6d73  ] = None, params
-00022a50: 3d7b 7d29 3a0a 2020 2020 2020 2020 2222  ={}):.        ""
-00022a60: 220a 2020 2020 2020 2020 6665 7463 6820  ".        fetch 
-00022a70: 616c 6c20 6465 706f 7369 7473 206d 6164  all deposits mad
-00022a80: 6520 746f 2061 6e20 6163 636f 756e 740a  e to an account.
-00022a90: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00022aa0: 7472 7c4e 6f6e 6520 636f 6465 3a20 756e  tr|None code: un
-00022ab0: 6966 6965 6420 6375 7272 656e 6379 2063  ified currency c
-00022ac0: 6f64 650a 2020 2020 2020 2020 3a70 6172  ode.        :par
-00022ad0: 616d 2069 6e74 7c4e 6f6e 6520 7369 6e63  am int|None sinc
-00022ae0: 653a 2074 6865 2065 6172 6c69 6573 7420  e: the earliest 
-00022af0: 7469 6d65 2069 6e20 6d73 2074 6f20 6665  time in ms to fe
-00022b00: 7463 6820 6465 706f 7369 7473 2066 6f72  tch deposits for
-00022b10: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00022b20: 696e 747c 4e6f 6e65 206c 696d 6974 3a20  int|None limit: 
-00022b30: 7468 6520 6d61 7869 6d75 6d20 6e75 6d62  the maximum numb
-00022b40: 6572 206f 6620 6465 706f 7369 7473 2073  er of deposits s
-00022b50: 7472 7563 7475 7265 7320 746f 2072 6574  tructures to ret
-00022b60: 7269 6576 650a 2020 2020 2020 2020 3a70  rieve.        :p
-00022b70: 6172 616d 2064 6963 7420 7061 7261 6d73  aram dict params
-00022b80: 3a20 6578 7472 6120 7061 7261 6d65 7465  : extra paramete
-00022b90: 7273 2073 7065 6369 6669 6320 746f 2074  rs specific to t
-00022ba0: 6865 2070 6865 6d65 7820 6170 6920 656e  he phemex api en
-00022bb0: 6470 6f69 6e74 0a20 2020 2020 2020 203a  dpoint.        :
-00022bc0: 7265 7475 726e 7320 5b64 6963 745d 3a20  returns [dict]: 
-00022bd0: 6120 6c69 7374 206f 6620 6074 7261 6e73  a list of `trans
-00022be0: 6163 7469 6f6e 2073 7472 7563 7475 7265  action structure
-00022bf0: 7320 3c68 7474 7073 3a2f 2f64 6f63 732e  s <https://docs.
-00022c00: 6363 7874 2e63 6f6d 2f23 2f3f 6964 3d74  ccxt.com/#/?id=t
-00022c10: 7261 6e73 6163 7469 6f6e 2d73 7472 7563  ransaction-struc
-00022c20: 7475 7265 3e60 0a20 2020 2020 2020 2022  ture>`.        "
-00022c30: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
-00022c40: 6c6f 6164 5f6d 6172 6b65 7473 2829 0a20  load_markets(). 
-00022c50: 2020 2020 2020 2063 7572 7265 6e63 7920         currency 
-00022c60: 3d20 4e6f 6e65 0a20 2020 2020 2020 2069  = None.        i
-00022c70: 6620 636f 6465 2069 7320 6e6f 7420 4e6f  f code is not No
-00022c80: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00022c90: 6375 7272 656e 6379 203d 2073 656c 662e  currency = self.
-00022ca0: 6375 7272 656e 6379 2863 6f64 6529 0a20  currency(code). 
-00022cb0: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
-00022cc0: 3d20 7365 6c66 2e70 7269 7661 7465 4765  = self.privateGe
-00022cd0: 7445 7863 6861 6e67 6557 616c 6c65 7473  tExchangeWallets
-00022ce0: 4465 706f 7369 744c 6973 7428 7061 7261  DepositList(para
-00022cf0: 6d73 290a 2020 2020 2020 2020 230a 2020  ms).        #.  
-00022d00: 2020 2020 2020 2320 2020 2020 7b0a 2020        #     {.  
-00022d10: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00022d20: 2263 6f64 6522 3a30 2c0a 2020 2020 2020  "code":0,.      
-00022d30: 2020 2320 2020 2020 2020 2020 226d 7367    #         "msg
-00022d40: 223a 224f 4b22 2c0a 2020 2020 2020 2020  ":"OK",.        
-00022d50: 2320 2020 2020 2020 2020 2264 6174 6122  #         "data"
-00022d60: 3a5b 0a20 2020 2020 2020 2023 2020 2020  :[.        #    
-00022d70: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
-00022d80: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00022d90: 2020 2020 2022 6964 223a 3239 3230 302c       "id":29200,
-00022da0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00022db0: 2020 2020 2020 2020 2020 2022 6375 7272             "curr
-00022dc0: 656e 6379 223a 2255 5344 5422 2c0a 2020  ency":"USDT",.  
-00022dd0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00022de0: 2020 2020 2020 2020 2263 7572 7265 6e63          "currenc
-00022df0: 7943 6f64 6522 3a33 2c0a 2020 2020 2020  yCode":3,.      
-00022e00: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00022e10: 2020 2020 2274 7848 6173 6822 3a22 3078      "txHash":"0x
-00022e20: 3062 6462 6463 3437 3830 3737 3639 6130  0bdbdc47807769a0
-00022e30: 3362 3135 3864 3537 3533 6635 3464 6663  3b158d5753f54dfc
-00022e40: 3538 6239 3239 3933 6432 6635 6538 3138  58b92993d2f5e818
-00022e50: 6462 3231 3836 3365 3031 3233 3865 3564  db21863e01238e5d
-00022e60: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-00022e70: 2020 2020 2020 2020 2020 2020 2022 6164               "ad
-00022e80: 6472 6573 7322 3a22 3078 3562 6662 6636  dress":"0x5bfbf6
-00022e90: 3065 3066 6137 6636 3335 3938 6536 6366  0e0fa7f63598e6cf
-00022ea0: 6438 6137 6664 3366 6661 6334 6363 6336  d8a7fd3ffac4ccc6
-00022eb0: 6164 222c 0a20 2020 2020 2020 2023 2020  ad",.        #  
-00022ec0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00022ed0: 616d 6f75 6e74 4576 223a 3330 3030 3030  amountEv":300000
-00022ee0: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
-00022ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f00: 2263 6f6e 6669 726d 6174 696f 6e73 223a  "confirmations":
-00022f10: 3133 2c0a 2020 2020 2020 2020 2320 2020  13,.        #   
-00022f20: 2020 2020 2020 2020 2020 2020 2020 2274                "t
-00022f30: 7970 6522 3a22 4465 706f 7369 7422 2c0a  ype":"Deposit",.
-00022f40: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00022f50: 2020 2020 2020 2020 2020 2273 7461 7475            "statu
-00022f60: 7322 3a22 5375 6363 6573 7322 2c0a 2020  s":"Success",.  
-00022f70: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00022f80: 2020 2020 2020 2020 2263 7265 6174 6564          "created
-00022f90: 4174 223a 3135 3932 3732 3235 3635 3030  At":159272256500
-00022fa0: 300a 2020 2020 2020 2020 2320 2020 2020  0.        #     
-00022fb0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-00022fc0: 2020 2320 2020 2020 2020 2020 5d0a 2020    #         ].  
-00022fd0: 2020 2020 2020 2320 2020 2020 7d0a 2020        #     }.  
-00022fe0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-00022ff0: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
-00023000: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
-00023010: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
-00023020: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00023030: 2e70 6172 7365 5f74 7261 6e73 6163 7469  .parse_transacti
-00023040: 6f6e 7328 6461 7461 2c20 6375 7272 656e  ons(data, curren
-00023050: 6379 2c20 7369 6e63 652c 206c 696d 6974  cy, since, limit
-00023060: 290a 0a20 2020 2064 6566 2066 6574 6368  )..    def fetch
-00023070: 5f77 6974 6864 7261 7761 6c73 2873 656c  _withdrawals(sel
-00023080: 662c 2063 6f64 653a 204f 7074 696f 6e61  f, code: Optiona
-00023090: 6c5b 7374 725d 203d 204e 6f6e 652c 2073  l[str] = None, s
-000230a0: 696e 6365 3a20 4f70 7469 6f6e 616c 5b69  ince: Optional[i
-000230b0: 6e74 5d20 3d20 4e6f 6e65 2c20 6c69 6d69  nt] = None, limi
-000230c0: 743a 204f 7074 696f 6e61 6c5b 696e 745d  t: Optional[int]
-000230d0: 203d 204e 6f6e 652c 2070 6172 616d 733d   = None, params=
-000230e0: 7b7d 293a 0a20 2020 2020 2020 2022 2222  {}):.        """
-000230f0: 0a20 2020 2020 2020 2066 6574 6368 2061  .        fetch a
-00023100: 6c6c 2077 6974 6864 7261 7761 6c73 206d  ll withdrawals m
-00023110: 6164 6520 6672 6f6d 2061 6e20 6163 636f  ade from an acco
-00023120: 756e 740a 2020 2020 2020 2020 3a70 6172  unt.        :par
-00023130: 616d 2073 7472 7c4e 6f6e 6520 636f 6465  am str|None code
-00023140: 3a20 756e 6966 6965 6420 6375 7272 656e  : unified curren
-00023150: 6379 2063 6f64 650a 2020 2020 2020 2020  cy code.        
-00023160: 3a70 6172 616d 2069 6e74 7c4e 6f6e 6520  :param int|None 
-00023170: 7369 6e63 653a 2074 6865 2065 6172 6c69  since: the earli
-00023180: 6573 7420 7469 6d65 2069 6e20 6d73 2074  est time in ms t
-00023190: 6f20 6665 7463 6820 7769 7468 6472 6177  o fetch withdraw
-000231a0: 616c 7320 666f 720a 2020 2020 2020 2020  als for.        
-000231b0: 3a70 6172 616d 2069 6e74 7c4e 6f6e 6520  :param int|None 
-000231c0: 6c69 6d69 743a 2074 6865 206d 6178 696d  limit: the maxim
-000231d0: 756d 206e 756d 6265 7220 6f66 2077 6974  um number of wit
-000231e0: 6864 7261 7761 6c73 2073 7472 7563 7475  hdrawals structu
-000231f0: 7265 7320 746f 2072 6574 7269 6576 650a  res to retrieve.
-00023200: 2020 2020 2020 2020 3a70 6172 616d 2064          :param d
-00023210: 6963 7420 7061 7261 6d73 3a20 6578 7472  ict params: extr
-00023220: 6120 7061 7261 6d65 7465 7273 2073 7065  a parameters spe
-00023230: 6369 6669 6320 746f 2074 6865 2070 6865  cific to the phe
-00023240: 6d65 7820 6170 6920 656e 6470 6f69 6e74  mex api endpoint
-00023250: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-00023260: 7320 5b64 6963 745d 3a20 6120 6c69 7374  s [dict]: a list
-00023270: 206f 6620 6074 7261 6e73 6163 7469 6f6e   of `transaction
-00023280: 2073 7472 7563 7475 7265 7320 3c68 7474   structures <htt
-00023290: 7073 3a2f 2f64 6f63 732e 6363 7874 2e63  ps://docs.ccxt.c
-000232a0: 6f6d 2f23 2f3f 6964 3d74 7261 6e73 6163  om/#/?id=transac
-000232b0: 7469 6f6e 2d73 7472 7563 7475 7265 3e60  tion-structure>`
-000232c0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000232d0: 2020 2020 2073 656c 662e 6c6f 6164 5f6d       self.load_m
-000232e0: 6172 6b65 7473 2829 0a20 2020 2020 2020  arkets().       
-000232f0: 2063 7572 7265 6e63 7920 3d20 4e6f 6e65   currency = None
-00023300: 0a20 2020 2020 2020 2069 6620 636f 6465  .        if code
-00023310: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-00023320: 2020 2020 2020 2020 2020 6375 7272 656e            curren
-00023330: 6379 203d 2073 656c 662e 6375 7272 656e  cy = self.curren
-00023340: 6379 2863 6f64 6529 0a20 2020 2020 2020  cy(code).       
-00023350: 2072 6573 706f 6e73 6520 3d20 7365 6c66   response = self
-00023360: 2e70 7269 7661 7465 4765 7445 7863 6861  .privateGetExcha
-00023370: 6e67 6557 616c 6c65 7473 5769 7468 6472  ngeWalletsWithdr
-00023380: 6177 4c69 7374 2870 6172 616d 7329 0a20  awList(params). 
-00023390: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-000233a0: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
-000233b0: 2023 2020 2020 2020 2020 2022 636f 6465   #         "code
-000233c0: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
-000233d0: 2020 2020 2020 2022 6d73 6722 3a22 4f4b         "msg":"OK
-000233e0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
-000233f0: 2020 2020 2022 6461 7461 223a 5b0a 2020       "data":[.  
-00023400: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00023410: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-00023420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023430: 2261 6464 7265 7373 223a 2022 314c 7878  "address": "1Lxx
-00023440: 7878 7878 7878 7878 7822 0a20 2020 2020  xxxxxxxxx".     
-00023450: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00023460: 2020 2020 2022 616d 6f75 6e74 4576 223a       "amountEv":
-00023470: 2032 3030 3030 300a 2020 2020 2020 2020   200000.        
-00023480: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00023490: 2020 2263 7572 7265 6e63 7922 3a20 2242    "currency": "B
-000234a0: 5443 220a 2020 2020 2020 2020 2320 2020  TC".        #   
-000234b0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-000234c0: 7572 7265 6e63 7943 6f64 6522 3a20 310a  urrencyCode": 1.
-000234d0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000234e0: 2020 2020 2020 2020 2020 2265 7870 6972            "expir
-000234f0: 6564 5469 6d65 223a 2030 0a20 2020 2020  edTime": 0.     
-00023500: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00023510: 2020 2020 2022 6665 6545 7622 3a20 3530       "feeEv": 50
-00023520: 3030 300a 2020 2020 2020 2020 2320 2020  000.        #   
-00023530: 2020 2020 2020 2020 2020 2020 2020 2272                "r
-00023540: 656a 6563 7452 6561 736f 6e22 3a20 6e75  ejectReason": nu
-00023550: 6c6c 0a20 2020 2020 2020 2023 2020 2020  ll.        #    
-00023560: 2020 2020 2020 2020 2020 2020 2022 7374               "st
-00023570: 6174 7573 223a 2022 5375 6363 6565 6422  atus": "Succeed"
-00023580: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00023590: 2020 2020 2020 2020 2020 2022 7478 4861             "txHa
-000235a0: 7368 223a 2022 3434 6578 7878 7878 7878  sh": "44exxxxxxx
-000235b0: 7878 7878 7878 7878 7878 7878 7878 7822  xxxxxxxxxxxxxxx"
-000235c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000235d0: 2020 2020 2020 2020 2020 2022 7769 7468             "with
-000235e0: 6472 6177 5374 6174 7573 3a20 2222 0a20  drawStatus: "". 
-000235f0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00023600: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
-00023610: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
-00023620: 2020 2023 2020 2020 207d 0a20 2020 2020     #     }.     
-00023630: 2020 2023 0a20 2020 2020 2020 2064 6174     #.        dat
-00023640: 6120 3d20 7365 6c66 2e73 6166 655f 7661  a = self.safe_va
-00023650: 6c75 6528 7265 7370 6f6e 7365 2c20 2764  lue(response, 'd
-00023660: 6174 6127 2c20 7b7d 290a 2020 2020 2020  ata', {}).      
-00023670: 2020 7265 7475 726e 2073 656c 662e 7061    return self.pa
-00023680: 7273 655f 7472 616e 7361 6374 696f 6e73  rse_transactions
-00023690: 2864 6174 612c 2063 7572 7265 6e63 792c  (data, currency,
-000236a0: 2073 696e 6365 2c20 6c69 6d69 7429 0a0a   since, limit)..
-000236b0: 2020 2020 6465 6620 7061 7273 655f 7472      def parse_tr
-000236c0: 616e 7361 6374 696f 6e5f 7374 6174 7573  ansaction_status
-000236d0: 2873 656c 662c 2073 7461 7475 7329 3a0a  (self, status):.
-000236e0: 2020 2020 2020 2020 7374 6174 7573 6573          statuses
-000236f0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00023700: 2027 5375 6363 6573 7327 3a20 276f 6b27   'Success': 'ok'
-00023710: 2c0a 2020 2020 2020 2020 2020 2020 2753  ,.            'S
-00023720: 7563 6365 6564 273a 2027 6f6b 272c 0a20  ucceed': 'ok',. 
-00023730: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
-00023740: 2072 6574 7572 6e20 7365 6c66 2e73 6166   return self.saf
-00023750: 655f 7374 7269 6e67 2873 7461 7475 7365  e_string(statuse
-00023760: 732c 2073 7461 7475 732c 2073 7461 7475  s, status, statu
-00023770: 7329 0a0a 2020 2020 6465 6620 7061 7273  s)..    def pars
-00023780: 655f 7472 616e 7361 6374 696f 6e28 7365  e_transaction(se
-00023790: 6c66 2c20 7472 616e 7361 6374 696f 6e2c  lf, transaction,
-000237a0: 2063 7572 7265 6e63 793d 4e6f 6e65 293a   currency=None):
-000237b0: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
-000237c0: 2020 2023 2077 6974 6864 7261 770a 2020     # withdraw.  
-000237d0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-000237e0: 2320 2020 2020 2e2e 2e0a 2020 2020 2020  #     ....      
-000237f0: 2020 230a 2020 2020 2020 2020 2320 6665    #.        # fe
-00023800: 7463 6844 6570 6f73 6974 730a 2020 2020  tchDeposits.    
-00023810: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
-00023820: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-00023830: 2020 2020 2020 2020 2269 6422 3a32 3932          "id":292
-00023840: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
-00023850: 2020 2020 2020 2263 7572 7265 6e63 7922        "currency"
-00023860: 3a22 5553 4454 222c 0a20 2020 2020 2020  :"USDT",.       
-00023870: 2023 2020 2020 2020 2020 2022 6375 7272   #         "curr
-00023880: 656e 6379 436f 6465 223a 332c 0a20 2020  encyCode":3,.   
-00023890: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-000238a0: 7478 4861 7368 223a 2230 7830 6264 6264  txHash":"0x0bdbd
-000238b0: 6334 3738 3037 3736 3961 3033 6231 3538  c47807769a03b158
-000238c0: 6435 3735 3366 3534 6466 6335 3862 3932  d5753f54dfc58b92
-000238d0: 3939 3364 3266 3565 3831 3864 6232 3138  993d2f5e818db218
-000238e0: 3633 6530 3132 3338 6535 6422 2c0a 2020  63e01238e5d",.  
-000238f0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00023900: 2261 6464 7265 7373 223a 2230 7835 6266  "address":"0x5bf
-00023910: 6266 3630 6530 6661 3766 3633 3539 3865  bf60e0fa7f63598e
-00023920: 3663 6664 3861 3766 6433 6666 6163 3463  6cfd8a7fd3ffac4c
-00023930: 6363 3661 6422 2c0a 2020 2020 2020 2020  cc6ad",.        
-00023940: 2320 2020 2020 2020 2020 2261 6d6f 756e  #         "amoun
-00023950: 7445 7622 3a33 3030 3030 3030 3030 302c  tEv":3000000000,
-00023960: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00023970: 2020 2022 636f 6e66 6972 6d61 7469 6f6e     "confirmation
-00023980: 7322 3a31 332c 0a20 2020 2020 2020 2023  s":13,.        #
-00023990: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
-000239a0: 2244 6570 6f73 6974 222c 0a20 2020 2020  "Deposit",.     
-000239b0: 2020 2023 2020 2020 2020 2020 2022 7374     #         "st
-000239c0: 6174 7573 223a 2253 7563 6365 7373 222c  atus":"Success",
-000239d0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000239e0: 2020 2022 6372 6561 7465 6441 7422 3a31     "createdAt":1
-000239f0: 3539 3237 3232 3536 3530 3030 0a20 2020  592722565000.   
-00023a00: 2020 2020 2023 2020 2020 207d 0a20 2020       #     }.   
-00023a10: 2020 2020 2023 0a20 2020 2020 2020 2023       #.        #
-00023a20: 2066 6574 6368 5769 7468 6472 6177 616c   fetchWithdrawal
-00023a30: 730a 2020 2020 2020 2020 230a 2020 2020  s.        #.    
-00023a40: 2020 2020 2320 2020 2020 7b0a 2020 2020      #     {.    
-00023a50: 2020 2020 2320 2020 2020 2020 2020 2261      #         "a
-00023a60: 6464 7265 7373 223a 2022 314c 7878 7878  ddress": "1Lxxxx
-00023a70: 7878 7878 7878 7822 0a20 2020 2020 2020  xxxxxxx".       
-00023a80: 2023 2020 2020 2020 2020 2022 616d 6f75   #         "amou
-00023a90: 6e74 4576 223a 2032 3030 3030 300a 2020  ntEv": 200000.  
-00023aa0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00023ab0: 2263 7572 7265 6e63 7922 3a20 2242 5443  "currency": "BTC
-00023ac0: 220a 2020 2020 2020 2020 2320 2020 2020  ".        #     
-00023ad0: 2020 2020 2263 7572 7265 6e63 7943 6f64      "currencyCod
-00023ae0: 6522 3a20 310a 2020 2020 2020 2020 2320  e": 1.        # 
-00023af0: 2020 2020 2020 2020 2265 7870 6972 6564          "expired
-00023b00: 5469 6d65 223a 2030 0a20 2020 2020 2020  Time": 0.       
-00023b10: 2023 2020 2020 2020 2020 2022 6665 6545   #         "feeE
-00023b20: 7622 3a20 3530 3030 300a 2020 2020 2020  v": 50000.      
-00023b30: 2020 2320 2020 2020 2020 2020 2272 656a    #         "rej
-00023b40: 6563 7452 6561 736f 6e22 3a20 6e75 6c6c  ectReason": null
-00023b50: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00023b60: 2020 2022 7374 6174 7573 223a 2022 5375     "status": "Su
-00023b70: 6363 6565 6422 0a20 2020 2020 2020 2023  cceed".        #
-00023b80: 2020 2020 2020 2020 2022 7478 4861 7368           "txHash
-00023b90: 223a 2022 3434 6578 7878 7878 7878 7878  ": "44exxxxxxxxx
-00023ba0: 7878 7878 7878 7878 7878 7878 7822 0a20  xxxxxxxxxxxxx". 
-00023bb0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00023bc0: 2022 7769 7468 6472 6177 5374 6174 7573   "withdrawStatus
-00023bd0: 3a20 2222 0a20 2020 2020 2020 2023 2020  : "".        #  
-00023be0: 2020 207d 0a20 2020 2020 2020 2023 0a20     }.        #. 
-00023bf0: 2020 2020 2020 2069 6420 3d20 7365 6c66         id = self
-00023c00: 2e73 6166 655f 7374 7269 6e67 2874 7261  .safe_string(tra
-00023c10: 6e73 6163 7469 6f6e 2c20 2769 6427 290a  nsaction, 'id').
-00023c20: 2020 2020 2020 2020 6164 6472 6573 7320          address 
-00023c30: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
-00023c40: 6e67 2874 7261 6e73 6163 7469 6f6e 2c20  ng(transaction, 
-00023c50: 2761 6464 7265 7373 2729 0a20 2020 2020  'address').     
-00023c60: 2020 2074 6167 203d 204e 6f6e 650a 2020     tag = None.  
-00023c70: 2020 2020 2020 7478 6964 203d 2073 656c        txid = sel
-00023c80: 662e 7361 6665 5f73 7472 696e 6728 7472  f.safe_string(tr
-00023c90: 616e 7361 6374 696f 6e2c 2027 7478 4861  ansaction, 'txHa
-00023ca0: 7368 2729 0a20 2020 2020 2020 2063 7572  sh').        cur
-00023cb0: 7265 6e63 7949 6420 3d20 7365 6c66 2e73  rencyId = self.s
-00023cc0: 6166 655f 7374 7269 6e67 2874 7261 6e73  afe_string(trans
-00023cd0: 6163 7469 6f6e 2c20 2763 7572 7265 6e63  action, 'currenc
-00023ce0: 7927 290a 2020 2020 2020 2020 6375 7272  y').        curr
-00023cf0: 656e 6379 203d 2073 656c 662e 7361 6665  ency = self.safe
-00023d00: 5f63 7572 7265 6e63 7928 6375 7272 656e  _currency(curren
-00023d10: 6379 4964 2c20 6375 7272 656e 6379 290a  cyId, currency).
-00023d20: 2020 2020 2020 2020 636f 6465 203d 2063          code = c
-00023d30: 7572 7265 6e63 795b 2763 6f64 6527 5d0a  urrency['code'].
-00023d40: 2020 2020 2020 2020 7469 6d65 7374 616d          timestam
-00023d50: 7020 3d20 7365 6c66 2e73 6166 655f 696e  p = self.safe_in
-00023d60: 7465 6765 725f 3228 7472 616e 7361 6374  teger_2(transact
-00023d70: 696f 6e2c 2027 6372 6561 7465 6441 7427  ion, 'createdAt'
-00023d80: 2c20 2773 7562 6d69 7465 6441 7427 290a  , 'submitedAt').
-00023d90: 2020 2020 2020 2020 7479 7065 203d 2073          type = s
-00023da0: 656c 662e 7361 6665 5f73 7472 696e 675f  elf.safe_string_
-00023db0: 6c6f 7765 7228 7472 616e 7361 6374 696f  lower(transactio
-00023dc0: 6e2c 2027 7479 7065 2729 0a20 2020 2020  n, 'type').     
-00023dd0: 2020 2066 6565 436f 7374 203d 2073 656c     feeCost = sel
-00023de0: 662e 7061 7273 655f 6e75 6d62 6572 2873  f.parse_number(s
-00023df0: 656c 662e 6672 6f6d 5f65 6e28 7365 6c66  elf.from_en(self
-00023e00: 2e73 6166 655f 7374 7269 6e67 2874 7261  .safe_string(tra
-00023e10: 6e73 6163 7469 6f6e 2c20 2766 6565 4576  nsaction, 'feeEv
-00023e20: 2729 2c20 6375 7272 656e 6379 5b27 7661  '), currency['va
-00023e30: 6c75 6553 6361 6c65 275d 2929 0a20 2020  lueScale'])).   
-00023e40: 2020 2020 2066 6565 203d 204e 6f6e 650a       fee = None.
-00023e50: 2020 2020 2020 2020 6966 2066 6565 436f          if feeCo
-00023e60: 7374 2069 7320 6e6f 7420 4e6f 6e65 3a0a  st is not None:.
-00023e70: 2020 2020 2020 2020 2020 2020 7479 7065              type
-00023e80: 203d 2027 7769 7468 6472 6177 616c 270a   = 'withdrawal'.
-00023e90: 2020 2020 2020 2020 2020 2020 6665 6520              fee 
-00023ea0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00023eb0: 2020 2020 2763 6f73 7427 3a20 6665 6543      'cost': feeC
-00023ec0: 6f73 742c 0a20 2020 2020 2020 2020 2020  ost,.           
-00023ed0: 2020 2020 2027 6375 7272 656e 6379 273a       'currency':
-00023ee0: 2063 6f64 652c 0a20 2020 2020 2020 2020   code,.         
-00023ef0: 2020 207d 0a20 2020 2020 2020 2073 7461     }.        sta
-00023f00: 7475 7320 3d20 7365 6c66 2e70 6172 7365  tus = self.parse
-00023f10: 5f74 7261 6e73 6163 7469 6f6e 5f73 7461  _transaction_sta
-00023f20: 7475 7328 7365 6c66 2e73 6166 655f 7374  tus(self.safe_st
-00023f30: 7269 6e67 2874 7261 6e73 6163 7469 6f6e  ring(transaction
-00023f40: 2c20 2773 7461 7475 7327 2929 0a20 2020  , 'status')).   
-00023f50: 2020 2020 2061 6d6f 756e 7420 3d20 7365       amount = se
-00023f60: 6c66 2e70 6172 7365 5f6e 756d 6265 7228  lf.parse_number(
-00023f70: 7365 6c66 2e66 726f 6d5f 656e 2873 656c  self.from_en(sel
-00023f80: 662e 7361 6665 5f73 7472 696e 6728 7472  f.safe_string(tr
-00023f90: 616e 7361 6374 696f 6e2c 2027 616d 6f75  ansaction, 'amou
-00023fa0: 6e74 4576 2729 2c20 6375 7272 656e 6379  ntEv'), currency
-00023fb0: 5b27 7661 6c75 6553 6361 6c65 275d 2929  ['valueScale']))
-00023fc0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00023fd0: 7b0a 2020 2020 2020 2020 2020 2020 2769  {.            'i
-00023fe0: 6e66 6f27 3a20 7472 616e 7361 6374 696f  nfo': transactio
-00023ff0: 6e2c 0a20 2020 2020 2020 2020 2020 2027  n,.            '
-00024000: 6964 273a 2069 642c 0a20 2020 2020 2020  id': id,.       
-00024010: 2020 2020 2027 7478 6964 273a 2074 7869       'txid': txi
-00024020: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
-00024030: 7469 6d65 7374 616d 7027 3a20 7469 6d65  timestamp': time
-00024040: 7374 616d 702c 0a20 2020 2020 2020 2020  stamp,.         
-00024050: 2020 2027 6461 7465 7469 6d65 273a 2073     'datetime': s
-00024060: 656c 662e 6973 6f38 3630 3128 7469 6d65  elf.iso8601(time
-00024070: 7374 616d 7029 2c0a 2020 2020 2020 2020  stamp),.        
-00024080: 2020 2020 276e 6574 776f 726b 273a 204e      'network': N
-00024090: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-000240a0: 2027 6164 6472 6573 7327 3a20 6164 6472   'address': addr
-000240b0: 6573 732c 0a20 2020 2020 2020 2020 2020  ess,.           
-000240c0: 2027 6164 6472 6573 7354 6f27 3a20 6164   'addressTo': ad
-000240d0: 6472 6573 732c 0a20 2020 2020 2020 2020  dress,.         
-000240e0: 2020 2027 6164 6472 6573 7346 726f 6d27     'addressFrom'
-000240f0: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
-00024100: 2020 2020 2774 6167 273a 2074 6167 2c0a      'tag': tag,.
-00024110: 2020 2020 2020 2020 2020 2020 2774 6167              'tag
-00024120: 546f 273a 2074 6167 2c0a 2020 2020 2020  To': tag,.      
-00024130: 2020 2020 2020 2774 6167 4672 6f6d 273a        'tagFrom':
-00024140: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00024150: 2020 2027 7479 7065 273a 2074 7970 652c     'type': type,
-00024160: 0a20 2020 2020 2020 2020 2020 2027 616d  .            'am
-00024170: 6f75 6e74 273a 2061 6d6f 756e 742c 0a20  ount': amount,. 
-00024180: 2020 2020 2020 2020 2020 2027 6375 7272             'curr
-00024190: 656e 6379 273a 2063 6f64 652c 0a20 2020  ency': code,.   
-000241a0: 2020 2020 2020 2020 2027 7374 6174 7573           'status
-000241b0: 273a 2073 7461 7475 732c 0a20 2020 2020  ': status,.     
-000241c0: 2020 2020 2020 2027 7570 6461 7465 6427         'updated'
-000241d0: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
-000241e0: 2020 2020 2766 6565 273a 2066 6565 2c0a      'fee': fee,.
-000241f0: 2020 2020 2020 2020 7d0a 0a20 2020 2064          }..    d
-00024200: 6566 2066 6574 6368 5f70 6f73 6974 696f  ef fetch_positio
-00024210: 6e73 2873 656c 662c 2073 796d 626f 6c73  ns(self, symbols
-00024220: 3a20 4f70 7469 6f6e 616c 5b4c 6973 745b  : Optional[List[
-00024230: 7374 725d 5d20 3d20 4e6f 6e65 2c20 7061  str]] = None, pa
-00024240: 7261 6d73 3d7b 7d29 3a0a 2020 2020 2020  rams={}):.      
-00024250: 2020 2222 220a 2020 2020 2020 2020 6665    """.        fe
-00024260: 7463 6820 616c 6c20 6f70 656e 2070 6f73  tch all open pos
-00024270: 6974 696f 6e73 0a20 2020 2020 2020 2073  itions.        s
-00024280: 6565 2068 7474 7073 3a2f 2f67 6974 6875  ee https://githu
-00024290: 622e 636f 6d2f 7068 656d 6578 2f70 6865  b.com/phemex/phe
-000242a0: 6d65 782d 6170 692d 646f 6373 2f62 6c6f  mex-api-docs/blo
-000242b0: 622f 6d61 7374 6572 2f50 7562 6c69 632d  b/master/Public-
-000242c0: 436f 6e74 7261 6374 2d41 5049 2d65 6e2e  Contract-API-en.
-000242d0: 6d64 2371 7565 7279 2d74 7261 6469 6e67  md#query-trading
-000242e0: 2d61 6363 6f75 6e74 2d61 6e64 2d70 6f73  -account-and-pos
-000242f0: 6974 696f 6e73 0a20 2020 2020 2020 2073  itions.        s
-00024300: 6565 2068 7474 7073 3a2f 2f67 6974 6875  ee https://githu
-00024310: 622e 636f 6d2f 7068 656d 6578 2f70 6865  b.com/phemex/phe
-00024320: 6d65 782d 6170 692d 646f 6373 2f62 6c6f  mex-api-docs/blo
-00024330: 622f 6d61 7374 6572 2f50 7562 6c69 632d  b/master/Public-
-00024340: 4865 6467 6564 2d50 6572 7065 7475 616c  Hedged-Perpetual
-00024350: 2d41 5049 2e6d 6423 7175 6572 792d 6163  -API.md#query-ac
-00024360: 636f 756e 742d 706f 7369 7469 6f6e 730a  count-positions.
-00024370: 2020 2020 2020 2020 3a70 6172 616d 205b          :param [
-00024380: 7374 725d 7c4e 6f6e 6520 7379 6d62 6f6c  str]|None symbol
-00024390: 733a 206c 6973 7420 6f66 2075 6e69 6669  s: list of unifi
-000243a0: 6564 206d 6172 6b65 7420 7379 6d62 6f6c  ed market symbol
-000243b0: 730a 2020 2020 2020 2020 3a70 6172 616d  s.        :param
-000243c0: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
-000243d0: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
-000243e0: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
-000243f0: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
-00024400: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
-00024410: 726e 7320 5b64 6963 745d 3a20 6120 6c69  rns [dict]: a li
-00024420: 7374 206f 6620 6070 6f73 6974 696f 6e20  st of `position 
-00024430: 7374 7275 6374 7572 6520 3c68 7474 7073  structure <https
-00024440: 3a2f 2f64 6f63 732e 6363 7874 2e63 6f6d  ://docs.ccxt.com
-00024450: 2f23 2f3f 6964 3d70 6f73 6974 696f 6e2d  /#/?id=position-
-00024460: 7374 7275 6374 7572 653e 600a 2020 2020  structure>`.    
-00024470: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00024480: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
-00024490: 7328 290a 2020 2020 2020 2020 7379 6d62  s().        symb
-000244a0: 6f6c 7320 3d20 7365 6c66 2e6d 6172 6b65  ols = self.marke
-000244b0: 745f 7379 6d62 6f6c 7328 7379 6d62 6f6c  t_symbols(symbol
-000244c0: 7329 0a20 2020 2020 2020 2073 7562 5479  s).        subTy
-000244d0: 7065 203d 204e 6f6e 650a 2020 2020 2020  pe = None.      
-000244e0: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
-000244f0: 6174 6547 6574 4163 636f 756e 7473 4163  ateGetAccountsAc
-00024500: 636f 756e 7450 6f73 6974 696f 6e73 270a  countPositions'.
-00024510: 2020 2020 2020 2020 636f 6465 203d 2073          code = s
-00024520: 656c 662e 7361 6665 5f73 7472 696e 6728  elf.safe_string(
-00024530: 7061 7261 6d73 2c20 2763 7572 7265 6e63  params, 'currenc
-00024540: 7927 290a 2020 2020 2020 2020 7365 7474  y').        sett
-00024550: 6c65 203d 204e 6f6e 650a 2020 2020 2020  le = None.      
-00024560: 2020 6d61 726b 6574 203d 204e 6f6e 650a    market = None.
-00024570: 2020 2020 2020 2020 6669 7273 7453 796d          firstSym
-00024580: 626f 6c20 3d20 7365 6c66 2e73 6166 655f  bol = self.safe_
-00024590: 7374 7269 6e67 2873 796d 626f 6c73 2c20  string(symbols, 
-000245a0: 3029 0a20 2020 2020 2020 2069 6620 6669  0).        if fi
-000245b0: 7273 7453 796d 626f 6c20 6973 206e 6f74  rstSymbol is not
-000245c0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-000245d0: 2020 206d 6172 6b65 7420 3d20 7365 6c66     market = self
-000245e0: 2e6d 6172 6b65 7428 6669 7273 7453 796d  .market(firstSym
-000245f0: 626f 6c29 0a20 2020 2020 2020 2020 2020  bol).           
-00024600: 2073 6574 746c 6520 3d20 6d61 726b 6574   settle = market
-00024610: 5b27 7365 7474 6c65 275d 0a20 2020 2020  ['settle'].     
-00024620: 2020 2020 2020 2063 6f64 6520 3d20 6d61         code = ma
-00024630: 726b 6574 5b27 7365 7474 6c65 275d 0a20  rket['settle']. 
-00024640: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00024650: 2020 2020 2020 2020 2073 6574 746c 652c           settle,
-00024660: 2070 6172 616d 7320 3d20 7365 6c66 2e68   params = self.h
-00024670: 616e 646c 655f 6f70 7469 6f6e 5f61 6e64  andle_option_and
-00024680: 5f70 6172 616d 7328 7061 7261 6d73 2c20  _params(params, 
-00024690: 2766 6574 6368 506f 7369 7469 6f6e 7327  'fetchPositions'
-000246a0: 2c20 2773 6574 746c 6527 2c20 2755 5344  , 'settle', 'USD
-000246b0: 2729 0a20 2020 2020 2020 2073 7562 5479  ').        subTy
-000246c0: 7065 2c20 7061 7261 6d73 203d 2073 656c  pe, params = sel
-000246d0: 662e 6861 6e64 6c65 5f73 7562 5f74 7970  f.handle_sub_typ
-000246e0: 655f 616e 645f 7061 7261 6d73 2827 6665  e_and_params('fe
-000246f0: 7463 6850 6f73 6974 696f 6e73 272c 206d  tchPositions', m
-00024700: 6172 6b65 742c 2070 6172 616d 7329 0a20  arket, params). 
-00024710: 2020 2020 2020 2069 6620 7365 7474 6c65         if settle
-00024720: 203d 3d20 2755 5344 5427 3a0a 2020 2020   == 'USDT':.    
-00024730: 2020 2020 2020 2020 636f 6465 203d 2027          code = '
-00024740: 5553 4454 270a 2020 2020 2020 2020 2020  USDT'.          
-00024750: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
-00024760: 6174 6547 6574 4741 6363 6f75 6e74 7341  ateGetGAccountsA
-00024770: 6363 6f75 6e74 506f 7369 7469 6f6e 7327  ccountPositions'
-00024780: 0a20 2020 2020 2020 2065 6c69 6620 636f  .        elif co
-00024790: 6465 2069 7320 4e6f 6e65 3a0a 2020 2020  de is None:.    
-000247a0: 2020 2020 2020 2020 636f 6465 203d 2027          code = '
-000247b0: 5553 4427 2069 6620 2873 7562 5479 7065  USD' if (subType
-000247c0: 203d 3d20 276c 696e 6561 7227 2920 656c   == 'linear') el
-000247d0: 7365 2027 4254 4327 0a20 2020 2020 2020  se 'BTC'.       
-000247e0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-000247f0: 2020 2070 6172 616d 7320 3d20 7365 6c66     params = self
-00024800: 2e6f 6d69 7428 7061 7261 6d73 2c20 2763  .omit(params, 'c
-00024810: 6f64 6527 290a 2020 2020 2020 2020 6375  ode').        cu
-00024820: 7272 656e 6379 203d 2073 656c 662e 6375  rrency = self.cu
-00024830: 7272 656e 6379 2863 6f64 6529 0a20 2020  rrency(code).   
-00024840: 2020 2020 2072 6571 7565 7374 203d 207b       request = {
-00024850: 0a20 2020 2020 2020 2020 2020 2027 6375  .            'cu
-00024860: 7272 656e 6379 273a 2063 7572 7265 6e63  rrency': currenc
-00024870: 795b 2769 6427 5d2c 0a20 2020 2020 2020  y['id'],.       
-00024880: 207d 0a20 2020 2020 2020 2072 6573 706f   }.        respo
-00024890: 6e73 6520 3d20 6765 7461 7474 7228 7365  nse = getattr(se
-000248a0: 6c66 2c20 6d65 7468 6f64 2928 7365 6c66  lf, method)(self
-000248b0: 2e65 7874 656e 6428 7265 7175 6573 742c  .extend(request,
-000248c0: 2070 6172 616d 7329 290a 2020 2020 2020   params)).      
-000248d0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
-000248e0: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
-000248f0: 2020 2020 2020 2263 6f64 6522 3a30 2c22        "code":0,"
-00024900: 6d73 6722 3a22 222c 0a20 2020 2020 2020  msg":"",.       
-00024910: 2023 2020 2020 2020 2020 2022 6461 7461   #         "data
-00024920: 223a 7b0a 2020 2020 2020 2020 2320 2020  ":{.        #   
-00024930: 2020 2020 2020 2020 2020 2261 6363 6f75            "accou
-00024940: 6e74 223a 7b0a 2020 2020 2020 2020 2320  nt":{.        # 
-00024950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024960: 2261 6363 6f75 6e74 4964 223a 3631 3932  "accountId":6192
-00024970: 3132 3030 3031 2c0a 2020 2020 2020 2020  120001,.        
-00024980: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00024990: 2020 2263 7572 7265 6e63 7922 3a22 4254    "currency":"BT
-000249a0: 4322 2c0a 2020 2020 2020 2020 2320 2020  C",.        #   
-000249b0: 2020 2020 2020 2020 2020 2020 2020 2261                "a
-000249c0: 6363 6f75 6e74 4261 6c61 6e63 6545 7622  ccountBalanceEv"
-000249d0: 3a31 3235 3437 3434 2c0a 2020 2020 2020  :1254744,.      
-000249e0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-000249f0: 2020 2020 2274 6f74 616c 5573 6564 4261      "totalUsedBa
-00024a00: 6c61 6e63 6545 7622 3a30 2c0a 2020 2020  lanceEv":0,.    
-00024a10: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00024a20: 2020 2020 2020 2262 6f6e 7573 4261 6c61        "bonusBala
-00024a30: 6e63 6545 7622 3a31 3235 3437 3434 0a20  nceEv":1254744. 
-00024a40: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00024a50: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-00024a60: 2320 2020 2020 2020 2020 2020 2020 2270  #             "p
-00024a70: 6f73 6974 696f 6e73 223a 5b0a 2020 2020  ositions":[.    
-00024a80: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00024a90: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
-00024aa0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00024ab0: 2020 2020 2020 2261 6363 6f75 6e74 4944        "accountID
-00024ac0: 223a 3631 3932 3132 3030 3031 2c0a 2020  ":6192120001,.  
-00024ad0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024ae0: 2020 2020 2020 2020 2020 2020 2273 796d              "sym
-00024af0: 626f 6c22 3a22 4254 4355 5344 222c 0a20  bol":"BTCUSD",. 
-00024b00: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00024b10: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
-00024b20: 7272 656e 6379 223a 2242 5443 222c 0a20  rrency":"BTC",. 
-00024b30: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00024b40: 2020 2020 2020 2020 2020 2020 2022 7369               "si
-00024b50: 6465 223a 224e 6f6e 6522 2c0a 2020 2020  de":"None",.    
-00024b60: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00024b70: 2020 2020 2020 2020 2020 2270 6f73 6974            "posit
-00024b80: 696f 6e53 7461 7475 7322 3a22 4e6f 726d  ionStatus":"Norm
-00024b90: 616c 222c 0a20 2020 2020 2020 2023 2020  al",.        #  
-00024ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024bb0: 2020 2022 6372 6f73 734d 6172 6769 6e22     "crossMargin"
-00024bc0: 3a66 616c 7365 2c0a 2020 2020 2020 2020  :false,.        
-00024bd0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00024be0: 2020 2020 2020 226c 6576 6572 6167 6545        "leverageE
-00024bf0: 7222 3a31 3030 3030 3030 3030 2c0a 2020  r":100000000,.  
-00024c00: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024c10: 2020 2020 2020 2020 2020 2020 226c 6576              "lev
-00024c20: 6572 6167 6522 3a31 2e30 3030 3030 3030  erage":1.0000000
-00024c30: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00024c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024c50: 2022 696e 6974 4d61 7267 696e 5265 7145   "initMarginReqE
-00024c60: 7222 3a31 3030 3030 3030 3030 2c0a 2020  r":100000000,.  
-00024c70: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024c80: 2020 2020 2020 2020 2020 2020 2269 6e69              "ini
-00024c90: 744d 6172 6769 6e52 6571 223a 312e 3030  tMarginReq":1.00
-00024ca0: 3030 3030 3030 2c0a 2020 2020 2020 2020  000000,.        
-00024cb0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00024cc0: 2020 2020 2020 226d 6169 6e74 4d61 7267        "maintMarg
-00024cd0: 696e 5265 7145 7222 3a35 3030 3030 302c  inReqEr":500000,
-00024ce0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00024cf0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00024d00: 6d61 696e 744d 6172 6769 6e52 6571 223a  maintMarginReq":
-00024d10: 302e 3030 3530 3030 3030 2c0a 2020 2020  0.00500000,.    
-00024d20: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00024d30: 2020 2020 2020 2020 2020 2272 6973 6b4c            "riskL
-00024d40: 696d 6974 4576 223a 3130 3030 3030 3030  imitEv":10000000
-00024d50: 3030 302c 0a20 2020 2020 2020 2023 2020  000,.        #  
-00024d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024d70: 2020 2022 7269 736b 4c69 6d69 7422 3a31     "riskLimit":1
-00024d80: 3030 2e30 3030 3030 3030 302c 0a20 2020  00.00000000,.   
-00024d90: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00024da0: 2020 2020 2020 2020 2020 2022 7369 7a65             "size
-00024db0: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
-00024dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024dd0: 2020 2022 7661 6c75 6522 3a30 452d 382c     "value":0E-8,
-00024de0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00024df0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00024e00: 7661 6c75 6545 7622 3a30 2c0a 2020 2020  valueEv":0,.    
-00024e10: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00024e20: 2020 2020 2020 2020 2020 2261 7667 456e            "avgEn
-00024e30: 7472 7950 7269 6365 4570 223a 302c 0a20  tryPriceEp":0,. 
-00024e40: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00024e50: 2020 2020 2020 2020 2020 2020 2022 6176               "av
-00024e60: 6745 6e74 7279 5072 6963 6522 3a30 452d  gEntryPrice":0E-
-00024e70: 382c 0a20 2020 2020 2020 2023 2020 2020  8,.        #    
-00024e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024e90: 2022 706f 7343 6f73 7445 7622 3a30 2c0a   "posCostEv":0,.
-00024ea0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00024eb0: 2020 2020 2020 2020 2020 2020 2020 2270                "p
-00024ec0: 6f73 436f 7374 223a 3045 2d38 2c0a 2020  osCost":0E-8,.  
-00024ed0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00024ee0: 2020 2020 2020 2020 2020 2020 2261 7373              "ass
-00024ef0: 6967 6e65 6450 6f73 4261 6c61 6e63 6545  ignedPosBalanceE
-00024f00: 7622 3a30 2c0a 2020 2020 2020 2020 2320  v":0,.        # 
-00024f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024f20: 2020 2020 2261 7373 6967 6e65 6450 6f73      "assignedPos
-00024f30: 4261 6c61 6e63 6522 3a30 452d 382c 0a20  Balance":0E-8,. 
-00024f40: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00024f50: 2020 2020 2020 2020 2020 2020 2022 6261               "ba
-00024f60: 6e6b 7275 7074 436f 6d6d 4576 223a 302c  nkruptCommEv":0,
-00024f70: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00024f80: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00024f90: 6261 6e6b 7275 7074 436f 6d6d 223a 3045  bankruptComm":0E
-00024fa0: 2d38 2c0a 2020 2020 2020 2020 2320 2020  -8,.        #   
-00024fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024fc0: 2020 2262 616e 6b72 7570 7450 7269 6365    "bankruptPrice
-00024fd0: 4570 223a 302c 0a20 2020 2020 2020 2023  Ep":0,.        #
-00024fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024ff0: 2020 2020 2022 6261 6e6b 7275 7074 5072       "bankruptPr
-00025000: 6963 6522 3a30 452d 382c 0a20 2020 2020  ice":0E-8,.     
-00025010: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00025020: 2020 2020 2020 2020 2022 706f 7369 7469           "positi
-00025030: 6f6e 4d61 7267 696e 4576 223a 302c 0a20  onMarginEv":0,. 
-00025040: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00025050: 2020 2020 2020 2020 2020 2020 2022 706f               "po
-00025060: 7369 7469 6f6e 4d61 7267 696e 223a 3045  sitionMargin":0E
-00025070: 2d38 2c0a 2020 2020 2020 2020 2320 2020  -8,.        #   
-00025080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025090: 2020 226c 6971 7569 6461 7469 6f6e 5072    "liquidationPr
-000250a0: 6963 6545 7022 3a30 2c0a 2020 2020 2020  iceEp":0,.      
-000250b0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-000250c0: 2020 2020 2020 2020 226c 6971 7569 6461          "liquida
-000250d0: 7469 6f6e 5072 6963 6522 3a30 452d 382c  tionPrice":0E-8,
-000250e0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000250f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00025100: 6465 6c65 7665 7261 6765 5065 7263 656e  deleveragePercen
-00025110: 7469 6c65 4572 223a 302c 0a20 2020 2020  tileEr":0,.     
-00025120: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00025130: 2020 2020 2020 2020 2022 6465 6c65 7665           "deleve
-00025140: 7261 6765 5065 7263 656e 7469 6c65 223a  ragePercentile":
-00025150: 3045 2d38 2c0a 2020 2020 2020 2020 2320  0E-8,.        # 
-00025160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025170: 2020 2020 2262 7579 5661 6c75 6554 6f43      "buyValueToC
-00025180: 6f73 7445 7222 3a31 3030 3232 3530 3030  ostEr":100225000
-00025190: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-000251a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000251b0: 2262 7579 5661 6c75 6554 6f43 6f73 7422  "buyValueToCost"
-000251c0: 3a31 2e30 3032 3235 3030 302c 0a20 2020  :1.00225000,.   
-000251d0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-000251e0: 2020 2020 2020 2020 2020 2022 7365 6c6c             "sell
-000251f0: 5661 6c75 6554 6f43 6f73 7445 7222 3a31  ValueToCostEr":1
-00025200: 3030 3037 3530 3030 2c0a 2020 2020 2020  00075000,.      
-00025210: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-00025220: 2020 2020 2020 2020 2273 656c 6c56 616c          "sellVal
-00025230: 7565 546f 436f 7374 223a 312e 3030 3037  ueToCost":1.0007
-00025240: 3530 3030 2c0a 2020 2020 2020 2020 2320  5000,.        # 
-00025250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025260: 2020 2020 226d 6172 6b50 7269 6365 4570      "markPriceEp
-00025270: 223a 3133 3537 3336 3037 302c 0a20 2020  ":135736070,.   
-00025280: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00025290: 2020 2020 2020 2020 2020 2022 6d61 726b             "mark
-000252a0: 5072 6963 6522 3a31 3335 3733 2e36 3037  Price":13573.607
-000252b0: 3030 3030 302c 0a20 2020 2020 2020 2023  00000,.        #
-000252c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000252d0: 2020 2020 2022 6d61 726b 5661 6c75 6545       "markValueE
-000252e0: 7622 3a30 2c0a 2020 2020 2020 2020 2320  v":0,.        # 
-000252f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025300: 2020 2020 226d 6172 6b56 616c 7565 223a      "markValue":
-00025310: 6e75 6c6c 2c0a 2020 2020 2020 2020 2320  null,.        # 
-00025320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025330: 2020 2020 2275 6e52 6561 6c69 7365 6450      "unRealisedP
-00025340: 6f73 4c6f 7373 4576 223a 302c 0a20 2020  osLossEv":0,.   
-00025350: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00025360: 2020 2020 2020 2020 2020 2022 756e 5265             "unRe
-00025370: 616c 6973 6564 506f 734c 6f73 7322 3a6e  alisedPosLoss":n
-00025380: 756c 6c2c 0a20 2020 2020 2020 2023 2020  ull,.        #  
-00025390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000253a0: 2020 2022 6573 7469 6d61 7465 644f 7264     "estimatedOrd
-000253b0: 4c6f 7373 4576 223a 302c 0a20 2020 2020  LossEv":0,.     
-000253c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-000253d0: 2020 2020 2020 2020 2022 6573 7469 6d61           "estima
-000253e0: 7465 644f 7264 4c6f 7373 223a 3045 2d38  tedOrdLoss":0E-8
-000253f0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025410: 2275 7365 6442 616c 616e 6365 4576 223a  "usedBalanceEv":
-00025420: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00025430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025440: 2022 7573 6564 4261 6c61 6e63 6522 3a30   "usedBalance":0
-00025450: 452d 382c 0a20 2020 2020 2020 2023 2020  E-8,.        #  
-00025460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025470: 2020 2022 7461 6b65 5072 6f66 6974 4570     "takeProfitEp
-00025480: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
-00025490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000254a0: 2020 2022 7461 6b65 5072 6f66 6974 223a     "takeProfit":
-000254b0: 6e75 6c6c 2c0a 2020 2020 2020 2020 2320  null,.        # 
-000254c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000254d0: 2020 2020 2273 746f 704c 6f73 7345 7022      "stopLossEp"
-000254e0: 3a30 2c0a 2020 2020 2020 2020 2320 2020  :0,.        #   
-000254f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025500: 2020 2273 746f 704c 6f73 7322 3a6e 756c    "stopLoss":nul
-00025510: 6c2c 0a20 2020 2020 2020 2023 2020 2020  l,.        #    
-00025520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025530: 2022 6375 6d43 6c6f 7365 6450 6e6c 4576   "cumClosedPnlEv
-00025540: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
-00025550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025560: 2020 2022 6375 6d46 756e 6469 6e67 4665     "cumFundingFe
-00025570: 6545 7622 3a30 2c0a 2020 2020 2020 2020  eEv":0,.        
-00025580: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00025590: 2020 2020 2020 2263 756d 5472 616e 7361        "cumTransa
-000255a0: 6374 4665 6545 7622 3a30 2c0a 2020 2020  ctFeeEv":0,.    
-000255b0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-000255c0: 2020 2020 2020 2020 2020 2272 6561 6c69            "reali
-000255d0: 7365 6450 6e6c 4576 223a 302c 0a20 2020  sedPnlEv":0,.   
-000255e0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-000255f0: 2020 2020 2020 2020 2020 2022 7265 616c             "real
-00025600: 6973 6564 506e 6c22 3a6e 756c 6c2c 0a20  isedPnl":null,. 
-00025610: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00025620: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
-00025630: 6d52 6561 6c69 7365 6450 6e6c 4576 223a  mRealisedPnlEv":
-00025640: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00025650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025660: 2022 6375 6d52 6561 6c69 7365 6450 6e6c   "cumRealisedPnl
-00025670: 223a 6e75 6c6c 0a20 2020 2020 2020 2023  ":null.        #
-00025680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025690: 207d 0a20 2020 2020 2020 2023 2020 2020   }.        #    
-000256a0: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
-000256b0: 2020 2023 2020 2020 2020 2020 207d 0a20     #         }. 
-000256c0: 2020 2020 2020 2023 2020 2020 207d 0a20         #     }. 
-000256d0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-000256e0: 2064 6174 6120 3d20 7365 6c66 2e73 6166   data = self.saf
-000256f0: 655f 7661 6c75 6528 7265 7370 6f6e 7365  e_value(response
-00025700: 2c20 2764 6174 6127 2c20 7b7d 290a 2020  , 'data', {}).  
-00025710: 2020 2020 2020 706f 7369 7469 6f6e 7320        positions 
-00025720: 3d20 7365 6c66 2e73 6166 655f 7661 6c75  = self.safe_valu
-00025730: 6528 6461 7461 2c20 2770 6f73 6974 696f  e(data, 'positio
-00025740: 6e73 272c 205b 5d29 0a20 2020 2020 2020  ns', []).       
-00025750: 2072 6573 756c 7420 3d20 5b5d 0a20 2020   result = [].   
-00025760: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
-00025770: 6e67 6528 302c 206c 656e 2870 6f73 6974  nge(0, len(posit
-00025780: 696f 6e73 2929 3a0a 2020 2020 2020 2020  ions)):.        
-00025790: 2020 2020 706f 7369 7469 6f6e 203d 2070      position = p
-000257a0: 6f73 6974 696f 6e73 5b69 5d0a 2020 2020  ositions[i].    
-000257b0: 2020 2020 2020 2020 7265 7375 6c74 2e61          result.a
-000257c0: 7070 656e 6428 7365 6c66 2e70 6172 7365  ppend(self.parse
-000257d0: 5f70 6f73 6974 696f 6e28 706f 7369 7469  _position(positi
-000257e0: 6f6e 2929 0a20 2020 2020 2020 2072 6574  on)).        ret
-000257f0: 7572 6e20 7365 6c66 2e66 696c 7465 725f  urn self.filter_
-00025800: 6279 5f61 7272 6179 2872 6573 756c 742c  by_array(result,
-00025810: 2027 7379 6d62 6f6c 272c 2073 796d 626f   'symbol', symbo
-00025820: 6c73 2c20 4661 6c73 6529 0a0a 2020 2020  ls, False)..    
-00025830: 6465 6620 7061 7273 655f 706f 7369 7469  def parse_positi
-00025840: 6f6e 2873 656c 662c 2070 6f73 6974 696f  on(self, positio
-00025850: 6e2c 206d 6172 6b65 743d 4e6f 6e65 293a  n, market=None):
-00025860: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
-00025870: 2020 2023 2020 207b 0a20 2020 2020 2020     #   {.       
-00025880: 2023 2020 2020 2075 7365 7249 443a 2027   #     userID: '
-00025890: 3831 3133 3730 272c 0a20 2020 2020 2020  811370',.       
-000258a0: 2023 2020 2020 2061 6363 6f75 6e74 4944   #     accountID
-000258b0: 3a20 2738 3131 3337 3030 3030 3227 2c0a  : '8113700002',.
-000258c0: 2020 2020 2020 2020 2320 2020 2020 7379          #     sy
-000258d0: 6d62 6f6c 3a20 2745 5448 5553 4427 2c0a  mbol: 'ETHUSD',.
-000258e0: 2020 2020 2020 2020 2320 2020 2020 6375          #     cu
-000258f0: 7272 656e 6379 3a20 2755 5344 272c 0a20  rrency: 'USD',. 
-00025900: 2020 2020 2020 2023 2020 2020 2073 6964         #     sid
-00025910: 653a 2027 4275 7927 2c0a 2020 2020 2020  e: 'Buy',.      
-00025920: 2020 2320 2020 2020 706f 7369 7469 6f6e    #     position
-00025930: 5374 6174 7573 3a20 274e 6f72 6d61 6c27  Status: 'Normal'
-00025940: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025950: 6372 6f73 734d 6172 6769 6e3a 2046 616c  crossMargin: Fal
-00025960: 7365 2c0a 2020 2020 2020 2020 2320 2020  se,.        #   
-00025970: 2020 6c65 7665 7261 6765 4572 3a20 2732    leverageEr: '2
-00025980: 3030 3030 3030 3030 272c 0a20 2020 2020  00000000',.     
-00025990: 2020 2023 2020 2020 206c 6576 6572 6167     #     leverag
-000259a0: 653a 2027 322e 3030 3030 3030 3030 272c  e: '2.00000000',
-000259b0: 0a20 2020 2020 2020 2023 2020 2020 2069  .        #     i
-000259c0: 6e69 744d 6172 6769 6e52 6571 4572 3a20  nitMarginReqEr: 
-000259d0: 2735 3030 3030 3030 3027 2c0a 2020 2020  '50000000',.    
-000259e0: 2020 2020 2320 2020 2020 696e 6974 4d61      #     initMa
-000259f0: 7267 696e 5265 713a 2027 302e 3530 3030  rginReq: '0.5000
-00025a00: 3030 3030 272c 0a20 2020 2020 2020 2023  0000',.        #
-00025a10: 2020 2020 206d 6169 6e74 4d61 7267 696e       maintMargin
-00025a20: 5265 7145 723a 2027 3130 3030 3030 3027  ReqEr: '1000000'
-00025a30: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025a40: 6d61 696e 744d 6172 6769 6e52 6571 3a20  maintMarginReq: 
-00025a50: 2730 2e30 3130 3030 3030 3027 2c0a 2020  '0.01000000',.  
-00025a60: 2020 2020 2020 2320 2020 2020 7269 736b        #     risk
-00025a70: 4c69 6d69 7445 763a 2027 3530 3030 3030  LimitEv: '500000
-00025a80: 3030 3030 272c 0a20 2020 2020 2020 2023  0000',.        #
-00025a90: 2020 2020 2072 6973 6b4c 696d 6974 3a20       riskLimit: 
-00025aa0: 2735 3030 3030 302e 3030 3030 3030 3030  '500000.00000000
-00025ab0: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-00025ac0: 2073 697a 653a 2027 3127 2c0a 2020 2020   size: '1',.    
-00025ad0: 2020 2020 2320 2020 2020 7661 6c75 653a      #     value:
-00025ae0: 2027 3232 2e32 3233 3730 3030 3027 2c0a   '22.22370000',.
-00025af0: 2020 2020 2020 2020 2320 2020 2020 7661          #     va
-00025b00: 6c75 6545 763a 2027 3232 3232 3337 272c  lueEv: '222237',
-00025b10: 0a20 2020 2020 2020 2023 2020 2020 2061  .        #     a
-00025b20: 7667 456e 7472 7950 7269 6365 4570 3a20  vgEntryPriceEp: 
-00025b30: 2734 3434 3437 3430 3027 2c0a 2020 2020  '44447400',.    
-00025b40: 2020 2020 2320 2020 2020 6176 6745 6e74      #     avgEnt
-00025b50: 7279 5072 6963 653a 2027 3434 3434 2e37  ryPrice: '4444.7
-00025b60: 3430 3030 3030 3027 2c0a 2020 2020 2020  4000000',.      
-00025b70: 2020 2320 2020 2020 706f 7343 6f73 7445    #     posCostE
-00025b80: 763a 2027 3131 3132 3032 272c 0a20 2020  v: '111202',.   
-00025b90: 2020 2020 2023 2020 2020 2070 6f73 436f       #     posCo
-00025ba0: 7374 3a20 2731 312e 3132 3032 3030 3030  st: '11.12020000
-00025bb0: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-00025bc0: 2061 7373 6967 6e65 6450 6f73 4261 6c61   assignedPosBala
-00025bd0: 6e63 6545 763a 2027 3131 3132 3032 272c  nceEv: '111202',
-00025be0: 0a20 2020 2020 2020 2023 2020 2020 2061  .        #     a
-00025bf0: 7373 6967 6e65 6450 6f73 4261 6c61 6e63  ssignedPosBalanc
-00025c00: 653a 2027 3131 2e31 3230 3230 3030 3027  e: '11.12020000'
-00025c10: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025c20: 6261 6e6b 7275 7074 436f 6d6d 4576 3a20  bankruptCommEv: 
-00025c30: 2738 3427 2c0a 2020 2020 2020 2020 2320  '84',.        # 
-00025c40: 2020 2020 6261 6e6b 7275 7074 436f 6d6d      bankruptComm
-00025c50: 3a20 2730 2e30 3038 3430 3030 3027 2c0a  : '0.00840000',.
-00025c60: 2020 2020 2020 2020 2320 2020 2020 6261          #     ba
-00025c70: 6e6b 7275 7074 5072 6963 6545 703a 2027  nkruptPriceEp: '
-00025c80: 3232 3232 3430 3030 272c 0a20 2020 2020  22224000',.     
-00025c90: 2020 2023 2020 2020 2062 616e 6b72 7570     #     bankrup
-00025ca0: 7450 7269 6365 3a20 2732 3232 322e 3430  tPrice: '2222.40
-00025cb0: 3030 3030 3030 272c 0a20 2020 2020 2020  000000',.       
-00025cc0: 2023 2020 2020 2070 6f73 6974 696f 6e4d   #     positionM
-00025cd0: 6172 6769 6e45 763a 2027 3131 3131 3138  arginEv: '111118
-00025ce0: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-00025cf0: 2070 6f73 6974 696f 6e4d 6172 6769 6e3a   positionMargin:
-00025d00: 2027 3131 2e31 3131 3830 3030 3027 2c0a   '11.11180000',.
-00025d10: 2020 2020 2020 2020 2320 2020 2020 6c69          #     li
-00025d20: 7175 6964 6174 696f 6e50 7269 6365 4570  quidationPriceEp
-00025d30: 3a20 2732 3236 3639 3030 3027 2c0a 2020  : '22669000',.  
-00025d40: 2020 2020 2020 2320 2020 2020 6c69 7175        #     liqu
-00025d50: 6964 6174 696f 6e50 7269 6365 3a20 2732  idationPrice: '2
-00025d60: 3236 362e 3930 3030 3030 3030 272c 0a20  266.90000000',. 
-00025d70: 2020 2020 2020 2023 2020 2020 2064 656c         #     del
-00025d80: 6576 6572 6167 6550 6572 6365 6e74 696c  everagePercentil
-00025d90: 6545 723a 2027 3027 2c0a 2020 2020 2020  eEr: '0',.      
-00025da0: 2020 2320 2020 2020 6465 6c65 7665 7261    #     delevera
-00025db0: 6765 5065 7263 656e 7469 6c65 3a20 2730  gePercentile: '0
-00025dc0: 452d 3827 2c0a 2020 2020 2020 2020 2320  E-8',.        # 
-00025dd0: 2020 2020 6275 7956 616c 7565 546f 436f      buyValueToCo
-00025de0: 7374 4572 3a20 2735 3031 3132 3530 3027  stEr: '50112500'
-00025df0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00025e00: 6275 7956 616c 7565 546f 436f 7374 3a20  buyValueToCost: 
-00025e10: 2730 2e35 3031 3132 3530 3027 2c0a 2020  '0.50112500',.  
-00025e20: 2020 2020 2020 2320 2020 2020 7365 6c6c        #     sell
-00025e30: 5661 6c75 6554 6f43 6f73 7445 723a 2027  ValueToCostEr: '
-00025e40: 3530 3138 3735 3030 272c 0a20 2020 2020  50187500',.     
-00025e50: 2020 2023 2020 2020 2073 656c 6c56 616c     #     sellVal
-00025e60: 7565 546f 436f 7374 3a20 2730 2e35 3031  ueToCost: '0.501
-00025e70: 3837 3530 3027 2c0a 2020 2020 2020 2020  87500',.        
-00025e80: 2320 2020 2020 6d61 726b 5072 6963 6545  #     markPriceE
-00025e90: 703a 2027 3331 3333 3234 3939 272c 0a20  p: '31332499',. 
-00025ea0: 2020 2020 2020 2023 2020 2020 206d 6172         #     mar
-00025eb0: 6b50 7269 6365 3a20 2733 3133 332e 3234  kPrice: '3133.24
-00025ec0: 3939 3030 3030 272c 0a20 2020 2020 2020  990000',.       
-00025ed0: 2023 2020 2020 206d 6172 6b56 616c 7565   #     markValue
-00025ee0: 4576 3a20 2730 272c 0a20 2020 2020 2020  Ev: '0',.       
-00025ef0: 2023 2020 2020 206d 6172 6b56 616c 7565   #     markValue
-00025f00: 3a20 6e75 6c6c 2c0a 2020 2020 2020 2020  : null,.        
-00025f10: 2320 2020 2020 756e 5265 616c 6973 6564  #     unRealised
-00025f20: 506f 734c 6f73 7345 763a 2027 3027 2c0a  PosLossEv: '0',.
-00025f30: 2020 2020 2020 2020 2320 2020 2020 756e          #     un
-00025f40: 5265 616c 6973 6564 506f 734c 6f73 733a  RealisedPosLoss:
-00025f50: 206e 756c 6c2c 0a20 2020 2020 2020 2023   null,.        #
-00025f60: 2020 2020 2065 7374 696d 6174 6564 4f72       estimatedOr
-00025f70: 644c 6f73 7345 763a 2027 3027 2c0a 2020  dLossEv: '0',.  
-00025f80: 2020 2020 2020 2320 2020 2020 6573 7469        #     esti
-00025f90: 6d61 7465 644f 7264 4c6f 7373 3a20 2730  matedOrdLoss: '0
-00025fa0: 452d 3827 2c0a 2020 2020 2020 2020 2320  E-8',.        # 
-00025fb0: 2020 2020 7573 6564 4261 6c61 6e63 6545      usedBalanceE
-00025fc0: 763a 2027 3131 3132 3032 272c 0a20 2020  v: '111202',.   
-00025fd0: 2020 2020 2023 2020 2020 2075 7365 6442       #     usedB
-00025fe0: 616c 616e 6365 3a20 2731 312e 3132 3032  alance: '11.1202
-00025ff0: 3030 3030 272c 0a20 2020 2020 2020 2023  0000',.        #
-00026000: 2020 2020 2074 616b 6550 726f 6669 7445       takeProfitE
-00026010: 703a 2027 3027 2c0a 2020 2020 2020 2020  p: '0',.        
-00026020: 2320 2020 2020 7461 6b65 5072 6f66 6974  #     takeProfit
-00026030: 3a20 6e75 6c6c 2c0a 2020 2020 2020 2020  : null,.        
-00026040: 2320 2020 2020 7374 6f70 4c6f 7373 4570  #     stopLossEp
-00026050: 3a20 2730 272c 0a20 2020 2020 2020 2023  : '0',.        #
-00026060: 2020 2020 2073 746f 704c 6f73 733a 206e       stopLoss: n
-00026070: 756c 6c2c 0a20 2020 2020 2020 2023 2020  ull,.        #  
-00026080: 2020 2063 756d 436c 6f73 6564 506e 6c45     cumClosedPnlE
-00026090: 763a 2027 2d31 3534 3627 2c0a 2020 2020  v: '-1546',.    
-000260a0: 2020 2020 2320 2020 2020 6375 6d46 756e      #     cumFun
-000260b0: 6469 6e67 4665 6545 763a 2027 3136 3035  dingFeeEv: '1605
-000260c0: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-000260d0: 2063 756d 5472 616e 7361 6374 4665 6545   cumTransactFeeE
-000260e0: 763a 2027 3834 3338 272c 0a20 2020 2020  v: '8438',.     
-000260f0: 2020 2023 2020 2020 2072 6561 6c69 7365     #     realise
-00026100: 6450 6e6c 4576 3a20 2730 272c 0a20 2020  dPnlEv: '0',.   
-00026110: 2020 2020 2023 2020 2020 2072 6561 6c69       #     reali
-00026120: 7365 6450 6e6c 3a20 6e75 6c6c 2c0a 2020  sedPnl: null,.  
-00026130: 2020 2020 2020 2320 2020 2020 6375 6d52        #     cumR
-00026140: 6561 6c69 7365 6450 6e6c 4576 3a20 2730  ealisedPnlEv: '0
-00026150: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-00026160: 2063 756d 5265 616c 6973 6564 506e 6c3a   cumRealisedPnl:
-00026170: 206e 756c 6c2c 0a20 2020 2020 2020 2023   null,.        #
-00026180: 2020 2020 2074 7261 6e73 6163 7454 696d       transactTim
-00026190: 654e 733a 2027 3136 3431 3537 3132 3030  eNs: '1641571200
-000261a0: 3030 3138 3835 3332 3427 2c0a 2020 2020  001885324',.    
-000261b0: 2020 2020 2320 2020 2020 7461 6b65 7246      #     takerF
-000261c0: 6565 5261 7465 4572 3a20 2730 272c 0a20  eeRateEr: '0',. 
-000261d0: 2020 2020 2020 2023 2020 2020 206d 616b         #     mak
-000261e0: 6572 4665 6552 6174 6545 723a 2027 3027  erFeeRateEr: '0'
-000261f0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00026200: 7465 726d 3a20 2736 272c 0a20 2020 2020  term: '6',.     
-00026210: 2020 2023 2020 2020 206c 6173 7454 6572     #     lastTer
-00026220: 6d45 6e64 5469 6d65 4e73 3a20 2731 3630  mEndTimeNs: '160
-00026230: 3737 3131 3838 3235 3035 3734 3533 3536  7711882505745356
-00026240: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-00026250: 206c 6173 7446 756e 6469 6e67 5469 6d65   lastFundingTime
-00026260: 4e73 3a20 2731 3634 3135 3731 3230 3030  Ns: '16415712000
-00026270: 3030 3030 3030 3030 272c 0a20 2020 2020  00000000',.     
-00026280: 2020 2023 2020 2020 2063 7572 5465 726d     #     curTerm
-00026290: 5265 616c 6973 6564 506e 6c45 763a 2027  RealisedPnlEv: '
-000262a0: 2d31 3536 3727 2c0a 2020 2020 2020 2020  -1567',.        
-000262b0: 2320 2020 2020 6578 6563 5365 713a 2027  #     execSeq: '
-000262c0: 3132 3131 3237 3631 3536 3127 0a20 2020  12112761561'.   
-000262d0: 2020 2020 2023 2020 207d 0a20 2020 2020       #   }.     
-000262e0: 2020 2023 0a20 2020 2020 2020 206d 6172     #.        mar
-000262f0: 6b65 7449 6420 3d20 7365 6c66 2e73 6166  ketId = self.saf
-00026300: 655f 7374 7269 6e67 2870 6f73 6974 696f  e_string(positio
-00026310: 6e2c 2027 7379 6d62 6f6c 2729 0a20 2020  n, 'symbol').   
-00026320: 2020 2020 206d 6172 6b65 7420 3d20 7365       market = se
-00026330: 6c66 2e73 6166 655f 6d61 726b 6574 286d  lf.safe_market(m
-00026340: 6172 6b65 7449 642c 206d 6172 6b65 7429  arketId, market)
-00026350: 0a20 2020 2020 2020 2073 796d 626f 6c20  .        symbol 
-00026360: 3d20 6d61 726b 6574 5b27 7379 6d62 6f6c  = market['symbol
-00026370: 275d 0a20 2020 2020 2020 2063 6f6c 6c61  '].        colla
-00026380: 7465 7261 6c20 3d20 7365 6c66 2e73 6166  teral = self.saf
-00026390: 655f 7374 7269 6e67 5f32 2870 6f73 6974  e_string_2(posit
-000263a0: 696f 6e2c 2027 706f 7369 7469 6f6e 4d61  ion, 'positionMa
-000263b0: 7267 696e 272c 2027 706f 7369 7469 6f6e  rgin', 'position
-000263c0: 4d61 7267 696e 5276 2729 0a20 2020 2020  MarginRv').     
-000263d0: 2020 206e 6f74 696f 6e61 6c53 7472 696e     notionalStrin
-000263e0: 6720 3d20 7365 6c66 2e73 6166 655f 7374  g = self.safe_st
-000263f0: 7269 6e67 5f32 2870 6f73 6974 696f 6e2c  ring_2(position,
-00026400: 2027 7661 6c75 6527 2c20 2776 616c 7565   'value', 'value
-00026410: 5276 2729 0a20 2020 2020 2020 206d 6169  Rv').        mai
-00026420: 6e74 656e 616e 6365 4d61 7267 696e 5065  ntenanceMarginPe
-00026430: 7263 656e 7461 6765 5374 7269 6e67 203d  rcentageString =
-00026440: 2073 656c 662e 7361 6665 5f73 7472 696e   self.safe_strin
-00026450: 675f 3228 706f 7369 7469 6f6e 2c20 276d  g_2(position, 'm
-00026460: 6169 6e74 4d61 7267 696e 5265 7127 2c20  aintMarginReq', 
-00026470: 276d 6169 6e74 4d61 7267 696e 5265 7152  'maintMarginReqR
-00026480: 7227 290a 2020 2020 2020 2020 6d61 696e  r').        main
-00026490: 7465 6e61 6e63 654d 6172 6769 6e53 7472  tenanceMarginStr
-000264a0: 696e 6720 3d20 5072 6563 6973 652e 7374  ing = Precise.st
-000264b0: 7269 6e67 5f6d 756c 286e 6f74 696f 6e61  ring_mul(notiona
-000264c0: 6c53 7472 696e 672c 206d 6169 6e74 656e  lString, mainten
-000264d0: 616e 6365 4d61 7267 696e 5065 7263 656e  anceMarginPercen
-000264e0: 7461 6765 5374 7269 6e67 290a 2020 2020  tageString).    
-000264f0: 2020 2020 696e 6974 6961 6c4d 6172 6769      initialMargi
-00026500: 6e53 7472 696e 6720 3d20 7365 6c66 2e73  nString = self.s
-00026510: 6166 655f 7374 7269 6e67 5f32 2870 6f73  afe_string_2(pos
-00026520: 6974 696f 6e2c 2027 6173 7369 676e 6564  ition, 'assigned
-00026530: 506f 7342 616c 616e 6365 272c 2027 6173  PosBalance', 'as
-00026540: 7369 676e 6564 506f 7342 616c 616e 6365  signedPosBalance
-00026550: 5276 2729 0a20 2020 2020 2020 2069 6e69  Rv').        ini
-00026560: 7469 616c 4d61 7267 696e 5065 7263 656e  tialMarginPercen
-00026570: 7461 6765 5374 7269 6e67 203d 2050 7265  tageString = Pre
-00026580: 6369 7365 2e73 7472 696e 675f 6469 7628  cise.string_div(
-00026590: 696e 6974 6961 6c4d 6172 6769 6e53 7472  initialMarginStr
-000265a0: 696e 672c 206e 6f74 696f 6e61 6c53 7472  ing, notionalStr
-000265b0: 696e 6729 0a20 2020 2020 2020 206c 6971  ing).        liq
-000265c0: 7569 6461 7469 6f6e 5072 6963 6520 3d20  uidationPrice = 
-000265d0: 7365 6c66 2e73 6166 655f 6e75 6d62 6572  self.safe_number
-000265e0: 5f32 2870 6f73 6974 696f 6e2c 2027 6c69  _2(position, 'li
-000265f0: 7175 6964 6174 696f 6e50 7269 6365 272c  quidationPrice',
-00026600: 2027 6c69 7175 6964 6174 696f 6e50 7269   'liquidationPri
-00026610: 6365 5270 2729 0a20 2020 2020 2020 206d  ceRp').        m
-00026620: 6172 6b50 7269 6365 5374 7269 6e67 203d  arkPriceString =
-00026630: 2073 656c 662e 7361 6665 5f73 7472 696e   self.safe_strin
-00026640: 675f 3228 706f 7369 7469 6f6e 2c20 276d  g_2(position, 'm
-00026650: 6172 6b50 7269 6365 272c 2027 6d61 726b  arkPrice', 'mark
-00026660: 5072 6963 6552 7027 290a 2020 2020 2020  PriceRp').      
-00026670: 2020 636f 6e74 7261 6374 7320 3d20 7365    contracts = se
-00026680: 6c66 2e73 6166 655f 7374 7269 6e67 2870  lf.safe_string(p
-00026690: 6f73 6974 696f 6e2c 2027 7369 7a65 2729  osition, 'size')
-000266a0: 0a20 2020 2020 2020 2063 6f6e 7472 6163  .        contrac
-000266b0: 7453 697a 6520 3d20 7365 6c66 2e73 6166  tSize = self.saf
-000266c0: 655f 7661 6c75 6528 6d61 726b 6574 2c20  e_value(market, 
-000266d0: 2763 6f6e 7472 6163 7453 697a 6527 290a  'contractSize').
-000266e0: 2020 2020 2020 2020 636f 6e74 7261 6374          contract
-000266f0: 5369 7a65 5374 7269 6e67 203d 2073 656c  SizeString = sel
-00026700: 662e 6e75 6d62 6572 5f74 6f5f 7374 7269  f.number_to_stri
-00026710: 6e67 2863 6f6e 7472 6163 7453 697a 6529  ng(contractSize)
-00026720: 0a20 2020 2020 2020 206c 6576 6572 6167  .        leverag
-00026730: 6520 3d20 7365 6c66 2e73 6166 655f 6e75  e = self.safe_nu
-00026740: 6d62 6572 5f32 2870 6f73 6974 696f 6e2c  mber_2(position,
-00026750: 2027 6c65 7665 7261 6765 272c 2027 6c65   'leverage', 'le
-00026760: 7665 7261 6765 5272 2729 0a20 2020 2020  verageRr').     
-00026770: 2020 2065 6e74 7279 5072 6963 6553 7472     entryPriceStr
-00026780: 696e 6720 3d20 7365 6c66 2e73 6166 655f  ing = self.safe_
-00026790: 7374 7269 6e67 5f32 2870 6f73 6974 696f  string_2(positio
-000267a0: 6e2c 2027 6176 6745 6e74 7279 5072 6963  n, 'avgEntryPric
-000267b0: 6527 2c20 2761 7667 456e 7472 7950 7269  e', 'avgEntryPri
-000267c0: 6365 5270 2729 0a20 2020 2020 2020 2072  ceRp').        r
-000267d0: 6177 5369 6465 203d 2073 656c 662e 7361  awSide = self.sa
-000267e0: 6665 5f73 7472 696e 6728 706f 7369 7469  fe_string(positi
-000267f0: 6f6e 2c20 2773 6964 6527 290a 2020 2020  on, 'side').    
-00026800: 2020 2020 7369 6465 203d 204e 6f6e 650a      side = None.
-00026810: 2020 2020 2020 2020 6966 2072 6177 5369          if rawSi
-00026820: 6465 2069 7320 6e6f 7420 4e6f 6e65 3a0a  de is not None:.
-00026830: 2020 2020 2020 2020 2020 2020 7369 6465              side
-00026840: 203d 2027 6c6f 6e67 2720 6966 2028 7261   = 'long' if (ra
-00026850: 7753 6964 6520 3d3d 2027 4275 7927 2920  wSide == 'Buy') 
-00026860: 656c 7365 2027 7368 6f72 7427 0a20 2020  else 'short'.   
-00026870: 2020 2020 2070 7269 6365 4469 6666 203d       priceDiff =
-00026880: 204e 6f6e 650a 2020 2020 2020 2020 6375   None.        cu
-00026890: 7272 656e 6379 203d 2073 656c 662e 7361  rrency = self.sa
-000268a0: 6665 5f73 7472 696e 6728 706f 7369 7469  fe_string(positi
-000268b0: 6f6e 2c20 2763 7572 7265 6e63 7927 290a  on, 'currency').
-000268c0: 2020 2020 2020 2020 6966 2063 7572 7265          if curre
-000268d0: 6e63 7920 3d3d 2027 5553 4427 3a0a 2020  ncy == 'USD':.  
-000268e0: 2020 2020 2020 2020 2020 6966 2073 6964            if sid
-000268f0: 6520 3d3d 2027 6c6f 6e67 273a 0a20 2020  e == 'long':.   
-00026900: 2020 2020 2020 2020 2020 2020 2070 7269               pri
-00026910: 6365 4469 6666 203d 2050 7265 6369 7365  ceDiff = Precise
-00026920: 2e73 7472 696e 675f 7375 6228 6d61 726b  .string_sub(mark
-00026930: 5072 6963 6553 7472 696e 672c 2065 6e74  PriceString, ent
-00026940: 7279 5072 6963 6553 7472 696e 6729 0a20  ryPriceString). 
-00026950: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00026960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026970: 2070 7269 6365 4469 6666 203d 2050 7265   priceDiff = Pre
-00026980: 6369 7365 2e73 7472 696e 675f 7375 6228  cise.string_sub(
-00026990: 656e 7472 7950 7269 6365 5374 7269 6e67  entryPriceString
-000269a0: 2c20 6d61 726b 5072 6963 6553 7472 696e  , markPriceStrin
-000269b0: 6729 0a20 2020 2020 2020 2065 6c73 653a  g).        else:
-000269c0: 0a20 2020 2020 2020 2020 2020 2023 2069  .            # i
-000269d0: 6e76 6572 7365 0a20 2020 2020 2020 2020  nverse.         
-000269e0: 2020 2069 6620 7369 6465 203d 3d20 276c     if side == 'l
-000269f0: 6f6e 6727 3a0a 2020 2020 2020 2020 2020  ong':.          
-00026a00: 2020 2020 2020 7072 6963 6544 6966 6620        priceDiff 
-00026a10: 3d20 5072 6563 6973 652e 7374 7269 6e67  = Precise.string
-00026a20: 5f73 7562 2850 7265 6369 7365 2e73 7472  _sub(Precise.str
-00026a30: 696e 675f 6469 7628 2731 272c 2065 6e74  ing_div('1', ent
-00026a40: 7279 5072 6963 6553 7472 696e 6729 2c20  ryPriceString), 
-00026a50: 5072 6563 6973 652e 7374 7269 6e67 5f64  Precise.string_d
-00026a60: 6976 2827 3127 2c20 6d61 726b 5072 6963  iv('1', markPric
-00026a70: 6553 7472 696e 6729 290a 2020 2020 2020  eString)).      
-00026a80: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00026a90: 2020 2020 2020 2020 2020 2020 7072 6963              pric
-00026aa0: 6544 6966 6620 3d20 5072 6563 6973 652e  eDiff = Precise.
-00026ab0: 7374 7269 6e67 5f73 7562 2850 7265 6369  string_sub(Preci
-00026ac0: 7365 2e73 7472 696e 675f 6469 7628 2731  se.string_div('1
-00026ad0: 272c 206d 6172 6b50 7269 6365 5374 7269  ', markPriceStri
-00026ae0: 6e67 292c 2050 7265 6369 7365 2e73 7472  ng), Precise.str
-00026af0: 696e 675f 6469 7628 2731 272c 2065 6e74  ing_div('1', ent
-00026b00: 7279 5072 6963 6553 7472 696e 6729 290a  ryPriceString)).
-00026b10: 2020 2020 2020 2020 756e 7265 616c 697a          unrealiz
-00026b20: 6564 506e 6c20 3d20 5072 6563 6973 652e  edPnl = Precise.
-00026b30: 7374 7269 6e67 5f6d 756c 2850 7265 6369  string_mul(Preci
-00026b40: 7365 2e73 7472 696e 675f 6d75 6c28 7072  se.string_mul(pr
-00026b50: 6963 6544 6966 662c 2063 6f6e 7472 6163  iceDiff, contrac
-00026b60: 7473 292c 2063 6f6e 7472 6163 7453 697a  ts), contractSiz
-00026b70: 6553 7472 696e 6729 0a20 2020 2020 2020  eString).       
-00026b80: 206d 6172 6769 6e52 6174 696f 203d 2050   marginRatio = P
-00026b90: 7265 6369 7365 2e73 7472 696e 675f 6469  recise.string_di
-00026ba0: 7628 6d61 696e 7465 6e61 6e63 654d 6172  v(maintenanceMar
-00026bb0: 6769 6e53 7472 696e 672c 2063 6f6c 6c61  ginString, colla
-00026bc0: 7465 7261 6c29 0a20 2020 2020 2020 2072  teral).        r
-00026bd0: 6574 7572 6e20 7365 6c66 2e73 6166 655f  eturn self.safe_
-00026be0: 706f 7369 7469 6f6e 287b 0a20 2020 2020  position({.     
-00026bf0: 2020 2020 2020 2027 696e 666f 273a 2070         'info': p
-00026c00: 6f73 6974 696f 6e2c 0a20 2020 2020 2020  osition,.       
-00026c10: 2020 2020 2027 6964 273a 204e 6f6e 652c       'id': None,
-00026c20: 0a20 2020 2020 2020 2020 2020 2027 7379  .            'sy
-00026c30: 6d62 6f6c 273a 2073 796d 626f 6c2c 0a20  mbol': symbol,. 
-00026c40: 2020 2020 2020 2020 2020 2027 636f 6e74             'cont
-00026c50: 7261 6374 7327 3a20 7365 6c66 2e70 6172  racts': self.par
-00026c60: 7365 5f6e 756d 6265 7228 636f 6e74 7261  se_number(contra
-00026c70: 6374 7329 2c0a 2020 2020 2020 2020 2020  cts),.          
-00026c80: 2020 2763 6f6e 7472 6163 7453 697a 6527    'contractSize'
-00026c90: 3a20 636f 6e74 7261 6374 5369 7a65 2c0a  : contractSize,.
-00026ca0: 2020 2020 2020 2020 2020 2020 2775 6e72              'unr
-00026cb0: 6561 6c69 7a65 6450 6e6c 273a 2073 656c  ealizedPnl': sel
-00026cc0: 662e 7061 7273 655f 6e75 6d62 6572 2875  f.parse_number(u
-00026cd0: 6e72 6561 6c69 7a65 6450 6e6c 292c 0a20  nrealizedPnl),. 
-00026ce0: 2020 2020 2020 2020 2020 2027 6c65 7665             'leve
-00026cf0: 7261 6765 273a 206c 6576 6572 6167 652c  rage': leverage,
-00026d00: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
-00026d10: 7175 6964 6174 696f 6e50 7269 6365 273a  quidationPrice':
-00026d20: 206c 6971 7569 6461 7469 6f6e 5072 6963   liquidationPric
-00026d30: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-00026d40: 636f 6c6c 6174 6572 616c 273a 2073 656c  collateral': sel
-00026d50: 662e 7061 7273 655f 6e75 6d62 6572 2863  f.parse_number(c
-00026d60: 6f6c 6c61 7465 7261 6c29 2c0a 2020 2020  ollateral),.    
-00026d70: 2020 2020 2020 2020 276e 6f74 696f 6e61          'notiona
-00026d80: 6c27 3a20 7365 6c66 2e70 6172 7365 5f6e  l': self.parse_n
-00026d90: 756d 6265 7228 6e6f 7469 6f6e 616c 5374  umber(notionalSt
-00026da0: 7269 6e67 292c 0a20 2020 2020 2020 2020  ring),.         
-00026db0: 2020 2027 6d61 726b 5072 6963 6527 3a20     'markPrice': 
-00026dc0: 7365 6c66 2e70 6172 7365 5f6e 756d 6265  self.parse_numbe
-00026dd0: 7228 6d61 726b 5072 6963 6553 7472 696e  r(markPriceStrin
-00026de0: 6729 2c20 2023 206d 6172 6b50 7269 6365  g),  # markPrice
-00026df0: 206c 6167 7320 6120 6269 7420 c2af 5c5f   lags a bit ..\_
-00026e00: 28e3 8384 295f 2fc2 af0a 2020 2020 2020  (...)_/...      
-00026e10: 2020 2020 2020 276c 6173 7450 7269 6365        'lastPrice
-00026e20: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
-00026e30: 2020 2020 2027 656e 7472 7950 7269 6365       'entryPrice
-00026e40: 273a 2073 656c 662e 7061 7273 655f 6e75  ': self.parse_nu
-00026e50: 6d62 6572 2865 6e74 7279 5072 6963 6553  mber(entryPriceS
-00026e60: 7472 696e 6729 2c0a 2020 2020 2020 2020  tring),.        
-00026e70: 2020 2020 2774 696d 6573 7461 6d70 273a      'timestamp':
-00026e80: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00026e90: 2020 2027 6c61 7374 5570 6461 7465 5469     'lastUpdateTi
-00026ea0: 6d65 7374 616d 7027 3a20 4e6f 6e65 2c0a  mestamp': None,.
-00026eb0: 2020 2020 2020 2020 2020 2020 2769 6e69              'ini
-00026ec0: 7469 616c 4d61 7267 696e 273a 2073 656c  tialMargin': sel
-00026ed0: 662e 7061 7273 655f 6e75 6d62 6572 2869  f.parse_number(i
-00026ee0: 6e69 7469 616c 4d61 7267 696e 5374 7269  nitialMarginStri
-00026ef0: 6e67 292c 0a20 2020 2020 2020 2020 2020  ng),.           
-00026f00: 2027 696e 6974 6961 6c4d 6172 6769 6e50   'initialMarginP
-00026f10: 6572 6365 6e74 6167 6527 3a20 7365 6c66  ercentage': self
-00026f20: 2e70 6172 7365 5f6e 756d 6265 7228 696e  .parse_number(in
-00026f30: 6974 6961 6c4d 6172 6769 6e50 6572 6365  itialMarginPerce
-00026f40: 6e74 6167 6553 7472 696e 6729 2c0a 2020  ntageString),.  
-00026f50: 2020 2020 2020 2020 2020 276d 6169 6e74            'maint
-00026f60: 656e 616e 6365 4d61 7267 696e 273a 2073  enanceMargin': s
-00026f70: 656c 662e 7061 7273 655f 6e75 6d62 6572  elf.parse_number
-00026f80: 286d 6169 6e74 656e 616e 6365 4d61 7267  (maintenanceMarg
-00026f90: 696e 5374 7269 6e67 292c 0a20 2020 2020  inString),.     
-00026fa0: 2020 2020 2020 2027 6d61 696e 7465 6e61         'maintena
-00026fb0: 6e63 654d 6172 6769 6e50 6572 6365 6e74  nceMarginPercent
-00026fc0: 6167 6527 3a20 7365 6c66 2e70 6172 7365  age': self.parse
-00026fd0: 5f6e 756d 6265 7228 6d61 696e 7465 6e61  _number(maintena
-00026fe0: 6e63 654d 6172 6769 6e50 6572 6365 6e74  nceMarginPercent
-00026ff0: 6167 6553 7472 696e 6729 2c0a 2020 2020  ageString),.    
-00027000: 2020 2020 2020 2020 276d 6172 6769 6e52          'marginR
-00027010: 6174 696f 273a 2073 656c 662e 7061 7273  atio': self.pars
-00027020: 655f 6e75 6d62 6572 286d 6172 6769 6e52  e_number(marginR
-00027030: 6174 696f 292c 0a20 2020 2020 2020 2020  atio),.         
-00027040: 2020 2027 6461 7465 7469 6d65 273a 204e     'datetime': N
-00027050: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00027060: 2027 6d61 7267 696e 4d6f 6465 273a 204e   'marginMode': N
-00027070: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00027080: 2027 7369 6465 273a 2073 6964 652c 0a20   'side': side,. 
-00027090: 2020 2020 2020 2020 2020 2027 6865 6467             'hedg
-000270a0: 6564 273a 2046 616c 7365 2c0a 2020 2020  ed': False,.    
-000270b0: 2020 2020 2020 2020 2770 6572 6365 6e74          'percent
-000270c0: 6167 6527 3a20 4e6f 6e65 2c0a 2020 2020  age': None,.    
-000270d0: 2020 2020 7d29 0a0a 2020 2020 6465 6620      })..    def 
-000270e0: 6665 7463 685f 6675 6e64 696e 675f 6869  fetch_funding_hi
-000270f0: 7374 6f72 7928 7365 6c66 2c20 7379 6d62  story(self, symb
-00027100: 6f6c 3a20 4f70 7469 6f6e 616c 5b73 7472  ol: Optional[str
-00027110: 5d20 3d20 4e6f 6e65 2c20 7369 6e63 653a  ] = None, since:
-00027120: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
-00027130: 204e 6f6e 652c 206c 696d 6974 3a20 4f70   None, limit: Op
-00027140: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
-00027150: 6e65 2c20 7061 7261 6d73 3d7b 7d29 3a0a  ne, params={}):.
-00027160: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00027170: 2020 2020 6665 7463 6820 7468 6520 6869      fetch the hi
-00027180: 7374 6f72 7920 6f66 2066 756e 6469 6e67  story of funding
-00027190: 2070 6179 6d65 6e74 7320 7061 6964 2061   payments paid a
-000271a0: 6e64 2072 6563 6569 7665 6420 6f6e 2073  nd received on s
-000271b0: 656c 6620 6163 636f 756e 740a 2020 2020  elf account.    
-000271c0: 2020 2020 7365 6520 6874 7470 733a 2f2f      see https://
-000271d0: 6769 7468 7562 2e63 6f6d 2f70 6865 6d65  github.com/pheme
-000271e0: 782f 7068 656d 6578 2d61 7069 2d64 6f63  x/phemex-api-doc
-000271f0: 732f 626c 6f62 2f6d 6173 7465 722f 5075  s/blob/master/Pu
-00027200: 626c 6963 2d48 6564 6765 642d 5065 7270  blic-Hedged-Perp
-00027210: 6574 7561 6c2d 4150 492e 6d64 2366 7574  etual-API.md#fut
-00027220: 7572 6544 6174 6146 756e 6469 6e67 4665  ureDataFundingFe
-00027230: 6573 4869 7374 0a20 2020 2020 2020 203a  esHist.        :
-00027240: 7061 7261 6d20 7374 7220 7379 6d62 6f6c  param str symbol
-00027250: 3a20 756e 6966 6965 6420 6d61 726b 6574  : unified market
-00027260: 2073 796d 626f 6c0a 2020 2020 2020 2020   symbol.        
-00027270: 3a70 6172 616d 2069 6e74 7c4e 6f6e 6520  :param int|None 
-00027280: 7369 6e63 653a 2074 6865 2065 6172 6c69  since: the earli
-00027290: 6573 7420 7469 6d65 2069 6e20 6d73 2074  est time in ms t
-000272a0: 6f20 6665 7463 6820 6675 6e64 696e 6720  o fetch funding 
-000272b0: 6869 7374 6f72 7920 666f 720a 2020 2020  history for.    
-000272c0: 2020 2020 3a70 6172 616d 2069 6e74 7c4e      :param int|N
-000272d0: 6f6e 6520 6c69 6d69 743a 2074 6865 206d  one limit: the m
-000272e0: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
-000272f0: 2066 756e 6469 6e67 2068 6973 746f 7279   funding history
-00027300: 2073 7472 7563 7475 7265 7320 746f 2072   structures to r
-00027310: 6574 7269 6576 650a 2020 2020 2020 2020  etrieve.        
-00027320: 3a70 6172 616d 2064 6963 7420 7061 7261  :param dict para
-00027330: 6d73 3a20 6578 7472 6120 7061 7261 6d65  ms: extra parame
-00027340: 7465 7273 2073 7065 6369 6669 6320 746f  ters specific to
-00027350: 2074 6865 2070 6865 6d65 7820 6170 6920   the phemex api 
-00027360: 656e 6470 6f69 6e74 0a20 2020 2020 2020  endpoint.       
-00027370: 203a 7265 7475 726e 7320 6469 6374 3a20   :returns dict: 
-00027380: 6120 6066 756e 6469 6e67 2068 6973 746f  a `funding histo
-00027390: 7279 2073 7472 7563 7475 7265 203c 6874  ry structure <ht
-000273a0: 7470 733a 2f2f 646f 6373 2e63 6378 742e  tps://docs.ccxt.
-000273b0: 636f 6d2f 232f 3f69 643d 6675 6e64 696e  com/#/?id=fundin
-000273c0: 672d 6869 7374 6f72 792d 7374 7275 6374  g-history-struct
-000273d0: 7572 653e 600a 2020 2020 2020 2020 2222  ure>`.        ""
-000273e0: 220a 2020 2020 2020 2020 7365 6c66 2e6c  ".        self.l
-000273f0: 6f61 645f 6d61 726b 6574 7328 290a 2020  oad_markets().  
-00027400: 2020 2020 2020 6966 2073 796d 626f 6c20        if symbol 
-00027410: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00027420: 2020 2020 2072 6169 7365 2041 7267 756d       raise Argum
-00027430: 656e 7473 5265 7175 6972 6564 2873 656c  entsRequired(sel
-00027440: 662e 6964 202b 2027 2066 6574 6368 4675  f.id + ' fetchFu
-00027450: 6e64 696e 6748 6973 746f 7279 2829 2072  ndingHistory() r
-00027460: 6571 7569 7265 7320 6120 7379 6d62 6f6c  equires a symbol
-00027470: 2061 7267 756d 656e 7427 290a 2020 2020   argument').    
-00027480: 2020 2020 6d61 726b 6574 203d 2073 656c      market = sel
-00027490: 662e 6d61 726b 6574 2873 796d 626f 6c29  f.market(symbol)
-000274a0: 0a20 2020 2020 2020 2072 6571 7565 7374  .        request
-000274b0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-000274c0: 2027 7379 6d62 6f6c 273a 206d 6172 6b65   'symbol': marke
-000274d0: 745b 2769 6427 5d2c 0a20 2020 2020 2020  t['id'],.       
-000274e0: 2020 2020 2023 2027 6c69 6d69 7427 3a20       # 'limit': 
-000274f0: 3230 2c20 2023 2050 6167 6520 7369 7a65  20,  # Page size
-00027500: 2064 6566 6175 6c74 2032 302c 206d 6178   default 20, max
-00027510: 2032 3030 0a20 2020 2020 2020 2020 2020   200.           
-00027520: 2023 2027 6f66 6673 6574 273a 2030 2c20   # 'offset': 0, 
-00027530: 2023 2050 6167 6520 7374 6172 7420 6465   # Page start de
-00027540: 6661 756c 7420 300a 2020 2020 2020 2020  fault 0.        
-00027550: 7d0a 2020 2020 2020 2020 6966 206c 696d  }.        if lim
-00027560: 6974 203e 2032 3030 3a0a 2020 2020 2020  it > 200:.      
-00027570: 2020 2020 2020 7261 6973 6520 4261 6452        raise BadR
-00027580: 6571 7565 7374 2873 656c 662e 6964 202b  equest(self.id +
-00027590: 2027 2066 6574 6368 4675 6e64 696e 6748   ' fetchFundingH
-000275a0: 6973 746f 7279 2829 206c 696d 6974 2061  istory() limit a
-000275b0: 7267 756d 656e 7420 6361 6e6e 6f74 2065  rgument cannot e
-000275c0: 7863 6565 6420 3230 3027 290a 2020 2020  xceed 200').    
-000275d0: 2020 2020 6966 206c 696d 6974 2069 7320      if limit is 
-000275e0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-000275f0: 2020 2020 2020 7265 7175 6573 745b 276c        request['l
-00027600: 696d 6974 275d 203d 206c 696d 6974 0a20  imit'] = limit. 
-00027610: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
-00027620: 2770 7269 7661 7465 4765 7441 7069 4461  'privateGetApiDa
-00027630: 7461 4675 7475 7265 7346 756e 6469 6e67  taFuturesFunding
-00027640: 4665 6573 270a 2020 2020 2020 2020 6966  Fees'.        if
-00027650: 206d 6172 6b65 745b 2773 6574 746c 6527   market['settle'
-00027660: 5d20 3d3d 2027 5553 4454 273a 0a20 2020  ] == 'USDT':.   
-00027670: 2020 2020 2020 2020 206d 6574 686f 6420           method 
-00027680: 3d20 2770 7269 7661 7465 4765 7441 7069  = 'privateGetApi
-00027690: 4461 7461 4746 7574 7572 6573 4675 6e64  DataGFuturesFund
-000276a0: 696e 6746 6565 7327 0a20 2020 2020 2020  ingFees'.       
-000276b0: 2072 6573 706f 6e73 6520 3d20 6765 7461   response = geta
-000276c0: 7474 7228 7365 6c66 2c20 6d65 7468 6f64  ttr(self, method
-000276d0: 2928 7365 6c66 2e65 7874 656e 6428 7265  )(self.extend(re
-000276e0: 7175 6573 742c 2070 6172 616d 7329 290a  quest, params)).
-000276f0: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-00027700: 2020 2320 2020 2020 7b0a 2020 2020 2020    #     {.      
-00027710: 2020 2320 2020 2020 2020 2020 2263 6f64    #         "cod
-00027720: 6522 3a20 302c 0a20 2020 2020 2020 2023  e": 0,.        #
-00027730: 2020 2020 2020 2020 2022 6d73 6722 3a20           "msg": 
-00027740: 224f 4b22 2c0a 2020 2020 2020 2020 2320  "OK",.        # 
-00027750: 2020 2020 2020 2020 2264 6174 6122 3a20          "data": 
-00027760: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
-00027770: 2020 2020 2020 2020 2272 6f77 7322 3a20          "rows": 
-00027780: 5b0a 2020 2020 2020 2020 2320 2020 2020  [.        #     
-00027790: 2020 2020 2020 2020 2020 2020 7b0a 2020              {.  
-000277a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000277b0: 2020 2020 2020 2020 2020 2020 2273 796d              "sym
-000277c0: 626f 6c22 3a20 2242 5443 5553 4422 2c0a  bol": "BTCUSD",.
-000277d0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000277e0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-000277f0: 7572 7265 6e63 7922 3a20 2242 5443 222c  urrency": "BTC",
-00027800: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00027810: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00027820: 6578 6563 5174 7922 3a20 3138 2c0a 2020  execQty": 18,.  
-00027830: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00027840: 2020 2020 2020 2020 2020 2020 2273 6964              "sid
-00027850: 6522 3a20 2242 7579 222c 0a20 2020 2020  e": "Buy",.     
-00027860: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00027870: 2020 2020 2020 2020 2022 6578 6563 5072           "execPr
-00027880: 6963 6545 7022 3a20 3336 3030 3836 3435  iceEp": 36008645
-00027890: 352c 0a20 2020 2020 2020 2023 2020 2020  5,.        #    
-000278a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000278b0: 2022 6578 6563 5661 6c75 6545 7622 3a20   "execValueEv": 
-000278c0: 3439 3938 372c 0a20 2020 2020 2020 2023  49987,.        #
-000278d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000278e0: 2020 2020 2022 6675 6e64 696e 6752 6174       "fundingRat
-000278f0: 6545 7222 3a20 3130 3030 302c 0a20 2020  eEr": 10000,.   
-00027900: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00027910: 2020 2020 2020 2020 2020 2022 6665 6552             "feeR
-00027920: 6174 6545 7222 3a20 3130 3030 302c 0a20  ateEr": 10000,. 
-00027930: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00027940: 2020 2020 2020 2020 2020 2020 2022 6578               "ex
-00027950: 6563 4665 6545 7622 3a20 352c 0a20 2020  ecFeeEv": 5,.   
-00027960: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00027970: 2020 2020 2020 2020 2020 2022 6372 6561             "crea
-00027980: 7465 5469 6d65 223a 2031 3635 3138 3831  teTime": 1651881
-00027990: 3630 3030 3030 0a20 2020 2020 2020 2023  600000.        #
-000279a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000279b0: 207d 0a20 2020 2020 2020 2023 2020 2020   }.        #    
-000279c0: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
-000279d0: 2020 2023 2020 2020 2020 2020 207d 0a20     #         }. 
-000279e0: 2020 2020 2020 2023 2020 2020 207d 0a20         #     }. 
-000279f0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-00027a00: 2064 6174 6120 3d20 7365 6c66 2e73 6166   data = self.saf
-00027a10: 655f 7661 6c75 6528 7265 7370 6f6e 7365  e_value(response
-00027a20: 2c20 2764 6174 6127 2c20 7b7d 290a 2020  , 'data', {}).  
-00027a30: 2020 2020 2020 726f 7773 203d 2073 656c        rows = sel
-00027a40: 662e 7361 6665 5f76 616c 7565 2864 6174  f.safe_value(dat
-00027a50: 612c 2027 726f 7773 272c 205b 5d29 0a20  a, 'rows', []). 
-00027a60: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
-00027a70: 5b5d 0a20 2020 2020 2020 2066 6f72 2069  [].        for i
-00027a80: 2069 6e20 7261 6e67 6528 302c 206c 656e   in range(0, len
-00027a90: 2872 6f77 7329 293a 0a20 2020 2020 2020  (rows)):.       
-00027aa0: 2020 2020 2065 6e74 7279 203d 2072 6f77       entry = row
-00027ab0: 735b 695d 0a20 2020 2020 2020 2020 2020  s[i].           
-00027ac0: 2074 696d 6573 7461 6d70 203d 2073 656c   timestamp = sel
-00027ad0: 662e 7361 6665 5f69 6e74 6567 6572 2865  f.safe_integer(e
-00027ae0: 6e74 7279 2c20 2763 7265 6174 6554 696d  ntry, 'createTim
-00027af0: 6527 290a 2020 2020 2020 2020 2020 2020  e').            
-00027b00: 7265 7375 6c74 2e61 7070 656e 6428 7b0a  result.append({.
-00027b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027b20: 2769 6e66 6f27 3a20 656e 7472 792c 0a20  'info': entry,. 
-00027b30: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00027b40: 7379 6d62 6f6c 273a 2073 656c 662e 7361  symbol': self.sa
-00027b50: 6665 5f73 7472 696e 6728 656e 7472 792c  fe_string(entry,
-00027b60: 2027 7379 6d62 6f6c 2729 2c0a 2020 2020   'symbol'),.    
-00027b70: 2020 2020 2020 2020 2020 2020 2763 6f64              'cod
-00027b80: 6527 3a20 7365 6c66 2e73 6166 655f 6375  e': self.safe_cu
-00027b90: 7272 656e 6379 5f63 6f64 6528 7365 6c66  rrency_code(self
-00027ba0: 2e73 6166 655f 7374 7269 6e67 2865 6e74  .safe_string(ent
-00027bb0: 7279 2c20 2763 7572 7265 6e63 7927 2929  ry, 'currency'))
-00027bc0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00027bd0: 2020 2774 696d 6573 7461 6d70 273a 2074    'timestamp': t
-00027be0: 696d 6573 7461 6d70 2c0a 2020 2020 2020  imestamp,.      
-00027bf0: 2020 2020 2020 2020 2020 2764 6174 6574            'datet
-00027c00: 696d 6527 3a20 7365 6c66 2e69 736f 3836  ime': self.iso86
-00027c10: 3031 2874 696d 6573 7461 6d70 292c 0a20  01(timestamp),. 
-00027c20: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00027c30: 6964 273a 204e 6f6e 652c 0a20 2020 2020  id': None,.     
-00027c40: 2020 2020 2020 2020 2020 2027 616d 6f75             'amou
-00027c50: 6e74 273a 2073 656c 662e 6672 6f6d 5f65  nt': self.from_e
-00027c60: 7628 7365 6c66 2e73 6166 655f 7374 7269  v(self.safe_stri
-00027c70: 6e67 2865 6e74 7279 2c20 2765 7865 6346  ng(entry, 'execF
-00027c80: 6565 4576 2729 2c20 6d61 726b 6574 292c  eeEv'), market),
-00027c90: 0a20 2020 2020 2020 2020 2020 207d 290a  .            }).
-00027ca0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-00027cb0: 6573 756c 740a 0a20 2020 2064 6566 2066  esult..    def f
-00027cc0: 6574 6368 5f66 756e 6469 6e67 5f72 6174  etch_funding_rat
-00027cd0: 6528 7365 6c66 2c20 7379 6d62 6f6c 3a20  e(self, symbol: 
-00027ce0: 7374 722c 2070 6172 616d 733d 7b7d 293a  str, params={}):
-00027cf0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00027d00: 2020 2020 2066 6574 6368 2074 6865 2063       fetch the c
-00027d10: 7572 7265 6e74 2066 756e 6469 6e67 2072  urrent funding r
-00027d20: 6174 650a 2020 2020 2020 2020 3a70 6172  ate.        :par
-00027d30: 616d 2073 7472 2073 796d 626f 6c3a 2075  am str symbol: u
-00027d40: 6e69 6669 6564 206d 6172 6b65 7420 7379  nified market sy
-00027d50: 6d62 6f6c 0a20 2020 2020 2020 203a 7061  mbol.        :pa
-00027d60: 7261 6d20 6469 6374 2070 6172 616d 733a  ram dict params:
-00027d70: 2065 7874 7261 2070 6172 616d 6574 6572   extra parameter
-00027d80: 7320 7370 6563 6966 6963 2074 6f20 7468  s specific to th
-00027d90: 6520 7068 656d 6578 2061 7069 2065 6e64  e phemex api end
-00027da0: 706f 696e 740a 2020 2020 2020 2020 3a72  point.        :r
-00027db0: 6574 7572 6e73 2064 6963 743a 2061 2060  eturns dict: a `
-00027dc0: 6675 6e64 696e 6720 7261 7465 2073 7472  funding rate str
-00027dd0: 7563 7475 7265 203c 6874 7470 733a 2f2f  ucture <https://
-00027de0: 646f 6373 2e63 6378 742e 636f 6d2f 232f  docs.ccxt.com/#/
-00027df0: 3f69 643d 6675 6e64 696e 672d 7261 7465  ?id=funding-rate
-00027e00: 2d73 7472 7563 7475 7265 3e60 0a20 2020  -structure>`.   
-00027e10: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00027e20: 2073 656c 662e 6c6f 6164 5f6d 6172 6b65   self.load_marke
-00027e30: 7473 2829 0a20 2020 2020 2020 206d 6172  ts().        mar
-00027e40: 6b65 7420 3d20 7365 6c66 2e6d 6172 6b65  ket = self.marke
-00027e50: 7428 7379 6d62 6f6c 290a 2020 2020 2020  t(symbol).      
-00027e60: 2020 6966 206e 6f74 206d 6172 6b65 745b    if not market[
-00027e70: 2773 7761 7027 5d3a 0a20 2020 2020 2020  'swap']:.       
-00027e80: 2020 2020 2072 6169 7365 2042 6164 5379       raise BadSy
-00027e90: 6d62 6f6c 2873 656c 662e 6964 202b 2027  mbol(self.id + '
-00027ea0: 2066 6574 6368 4675 6e64 696e 6752 6174   fetchFundingRat
-00027eb0: 6528 2920 7375 7070 6f72 7473 2073 7761  e() supports swa
-00027ec0: 7020 636f 6e74 7261 6374 7320 6f6e 6c79  p contracts only
-00027ed0: 2729 0a20 2020 2020 2020 2072 6571 7565  ').        reque
-00027ee0: 7374 203d 207b 0a20 2020 2020 2020 2020  st = {.         
-00027ef0: 2020 2027 7379 6d62 6f6c 273a 206d 6172     'symbol': mar
-00027f00: 6b65 745b 2769 6427 5d2c 0a20 2020 2020  ket['id'],.     
-00027f10: 2020 207d 0a20 2020 2020 2020 2072 6573     }.        res
-00027f20: 706f 6e73 6520 3d20 7b7d 0a20 2020 2020  ponse = {}.     
-00027f30: 2020 2069 6620 6e6f 7420 6d61 726b 6574     if not market
-00027f40: 5b27 6c69 6e65 6172 275d 3a0a 2020 2020  ['linear']:.    
-00027f50: 2020 2020 2020 2020 7265 7370 6f6e 7365          response
-00027f60: 203d 2073 656c 662e 7631 4765 744d 6454   = self.v1GetMdT
-00027f70: 6963 6b65 7232 3468 7228 7365 6c66 2e65  icker24hr(self.e
-00027f80: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
-00027f90: 6172 616d 7329 290a 2020 2020 2020 2020  arams)).        
-00027fa0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00027fb0: 2020 7265 7370 6f6e 7365 203d 2073 656c    response = sel
-00027fc0: 662e 7632 4765 744d 6456 3254 6963 6b65  f.v2GetMdV2Ticke
-00027fd0: 7232 3468 7228 7365 6c66 2e65 7874 656e  r24hr(self.exten
-00027fe0: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
-00027ff0: 7329 290a 2020 2020 2020 2020 230a 2020  s)).        #.  
-00028000: 2020 2020 2020 2320 2020 2020 7b0a 2020        #     {.  
-00028010: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00028020: 2265 7272 6f72 223a 206e 756c 6c2c 0a20  "error": null,. 
-00028030: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00028040: 2022 6964 223a 2030 2c0a 2020 2020 2020   "id": 0,.      
-00028050: 2020 2320 2020 2020 2020 2020 2272 6573    #         "res
-00028060: 756c 7422 3a20 7b0a 2020 2020 2020 2020  ult": {.        
-00028070: 2320 2020 2020 2020 2020 2020 2020 2261  #             "a
-00028080: 736b 4570 223a 2032 3333 3235 3030 2c0a  skEp": 2332500,.
-00028090: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000280a0: 2020 2020 2020 2262 6964 4570 223a 2032        "bidEp": 2
-000280b0: 3333 3130 3030 2c0a 2020 2020 2020 2020  331000,.        
-000280c0: 2320 2020 2020 2020 2020 2020 2020 2266  #             "f
-000280d0: 756e 6469 6e67 5261 7465 4572 223a 2031  undingRateEr": 1
-000280e0: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
-000280f0: 2020 2020 2020 2020 2020 2020 2268 6967              "hig
-00028100: 6845 7022 3a20 3233 3830 3030 302c 0a20  hEp": 2380000,. 
-00028110: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00028120: 2020 2020 2022 696e 6465 7845 7022 3a20       "indexEp": 
-00028130: 3233 3239 3035 372c 0a20 2020 2020 2020  2329057,.       
-00028140: 2023 2020 2020 2020 2020 2020 2020 2022   #             "
-00028150: 6c61 7374 4570 223a 2032 3333 3135 3030  lastEp": 2331500
-00028160: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00028170: 2020 2020 2020 2020 226c 6f77 4570 223a          "lowEp":
-00028180: 2032 3237 3430 3030 2c0a 2020 2020 2020   2274000,.      
-00028190: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-000281a0: 226d 6172 6b45 7022 3a20 3233 3239 3233  "markEp": 232923
-000281b0: 322c 0a20 2020 2020 2020 2023 2020 2020  2,.        #    
-000281c0: 2020 2020 2020 2020 2022 6f70 656e 4570           "openEp
-000281d0: 223a 2032 3333 3735 3030 2c0a 2020 2020  ": 2337500,.    
-000281e0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-000281f0: 2020 226f 7065 6e49 6e74 6572 6573 7422    "openInterest"
-00028200: 3a20 3132 3938 3035 302c 0a20 2020 2020  : 1298050,.     
-00028210: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00028220: 2022 7072 6564 4675 6e64 696e 6752 6174   "predFundingRat
-00028230: 6545 7222 3a20 3139 3932 312c 0a20 2020  eEr": 19921,.   
-00028240: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00028250: 2020 2022 7379 6d62 6f6c 223a 2022 4554     "symbol": "ET
-00028260: 4855 5344 222c 0a20 2020 2020 2020 2023  HUSD",.        #
-00028270: 2020 2020 2020 2020 2020 2020 2022 7469               "ti
-00028280: 6d65 7374 616d 7022 3a20 3135 3932 3437  mestamp": 159247
-00028290: 3432 3431 3538 3237 3031 3431 362c 0a20  4241582701416,. 
-000282a0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-000282b0: 2020 2020 2022 7475 726e 6f76 6572 4576       "turnoverEv
-000282c0: 223a 2034 3732 3238 3336 3233 3330 2c0a  ": 47228362330,.
-000282d0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-000282e0: 2020 2020 2020 2276 6f6c 756d 6522 3a20        "volume": 
-000282f0: 3430 3533 3836 330a 2020 2020 2020 2020  4053863.        
-00028300: 2320 2020 2020 2020 2020 7d0a 2020 2020  #         }.    
-00028310: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
-00028320: 2020 2020 230a 2020 2020 2020 2020 7265      #.        re
-00028330: 7375 6c74 203d 2073 656c 662e 7361 6665  sult = self.safe
-00028340: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
-00028350: 2027 7265 7375 6c74 272c 207b 7d29 0a20   'result', {}). 
-00028360: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00028370: 6c66 2e70 6172 7365 5f66 756e 6469 6e67  lf.parse_funding
-00028380: 5f72 6174 6528 7265 7375 6c74 2c20 6d61  _rate(result, ma
-00028390: 726b 6574 290a 0a20 2020 2064 6566 2070  rket)..    def p
-000283a0: 6172 7365 5f66 756e 6469 6e67 5f72 6174  arse_funding_rat
-000283b0: 6528 7365 6c66 2c20 636f 6e74 7261 6374  e(self, contract
-000283c0: 2c20 6d61 726b 6574 3d4e 6f6e 6529 3a0a  , market=None):.
-000283d0: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-000283e0: 2020 2320 2020 2020 7b0a 2020 2020 2020    #     {.      
-000283f0: 2020 2320 2020 2020 2020 2020 2261 736b    #         "ask
-00028400: 4570 223a 2032 3333 3235 3030 2c0a 2020  Ep": 2332500,.  
-00028410: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00028420: 2262 6964 4570 223a 2032 3333 3130 3030  "bidEp": 2331000
-00028430: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00028440: 2020 2020 2266 756e 6469 6e67 5261 7465      "fundingRate
-00028450: 4572 223a 2031 3030 3030 2c0a 2020 2020  Er": 10000,.    
-00028460: 2020 2020 2320 2020 2020 2020 2020 2268      #         "h
-00028470: 6967 6845 7022 3a20 3233 3830 3030 302c  ighEp": 2380000,
-00028480: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00028490: 2020 2022 696e 6465 7845 7022 3a20 3233     "indexEp": 23
-000284a0: 3239 3035 372c 0a20 2020 2020 2020 2023  29057,.        #
-000284b0: 2020 2020 2020 2020 2022 6c61 7374 4570           "lastEp
-000284c0: 223a 2032 3333 3135 3030 2c0a 2020 2020  ": 2331500,.    
-000284d0: 2020 2020 2320 2020 2020 2020 2020 226c      #         "l
-000284e0: 6f77 4570 223a 2032 3237 3430 3030 2c0a  owEp": 2274000,.
-000284f0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00028500: 2020 226d 6172 6b45 7022 3a20 3233 3239    "markEp": 2329
-00028510: 3233 322c 0a20 2020 2020 2020 2023 2020  232,.        #  
-00028520: 2020 2020 2020 2022 6f70 656e 4570 223a         "openEp":
-00028530: 2032 3333 3735 3030 2c0a 2020 2020 2020   2337500,.      
-00028540: 2020 2320 2020 2020 2020 2020 226f 7065    #         "ope
-00028550: 6e49 6e74 6572 6573 7422 3a20 3132 3938  nInterest": 1298
-00028560: 3035 302c 0a20 2020 2020 2020 2023 2020  050,.        #  
-00028570: 2020 2020 2020 2022 7072 6564 4675 6e64         "predFund
-00028580: 696e 6752 6174 6545 7222 3a20 3139 3932  ingRateEr": 1992
-00028590: 312c 0a20 2020 2020 2020 2023 2020 2020  1,.        #    
-000285a0: 2020 2020 2022 7379 6d62 6f6c 223a 2022       "symbol": "
-000285b0: 4554 4855 5344 222c 0a20 2020 2020 2020  ETHUSD",.       
-000285c0: 2023 2020 2020 2020 2020 2022 7469 6d65   #         "time
-000285d0: 7374 616d 7022 3a20 3135 3932 3437 3432  stamp": 15924742
-000285e0: 3431 3538 3237 3031 3431 362c 0a20 2020  41582701416,.   
-000285f0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-00028600: 7475 726e 6f76 6572 4576 223a 2034 3732  turnoverEv": 472
-00028610: 3238 3336 3233 3330 2c0a 2020 2020 2020  28362330,.      
-00028620: 2020 2320 2020 2020 2020 2020 2276 6f6c    #         "vol
-00028630: 756d 6522 3a20 3430 3533 3836 330a 2020  ume": 4053863.  
-00028640: 2020 2020 2020 2320 2020 2020 7d0a 2020        #     }.  
-00028650: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-00028660: 2320 6c69 6e65 6172 2073 7761 7020 7632  # linear swap v2
-00028670: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
-00028680: 2020 2023 2020 2020 207b 0a20 2020 2020     #     {.     
-00028690: 2020 2023 2020 2020 2020 2020 2022 636c     #         "cl
-000286a0: 6f73 6552 7022 3a22 3136 3832 302e 3522  oseRp":"16820.5"
-000286b0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-000286c0: 2020 2020 2266 756e 6469 6e67 5261 7465      "fundingRate
-000286d0: 5272 223a 2230 2e30 3030 3122 2c0a 2020  Rr":"0.0001",.  
-000286e0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-000286f0: 2268 6967 6852 7022 3a22 3136 3936 322e  "highRp":"16962.
-00028700: 3122 2c0a 2020 2020 2020 2020 2320 2020  1",.        #   
-00028710: 2020 2020 2020 2269 6e64 6578 5072 6963        "indexPric
-00028720: 6552 7022 3a22 3136 3833 302e 3135 3635  eRp":"16830.1565
-00028730: 3135 3635 222c 0a20 2020 2020 2020 2023  1565",.        #
-00028740: 2020 2020 2020 2020 2022 6c6f 7752 7022           "lowRp"
-00028750: 3a22 3136 3738 3522 2c0a 2020 2020 2020  :"16785",.      
-00028760: 2020 2320 2020 2020 2020 2020 226d 6172    #         "mar
-00028770: 6b50 7269 6365 5270 223a 2231 3638 3330  kPriceRp":"16830
-00028780: 2e39 3735 3334 3935 3122 2c0a 2020 2020  .97534951",.    
-00028790: 2020 2020 2320 2020 2020 2020 2020 226f      #         "o
-000287a0: 7065 6e49 6e74 6572 6573 7452 7622 3a22  penInterestRv":"
-000287b0: 3133 3233 2e35 3936 222c 0a20 2020 2020  1323.596",.     
-000287c0: 2020 2023 2020 2020 2020 2020 2022 6f70     #         "op
-000287d0: 656e 5270 223a 2231 3638 3531 2e37 222c  enRp":"16851.7",
-000287e0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000287f0: 2020 2022 7072 6564 4675 6e64 696e 6752     "predFundingR
-00028800: 6174 6552 7222 3a22 302e 3030 3031 222c  ateRr":"0.0001",
-00028810: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00028820: 2020 2022 7379 6d62 6f6c 223a 2242 5443     "symbol":"BTC
-00028830: 5553 4454 222c 0a20 2020 2020 2020 2023  USDT",.        #
-00028840: 2020 2020 2020 2020 2022 7469 6d65 7374           "timest
-00028850: 616d 7022 3a22 3136 3732 3134 3237 3839  amp":"1672142789
-00028860: 3036 3535 3933 3039 3622 2c0a 2020 2020  065593096",.    
-00028870: 2020 2020 2320 2020 2020 2020 2020 2274      #         "t
-00028880: 7572 6e6f 7665 7252 7622 3a22 3132 3438  urnoverRv":"1248
-00028890: 3335 3239 362e 3035 3338 222c 0a20 2020  35296.0538",.   
-000288a0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-000288b0: 766f 6c75 6d65 5271 223a 2237 3430 362e  volumeRq":"7406.
-000288c0: 3935 220a 2020 2020 2020 2020 2320 2020  95".        #   
-000288d0: 2020 7d0a 2020 2020 2020 2020 230a 2020    }.        #.  
-000288e0: 2020 2020 2020 6d61 726b 6574 4964 203d        marketId =
-000288f0: 2073 656c 662e 7361 6665 5f73 7472 696e   self.safe_strin
-00028900: 6728 636f 6e74 7261 6374 2c20 2773 796d  g(contract, 'sym
-00028910: 626f 6c27 290a 2020 2020 2020 2020 7379  bol').        sy
-00028920: 6d62 6f6c 203d 2073 656c 662e 7361 6665  mbol = self.safe
-00028930: 5f73 796d 626f 6c28 6d61 726b 6574 4964  _symbol(marketId
-00028940: 2c20 6d61 726b 6574 290a 2020 2020 2020  , market).      
-00028950: 2020 7469 6d65 7374 616d 7020 3d20 7365    timestamp = se
-00028960: 6c66 2e73 6166 655f 696e 7465 6765 725f  lf.safe_integer_
-00028970: 7072 6f64 7563 7428 636f 6e74 7261 6374  product(contract
-00028980: 2c20 2774 696d 6573 7461 6d70 272c 2030  , 'timestamp', 0
-00028990: 2e30 3030 3030 3129 0a20 2020 2020 2020  .000001).       
-000289a0: 2072 6574 7572 6e20 7b0a 2020 2020 2020   return {.      
-000289b0: 2020 2020 2020 2769 6e66 6f27 3a20 636f        'info': co
-000289c0: 6e74 7261 6374 2c0a 2020 2020 2020 2020  ntract,.        
-000289d0: 2020 2020 2773 796d 626f 6c27 3a20 7379      'symbol': sy
-000289e0: 6d62 6f6c 2c0a 2020 2020 2020 2020 2020  mbol,.          
-000289f0: 2020 276d 6172 6b50 7269 6365 273a 2073    'markPrice': s
-00028a00: 656c 662e 6672 6f6d 5f65 7028 7365 6c66  elf.from_ep(self
-00028a10: 2e73 6166 655f 7374 7269 6e67 5f32 2863  .safe_string_2(c
-00028a20: 6f6e 7472 6163 742c 2027 6d61 726b 4570  ontract, 'markEp
-00028a30: 272c 2027 6d61 726b 5072 6963 6552 7027  ', 'markPriceRp'
-00028a40: 292c 206d 6172 6b65 7429 2c0a 2020 2020  ), market),.    
-00028a50: 2020 2020 2020 2020 2769 6e64 6578 5072          'indexPr
-00028a60: 6963 6527 3a20 7365 6c66 2e66 726f 6d5f  ice': self.from_
-00028a70: 6570 2873 656c 662e 7361 6665 5f73 7472  ep(self.safe_str
-00028a80: 696e 675f 3228 636f 6e74 7261 6374 2c20  ing_2(contract, 
-00028a90: 2769 6e64 6578 4570 272c 2027 696e 6465  'indexEp', 'inde
-00028aa0: 7850 7269 6365 5270 2729 2c20 6d61 726b  xPriceRp'), mark
-00028ab0: 6574 292c 0a20 2020 2020 2020 2020 2020  et),.           
-00028ac0: 2027 696e 7465 7265 7374 5261 7465 273a   'interestRate':
-00028ad0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00028ae0: 2020 2027 6573 7469 6d61 7465 6453 6574     'estimatedSet
-00028af0: 746c 6550 7269 6365 273a 204e 6f6e 652c  tlePrice': None,
-00028b00: 0a20 2020 2020 2020 2020 2020 2027 7469  .            'ti
-00028b10: 6d65 7374 616d 7027 3a20 7469 6d65 7374  mestamp': timest
-00028b20: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
-00028b30: 2027 6461 7465 7469 6d65 273a 2073 656c   'datetime': sel
-00028b40: 662e 6973 6f38 3630 3128 7469 6d65 7374  f.iso8601(timest
-00028b50: 616d 7029 2c0a 2020 2020 2020 2020 2020  amp),.          
-00028b60: 2020 2766 756e 6469 6e67 5261 7465 273a    'fundingRate':
-00028b70: 2073 656c 662e 6672 6f6d 5f65 7228 7365   self.from_er(se
-00028b80: 6c66 2e73 6166 655f 7374 7269 6e67 2863  lf.safe_string(c
-00028b90: 6f6e 7472 6163 742c 2027 6675 6e64 696e  ontract, 'fundin
-00028ba0: 6752 6174 6545 7227 292c 206d 6172 6b65  gRateEr'), marke
-00028bb0: 7429 2c0a 2020 2020 2020 2020 2020 2020  t),.            
-00028bc0: 2766 756e 6469 6e67 5469 6d65 7374 616d  'fundingTimestam
-00028bd0: 7027 3a20 4e6f 6e65 2c0a 2020 2020 2020  p': None,.      
-00028be0: 2020 2020 2020 2766 756e 6469 6e67 4461        'fundingDa
-00028bf0: 7465 7469 6d65 273a 204e 6f6e 652c 0a20  tetime': None,. 
-00028c00: 2020 2020 2020 2020 2020 2027 6e65 7874             'next
-00028c10: 4675 6e64 696e 6752 6174 6527 3a20 7365  FundingRate': se
-00028c20: 6c66 2e66 726f 6d5f 6572 2873 656c 662e  lf.from_er(self.
-00028c30: 7361 6665 5f73 7472 696e 675f 3228 636f  safe_string_2(co
-00028c40: 6e74 7261 6374 2c20 2770 7265 6446 756e  ntract, 'predFun
-00028c50: 6469 6e67 5261 7465 4572 272c 2027 7072  dingRateEr', 'pr
-00028c60: 6564 4675 6e64 696e 6752 6174 6552 7227  edFundingRateRr'
-00028c70: 292c 206d 6172 6b65 7429 2c0a 2020 2020  ), market),.    
-00028c80: 2020 2020 2020 2020 276e 6578 7446 756e          'nextFun
-00028c90: 6469 6e67 5469 6d65 7374 616d 7027 3a20  dingTimestamp': 
-00028ca0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-00028cb0: 2020 276e 6578 7446 756e 6469 6e67 4461    'nextFundingDa
-00028cc0: 7465 7469 6d65 273a 204e 6f6e 652c 0a20  tetime': None,. 
-00028cd0: 2020 2020 2020 2020 2020 2027 7072 6576             'prev
-00028ce0: 696f 7573 4675 6e64 696e 6752 6174 6527  iousFundingRate'
-00028cf0: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
-00028d00: 2020 2020 2770 7265 7669 6f75 7346 756e      'previousFun
-00028d10: 6469 6e67 5469 6d65 7374 616d 7027 3a20  dingTimestamp': 
-00028d20: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-00028d30: 2020 2770 7265 7669 6f75 7346 756e 6469    'previousFundi
-00028d40: 6e67 4461 7465 7469 6d65 273a 204e 6f6e  ngDatetime': Non
-00028d50: 652c 0a20 2020 2020 2020 207d 0a0a 2020  e,.        }..  
-00028d60: 2020 6465 6620 7365 745f 6d61 7267 696e    def set_margin
-00028d70: 2873 656c 662c 2073 796d 626f 6c3a 2073  (self, symbol: s
-00028d80: 7472 2c20 616d 6f75 6e74 2c20 7061 7261  tr, amount, para
-00028d90: 6d73 3d7b 7d29 3a0a 2020 2020 2020 2020  ms={}):.        
-00028da0: 2222 220a 2020 2020 2020 2020 4569 7468  """.        Eith
-00028db0: 6572 2061 6464 7320 6f72 2072 6564 7563  er adds or reduc
-00028dc0: 6573 206d 6172 6769 6e20 696e 2061 6e20  es margin in an 
-00028dd0: 6973 6f6c 6174 6564 2070 6f73 6974 696f  isolated positio
-00028de0: 6e20 696e 206f 7264 6572 2074 6f20 7365  n in order to se
-00028df0: 7420 7468 6520 6d61 7267 696e 2074 6f20  t the margin to 
-00028e00: 6120 7370 6563 6966 6963 2076 616c 7565  a specific value
-00028e10: 0a20 2020 2020 2020 2073 6565 2068 7474  .        see htt
-00028e20: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00028e30: 7068 656d 6578 2f70 6865 6d65 782d 6170  phemex/phemex-ap
-00028e40: 692d 646f 6373 2f62 6c6f 622f 6d61 7374  i-docs/blob/mast
-00028e50: 6572 2f50 7562 6c69 632d 436f 6e74 7261  er/Public-Contra
-00028e60: 6374 2d41 5049 2d65 6e2e 6d64 2361 7373  ct-API-en.md#ass
-00028e70: 6967 6e2d 706f 7369 7469 6f6e 2d62 616c  ign-position-bal
-00028e80: 616e 6365 2d69 6e2d 6973 6f6c 6174 6564  ance-in-isolated
-00028e90: 2d6d 6172 6967 6e2d 6d6f 6465 0a20 2020  -marign-mode.   
-00028ea0: 2020 2020 203a 7061 7261 6d20 7374 7220       :param str 
-00028eb0: 7379 6d62 6f6c 3a20 756e 6966 6965 6420  symbol: unified 
-00028ec0: 6d61 726b 6574 2073 796d 626f 6c20 6f66  market symbol of
-00028ed0: 2074 6865 206d 6172 6b65 7420 746f 2073   the market to s
-00028ee0: 6574 206d 6172 6769 6e20 696e 0a20 2020  et margin in.   
-00028ef0: 2020 2020 203a 7061 7261 6d20 666c 6f61       :param floa
-00028f00: 7420 616d 6f75 6e74 3a20 7468 6520 616d  t amount: the am
-00028f10: 6f75 6e74 2074 6f20 7365 7420 7468 6520  ount to set the 
-00028f20: 6d61 7267 696e 2074 6f0a 2020 2020 2020  margin to.      
-00028f30: 2020 3a70 6172 616d 2064 6963 7420 7061    :param dict pa
-00028f40: 7261 6d73 3a20 7061 7261 6d65 7465 7273  rams: parameters
-00028f50: 2073 7065 6369 6669 6320 746f 2074 6865   specific to the
-00028f60: 2070 6865 6d65 7820 6170 6920 656e 6470   phemex api endp
-00028f70: 6f69 6e74 0a20 2020 2020 2020 203a 7265  oint.        :re
-00028f80: 7475 726e 7320 6469 6374 3a20 4120 606d  turns dict: A `m
-00028f90: 6172 6769 6e20 7374 7275 6374 7572 6520  argin structure 
-00028fa0: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
-00028fb0: 7874 2e63 6f6d 2f23 2f3f 6964 3d61 6464  xt.com/#/?id=add
-00028fc0: 2d6d 6172 6769 6e2d 7374 7275 6374 7572  -margin-structur
-00028fd0: 653e 600a 2020 2020 2020 2020 2222 220a  e>`.        """.
-00028fe0: 2020 2020 2020 2020 7365 6c66 2e6c 6f61          self.loa
-00028ff0: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
-00029000: 2020 2020 6d61 726b 6574 203d 2073 656c      market = sel
-00029010: 662e 6d61 726b 6574 2873 796d 626f 6c29  f.market(symbol)
-00029020: 0a20 2020 2020 2020 2072 6571 7565 7374  .        request
-00029030: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00029040: 2027 7379 6d62 6f6c 273a 206d 6172 6b65   'symbol': marke
-00029050: 745b 2769 6427 5d2c 0a20 2020 2020 2020  t['id'],.       
-00029060: 2020 2020 2027 706f 7342 616c 616e 6365       'posBalance
-00029070: 4576 273a 2073 656c 662e 746f 5f65 7628  Ev': self.to_ev(
-00029080: 616d 6f75 6e74 2c20 6d61 726b 6574 292c  amount, market),
-00029090: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-000290a0: 2020 2072 6573 706f 6e73 6520 3d20 7365     response = se
-000290b0: 6c66 2e70 7269 7661 7465 506f 7374 506f  lf.privatePostPo
-000290c0: 7369 7469 6f6e 7341 7373 6967 6e28 7365  sitionsAssign(se
-000290d0: 6c66 2e65 7874 656e 6428 7265 7175 6573  lf.extend(reques
-000290e0: 742c 2070 6172 616d 7329 290a 2020 2020  t, params)).    
-000290f0: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
-00029100: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-00029110: 2020 2020 2020 2020 2263 6f64 6522 3a20          "code": 
-00029120: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
-00029130: 2020 2020 2022 6d73 6722 3a20 2222 2c0a       "msg": "",.
-00029140: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00029150: 2020 2264 6174 6122 3a20 224f 4b22 0a20    "data": "OK". 
-00029160: 2020 2020 2020 2023 2020 2020 207d 0a20         #     }. 
-00029170: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-00029180: 2072 6574 7572 6e20 7365 6c66 2e65 7874   return self.ext
-00029190: 656e 6428 7365 6c66 2e70 6172 7365 5f6d  end(self.parse_m
-000291a0: 6172 6769 6e5f 6d6f 6469 6669 6361 7469  argin_modificati
-000291b0: 6f6e 2872 6573 706f 6e73 652c 206d 6172  on(response, mar
-000291c0: 6b65 7429 2c20 7b0a 2020 2020 2020 2020  ket), {.        
-000291d0: 2020 2020 2761 6d6f 756e 7427 3a20 616d      'amount': am
-000291e0: 6f75 6e74 2c0a 2020 2020 2020 2020 7d29  ount,.        })
-000291f0: 0a0a 2020 2020 6465 6620 7061 7273 655f  ..    def parse_
-00029200: 6d61 7267 696e 5f73 7461 7475 7328 7365  margin_status(se
-00029210: 6c66 2c20 7374 6174 7573 293a 0a20 2020  lf, status):.   
-00029220: 2020 2020 2073 7461 7475 7365 7320 3d20       statuses = 
-00029230: 7b0a 2020 2020 2020 2020 2020 2020 2730  {.            '0
-00029240: 273a 2027 6f6b 272c 0a20 2020 2020 2020  ': 'ok',.       
-00029250: 207d 0a20 2020 2020 2020 2072 6574 7572   }.        retur
-00029260: 6e20 7365 6c66 2e73 6166 655f 7374 7269  n self.safe_stri
-00029270: 6e67 2873 7461 7475 7365 732c 2073 7461  ng(statuses, sta
-00029280: 7475 732c 2073 7461 7475 7329 0a0a 2020  tus, status)..  
-00029290: 2020 6465 6620 7061 7273 655f 6d61 7267    def parse_marg
-000292a0: 696e 5f6d 6f64 6966 6963 6174 696f 6e28  in_modification(
-000292b0: 7365 6c66 2c20 6461 7461 2c20 6d61 726b  self, data, mark
-000292c0: 6574 3d4e 6f6e 6529 3a0a 2020 2020 2020  et=None):.      
-000292d0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
-000292e0: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
-000292f0: 2020 2020 2020 2263 6f64 6522 3a20 302c        "code": 0,
-00029300: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00029310: 2020 2022 6d73 6722 3a20 2222 2c0a 2020     "msg": "",.  
-00029320: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00029330: 2264 6174 6122 3a20 224f 4b22 0a20 2020  "data": "OK".   
-00029340: 2020 2020 2023 2020 2020 207d 0a20 2020       #     }.   
-00029350: 2020 2020 2023 0a20 2020 2020 2020 206d       #.        m
-00029360: 6172 6b65 7420 3d20 7365 6c66 2e73 6166  arket = self.saf
-00029370: 655f 6d61 726b 6574 284e 6f6e 652c 206d  e_market(None, m
-00029380: 6172 6b65 7429 0a20 2020 2020 2020 2069  arket).        i
-00029390: 6e76 6572 7365 203d 2073 656c 662e 7361  nverse = self.sa
-000293a0: 6665 5f76 616c 7565 286d 6172 6b65 742c  fe_value(market,
-000293b0: 2027 696e 7665 7273 6527 290a 2020 2020   'inverse').    
-000293c0: 2020 2020 636f 6465 4375 7272 656e 6379      codeCurrency
-000293d0: 203d 2027 6261 7365 2720 6966 2069 6e76   = 'base' if inv
-000293e0: 6572 7365 2065 6c73 6520 2771 756f 7465  erse else 'quote
-000293f0: 270a 2020 2020 2020 2020 7265 7475 726e  '.        return
-00029400: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00029410: 696e 666f 273a 2064 6174 612c 0a20 2020  info': data,.   
-00029420: 2020 2020 2020 2020 2027 7479 7065 273a           'type':
-00029430: 2027 7365 7427 2c0a 2020 2020 2020 2020   'set',.        
-00029440: 2020 2020 2761 6d6f 756e 7427 3a20 4e6f      'amount': No
-00029450: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
-00029460: 2774 6f74 616c 273a 204e 6f6e 652c 0a20  'total': None,. 
-00029470: 2020 2020 2020 2020 2020 2027 636f 6465             'code
-00029480: 273a 206d 6172 6b65 745b 636f 6465 4375  ': market[codeCu
-00029490: 7272 656e 6379 5d2c 0a20 2020 2020 2020  rrency],.       
-000294a0: 2020 2020 2027 7379 6d62 6f6c 273a 2073       'symbol': s
-000294b0: 656c 662e 7361 6665 5f73 796d 626f 6c28  elf.safe_symbol(
-000294c0: 4e6f 6e65 2c20 6d61 726b 6574 292c 0a20  None, market),. 
-000294d0: 2020 2020 2020 2020 2020 2027 7374 6174             'stat
-000294e0: 7573 273a 2073 656c 662e 7061 7273 655f  us': self.parse_
-000294f0: 6d61 7267 696e 5f73 7461 7475 7328 7365  margin_status(se
-00029500: 6c66 2e73 6166 655f 7374 7269 6e67 2864  lf.safe_string(d
-00029510: 6174 612c 2027 636f 6465 2729 292c 0a20  ata, 'code')),. 
-00029520: 2020 2020 2020 207d 0a0a 2020 2020 6465         }..    de
-00029530: 6620 7365 745f 6d61 7267 696e 5f6d 6f64  f set_margin_mod
-00029540: 6528 7365 6c66 2c20 6d61 7267 696e 4d6f  e(self, marginMo
-00029550: 6465 2c20 7379 6d62 6f6c 3a20 4f70 7469  de, symbol: Opti
-00029560: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-00029570: 2c20 7061 7261 6d73 3d7b 7d29 3a0a 2020  , params={}):.  
-00029580: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00029590: 2020 7365 7420 6d61 7267 696e 206d 6f64    set margin mod
-000295a0: 6520 746f 2027 6372 6f73 7327 206f 7220  e to 'cross' or 
-000295b0: 2769 736f 6c61 7465 6427 0a20 2020 2020  'isolated'.     
-000295c0: 2020 203a 7061 7261 6d20 7374 7220 6d61     :param str ma
-000295d0: 7267 696e 4d6f 6465 3a20 2763 726f 7373  rginMode: 'cross
-000295e0: 2720 6f72 2027 6973 6f6c 6174 6564 270a  ' or 'isolated'.
-000295f0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00029600: 7472 2073 796d 626f 6c3a 2075 6e69 6669  tr symbol: unifi
-00029610: 6564 206d 6172 6b65 7420 7379 6d62 6f6c  ed market symbol
-00029620: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00029630: 6469 6374 2070 6172 616d 733a 2065 7874  dict params: ext
-00029640: 7261 2070 6172 616d 6574 6572 7320 7370  ra parameters sp
-00029650: 6563 6966 6963 2074 6f20 7468 6520 7068  ecific to the ph
-00029660: 656d 6578 2061 7069 2065 6e64 706f 696e  emex api endpoin
-00029670: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
-00029680: 6e73 2064 6963 743a 2072 6573 706f 6e73  ns dict: respons
-00029690: 6520 6672 6f6d 2074 6865 2065 7863 6861  e from the excha
-000296a0: 6e67 650a 2020 2020 2020 2020 2222 220a  nge.        """.
-000296b0: 2020 2020 2020 2020 7365 6c66 2e63 6865          self.che
-000296c0: 636b 5f72 6571 7569 7265 645f 7379 6d62  ck_required_symb
-000296d0: 6f6c 2827 7365 744d 6172 6769 6e4d 6f64  ol('setMarginMod
-000296e0: 6527 2c20 7379 6d62 6f6c 290a 2020 2020  e', symbol).    
-000296f0: 2020 2020 7365 6c66 2e6c 6f61 645f 6d61      self.load_ma
-00029700: 726b 6574 7328 290a 2020 2020 2020 2020  rkets().        
-00029710: 6d61 726b 6574 203d 2073 656c 662e 6d61  market = self.ma
-00029720: 726b 6574 2873 796d 626f 6c29 0a20 2020  rket(symbol).   
-00029730: 2020 2020 2069 6620 6e6f 7420 6d61 726b       if not mark
-00029740: 6574 5b27 7377 6170 275d 206f 7220 6d61  et['swap'] or ma
-00029750: 726b 6574 5b27 7365 7474 6c65 275d 203d  rket['settle'] =
-00029760: 3d20 2755 5344 5427 3a0a 2020 2020 2020  = 'USDT':.      
-00029770: 2020 2020 2020 7261 6973 6520 4261 6453        raise BadS
-00029780: 796d 626f 6c28 7365 6c66 2e69 6420 2b20  ymbol(self.id + 
-00029790: 2720 7365 744d 6172 6769 6e4d 6f64 6528  ' setMarginMode(
-000297a0: 2920 7375 7070 6f72 7473 2073 7761 7028  ) supports swap(
-000297b0: 6e6f 6e20 5553 4454 2062 6173 6564 2920  non USDT based) 
-000297c0: 636f 6e74 7261 6374 7320 6f6e 6c79 2729  contracts only')
-000297d0: 0a20 2020 2020 2020 206d 6172 6769 6e4d  .        marginM
-000297e0: 6f64 6520 3d20 6d61 7267 696e 4d6f 6465  ode = marginMode
-000297f0: 2e6c 6f77 6572 2829 0a20 2020 2020 2020  .lower().       
-00029800: 2069 6620 6d61 7267 696e 4d6f 6465 2021   if marginMode !
-00029810: 3d20 2769 736f 6c61 7465 6427 2061 6e64  = 'isolated' and
-00029820: 206d 6172 6769 6e4d 6f64 6520 213d 2027   marginMode != '
-00029830: 6372 6f73 7327 3a0a 2020 2020 2020 2020  cross':.        
-00029840: 2020 2020 7261 6973 6520 4261 6452 6571      raise BadReq
-00029850: 7565 7374 2873 656c 662e 6964 202b 2027  uest(self.id + '
-00029860: 2073 6574 4d61 7267 696e 4d6f 6465 2829   setMarginMode()
-00029870: 206d 6172 6769 6e4d 6f64 6520 6172 6775   marginMode argu
-00029880: 6d65 6e74 2073 686f 756c 6420 6265 2069  ment should be i
-00029890: 736f 6c61 7465 6420 6f72 2063 726f 7373  solated or cross
-000298a0: 2729 0a20 2020 2020 2020 206c 6576 6572  ').        lever
-000298b0: 6167 6520 3d20 7365 6c66 2e73 6166 655f  age = self.safe_
-000298c0: 696e 7465 6765 7228 7061 7261 6d73 2c20  integer(params, 
-000298d0: 276c 6576 6572 6167 6527 290a 2020 2020  'leverage').    
-000298e0: 2020 2020 6966 206d 6172 6769 6e4d 6f64      if marginMod
-000298f0: 6520 3d3d 2027 6372 6f73 7327 3a0a 2020  e == 'cross':.  
-00029900: 2020 2020 2020 2020 2020 6c65 7665 7261            levera
-00029910: 6765 203d 2030 0a20 2020 2020 2020 2069  ge = 0.        i
-00029920: 6620 6c65 7665 7261 6765 2069 7320 4e6f  f leverage is No
-00029930: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00029940: 7261 6973 6520 4172 6775 6d65 6e74 7352  raise ArgumentsR
-00029950: 6571 7569 7265 6428 7365 6c66 2e69 6420  equired(self.id 
-00029960: 2b20 2720 7365 744d 6172 6769 6e4d 6f64  + ' setMarginMod
-00029970: 6528 2920 7265 7175 6972 6573 2061 206c  e() requires a l
-00029980: 6576 6572 6167 6520 7061 7261 6d65 7465  everage paramete
-00029990: 7227 290a 2020 2020 2020 2020 7265 7175  r').        requ
-000299a0: 6573 7420 3d20 7b0a 2020 2020 2020 2020  est = {.        
-000299b0: 2020 2020 2773 796d 626f 6c27 3a20 6d61      'symbol': ma
-000299c0: 726b 6574 5b27 6964 275d 2c0a 2020 2020  rket['id'],.    
-000299d0: 2020 2020 2020 2020 276c 6576 6572 6167          'leverag
-000299e0: 6527 3a20 6c65 7665 7261 6765 2c0a 2020  e': leverage,.  
-000299f0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-00029a00: 7265 7475 726e 2073 656c 662e 7072 6976  return self.priv
-00029a10: 6174 6550 7574 506f 7369 7469 6f6e 734c  atePutPositionsL
-00029a20: 6576 6572 6167 6528 7365 6c66 2e65 7874  everage(self.ext
-00029a30: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
-00029a40: 616d 7329 290a 0a20 2020 2064 6566 2073  ams))..    def s
-00029a50: 6574 5f70 6f73 6974 696f 6e5f 6d6f 6465  et_position_mode
-00029a60: 2873 656c 662c 2068 6564 6765 642c 2073  (self, hedged, s
-00029a70: 796d 626f 6c3a 204f 7074 696f 6e61 6c5b  ymbol: Optional[
-00029a80: 7374 725d 203d 204e 6f6e 652c 2070 6172  str] = None, par
-00029a90: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
-00029aa0: 2022 2222 0a20 2020 2020 2020 2073 6574   """.        set
-00029ab0: 2068 6564 6765 6420 746f 2054 7275 6520   hedged to True 
-00029ac0: 6f72 2046 616c 7365 2066 6f72 2061 206d  or False for a m
-00029ad0: 6172 6b65 740a 2020 2020 2020 2020 7365  arket.        se
-00029ae0: 6520 6874 7470 733a 2f2f 6769 7468 7562  e https://github
-00029af0: 2e63 6f6d 2f70 6865 6d65 782f 7068 656d  .com/phemex/phem
-00029b00: 6578 2d61 7069 2d64 6f63 732f 626c 6f62  ex-api-docs/blob
-00029b10: 2f6d 6173 7465 722f 5075 626c 6963 2d48  /master/Public-H
-00029b20: 6564 6765 642d 5065 7270 6574 7561 6c2d  edged-Perpetual-
-00029b30: 4150 492e 6d64 2373 7769 7463 682d 706f  API.md#switch-po
-00029b40: 7369 7469 6f6e 2d6d 6f64 652d 7379 6e63  sition-mode-sync
-00029b50: 6872 6f6e 6f75 736c 790a 2020 2020 2020  hronously.      
-00029b60: 2020 3a70 6172 616d 2062 6f6f 6c20 6865    :param bool he
-00029b70: 6467 6564 3a20 7365 7420 746f 2054 7275  dged: set to Tru
-00029b80: 6520 746f 2075 7365 2064 7561 6c53 6964  e to use dualSid
-00029b90: 6550 6f73 6974 696f 6e0a 2020 2020 2020  ePosition.      
-00029ba0: 2020 3a70 6172 616d 2073 7472 7c4e 6f6e    :param str|Non
-00029bb0: 6520 7379 6d62 6f6c 3a20 6e6f 7420 7573  e symbol: not us
-00029bc0: 6564 2062 7920 6269 6e61 6e63 6520 7365  ed by binance se
-00029bd0: 7450 6f73 6974 696f 6e4d 6f64 6528 290a  tPositionMode().
-00029be0: 2020 2020 2020 2020 3a70 6172 616d 2064          :param d
-00029bf0: 6963 7420 7061 7261 6d73 3a20 6578 7472  ict params: extr
-00029c00: 6120 7061 7261 6d65 7465 7273 2073 7065  a parameters spe
-00029c10: 6369 6669 6320 746f 2074 6865 2062 696e  cific to the bin
-00029c20: 616e 6365 2061 7069 2065 6e64 706f 696e  ance api endpoin
-00029c30: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
-00029c40: 6e73 2064 6963 743a 2072 6573 706f 6e73  ns dict: respons
-00029c50: 6520 6672 6f6d 2074 6865 2065 7863 6861  e from the excha
-00029c60: 6e67 650a 2020 2020 2020 2020 2222 220a  nge.        """.
-00029c70: 2020 2020 2020 2020 7365 6c66 2e63 6865          self.che
-00029c80: 636b 5f72 6571 7569 7265 645f 6172 6775  ck_required_argu
-00029c90: 6d65 6e74 2827 7365 7450 6f73 6974 696f  ment('setPositio
-00029ca0: 6e4d 6f64 6527 2c20 7379 6d62 6f6c 2c20  nMode', symbol, 
-00029cb0: 2773 796d 626f 6c27 290a 2020 2020 2020  'symbol').      
-00029cc0: 2020 7365 6c66 2e6c 6f61 645f 6d61 726b    self.load_mark
-00029cd0: 6574 7328 290a 2020 2020 2020 2020 6d61  ets().        ma
-00029ce0: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
-00029cf0: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
-00029d00: 2020 2069 6620 6d61 726b 6574 5b27 7365     if market['se
-00029d10: 7474 6c65 275d 2021 3d20 2755 5344 5427  ttle'] != 'USDT'
-00029d20: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-00029d30: 6973 6520 4261 6453 796d 626f 6c28 7365  ise BadSymbol(se
-00029d40: 6c66 2e69 6420 2b20 2720 7365 7450 6f73  lf.id + ' setPos
-00029d50: 6974 696f 6e4d 6f64 6528 2920 7375 7070  itionMode() supp
-00029d60: 6f72 7473 2055 5344 5420 7365 7474 6c65  orts USDT settle
-00029d70: 6420 6d61 726b 6574 7320 6f6e 6c79 2729  d markets only')
-00029d80: 0a20 2020 2020 2020 2072 6571 7565 7374  .        request
-00029d90: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00029da0: 2027 7379 6d62 6f6c 273a 206d 6172 6b65   'symbol': marke
-00029db0: 745b 2769 6427 5d2c 0a20 2020 2020 2020  t['id'],.       
-00029dc0: 207d 0a20 2020 2020 2020 2069 6620 6865   }.        if he
-00029dd0: 6467 6564 3a0a 2020 2020 2020 2020 2020  dged:.          
-00029de0: 2020 7265 7175 6573 745b 2774 6172 6765    request['targe
-00029df0: 7450 6f73 4d6f 6465 275d 203d 2027 4865  tPosMode'] = 'He
-00029e00: 6467 6564 270a 2020 2020 2020 2020 656c  dged'.        el
-00029e10: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00029e20: 7265 7175 6573 745b 2774 6172 6765 7450  request['targetP
-00029e30: 6f73 4d6f 6465 275d 203d 2027 4f6e 6557  osMode'] = 'OneW
-00029e40: 6179 270a 2020 2020 2020 2020 7265 7475  ay'.        retu
-00029e50: 726e 2073 656c 662e 7072 6976 6174 6550  rn self.privateP
-00029e60: 7574 4750 6f73 6974 696f 6e73 5377 6974  utGPositionsSwit
-00029e70: 6368 506f 734d 6f64 6553 796e 6328 7365  chPosModeSync(se
-00029e80: 6c66 2e65 7874 656e 6428 7265 7175 6573  lf.extend(reques
-00029e90: 742c 2070 6172 616d 7329 290a 0a20 2020  t, params))..   
-00029ea0: 2064 6566 2066 6574 6368 5f6c 6576 6572   def fetch_lever
-00029eb0: 6167 655f 7469 6572 7328 7365 6c66 2c20  age_tiers(self, 
-00029ec0: 7379 6d62 6f6c 733a 204f 7074 696f 6e61  symbols: Optiona
-00029ed0: 6c5b 4c69 7374 5b73 7472 5d5d 203d 204e  l[List[str]] = N
-00029ee0: 6f6e 652c 2070 6172 616d 733d 7b7d 293a  one, params={}):
-00029ef0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00029f00: 2020 2020 2072 6574 7269 6576 6520 696e       retrieve in
-00029f10: 666f 726d 6174 696f 6e20 6f6e 2074 6865  formation on the
-00029f20: 206d 6178 696d 756d 206c 6576 6572 6167   maximum leverag
-00029f30: 652c 2061 6e64 206d 6169 6e74 656e 616e  e, and maintenan
-00029f40: 6365 206d 6172 6769 6e20 666f 7220 7472  ce margin for tr
-00029f50: 6164 6573 206f 6620 7661 7279 696e 6720  ades of varying 
-00029f60: 7472 6164 6520 7369 7a65 730a 2020 2020  trade sizes.    
-00029f70: 2020 2020 3a70 6172 616d 205b 7374 725d      :param [str]
-00029f80: 7c4e 6f6e 6520 7379 6d62 6f6c 733a 206c  |None symbols: l
-00029f90: 6973 7420 6f66 2075 6e69 6669 6564 206d  ist of unified m
-00029fa0: 6172 6b65 7420 7379 6d62 6f6c 730a 2020  arket symbols.  
-00029fb0: 2020 2020 2020 3a70 6172 616d 2064 6963        :param dic
-00029fc0: 7420 7061 7261 6d73 3a20 6578 7472 6120  t params: extra 
-00029fd0: 7061 7261 6d65 7465 7273 2073 7065 6369  parameters speci
-00029fe0: 6669 6320 746f 2074 6865 2070 6865 6d65  fic to the pheme
-00029ff0: 7820 6170 6920 656e 6470 6f69 6e74 0a20  x api endpoint. 
-0002a000: 2020 2020 2020 203a 7265 7475 726e 7320         :returns 
-0002a010: 6469 6374 3a20 6120 6469 6374 696f 6e61  dict: a dictiona
-0002a020: 7279 206f 6620 606c 6576 6572 6167 6520  ry of `leverage 
-0002a030: 7469 6572 7320 7374 7275 6374 7572 6573  tiers structures
-0002a040: 203c 6874 7470 733a 2f2f 646f 6373 2e63   <https://docs.c
-0002a050: 6378 742e 636f 6d2f 232f 3f69 643d 6c65  cxt.com/#/?id=le
-0002a060: 7665 7261 6765 2d74 6965 7273 2d73 7472  verage-tiers-str
-0002a070: 7563 7475 7265 3e60 2c20 696e 6465 7865  ucture>`, indexe
-0002a080: 6420 6279 206d 6172 6b65 7420 7379 6d62  d by market symb
-0002a090: 6f6c 730a 2020 2020 2020 2020 2222 220a  ols.        """.
-0002a0a0: 2020 2020 2020 2020 7365 6c66 2e6c 6f61          self.loa
-0002a0b0: 645f 6d61 726b 6574 7328 290a 2020 2020  d_markets().    
-0002a0c0: 2020 2020 7265 7370 6f6e 7365 203d 2073      response = s
-0002a0d0: 656c 662e 7075 626c 6963 4765 7443 6667  elf.publicGetCfg
-0002a0e0: 5632 5072 6f64 7563 7473 2870 6172 616d  V2Products(param
-0002a0f0: 7329 0a20 2020 2020 2020 2023 0a20 2020  s).        #.   
-0002a100: 2020 2020 2023 2020 2020 207b 0a20 2020       #     {.   
-0002a110: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
-0002a120: 636f 6465 223a 302c 0a20 2020 2020 2020  code":0,.       
-0002a130: 2023 2020 2020 2020 2020 2022 6d73 6722   #         "msg"
-0002a140: 3a22 4f4b 222c 0a20 2020 2020 2020 2023  :"OK",.        #
-0002a150: 2020 2020 2020 2020 2022 6461 7461 223a           "data":
-0002a160: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
-0002a170: 2020 2020 2020 2020 2272 6174 696f 5363          "ratioSc
-0002a180: 616c 6522 3a38 2c0a 2020 2020 2020 2020  ale":8,.        
-0002a190: 2320 2020 2020 2020 2020 2020 2020 2263  #             "c
-0002a1a0: 7572 7265 6e63 6965 7322 3a5b 0a20 2020  urrencies":[.   
-0002a1b0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a1c0: 2020 2020 2020 207b 2263 7572 7265 6e63         {"currenc
-0002a1d0: 7922 3a22 4254 4322 2c22 7661 6c75 6553  y":"BTC","valueS
-0002a1e0: 6361 6c65 223a 382c 226d 696e 5661 6c75  cale":8,"minValu
-0002a1f0: 6545 7622 3a31 2c22 6d61 7856 616c 7565  eEv":1,"maxValue
-0002a200: 4576 223a 3530 3030 3030 3030 3030 3030  Ev":500000000000
-0002a210: 3030 3030 3030 302c 226e 616d 6522 3a22  0000000,"name":"
-0002a220: 4269 7463 6f69 6e22 7d2c 0a20 2020 2020  Bitcoin"},.     
-0002a230: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002a240: 2020 2020 207b 2263 7572 7265 6e63 7922       {"currency"
-0002a250: 3a22 5553 4422 2c22 7661 6c75 6553 6361  :"USD","valueSca
-0002a260: 6c65 223a 342c 226d 696e 5661 6c75 6545  le":4,"minValueE
-0002a270: 7622 3a31 2c22 6d61 7856 616c 7565 4576  v":1,"maxValueEv
-0002a280: 223a 3530 3030 3030 3030 3030 3030 3030  ":50000000000000
-0002a290: 302c 226e 616d 6522 3a22 5553 4422 7d2c  0,"name":"USD"},
-0002a2a0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a2b0: 2020 2020 2020 2020 2020 207b 2263 7572             {"cur
-0002a2c0: 7265 6e63 7922 3a22 5553 4454 222c 2276  rency":"USDT","v
-0002a2d0: 616c 7565 5363 616c 6522 3a38 2c22 6d69  alueScale":8,"mi
-0002a2e0: 6e56 616c 7565 4576 223a 312c 226d 6178  nValueEv":1,"max
-0002a2f0: 5661 6c75 6545 7622 3a35 3030 3030 3030  ValueEv":5000000
-0002a300: 3030 3030 3030 3030 3030 3030 2c22 6e61  000000000000,"na
-0002a310: 6d65 223a 2254 6574 6865 7255 5322 7d2c  me":"TetherUS"},
-0002a320: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a330: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-0002a340: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002a350: 2270 726f 6475 6374 7322 3a5b 0a20 2020  "products":[.   
-0002a360: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a370: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
-0002a380: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a390: 2020 2020 2020 2022 7379 6d62 6f6c 223a         "symbol":
-0002a3a0: 2242 5443 5553 4422 2c0a 2020 2020 2020  "BTCUSD",.      
-0002a3b0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002a3c0: 2020 2020 2020 2020 2264 6973 706c 6179          "display
-0002a3d0: 5379 6d62 6f6c 223a 2242 5443 202f 2055  Symbol":"BTC / U
-0002a3e0: 5344 222c 0a20 2020 2020 2020 2023 2020  SD",.        #  
-0002a3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a400: 2020 2022 696e 6465 7853 796d 626f 6c22     "indexSymbol"
-0002a410: 3a22 2e42 5443 222c 0a20 2020 2020 2020  :".BTC",.       
-0002a420: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a430: 2020 2020 2020 2022 6d61 726b 5379 6d62         "markSymb
-0002a440: 6f6c 223a 222e 4d42 5443 222c 0a20 2020  ol":".MBTC",.   
-0002a450: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a460: 2020 2020 2020 2020 2020 2022 6675 6e64             "fund
-0002a470: 696e 6752 6174 6553 796d 626f 6c22 3a22  ingRateSymbol":"
-0002a480: 2e42 5443 4652 222c 0a20 2020 2020 2020  .BTCFR",.       
-0002a490: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a4a0: 2020 2020 2020 2022 6675 6e64 696e 6752         "fundingR
-0002a4b0: 6174 6538 6853 796d 626f 6c22 3a22 2e42  ate8hSymbol":".B
-0002a4c0: 5443 4652 3848 222c 0a20 2020 2020 2020  TCFR8H",.       
-0002a4d0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a4e0: 2020 2020 2020 2022 636f 6e74 7261 6374         "contract
-0002a4f0: 556e 6465 726c 7969 6e67 4173 7365 7473  UnderlyingAssets
-0002a500: 223a 2255 5344 222c 0a20 2020 2020 2020  ":"USD",.       
-0002a510: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a520: 2020 2020 2020 2022 7365 7474 6c65 4375         "settleCu
-0002a530: 7272 656e 6379 223a 2242 5443 222c 0a20  rrency":"BTC",. 
-0002a540: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002a550: 2020 2020 2020 2020 2020 2020 2022 7175               "qu
-0002a560: 6f74 6543 7572 7265 6e63 7922 3a22 5553  oteCurrency":"US
-0002a570: 4422 2c0a 2020 2020 2020 2020 2320 2020  D",.        #   
-0002a580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a590: 2020 2263 6f6e 7472 6163 7453 697a 6522    "contractSize"
-0002a5a0: 3a31 2e30 2c0a 2020 2020 2020 2020 2320  :1.0,.        # 
-0002a5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a5c0: 2020 2020 226c 6f74 5369 7a65 223a 312c      "lotSize":1,
-0002a5d0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002a5e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0002a5f0: 7469 636b 5369 7a65 223a 302e 352c 0a20  tickSize":0.5,. 
-0002a600: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002a610: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
-0002a620: 6963 6553 6361 6c65 223a 342c 0a20 2020  iceScale":4,.   
-0002a630: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a640: 2020 2020 2020 2020 2020 2022 7261 7469             "rati
-0002a650: 6f53 6361 6c65 223a 382c 0a20 2020 2020  oScale":8,.     
-0002a660: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002a670: 2020 2020 2020 2020 2022 7072 6963 6550           "priceP
-0002a680: 7265 6369 7369 6f6e 223a 312c 0a20 2020  recision":1,.   
-0002a690: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a6a0: 2020 2020 2020 2020 2020 2022 6d69 6e50             "minP
-0002a6b0: 7269 6365 4570 223a 3530 3030 2c0a 2020  riceEp":5000,.  
-0002a6c0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002a6d0: 2020 2020 2020 2020 2020 2020 226d 6178              "max
-0002a6e0: 5072 6963 6545 7022 3a31 3030 3030 3030  PriceEp":1000000
-0002a6f0: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
-0002a700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a710: 2020 2020 226d 6178 4f72 6465 7251 7479      "maxOrderQty
-0002a720: 223a 3130 3030 3030 302c 0a20 2020 2020  ":1000000,.     
-0002a730: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002a740: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
-0002a750: 2250 6572 7065 7475 616c 220a 2020 2020  "Perpetual".    
-0002a760: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002a770: 2020 2020 2020 7d2c 0a20 2020 2020 2020        },.       
-0002a780: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a790: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
-0002a7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a7b0: 2020 2022 7379 6d62 6f6c 223a 2273 4254     "symbol":"sBT
-0002a7c0: 4355 5344 5422 2c0a 2020 2020 2020 2020  CUSDT",.        
-0002a7d0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002a7e0: 2020 2020 2020 2264 6973 706c 6179 5379        "displaySy
-0002a7f0: 6d62 6f6c 223a 2242 5443 202f 2055 5344  mbol":"BTC / USD
-0002a800: 5422 2c0a 2020 2020 2020 2020 2320 2020  T",.        #   
-0002a810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a820: 2020 2271 756f 7465 4375 7272 656e 6379    "quoteCurrency
-0002a830: 223a 2255 5344 5422 2c0a 2020 2020 2020  ":"USDT",.      
-0002a840: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002a850: 2020 2020 2020 2020 2270 7269 6365 5072          "pricePr
-0002a860: 6563 6973 696f 6e22 3a32 2c0a 2020 2020  ecision":2,.    
-0002a870: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002a880: 2020 2020 2020 2020 2020 2274 7970 6522            "type"
-0002a890: 3a22 5370 6f74 222c 0a20 2020 2020 2020  :"Spot",.       
-0002a8a0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a8b0: 2020 2020 2020 2022 6261 7365 4375 7272         "baseCurr
-0002a8c0: 656e 6379 223a 2242 5443 222c 0a20 2020  ency":"BTC",.   
-0002a8d0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002a8e0: 2020 2020 2020 2020 2020 2022 6261 7365             "base
-0002a8f0: 5469 636b 5369 7a65 223a 2230 2e30 3030  TickSize":"0.000
-0002a900: 3030 3120 4254 4322 2c0a 2020 2020 2020  001 BTC",.      
-0002a910: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002a920: 2020 2020 2020 2020 2262 6173 6554 6963          "baseTic
-0002a930: 6b53 697a 6545 7622 3a31 3030 2c0a 2020  kSizeEv":100,.  
-0002a940: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002a950: 2020 2020 2020 2020 2020 2020 2271 756f              "quo
-0002a960: 7465 5469 636b 5369 7a65 223a 2230 2e30  teTickSize":"0.0
-0002a970: 3120 5553 4454 222c 0a20 2020 2020 2020  1 USDT",.       
-0002a980: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002a990: 2020 2020 2020 2022 7175 6f74 6554 6963         "quoteTic
-0002a9a0: 6b53 697a 6545 7622 3a31 3030 3030 3030  kSizeEv":1000000
-0002a9b0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002a9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a9d0: 226d 696e 4f72 6465 7256 616c 7565 223a  "minOrderValue":
-0002a9e0: 2231 3020 5553 4454 222c 0a20 2020 2020  "10 USDT",.     
-0002a9f0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002aa00: 2020 2020 2020 2020 2022 6d69 6e4f 7264           "minOrd
-0002aa10: 6572 5661 6c75 6545 7622 3a31 3030 3030  erValueEv":10000
-0002aa20: 3030 3030 302c 0a20 2020 2020 2020 2023  00000,.        #
-0002aa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002aa40: 2020 2020 2022 6d61 7842 6173 654f 7264       "maxBaseOrd
-0002aa50: 6572 5369 7a65 223a 2231 3030 3020 4254  erSize":"1000 BT
-0002aa60: 4322 2c0a 2020 2020 2020 2020 2320 2020  C",.        #   
-0002aa70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002aa80: 2020 226d 6178 4261 7365 4f72 6465 7253    "maxBaseOrderS
-0002aa90: 697a 6545 7622 3a31 3030 3030 3030 3030  izeEv":100000000
-0002aaa0: 3030 302c 0a20 2020 2020 2020 2023 2020  000,.        #  
-0002aab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002aac0: 2020 2022 6d61 784f 7264 6572 5661 6c75     "maxOrderValu
-0002aad0: 6522 3a22 352c 3030 302c 3030 3020 5553  e":"5,000,000 US
-0002aae0: 4454 222c 0a20 2020 2020 2020 2023 2020  DT",.        #  
-0002aaf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ab00: 2020 2022 6d61 784f 7264 6572 5661 6c75     "maxOrderValu
-0002ab10: 6545 7622 3a35 3030 3030 3030 3030 3030  eEv":50000000000
-0002ab20: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
-0002ab30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ab40: 2020 2020 2264 6566 6175 6c74 5461 6b65      "defaultTake
-0002ab50: 7246 6565 223a 2230 2e30 3031 222c 0a20  rFee":"0.001",. 
-0002ab60: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002ab70: 2020 2020 2020 2020 2020 2020 2022 6465               "de
-0002ab80: 6661 756c 7454 616b 6572 4665 6545 7222  faultTakerFeeEr"
-0002ab90: 3a31 3030 3030 302c 0a20 2020 2020 2020  :100000,.       
-0002aba0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002abb0: 2020 2020 2020 2022 6465 6661 756c 744d         "defaultM
-0002abc0: 616b 6572 4665 6522 3a22 302e 3030 3122  akerFee":"0.001"
-0002abd0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002abe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002abf0: 2264 6566 6175 6c74 4d61 6b65 7246 6565  "defaultMakerFee
-0002ac00: 4572 223a 3130 3030 3030 2c0a 2020 2020  Er":100000,.    
-0002ac10: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002ac20: 2020 2020 2020 2020 2020 2262 6173 6551            "baseQ
-0002ac30: 7479 5072 6563 6973 696f 6e22 3a36 2c0a  tyPrecision":6,.
-0002ac40: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002ac50: 2020 2020 2020 2020 2020 2020 2020 2271                "q
-0002ac60: 756f 7465 5174 7950 7265 6369 7369 6f6e  uoteQtyPrecision
-0002ac70: 223a 320a 2020 2020 2020 2020 2320 2020  ":2.        #   
-0002ac80: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
-0002ac90: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002aca0: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-0002acb0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002acc0: 2272 6973 6b4c 696d 6974 7322 3a5b 0a20  "riskLimits":[. 
-0002acd0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002ace0: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
-0002acf0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002ad00: 2020 2020 2020 2020 2022 7379 6d62 6f6c           "symbol
-0002ad10: 223a 2242 5443 5553 4422 2c0a 2020 2020  ":"BTCUSD",.    
-0002ad20: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002ad30: 2020 2020 2020 2020 2020 2273 7465 7073            "steps
-0002ad40: 223a 2235 3022 2c0a 2020 2020 2020 2020  ":"50",.        
-0002ad50: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002ad60: 2020 2020 2020 2272 6973 6b4c 696d 6974        "riskLimit
-0002ad70: 7322 3a5b 0a20 2020 2020 2020 2023 2020  s":[.        #  
+0001d3f0: 6569 7468 6572 2027 4d65 7267 6564 2720  either 'Merged' 
+0001d400: 6f72 2027 4c6f 6e67 2720 6f72 2027 5368  or 'Long' or 'Sh
+0001d410: 6f72 7427 0a20 2020 2020 2020 203a 7265  ort'.        :re
+0001d420: 7475 726e 7320 6469 6374 3a20 616e 2060  turns dict: an `
+0001d430: 6f72 6465 7220 7374 7275 6374 7572 6520  order structure 
+0001d440: 3c68 7474 7073 3a2f 2f64 6f63 732e 6363  <https://docs.cc
+0001d450: 7874 2e63 6f6d 2f23 2f3f 6964 3d6f 7264  xt.com/#/?id=ord
+0001d460: 6572 2d73 7472 7563 7475 7265 3e60 0a20  er-structure>`. 
+0001d470: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001d480: 2020 2069 6620 7379 6d62 6f6c 2069 7320     if symbol is 
+0001d490: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0001d4a0: 2020 7261 6973 6520 4172 6775 6d65 6e74    raise Argument
+0001d4b0: 7352 6571 7569 7265 6428 7365 6c66 2e69  sRequired(self.i
+0001d4c0: 6420 2b20 2720 6564 6974 4f72 6465 7228  d + ' editOrder(
+0001d4d0: 2920 7265 7175 6972 6573 2061 2073 796d  ) requires a sym
+0001d4e0: 626f 6c20 6172 6775 6d65 6e74 2729 0a20  bol argument'). 
+0001d4f0: 2020 2020 2020 2073 656c 662e 6c6f 6164         self.load
+0001d500: 5f6d 6172 6b65 7473 2829 0a20 2020 2020  _markets().     
+0001d510: 2020 206d 6172 6b65 7420 3d20 7365 6c66     market = self
+0001d520: 2e6d 6172 6b65 7428 7379 6d62 6f6c 290a  .market(symbol).
+0001d530: 2020 2020 2020 2020 7265 7175 6573 7420          request 
+0001d540: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0001d550: 2773 796d 626f 6c27 3a20 6d61 726b 6574  'symbol': market
+0001d560: 5b27 6964 275d 2c0a 2020 2020 2020 2020  ['id'],.        
+0001d570: 7d0a 2020 2020 2020 2020 636c 6965 6e74  }.        client
+0001d580: 4f72 6465 7249 6420 3d20 7365 6c66 2e73  OrderId = self.s
+0001d590: 6166 655f 7374 7269 6e67 5f32 2870 6172  afe_string_2(par
+0001d5a0: 616d 732c 2027 636c 6965 6e74 4f72 6465  ams, 'clientOrde
+0001d5b0: 7249 6427 2c20 2763 6c4f 7264 4944 2729  rId', 'clOrdID')
+0001d5c0: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+0001d5d0: 3d20 7365 6c66 2e6f 6d69 7428 7061 7261  = self.omit(para
+0001d5e0: 6d73 2c20 5b27 636c 6965 6e74 4f72 6465  ms, ['clientOrde
+0001d5f0: 7249 6427 2c20 2763 6c4f 7264 4944 275d  rId', 'clOrdID']
+0001d600: 290a 2020 2020 2020 2020 6973 5553 4454  ).        isUSDT
+0001d610: 5365 7474 6c65 6420 3d20 286d 6172 6b65  Settled = (marke
+0001d620: 745b 2773 6574 746c 6527 5d20 3d3d 2027  t['settle'] == '
+0001d630: 5553 4454 2729 0a20 2020 2020 2020 2069  USDT').        i
+0001d640: 6620 636c 6965 6e74 4f72 6465 7249 6420  f clientOrderId 
+0001d650: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+0001d660: 2020 2020 2020 2020 2072 6571 7565 7374           request
+0001d670: 5b27 636c 4f72 6449 4427 5d20 3d20 636c  ['clOrdID'] = cl
+0001d680: 6965 6e74 4f72 6465 7249 640a 2020 2020  ientOrderId.    
+0001d690: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001d6a0: 2020 2020 2020 7265 7175 6573 745b 276f        request['o
+0001d6b0: 7264 6572 4944 275d 203d 2069 640a 2020  rderID'] = id.  
+0001d6c0: 2020 2020 2020 6966 2070 7269 6365 2069        if price i
+0001d6d0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+0001d6e0: 2020 2020 2020 2020 6966 2069 7355 5344          if isUSD
+0001d6f0: 5453 6574 746c 6564 3a0a 2020 2020 2020  TSettled:.      
+0001d700: 2020 2020 2020 2020 2020 7265 7175 6573            reques
+0001d710: 745b 2770 7269 6365 5270 275d 203d 2073  t['priceRp'] = s
+0001d720: 656c 662e 7072 6963 655f 746f 5f70 7265  elf.price_to_pre
+0001d730: 6369 7369 6f6e 286d 6172 6b65 745b 2773  cision(market['s
+0001d740: 796d 626f 6c27 5d2c 2070 7269 6365 290a  ymbol'], price).
+0001d750: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0001d760: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001d770: 2020 7265 7175 6573 745b 2770 7269 6365    request['price
+0001d780: 4570 275d 203d 2073 656c 662e 746f 5f65  Ep'] = self.to_e
+0001d790: 7028 7072 6963 652c 206d 6172 6b65 7429  p(price, market)
+0001d7a0: 0a20 2020 2020 2020 2023 204e 6f74 6520  .        # Note 
+0001d7b0: 7468 6520 7570 7065 7263 6173 6520 2756  the uppercase 'V
+0001d7c0: 2720 696e 2027 6261 7365 5174 7945 5627  ' in 'baseQtyEV'
+0001d7d0: 2072 6571 7565 7374 2e20 7468 6174 2069   request. that i
+0001d7e0: 7320 6578 6368 616e 6765 2773 2072 6571  s exchange's req
+0001d7f0: 7569 7265 6d65 6e74 2061 7420 7365 6c66  uirement at self
+0001d800: 206d 6f6d 656e 742e 2048 6f77 6576 6572   moment. However
+0001d810: 2c20 746f 2061 766f 6964 206d 6973 7461  , to avoid mista
+0001d820: 6b65 7320 6672 6f6d 2075 7365 7220 7369  kes from user si
+0001d830: 6465 2c20 6c65 7427 7320 7375 7070 6f72  de, let's suppor
+0001d840: 7420 6c6f 7765 7263 6173 6564 2027 6261  t lowercased 'ba
+0001d850: 7365 5174 7945 7627 2074 6f6f 0a20 2020  seQtyEv' too.   
+0001d860: 2020 2020 2066 696e 616c 5174 7920 3d20       finalQty = 
+0001d870: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+0001d880: 2870 6172 616d 732c 2027 6261 7365 5174  (params, 'baseQt
+0001d890: 7945 7627 290a 2020 2020 2020 2020 7061  yEv').        pa
+0001d8a0: 7261 6d73 203d 2073 656c 662e 6f6d 6974  rams = self.omit
+0001d8b0: 2870 6172 616d 732c 205b 2762 6173 6551  (params, ['baseQ
+0001d8c0: 7479 4576 275d 290a 2020 2020 2020 2020  tyEv']).        
+0001d8d0: 6966 2066 696e 616c 5174 7920 6973 206e  if finalQty is n
+0001d8e0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+0001d8f0: 2020 2020 2072 6571 7565 7374 5b27 6261       request['ba
+0001d900: 7365 5174 7945 5627 5d20 3d20 6669 6e61  seQtyEV'] = fina
+0001d910: 6c51 7479 0a20 2020 2020 2020 2065 6c69  lQty.        eli
+0001d920: 6620 616d 6f75 6e74 2069 7320 6e6f 7420  f amount is not 
+0001d930: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0001d940: 2020 6966 2069 7355 5344 5453 6574 746c    if isUSDTSettl
+0001d950: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
+0001d960: 2020 2020 7265 7175 6573 745b 2762 6173      request['bas
+0001d970: 6551 7479 4556 275d 203d 2073 656c 662e  eQtyEV'] = self.
+0001d980: 616d 6f75 6e74 5f74 6f5f 7072 6563 6973  amount_to_precis
+0001d990: 696f 6e28 6d61 726b 6574 5b27 7379 6d62  ion(market['symb
+0001d9a0: 6f6c 275d 2c20 616d 6f75 6e74 290a 2020  ol'], amount).  
+0001d9b0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0001d9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d9d0: 7265 7175 6573 745b 2762 6173 6551 7479  request['baseQty
+0001d9e0: 4556 275d 203d 2073 656c 662e 746f 5f65  EV'] = self.to_e
+0001d9f0: 7628 616d 6f75 6e74 2c20 6d61 726b 6574  v(amount, market
+0001da00: 290a 2020 2020 2020 2020 7374 6f70 5072  ).        stopPr
+0001da10: 6963 6520 3d20 7365 6c66 2e73 6166 655f  ice = self.safe_
+0001da20: 7374 7269 6e67 5f32 2870 6172 616d 732c  string_2(params,
+0001da30: 2027 7374 6f70 5078 272c 2027 7374 6f70   'stopPx', 'stop
+0001da40: 5072 6963 6527 290a 2020 2020 2020 2020  Price').        
+0001da50: 6966 2073 746f 7050 7269 6365 2069 7320  if stopPrice is 
+0001da60: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+0001da70: 2020 2020 2020 6966 2069 7355 5344 5453        if isUSDTS
+0001da80: 6574 746c 6564 3a0a 2020 2020 2020 2020  ettled:.        
+0001da90: 2020 2020 2020 2020 7265 7175 6573 745b          request[
+0001daa0: 2773 746f 7050 7852 7027 5d20 3d20 7365  'stopPxRp'] = se
+0001dab0: 6c66 2e70 7269 6365 5f74 6f5f 7072 6563  lf.price_to_prec
+0001dac0: 6973 696f 6e28 7379 6d62 6f6c 2c20 7374  ision(symbol, st
+0001dad0: 6f70 5072 6963 6529 0a20 2020 2020 2020  opPrice).       
+0001dae0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001daf0: 2020 2020 2020 2020 2020 2072 6571 7565             reque
+0001db00: 7374 5b27 7374 6f70 5078 4570 275d 203d  st['stopPxEp'] =
+0001db10: 2073 656c 662e 746f 5f65 7028 7374 6f70   self.to_ep(stop
+0001db20: 5072 6963 652c 206d 6172 6b65 7429 0a20  Price, market). 
+0001db30: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0001db40: 7365 6c66 2e6f 6d69 7428 7061 7261 6d73  self.omit(params
+0001db50: 2c20 5b27 7374 6f70 5078 272c 2027 7374  , ['stopPx', 'st
+0001db60: 6f70 5072 6963 6527 5d29 0a20 2020 2020  opPrice']).     
+0001db70: 2020 206d 6574 686f 6420 3d20 2770 7269     method = 'pri
+0001db80: 7661 7465 5075 7453 706f 744f 7264 6572  vatePutSpotOrder
+0001db90: 7327 0a20 2020 2020 2020 2069 6620 6973  s'.        if is
+0001dba0: 5553 4454 5365 7474 6c65 643a 0a20 2020  USDTSettled:.   
+0001dbb0: 2020 2020 2020 2020 206d 6574 686f 6420           method 
+0001dbc0: 3d20 2770 7269 7661 7465 5075 7447 4f72  = 'privatePutGOr
+0001dbd0: 6465 7273 5265 706c 6163 6527 0a20 2020  dersReplace'.   
+0001dbe0: 2020 2020 2020 2020 2070 6f73 5369 6465           posSide
+0001dbf0: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
+0001dc00: 696e 6728 7061 7261 6d73 2c20 2770 6f73  ing(params, 'pos
+0001dc10: 5369 6465 2729 0a20 2020 2020 2020 2020  Side').         
+0001dc20: 2020 2069 6620 706f 7353 6964 6520 6973     if posSide is
+0001dc30: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0001dc40: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
+0001dc50: 706f 7353 6964 6527 5d20 3d20 274d 6572  posSide'] = 'Mer
+0001dc60: 6765 6427 0a20 2020 2020 2020 2065 6c69  ged'.        eli
+0001dc70: 6620 6d61 726b 6574 5b27 7377 6170 275d  f market['swap']
+0001dc80: 3a0a 2020 2020 2020 2020 2020 2020 6d65  :.            me
+0001dc90: 7468 6f64 203d 2027 7072 6976 6174 6550  thod = 'privateP
+0001dca0: 7574 4f72 6465 7273 5265 706c 6163 6527  utOrdersReplace'
+0001dcb0: 0a20 2020 2020 2020 2072 6573 706f 6e73  .        respons
+0001dcc0: 6520 3d20 6765 7461 7474 7228 7365 6c66  e = getattr(self
+0001dcd0: 2c20 6d65 7468 6f64 2928 7365 6c66 2e65  , method)(self.e
+0001dce0: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
+0001dcf0: 6172 616d 7329 290a 2020 2020 2020 2020  arams)).        
+0001dd00: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
+0001dd10: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
+0001dd20: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
+0001dd30: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0001dd40: 2e70 6172 7365 5f6f 7264 6572 2864 6174  .parse_order(dat
+0001dd50: 612c 206d 6172 6b65 7429 0a0a 2020 2020  a, market)..    
+0001dd60: 6465 6620 6361 6e63 656c 5f6f 7264 6572  def cancel_order
+0001dd70: 2873 656c 662c 2069 643a 2073 7472 2c20  (self, id: str, 
+0001dd80: 7379 6d62 6f6c 3a20 4f70 7469 6f6e 616c  symbol: Optional
+0001dd90: 5b73 7472 5d20 3d20 4e6f 6e65 2c20 7061  [str] = None, pa
+0001dda0: 7261 6d73 3d7b 7d29 3a0a 2020 2020 2020  rams={}):.      
+0001ddb0: 2020 2222 220a 2020 2020 2020 2020 6361    """.        ca
+0001ddc0: 6e63 656c 7320 616e 206f 7065 6e20 6f72  ncels an open or
+0001ddd0: 6465 720a 2020 2020 2020 2020 7365 6520  der.        see 
+0001dde0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001ddf0: 6f6d 2f70 6865 6d65 782f 7068 656d 6578  om/phemex/phemex
+0001de00: 2d61 7069 2d64 6f63 732f 626c 6f62 2f6d  -api-docs/blob/m
+0001de10: 6173 7465 722f 5075 626c 6963 2d48 6564  aster/Public-Hed
+0001de20: 6765 642d 5065 7270 6574 7561 6c2d 4150  ged-Perpetual-AP
+0001de30: 492e 6d64 2363 616e 6365 6c2d 7369 6e67  I.md#cancel-sing
+0001de40: 6c65 2d6f 7264 6572 2d62 792d 6f72 6465  le-order-by-orde
+0001de50: 7269 640a 2020 2020 2020 2020 3a70 6172  rid.        :par
+0001de60: 616d 2073 7472 2069 643a 206f 7264 6572  am str id: order
+0001de70: 2069 640a 2020 2020 2020 2020 3a70 6172   id.        :par
+0001de80: 616d 2073 7472 2073 796d 626f 6c3a 2075  am str symbol: u
+0001de90: 6e69 6669 6564 2073 796d 626f 6c20 6f66  nified symbol of
+0001dea0: 2074 6865 206d 6172 6b65 7420 7468 6520   the market the 
+0001deb0: 6f72 6465 7220 7761 7320 6d61 6465 2069  order was made i
+0001dec0: 6e0a 2020 2020 2020 2020 3a70 6172 616d  n.        :param
+0001ded0: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
+0001dee0: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
+0001def0: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
+0001df00: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
+0001df10: 6e74 0a20 2020 2020 2020 203a 7061 7261  nt.        :para
+0001df20: 6d20 7374 727c 4e6f 6e65 2070 6172 616d  m str|None param
+0001df30: 735b 2770 6f73 5369 6465 275d 3a20 6569  s['posSide']: ei
+0001df40: 7468 6572 2027 4d65 7267 6564 2720 6f72  ther 'Merged' or
+0001df50: 2027 4c6f 6e67 2720 6f72 2027 5368 6f72   'Long' or 'Shor
+0001df60: 7427 0a20 2020 2020 2020 203a 7265 7475  t'.        :retu
+0001df70: 726e 7320 6469 6374 3a20 416e 2060 6f72  rns dict: An `or
+0001df80: 6465 7220 7374 7275 6374 7572 6520 3c68  der structure <h
+0001df90: 7474 7073 3a2f 2f64 6f63 732e 6363 7874  ttps://docs.ccxt
+0001dfa0: 2e63 6f6d 2f23 2f3f 6964 3d6f 7264 6572  .com/#/?id=order
+0001dfb0: 2d73 7472 7563 7475 7265 3e60 0a20 2020  -structure>`.   
+0001dfc0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001dfd0: 2069 6620 7379 6d62 6f6c 2069 7320 4e6f   if symbol is No
+0001dfe0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0001dff0: 7261 6973 6520 4172 6775 6d65 6e74 7352  raise ArgumentsR
+0001e000: 6571 7569 7265 6428 7365 6c66 2e69 6420  equired(self.id 
+0001e010: 2b20 2720 6361 6e63 656c 4f72 6465 7228  + ' cancelOrder(
+0001e020: 2920 7265 7175 6972 6573 2061 2073 796d  ) requires a sym
+0001e030: 626f 6c20 6172 6775 6d65 6e74 2729 0a20  bol argument'). 
+0001e040: 2020 2020 2020 2073 656c 662e 6c6f 6164         self.load
+0001e050: 5f6d 6172 6b65 7473 2829 0a20 2020 2020  _markets().     
+0001e060: 2020 206d 6172 6b65 7420 3d20 7365 6c66     market = self
+0001e070: 2e6d 6172 6b65 7428 7379 6d62 6f6c 290a  .market(symbol).
+0001e080: 2020 2020 2020 2020 7265 7175 6573 7420          request 
+0001e090: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0001e0a0: 2773 796d 626f 6c27 3a20 6d61 726b 6574  'symbol': market
+0001e0b0: 5b27 6964 275d 2c0a 2020 2020 2020 2020  ['id'],.        
+0001e0c0: 7d0a 2020 2020 2020 2020 636c 6965 6e74  }.        client
+0001e0d0: 4f72 6465 7249 6420 3d20 7365 6c66 2e73  OrderId = self.s
+0001e0e0: 6166 655f 7374 7269 6e67 5f32 2870 6172  afe_string_2(par
+0001e0f0: 616d 732c 2027 636c 6965 6e74 4f72 6465  ams, 'clientOrde
+0001e100: 7249 6427 2c20 2763 6c4f 7264 4944 2729  rId', 'clOrdID')
+0001e110: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+0001e120: 3d20 7365 6c66 2e6f 6d69 7428 7061 7261  = self.omit(para
+0001e130: 6d73 2c20 5b27 636c 6965 6e74 4f72 6465  ms, ['clientOrde
+0001e140: 7249 6427 2c20 2763 6c4f 7264 4944 275d  rId', 'clOrdID']
+0001e150: 290a 2020 2020 2020 2020 6966 2063 6c69  ).        if cli
+0001e160: 656e 744f 7264 6572 4964 2069 7320 6e6f  entOrderId is no
+0001e170: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+0001e180: 2020 2020 7265 7175 6573 745b 2763 6c4f      request['clO
+0001e190: 7264 4944 275d 203d 2063 6c69 656e 744f  rdID'] = clientO
+0001e1a0: 7264 6572 4964 0a20 2020 2020 2020 2065  rderId.        e
+0001e1b0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001e1c0: 2072 6571 7565 7374 5b27 6f72 6465 7249   request['orderI
+0001e1d0: 4427 5d20 3d20 6964 0a20 2020 2020 2020  D'] = id.       
+0001e1e0: 206d 6574 686f 6420 3d20 2770 7269 7661   method = 'priva
+0001e1f0: 7465 4465 6c65 7465 5370 6f74 4f72 6465  teDeleteSpotOrde
+0001e200: 7273 270a 2020 2020 2020 2020 6966 206d  rs'.        if m
+0001e210: 6172 6b65 745b 2773 6574 746c 6527 5d20  arket['settle'] 
+0001e220: 3d3d 2027 5553 4454 273a 0a20 2020 2020  == 'USDT':.     
+0001e230: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
+0001e240: 2770 7269 7661 7465 4465 6c65 7465 474f  'privateDeleteGO
+0001e250: 7264 6572 7343 616e 6365 6c27 0a20 2020  rdersCancel'.   
+0001e260: 2020 2020 2020 2020 2070 6f73 5369 6465           posSide
+0001e270: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
+0001e280: 696e 6728 7061 7261 6d73 2c20 2770 6f73  ing(params, 'pos
+0001e290: 5369 6465 2729 0a20 2020 2020 2020 2020  Side').         
+0001e2a0: 2020 2069 6620 706f 7353 6964 6520 6973     if posSide is
+0001e2b0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0001e2c0: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
+0001e2d0: 706f 7353 6964 6527 5d20 3d20 274d 6572  posSide'] = 'Mer
+0001e2e0: 6765 6427 0a20 2020 2020 2020 2065 6c69  ged'.        eli
+0001e2f0: 6620 6d61 726b 6574 5b27 7377 6170 275d  f market['swap']
+0001e300: 3a0a 2020 2020 2020 2020 2020 2020 6d65  :.            me
+0001e310: 7468 6f64 203d 2027 7072 6976 6174 6544  thod = 'privateD
+0001e320: 656c 6574 654f 7264 6572 7343 616e 6365  eleteOrdersCance
+0001e330: 6c27 0a20 2020 2020 2020 2072 6573 706f  l'.        respo
+0001e340: 6e73 6520 3d20 6765 7461 7474 7228 7365  nse = getattr(se
+0001e350: 6c66 2c20 6d65 7468 6f64 2928 7365 6c66  lf, method)(self
+0001e360: 2e65 7874 656e 6428 7265 7175 6573 742c  .extend(request,
+0001e370: 2070 6172 616d 7329 290a 2020 2020 2020   params)).      
+0001e380: 2020 6461 7461 203d 2073 656c 662e 7361    data = self.sa
+0001e390: 6665 5f76 616c 7565 2872 6573 706f 6e73  fe_value(respons
+0001e3a0: 652c 2027 6461 7461 272c 207b 7d29 0a20  e, 'data', {}). 
+0001e3b0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+0001e3c0: 6c66 2e70 6172 7365 5f6f 7264 6572 2864  lf.parse_order(d
+0001e3d0: 6174 612c 206d 6172 6b65 7429 0a0a 2020  ata, market)..  
+0001e3e0: 2020 6465 6620 6361 6e63 656c 5f61 6c6c    def cancel_all
+0001e3f0: 5f6f 7264 6572 7328 7365 6c66 2c20 7379  _orders(self, sy
+0001e400: 6d62 6f6c 3a20 4f70 7469 6f6e 616c 5b73  mbol: Optional[s
+0001e410: 7472 5d20 3d20 4e6f 6e65 2c20 7061 7261  tr] = None, para
+0001e420: 6d73 3d7b 7d29 3a0a 2020 2020 2020 2020  ms={}):.        
+0001e430: 2222 220a 2020 2020 2020 2020 6361 6e63  """.        canc
+0001e440: 656c 2061 6c6c 206f 7065 6e20 6f72 6465  el all open orde
+0001e450: 7273 2069 6e20 6120 6d61 726b 6574 0a20  rs in a market. 
+0001e460: 2020 2020 2020 2073 6565 2068 7474 7073         see https
+0001e470: 3a2f 2f67 6974 6875 622e 636f 6d2f 7068  ://github.com/ph
+0001e480: 656d 6578 2f70 6865 6d65 782d 6170 692d  emex/phemex-api-
+0001e490: 646f 6373 2f62 6c6f 622f 6d61 7374 6572  docs/blob/master
+0001e4a0: 2f50 7562 6c69 632d 4865 6467 6564 2d50  /Public-Hedged-P
+0001e4b0: 6572 7065 7475 616c 2d41 5049 2e6d 6423  erpetual-API.md#
+0001e4c0: 6361 6e63 656c 616c 6c0a 2020 2020 2020  cancelall.      
+0001e4d0: 2020 3a70 6172 616d 2073 7472 2073 796d    :param str sym
+0001e4e0: 626f 6c3a 2075 6e69 6669 6564 206d 6172  bol: unified mar
+0001e4f0: 6b65 7420 7379 6d62 6f6c 206f 6620 7468  ket symbol of th
+0001e500: 6520 6d61 726b 6574 2074 6f20 6361 6e63  e market to canc
+0001e510: 656c 206f 7264 6572 7320 696e 0a20 2020  el orders in.   
+0001e520: 2020 2020 203a 7061 7261 6d20 6469 6374       :param dict
+0001e530: 2070 6172 616d 733a 2065 7874 7261 2070   params: extra p
+0001e540: 6172 616d 6574 6572 7320 7370 6563 6966  arameters specif
+0001e550: 6963 2074 6f20 7468 6520 7068 656d 6578  ic to the phemex
+0001e560: 2061 7069 2065 6e64 706f 696e 740a 2020   api endpoint.  
+0001e570: 2020 2020 2020 3a72 6574 7572 6e73 205b        :returns [
+0001e580: 6469 6374 5d3a 2061 206c 6973 7420 6f66  dict]: a list of
+0001e590: 2060 6f72 6465 7220 7374 7275 6374 7572   `order structur
+0001e5a0: 6573 203c 6874 7470 733a 2f2f 646f 6373  es <https://docs
+0001e5b0: 2e63 6378 742e 636f 6d2f 232f 3f69 643d  .ccxt.com/#/?id=
+0001e5c0: 6f72 6465 722d 7374 7275 6374 7572 653e  order-structure>
+0001e5d0: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
+0001e5e0: 2020 2020 2020 6966 2073 796d 626f 6c20        if symbol 
+0001e5f0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+0001e600: 2020 2020 2072 6169 7365 2041 7267 756d       raise Argum
+0001e610: 656e 7473 5265 7175 6972 6564 2873 656c  entsRequired(sel
+0001e620: 662e 6964 202b 2027 2063 616e 6365 6c41  f.id + ' cancelA
+0001e630: 6c6c 4f72 6465 7273 2829 2072 6571 7569  llOrders() requi
+0001e640: 7265 7320 6120 7379 6d62 6f6c 2061 7267  res a symbol arg
+0001e650: 756d 656e 7427 290a 2020 2020 2020 2020  ument').        
+0001e660: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
+0001e670: 7328 290a 2020 2020 2020 2020 7265 7175  s().        requ
+0001e680: 6573 7420 3d20 7b0a 2020 2020 2020 2020  est = {.        
+0001e690: 2020 2020 2320 2773 796d 626f 6c27 3a20      # 'symbol': 
+0001e6a0: 6d61 726b 6574 5b27 6964 275d 2c0a 2020  market['id'],.  
+0001e6b0: 2020 2020 2020 2020 2020 2320 2775 6e74            # 'unt
+0001e6c0: 7269 6767 6572 7265 6427 3a20 4661 6c73  riggerred': Fals
+0001e6d0: 652c 2020 2320 4661 6c73 6520 746f 2063  e,  # False to c
+0001e6e0: 616e 6365 6c20 6e6f 6e2d 636f 6e64 6974  ancel non-condit
+0001e6f0: 696f 6e61 6c20 6f72 6465 7273 2c20 5472  ional orders, Tr
+0001e700: 7565 2074 6f20 6361 6e63 656c 2063 6f6e  ue to cancel con
+0001e710: 6469 7469 6f6e 616c 206f 7264 6572 730a  ditional orders.
+0001e720: 2020 2020 2020 2020 2020 2020 2320 2774              # 't
+0001e730: 6578 7427 3a20 2775 7020 746f 2034 3020  ext': 'up to 40 
+0001e740: 6368 6172 6163 7465 7273 206d 6178 272c  characters max',
+0001e750: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
+0001e760: 2020 206d 6172 6b65 7420 3d20 7365 6c66     market = self
+0001e770: 2e6d 6172 6b65 7428 7379 6d62 6f6c 290a  .market(symbol).
+0001e780: 2020 2020 2020 2020 6d65 7468 6f64 203d          method =
+0001e790: 2027 7072 6976 6174 6544 656c 6574 6553   'privateDeleteS
+0001e7a0: 706f 744f 7264 6572 7341 6c6c 270a 2020  potOrdersAll'.  
+0001e7b0: 2020 2020 2020 6966 206d 6172 6b65 745b        if market[
+0001e7c0: 2773 6574 746c 6527 5d20 3d3d 2027 5553  'settle'] == 'US
+0001e7d0: 4454 273a 0a20 2020 2020 2020 2020 2020  DT':.           
+0001e7e0: 206d 6574 686f 6420 3d20 2770 7269 7661   method = 'priva
+0001e7f0: 7465 4465 6c65 7465 474f 7264 6572 7341  teDeleteGOrdersA
+0001e800: 6c6c 270a 2020 2020 2020 2020 656c 6966  ll'.        elif
+0001e810: 206d 6172 6b65 745b 2773 7761 7027 5d3a   market['swap']:
+0001e820: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+0001e830: 686f 6420 3d20 2770 7269 7661 7465 4465  hod = 'privateDe
+0001e840: 6c65 7465 4f72 6465 7273 416c 6c27 0a20  leteOrdersAll'. 
+0001e850: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
+0001e860: 7379 6d62 6f6c 275d 203d 206d 6172 6b65  symbol'] = marke
+0001e870: 745b 2769 6427 5d0a 2020 2020 2020 2020  t['id'].        
+0001e880: 7265 7475 726e 2067 6574 6174 7472 2873  return getattr(s
+0001e890: 656c 662c 206d 6574 686f 6429 2873 656c  elf, method)(sel
+0001e8a0: 662e 6578 7465 6e64 2872 6571 7565 7374  f.extend(request
+0001e8b0: 2c20 7061 7261 6d73 2929 0a0a 2020 2020  , params))..    
+0001e8c0: 6465 6620 6665 7463 685f 6f72 6465 7228  def fetch_order(
+0001e8d0: 7365 6c66 2c20 6964 3a20 7374 722c 2073  self, id: str, s
+0001e8e0: 796d 626f 6c3a 204f 7074 696f 6e61 6c5b  ymbol: Optional[
+0001e8f0: 7374 725d 203d 204e 6f6e 652c 2070 6172  str] = None, par
+0001e900: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
+0001e910: 2022 2222 0a20 2020 2020 2020 2066 6574   """.        fet
+0001e920: 6368 6573 2069 6e66 6f72 6d61 7469 6f6e  ches information
+0001e930: 206f 6e20 616e 206f 7264 6572 206d 6164   on an order mad
+0001e940: 6520 6279 2074 6865 2075 7365 720a 2020  e by the user.  
+0001e950: 2020 2020 2020 3a70 6172 616d 2073 7472        :param str
+0001e960: 2073 796d 626f 6c3a 2075 6e69 6669 6564   symbol: unified
+0001e970: 2073 796d 626f 6c20 6f66 2074 6865 206d   symbol of the m
+0001e980: 6172 6b65 7420 7468 6520 6f72 6465 7220  arket the order 
+0001e990: 7761 7320 6d61 6465 2069 6e0a 2020 2020  was made in.    
+0001e9a0: 2020 2020 3a70 6172 616d 2064 6963 7420      :param dict 
+0001e9b0: 7061 7261 6d73 3a20 6578 7472 6120 7061  params: extra pa
+0001e9c0: 7261 6d65 7465 7273 2073 7065 6369 6669  rameters specifi
+0001e9d0: 6320 746f 2074 6865 2070 6865 6d65 7820  c to the phemex 
+0001e9e0: 6170 6920 656e 6470 6f69 6e74 0a20 2020  api endpoint.   
+0001e9f0: 2020 2020 203a 7265 7475 726e 7320 6469       :returns di
+0001ea00: 6374 3a20 416e 2060 6f72 6465 7220 7374  ct: An `order st
+0001ea10: 7275 6374 7572 6520 3c68 7474 7073 3a2f  ructure <https:/
+0001ea20: 2f64 6f63 732e 6363 7874 2e63 6f6d 2f23  /docs.ccxt.com/#
+0001ea30: 2f3f 6964 3d6f 7264 6572 2d73 7472 7563  /?id=order-struc
+0001ea40: 7475 7265 3e60 0a20 2020 2020 2020 2022  ture>`.        "
+0001ea50: 2222 0a20 2020 2020 2020 2069 6620 7379  "".        if sy
+0001ea60: 6d62 6f6c 2069 7320 4e6f 6e65 3a0a 2020  mbol is None:.  
+0001ea70: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0001ea80: 4172 6775 6d65 6e74 7352 6571 7569 7265  ArgumentsRequire
+0001ea90: 6428 7365 6c66 2e69 6420 2b20 2720 6665  d(self.id + ' fe
+0001eaa0: 7463 684f 7264 6572 2829 2072 6571 7569  tchOrder() requi
+0001eab0: 7265 7320 6120 7379 6d62 6f6c 2061 7267  res a symbol arg
+0001eac0: 756d 656e 7427 290a 2020 2020 2020 2020  ument').        
+0001ead0: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
+0001eae0: 7328 290a 2020 2020 2020 2020 6d61 726b  s().        mark
+0001eaf0: 6574 203d 2073 656c 662e 6d61 726b 6574  et = self.market
+0001eb00: 2873 796d 626f 6c29 0a20 2020 2020 2020  (symbol).       
+0001eb10: 2069 6620 6d61 726b 6574 5b27 7365 7474   if market['sett
+0001eb20: 6c65 275d 203d 3d20 2755 5344 5427 3a0a  le'] == 'USDT':.
+0001eb30: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001eb40: 6520 4e6f 7453 7570 706f 7274 6564 2873  e NotSupported(s
+0001eb50: 656c 662e 6964 202b 2027 6665 7463 684f  elf.id + 'fetchO
+0001eb60: 7264 6572 2829 2069 7320 6e6f 7420 7375  rder() is not su
+0001eb70: 7070 6f72 7465 6420 7965 7420 666f 7220  pported yet for 
+0001eb80: 5553 4454 2073 6574 746c 6564 2073 7761  USDT settled swa
+0001eb90: 7020 6d61 726b 6574 7327 2920 2023 2068  p markets')  # h
+0001eba0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001ebb0: 6d2f 7068 656d 6578 2f70 6865 6d65 782d  m/phemex/phemex-
+0001ebc0: 6170 692d 646f 6373 2f62 6c6f 622f 6d61  api-docs/blob/ma
+0001ebd0: 7374 6572 2f50 7562 6c69 632d 4865 6467  ster/Public-Hedg
+0001ebe0: 6564 2d50 6572 7065 7475 616c 2d41 5049  ed-Perpetual-API
+0001ebf0: 2e6d 6423 7175 6572 792d 7573 6572 2d6f  .md#query-user-o
+0001ec00: 7264 6572 2d62 792d 6f72 6465 7269 642d  rder-by-orderid-
+0001ec10: 6f72 2d71 7565 7279 2d75 7365 722d 6f72  or-query-user-or
+0001ec20: 6465 722d 6279 2d63 6c69 656e 742d 6f72  der-by-client-or
+0001ec30: 6465 722d 6964 0a20 2020 2020 2020 206d  der-id.        m
+0001ec40: 6574 686f 6420 3d20 2770 7269 7661 7465  ethod = 'private
+0001ec50: 4765 7453 706f 744f 7264 6572 7341 6374  GetSpotOrdersAct
+0001ec60: 6976 6527 2069 6620 6d61 726b 6574 5b27  ive' if market['
+0001ec70: 7370 6f74 275d 2065 6c73 6520 2770 7269  spot'] else 'pri
+0001ec80: 7661 7465 4765 7445 7863 6861 6e67 654f  vateGetExchangeO
+0001ec90: 7264 6572 270a 2020 2020 2020 2020 7265  rder'.        re
+0001eca0: 7175 6573 7420 3d20 7b0a 2020 2020 2020  quest = {.      
+0001ecb0: 2020 2020 2020 2773 796d 626f 6c27 3a20        'symbol': 
+0001ecc0: 6d61 726b 6574 5b27 6964 275d 2c0a 2020  market['id'],.  
+0001ecd0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0001ece0: 636c 6965 6e74 4f72 6465 7249 6420 3d20  clientOrderId = 
+0001ecf0: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+0001ed00: 5f32 2870 6172 616d 732c 2027 636c 6965  _2(params, 'clie
+0001ed10: 6e74 4f72 6465 7249 6427 2c20 2763 6c4f  ntOrderId', 'clO
+0001ed20: 7264 4944 2729 0a20 2020 2020 2020 2070  rdID').        p
+0001ed30: 6172 616d 7320 3d20 7365 6c66 2e6f 6d69  arams = self.omi
+0001ed40: 7428 7061 7261 6d73 2c20 5b27 636c 6965  t(params, ['clie
+0001ed50: 6e74 4f72 6465 7249 6427 2c20 2763 6c4f  ntOrderId', 'clO
+0001ed60: 7264 4944 275d 290a 2020 2020 2020 2020  rdID']).        
+0001ed70: 6966 2063 6c69 656e 744f 7264 6572 4964  if clientOrderId
+0001ed80: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+0001ed90: 2020 2020 2020 2020 2020 7265 7175 6573            reques
+0001eda0: 745b 2763 6c4f 7264 4944 275d 203d 2063  t['clOrdID'] = c
+0001edb0: 6c69 656e 744f 7264 6572 4964 0a20 2020  lientOrderId.   
+0001edc0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001edd0: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
+0001ede0: 6f72 6465 7249 4427 5d20 3d20 6964 0a20  orderID'] = id. 
+0001edf0: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
+0001ee00: 3d20 6765 7461 7474 7228 7365 6c66 2c20  = getattr(self, 
+0001ee10: 6d65 7468 6f64 2928 7365 6c66 2e65 7874  method)(self.ext
+0001ee20: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
+0001ee30: 616d 7329 290a 2020 2020 2020 2020 6461  ams)).        da
+0001ee40: 7461 203d 2073 656c 662e 7361 6665 5f76  ta = self.safe_v
+0001ee50: 616c 7565 2872 6573 706f 6e73 652c 2027  alue(response, '
+0001ee60: 6461 7461 272c 207b 7d29 0a20 2020 2020  data', {}).     
+0001ee70: 2020 206f 7264 6572 203d 2064 6174 610a     order = data.
+0001ee80: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+0001ee90: 7461 6e63 6528 6461 7461 2c20 6c69 7374  tance(data, list
+0001eea0: 293a 0a20 2020 2020 2020 2020 2020 206e  ):.            n
+0001eeb0: 756d 4f72 6465 7273 203d 206c 656e 2864  umOrders = len(d
+0001eec0: 6174 6129 0a20 2020 2020 2020 2020 2020  ata).           
+0001eed0: 2069 6620 6e75 6d4f 7264 6572 7320 3c20   if numOrders < 
+0001eee0: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
+0001eef0: 2020 2069 6620 636c 6965 6e74 4f72 6465     if clientOrde
+0001ef00: 7249 6420 6973 206e 6f74 204e 6f6e 653a  rId is not None:
+0001ef10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ef20: 2020 2020 2072 6169 7365 204f 7264 6572       raise Order
+0001ef30: 4e6f 7446 6f75 6e64 2873 656c 662e 6964  NotFound(self.id
+0001ef40: 202b 2027 2066 6574 6368 4f72 6465 7228   + ' fetchOrder(
+0001ef50: 2920 2720 2b20 7379 6d62 6f6c 202b 2027  ) ' + symbol + '
+0001ef60: 206f 7264 6572 2077 6974 6820 636c 6965   order with clie
+0001ef70: 6e74 4f72 6465 7249 6420 2720 2b20 636c  ntOrderId ' + cl
+0001ef80: 6965 6e74 4f72 6465 7249 6420 2b20 2720  ientOrderId + ' 
+0001ef90: 6e6f 7420 666f 756e 6427 290a 2020 2020  not found').    
+0001efa0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0001efb0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001efc0: 2020 2020 2020 7261 6973 6520 4f72 6465        raise Orde
+0001efd0: 724e 6f74 466f 756e 6428 7365 6c66 2e69  rNotFound(self.i
+0001efe0: 6420 2b20 2720 6665 7463 684f 7264 6572  d + ' fetchOrder
+0001eff0: 2829 2027 202b 2073 796d 626f 6c20 2b20  () ' + symbol + 
+0001f000: 2720 6f72 6465 7220 7769 7468 2069 6420  ' order with id 
+0001f010: 2720 2b20 6964 202b 2027 206e 6f74 2066  ' + id + ' not f
+0001f020: 6f75 6e64 2729 0a20 2020 2020 2020 2020  ound').         
+0001f030: 2020 206f 7264 6572 203d 2073 656c 662e     order = self.
+0001f040: 7361 6665 5f76 616c 7565 2864 6174 612c  safe_value(data,
+0001f050: 2030 2c20 7b7d 290a 2020 2020 2020 2020   0, {}).        
+0001f060: 7265 7475 726e 2073 656c 662e 7061 7273  return self.pars
+0001f070: 655f 6f72 6465 7228 6f72 6465 722c 206d  e_order(order, m
+0001f080: 6172 6b65 7429 0a0a 2020 2020 6465 6620  arket)..    def 
+0001f090: 6665 7463 685f 6f72 6465 7273 2873 656c  fetch_orders(sel
+0001f0a0: 662c 2073 796d 626f 6c3a 204f 7074 696f  f, symbol: Optio
+0001f0b0: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
+0001f0c0: 2073 696e 6365 3a20 4f70 7469 6f6e 616c   since: Optional
+0001f0d0: 5b69 6e74 5d20 3d20 4e6f 6e65 2c20 6c69  [int] = None, li
+0001f0e0: 6d69 743a 204f 7074 696f 6e61 6c5b 696e  mit: Optional[in
+0001f0f0: 745d 203d 204e 6f6e 652c 2070 6172 616d  t] = None, param
+0001f100: 733d 7b7d 293a 0a20 2020 2020 2020 2022  s={}):.        "
+0001f110: 2222 0a20 2020 2020 2020 2066 6574 6368  "".        fetch
+0001f120: 6573 2069 6e66 6f72 6d61 7469 6f6e 206f  es information o
+0001f130: 6e20 6d75 6c74 6970 6c65 206f 7264 6572  n multiple order
+0001f140: 7320 6d61 6465 2062 7920 7468 6520 7573  s made by the us
+0001f150: 6572 0a20 2020 2020 2020 2073 6565 2068  er.        see h
+0001f160: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001f170: 6d2f 7068 656d 6578 2f70 6865 6d65 782d  m/phemex/phemex-
+0001f180: 6170 692d 646f 6373 2f62 6c6f 622f 6d61  api-docs/blob/ma
+0001f190: 7374 6572 2f50 7562 6c69 632d 4865 6467  ster/Public-Hedg
+0001f1a0: 6564 2d50 6572 7065 7475 616c 2d41 5049  ed-Perpetual-API
+0001f1b0: 2e6d 6423 7175 6572 796f 7264 6572 0a20  .md#queryorder. 
+0001f1c0: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
+0001f1d0: 7220 7379 6d62 6f6c 3a20 756e 6966 6965  r symbol: unifie
+0001f1e0: 6420 6d61 726b 6574 2073 796d 626f 6c20  d market symbol 
+0001f1f0: 6f66 2074 6865 206d 6172 6b65 7420 6f72  of the market or
+0001f200: 6465 7273 2077 6572 6520 6d61 6465 2069  ders were made i
+0001f210: 6e0a 2020 2020 2020 2020 3a70 6172 616d  n.        :param
+0001f220: 2069 6e74 7c4e 6f6e 6520 7369 6e63 653a   int|None since:
+0001f230: 2074 6865 2065 6172 6c69 6573 7420 7469   the earliest ti
+0001f240: 6d65 2069 6e20 6d73 2074 6f20 6665 7463  me in ms to fetc
+0001f250: 6820 6f72 6465 7273 2066 6f72 0a20 2020  h orders for.   
+0001f260: 2020 2020 203a 7061 7261 6d20 696e 747c       :param int|
+0001f270: 4e6f 6e65 206c 696d 6974 3a20 7468 6520  None limit: the 
+0001f280: 6d61 7869 6d75 6d20 6e75 6d62 6572 206f  maximum number o
+0001f290: 6620 206f 7264 6520 7374 7275 6374 7572  f  orde structur
+0001f2a0: 6573 2074 6f20 7265 7472 6965 7665 0a20  es to retrieve. 
+0001f2b0: 2020 2020 2020 203a 7061 7261 6d20 6469         :param di
+0001f2c0: 6374 2070 6172 616d 733a 2065 7874 7261  ct params: extra
+0001f2d0: 2070 6172 616d 6574 6572 7320 7370 6563   parameters spec
+0001f2e0: 6966 6963 2074 6f20 7468 6520 7068 656d  ific to the phem
+0001f2f0: 6578 2061 7069 2065 6e64 706f 696e 740a  ex api endpoint.
+0001f300: 2020 2020 2020 2020 3a72 6574 7572 6e73          :returns
+0001f310: 205b 6469 6374 5d3a 2061 206c 6973 7420   [dict]: a list 
+0001f320: 6f66 2060 6f72 6465 7220 7374 7275 6374  of `order struct
+0001f330: 7572 6573 203c 6874 7470 733a 2f2f 646f  ures <https://do
+0001f340: 6373 2e63 6378 742e 636f 6d2f 232f 3f69  cs.ccxt.com/#/?i
+0001f350: 643d 6f72 6465 722d 7374 7275 6374 7572  d=order-structur
+0001f360: 653e 600a 2020 2020 2020 2020 2222 220a  e>`.        """.
+0001f370: 2020 2020 2020 2020 6966 2073 796d 626f          if symbo
+0001f380: 6c20 6973 204e 6f6e 653a 0a20 2020 2020  l is None:.     
+0001f390: 2020 2020 2020 2072 6169 7365 2041 7267         raise Arg
+0001f3a0: 756d 656e 7473 5265 7175 6972 6564 2873  umentsRequired(s
+0001f3b0: 656c 662e 6964 202b 2027 2066 6574 6368  elf.id + ' fetch
+0001f3c0: 4f72 6465 7273 2829 2072 6571 7569 7265  Orders() require
+0001f3d0: 7320 6120 7379 6d62 6f6c 2061 7267 756d  s a symbol argum
+0001f3e0: 656e 7427 290a 2020 2020 2020 2020 7365  ent').        se
+0001f3f0: 6c66 2e6c 6f61 645f 6d61 726b 6574 7328  lf.load_markets(
+0001f400: 290a 2020 2020 2020 2020 6d61 726b 6574  ).        market
+0001f410: 203d 2073 656c 662e 6d61 726b 6574 2873   = self.market(s
+0001f420: 796d 626f 6c29 0a20 2020 2020 2020 2072  ymbol).        r
+0001f430: 6571 7565 7374 203d 207b 0a20 2020 2020  equest = {.     
+0001f440: 2020 2020 2020 2027 7379 6d62 6f6c 273a         'symbol':
+0001f450: 206d 6172 6b65 745b 2769 6427 5d2c 0a20   market['id'],. 
+0001f460: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+0001f470: 206d 6574 686f 6420 3d20 2770 7269 7661   method = 'priva
+0001f480: 7465 4765 7453 706f 744f 7264 6572 7327  teGetSpotOrders'
+0001f490: 0a20 2020 2020 2020 2069 6620 6d61 726b  .        if mark
+0001f4a0: 6574 5b27 7365 7474 6c65 275d 203d 3d20  et['settle'] == 
+0001f4b0: 2755 5344 5427 3a0a 2020 2020 2020 2020  'USDT':.        
+0001f4c0: 2020 2020 7265 7175 6573 745b 2763 7572      request['cur
+0001f4d0: 7265 6e63 7927 5d20 3d20 6d61 726b 6574  rency'] = market
+0001f4e0: 5b27 7365 7474 6c65 275d 0a20 2020 2020  ['settle'].     
+0001f4f0: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
+0001f500: 2770 7269 7661 7465 4765 7445 7863 6861  'privateGetExcha
+0001f510: 6e67 654f 7264 6572 5632 4f72 6465 724c  ngeOrderV2OrderL
+0001f520: 6973 7427 0a20 2020 2020 2020 2065 6c69  ist'.        eli
+0001f530: 6620 6d61 726b 6574 5b27 7377 6170 275d  f market['swap']
+0001f540: 3a0a 2020 2020 2020 2020 2020 2020 6d65  :.            me
+0001f550: 7468 6f64 203d 2027 7072 6976 6174 6547  thod = 'privateG
+0001f560: 6574 4578 6368 616e 6765 4f72 6465 724c  etExchangeOrderL
+0001f570: 6973 7427 0a20 2020 2020 2020 2069 6620  ist'.        if 
+0001f580: 7369 6e63 6520 6973 206e 6f74 204e 6f6e  since is not Non
+0001f590: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+0001f5a0: 6571 7565 7374 5b27 7374 6172 7427 5d20  equest['start'] 
+0001f5b0: 3d20 7369 6e63 650a 2020 2020 2020 2020  = since.        
+0001f5c0: 6966 206c 696d 6974 2069 7320 6e6f 7420  if limit is not 
+0001f5d0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0001f5e0: 2020 7265 7175 6573 745b 276c 696d 6974    request['limit
+0001f5f0: 275d 203d 206c 696d 6974 0a20 2020 2020  '] = limit.     
+0001f600: 2020 2072 6573 706f 6e73 6520 3d20 6765     response = ge
+0001f610: 7461 7474 7228 7365 6c66 2c20 6d65 7468  tattr(self, meth
+0001f620: 6f64 2928 7365 6c66 2e65 7874 656e 6428  od)(self.extend(
+0001f630: 7265 7175 6573 742c 2070 6172 616d 7329  request, params)
+0001f640: 290a 2020 2020 2020 2020 6461 7461 203d  ).        data =
+0001f650: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+0001f660: 2872 6573 706f 6e73 652c 2027 6461 7461  (response, 'data
+0001f670: 272c 207b 7d29 0a20 2020 2020 2020 2072  ', {}).        r
+0001f680: 6f77 7320 3d20 7365 6c66 2e73 6166 655f  ows = self.safe_
+0001f690: 7661 6c75 6528 6461 7461 2c20 2772 6f77  value(data, 'row
+0001f6a0: 7327 2c20 6461 7461 290a 2020 2020 2020  s', data).      
+0001f6b0: 2020 7265 7475 726e 2073 656c 662e 7061    return self.pa
+0001f6c0: 7273 655f 6f72 6465 7273 2872 6f77 732c  rse_orders(rows,
+0001f6d0: 206d 6172 6b65 742c 2073 696e 6365 2c20   market, since, 
+0001f6e0: 6c69 6d69 7429 0a0a 2020 2020 6465 6620  limit)..    def 
+0001f6f0: 6665 7463 685f 6f70 656e 5f6f 7264 6572  fetch_open_order
+0001f700: 7328 7365 6c66 2c20 7379 6d62 6f6c 3a20  s(self, symbol: 
+0001f710: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
+0001f720: 4e6f 6e65 2c20 7369 6e63 653a 204f 7074  None, since: Opt
+0001f730: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
+0001f740: 652c 206c 696d 6974 3a20 4f70 7469 6f6e  e, limit: Option
+0001f750: 616c 5b69 6e74 5d20 3d20 4e6f 6e65 2c20  al[int] = None, 
+0001f760: 7061 7261 6d73 3d7b 7d29 3a0a 2020 2020  params={}):.    
+0001f770: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001f780: 6665 7463 6820 616c 6c20 756e 6669 6c6c  fetch all unfill
+0001f790: 6564 2063 7572 7265 6e74 6c79 206f 7065  ed currently ope
+0001f7a0: 6e20 6f72 6465 7273 0a20 2020 2020 2020  n orders.       
+0001f7b0: 2073 6565 2068 7474 7073 3a2f 2f67 6974   see https://git
+0001f7c0: 6875 622e 636f 6d2f 7068 656d 6578 2f70  hub.com/phemex/p
+0001f7d0: 6865 6d65 782d 6170 692d 646f 6373 2f62  hemex-api-docs/b
+0001f7e0: 6c6f 622f 6d61 7374 6572 2f50 7562 6c69  lob/master/Publi
+0001f7f0: 632d 4865 6467 6564 2d50 6572 7065 7475  c-Hedged-Perpetu
+0001f800: 616c 2d41 5049 2e6d 6423 7175 6572 796f  al-API.md#queryo
+0001f810: 7065 6e6f 7264 6572 0a20 2020 2020 2020  penorder.       
+0001f820: 2073 6565 2068 7474 7073 3a2f 2f67 6974   see https://git
+0001f830: 6875 622e 636f 6d2f 7068 656d 6578 2f70  hub.com/phemex/p
+0001f840: 6865 6d65 782d 6170 692d 646f 6373 2f62  hemex-api-docs/b
+0001f850: 6c6f 622f 6d61 7374 6572 2f50 7562 6c69  lob/master/Publi
+0001f860: 632d 436f 6e74 7261 6374 2d41 5049 2d65  c-Contract-API-e
+0001f870: 6e2e 6d64 0a20 2020 2020 2020 203a 7061  n.md.        :pa
+0001f880: 7261 6d20 7374 7220 7379 6d62 6f6c 3a20  ram str symbol: 
+0001f890: 756e 6966 6965 6420 6d61 726b 6574 2073  unified market s
+0001f8a0: 796d 626f 6c0a 2020 2020 2020 2020 3a70  ymbol.        :p
+0001f8b0: 6172 616d 2069 6e74 7c4e 6f6e 6520 7369  aram int|None si
+0001f8c0: 6e63 653a 2074 6865 2065 6172 6c69 6573  nce: the earlies
+0001f8d0: 7420 7469 6d65 2069 6e20 6d73 2074 6f20  t time in ms to 
+0001f8e0: 6665 7463 6820 6f70 656e 206f 7264 6572  fetch open order
+0001f8f0: 7320 666f 720a 2020 2020 2020 2020 3a70  s for.        :p
+0001f900: 6172 616d 2069 6e74 7c4e 6f6e 6520 6c69  aram int|None li
+0001f910: 6d69 743a 2074 6865 206d 6178 696d 756d  mit: the maximum
+0001f920: 206e 756d 6265 7220 6f66 2020 6f70 656e   number of  open
+0001f930: 206f 7264 6572 7320 7374 7275 6374 7572   orders structur
+0001f940: 6573 2074 6f20 7265 7472 6965 7665 0a20  es to retrieve. 
+0001f950: 2020 2020 2020 203a 7061 7261 6d20 6469         :param di
+0001f960: 6374 2070 6172 616d 733a 2065 7874 7261  ct params: extra
+0001f970: 2070 6172 616d 6574 6572 7320 7370 6563   parameters spec
+0001f980: 6966 6963 2074 6f20 7468 6520 7068 656d  ific to the phem
+0001f990: 6578 2061 7069 2065 6e64 706f 696e 740a  ex api endpoint.
+0001f9a0: 2020 2020 2020 2020 3a72 6574 7572 6e73          :returns
+0001f9b0: 205b 6469 6374 5d3a 2061 206c 6973 7420   [dict]: a list 
+0001f9c0: 6f66 2060 6f72 6465 7220 7374 7275 6374  of `order struct
+0001f9d0: 7572 6573 203c 6874 7470 733a 2f2f 646f  ures <https://do
+0001f9e0: 6373 2e63 6378 742e 636f 6d2f 232f 3f69  cs.ccxt.com/#/?i
+0001f9f0: 643d 6f72 6465 722d 7374 7275 6374 7572  d=order-structur
+0001fa00: 653e 600a 2020 2020 2020 2020 2222 220a  e>`.        """.
+0001fa10: 2020 2020 2020 2020 6966 2073 796d 626f          if symbo
+0001fa20: 6c20 6973 204e 6f6e 653a 0a20 2020 2020  l is None:.     
+0001fa30: 2020 2020 2020 2072 6169 7365 2041 7267         raise Arg
+0001fa40: 756d 656e 7473 5265 7175 6972 6564 2873  umentsRequired(s
+0001fa50: 656c 662e 6964 202b 2027 2066 6574 6368  elf.id + ' fetch
+0001fa60: 4f70 656e 4f72 6465 7273 2829 2072 6571  OpenOrders() req
+0001fa70: 7569 7265 7320 6120 7379 6d62 6f6c 2061  uires a symbol a
+0001fa80: 7267 756d 656e 7427 290a 2020 2020 2020  rgument').      
+0001fa90: 2020 7365 6c66 2e6c 6f61 645f 6d61 726b    self.load_mark
+0001faa0: 6574 7328 290a 2020 2020 2020 2020 6d61  ets().        ma
+0001fab0: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
+0001fac0: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
+0001fad0: 2020 206d 6574 686f 6420 3d20 2770 7269     method = 'pri
+0001fae0: 7661 7465 4765 7453 706f 744f 7264 6572  vateGetSpotOrder
+0001faf0: 7327 0a20 2020 2020 2020 2069 6620 6d61  s'.        if ma
+0001fb00: 726b 6574 5b27 7365 7474 6c65 275d 203d  rket['settle'] =
+0001fb10: 3d20 2755 5344 5427 3a0a 2020 2020 2020  = 'USDT':.      
+0001fb20: 2020 2020 2020 6d65 7468 6f64 203d 2027        method = '
+0001fb30: 7072 6976 6174 6547 6574 474f 7264 6572  privateGetGOrder
+0001fb40: 7341 6374 6976 654c 6973 7427 0a20 2020  sActiveList'.   
+0001fb50: 2020 2020 2065 6c69 6620 6d61 726b 6574       elif market
+0001fb60: 5b27 7377 6170 275d 3a0a 2020 2020 2020  ['swap']:.      
+0001fb70: 2020 2020 2020 6d65 7468 6f64 203d 2027        method = '
+0001fb80: 7072 6976 6174 6547 6574 4f72 6465 7273  privateGetOrders
+0001fb90: 4163 7469 7665 4c69 7374 270a 2020 2020  ActiveList'.    
+0001fba0: 2020 2020 7265 7175 6573 7420 3d20 7b0a      request = {.
+0001fbb0: 2020 2020 2020 2020 2020 2020 2773 796d              'sym
+0001fbc0: 626f 6c27 3a20 6d61 726b 6574 5b27 6964  bol': market['id
+0001fbd0: 275d 2c0a 2020 2020 2020 2020 7d0a 2020  '],.        }.  
+0001fbe0: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
+0001fbf0: 204e 6f6e 650a 2020 2020 2020 2020 7472   None.        tr
+0001fc00: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
+0001fc10: 6573 706f 6e73 6520 3d20 6765 7461 7474  esponse = getatt
+0001fc20: 7228 7365 6c66 2c20 6d65 7468 6f64 2928  r(self, method)(
+0001fc30: 7365 6c66 2e65 7874 656e 6428 7265 7175  self.extend(requ
+0001fc40: 6573 742c 2070 6172 616d 7329 290a 2020  est, params)).  
+0001fc50: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+0001fc60: 6570 7469 6f6e 2061 7320 653a 0a20 2020  eption as e:.   
+0001fc70: 2020 2020 2020 2020 2069 6620 6973 696e           if isin
+0001fc80: 7374 616e 6365 2865 2c20 4f72 6465 724e  stance(e, OrderN
+0001fc90: 6f74 466f 756e 6429 3a0a 2020 2020 2020  otFound):.      
+0001fca0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001fcb0: 205b 5d0a 2020 2020 2020 2020 2020 2020   [].            
+0001fcc0: 7261 6973 6520 650a 2020 2020 2020 2020  raise e.        
+0001fcd0: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
+0001fce0: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
+0001fcf0: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
+0001fd00: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0001fd10: 6365 2864 6174 612c 206c 6973 7429 3a0a  ce(data, list):.
+0001fd20: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0001fd30: 726e 2073 656c 662e 7061 7273 655f 6f72  rn self.parse_or
+0001fd40: 6465 7273 2864 6174 612c 206d 6172 6b65  ders(data, marke
+0001fd50: 742c 2073 696e 6365 2c20 6c69 6d69 7429  t, since, limit)
+0001fd60: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0001fd70: 2020 2020 2020 2020 2020 2072 6f77 7320             rows 
+0001fd80: 3d20 7365 6c66 2e73 6166 655f 7661 6c75  = self.safe_valu
+0001fd90: 6528 6461 7461 2c20 2772 6f77 7327 2c20  e(data, 'rows', 
+0001fda0: 5b5d 290a 2020 2020 2020 2020 2020 2020  []).            
+0001fdb0: 7265 7475 726e 2073 656c 662e 7061 7273  return self.pars
+0001fdc0: 655f 6f72 6465 7273 2872 6f77 732c 206d  e_orders(rows, m
+0001fdd0: 6172 6b65 742c 2073 696e 6365 2c20 6c69  arket, since, li
+0001fde0: 6d69 7429 0a0a 2020 2020 6465 6620 6665  mit)..    def fe
+0001fdf0: 7463 685f 636c 6f73 6564 5f6f 7264 6572  tch_closed_order
+0001fe00: 7328 7365 6c66 2c20 7379 6d62 6f6c 3a20  s(self, symbol: 
+0001fe10: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
+0001fe20: 4e6f 6e65 2c20 7369 6e63 653a 204f 7074  None, since: Opt
+0001fe30: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
+0001fe40: 652c 206c 696d 6974 3a20 4f70 7469 6f6e  e, limit: Option
+0001fe50: 616c 5b69 6e74 5d20 3d20 4e6f 6e65 2c20  al[int] = None, 
+0001fe60: 7061 7261 6d73 3d7b 7d29 3a0a 2020 2020  params={}):.    
+0001fe70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001fe80: 6665 7463 6865 7320 696e 666f 726d 6174  fetches informat
+0001fe90: 696f 6e20 6f6e 206d 756c 7469 706c 6520  ion on multiple 
+0001fea0: 636c 6f73 6564 206f 7264 6572 7320 6d61  closed orders ma
+0001feb0: 6465 2062 7920 7468 6520 7573 6572 0a20  de by the user. 
+0001fec0: 2020 2020 2020 2073 6565 2068 7474 7073         see https
+0001fed0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7068  ://github.com/ph
+0001fee0: 656d 6578 2f70 6865 6d65 782d 6170 692d  emex/phemex-api-
+0001fef0: 646f 6373 2f62 6c6f 622f 6d61 7374 6572  docs/blob/master
+0001ff00: 2f50 7562 6c69 632d 4865 6467 6564 2d50  /Public-Hedged-P
+0001ff10: 6572 7065 7475 616c 2d41 5049 2e6d 6423  erpetual-API.md#
+0001ff20: 7175 6572 796f 7264 6572 0a20 2020 2020  queryorder.     
+0001ff30: 2020 203a 7061 7261 6d20 7374 7220 7379     :param str sy
+0001ff40: 6d62 6f6c 3a20 756e 6966 6965 6420 6d61  mbol: unified ma
+0001ff50: 726b 6574 2073 796d 626f 6c20 6f66 2074  rket symbol of t
+0001ff60: 6865 206d 6172 6b65 7420 6f72 6465 7273  he market orders
+0001ff70: 2077 6572 6520 6d61 6465 2069 6e0a 2020   were made in.  
+0001ff80: 2020 2020 2020 3a70 6172 616d 2069 6e74        :param int
+0001ff90: 7c4e 6f6e 6520 7369 6e63 653a 2074 6865  |None since: the
+0001ffa0: 2065 6172 6c69 6573 7420 7469 6d65 2069   earliest time i
+0001ffb0: 6e20 6d73 2074 6f20 6665 7463 6820 6f72  n ms to fetch or
+0001ffc0: 6465 7273 2066 6f72 0a20 2020 2020 2020  ders for.       
+0001ffd0: 203a 7061 7261 6d20 696e 747c 4e6f 6e65   :param int|None
+0001ffe0: 206c 696d 6974 3a20 7468 6520 6d61 7869   limit: the maxi
+0001fff0: 6d75 6d20 6e75 6d62 6572 206f 6620 206f  mum number of  o
+00020000: 7264 6520 7374 7275 6374 7572 6573 2074  rde structures t
+00020010: 6f20 7265 7472 6965 7665 0a20 2020 2020  o retrieve.     
+00020020: 2020 203a 7061 7261 6d20 6469 6374 2070     :param dict p
+00020030: 6172 616d 733a 2065 7874 7261 2070 6172  arams: extra par
+00020040: 616d 6574 6572 7320 7370 6563 6966 6963  ameters specific
+00020050: 2074 6f20 7468 6520 7068 656d 6578 2061   to the phemex a
+00020060: 7069 2065 6e64 706f 696e 740a 2020 2020  pi endpoint.    
+00020070: 2020 2020 3a72 6574 7572 6e73 205b 6469      :returns [di
+00020080: 6374 5d3a 2061 206c 6973 7420 6f66 2060  ct]: a list of `
+00020090: 6f72 6465 7220 7374 7275 6374 7572 6573  order structures
+000200a0: 203c 6874 7470 733a 2f2f 646f 6373 2e63   <https://docs.c
+000200b0: 6378 742e 636f 6d2f 232f 3f69 643d 6f72  cxt.com/#/?id=or
+000200c0: 6465 722d 7374 7275 6374 7572 653e 600a  der-structure>`.
+000200d0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000200e0: 2020 2020 6966 2073 796d 626f 6c20 6973      if symbol is
+000200f0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00020100: 2020 2072 6169 7365 2041 7267 756d 656e     raise Argumen
+00020110: 7473 5265 7175 6972 6564 2873 656c 662e  tsRequired(self.
+00020120: 6964 202b 2027 2066 6574 6368 436c 6f73  id + ' fetchClos
+00020130: 6564 4f72 6465 7273 2829 2072 6571 7569  edOrders() requi
+00020140: 7265 7320 6120 7379 6d62 6f6c 2061 7267  res a symbol arg
+00020150: 756d 656e 7427 290a 2020 2020 2020 2020  ument').        
+00020160: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
+00020170: 7328 290a 2020 2020 2020 2020 6d61 726b  s().        mark
+00020180: 6574 203d 2073 656c 662e 6d61 726b 6574  et = self.market
+00020190: 2873 796d 626f 6c29 0a20 2020 2020 2020  (symbol).       
+000201a0: 2072 6571 7565 7374 203d 207b 0a20 2020   request = {.   
+000201b0: 2020 2020 2020 2020 2027 7379 6d62 6f6c           'symbol
+000201c0: 273a 206d 6172 6b65 745b 2769 6427 5d2c  ': market['id'],
+000201d0: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
+000201e0: 2020 206d 6574 686f 6420 3d20 2770 7269     method = 'pri
+000201f0: 7661 7465 4765 7445 7863 6861 6e67 6553  vateGetExchangeS
+00020200: 706f 744f 7264 6572 270a 2020 2020 2020  potOrder'.      
+00020210: 2020 6966 206d 6172 6b65 745b 2773 6574    if market['set
+00020220: 746c 6527 5d20 3d3d 2027 5553 4454 273a  tle'] == 'USDT':
+00020230: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
+00020240: 7565 7374 5b27 6375 7272 656e 6379 275d  uest['currency']
+00020250: 203d 206d 6172 6b65 745b 2773 6574 746c   = market['settl
+00020260: 6527 5d0a 2020 2020 2020 2020 2020 2020  e'].            
+00020270: 6d65 7468 6f64 203d 2027 7072 6976 6174  method = 'privat
+00020280: 6547 6574 4578 6368 616e 6765 4f72 6465  eGetExchangeOrde
+00020290: 7256 324f 7264 6572 4c69 7374 270a 2020  rV2OrderList'.  
+000202a0: 2020 2020 2020 656c 6966 206d 6172 6b65        elif marke
+000202b0: 745b 2773 7761 7027 5d3a 0a20 2020 2020  t['swap']:.     
+000202c0: 2020 2020 2020 206d 6574 686f 6420 3d20         method = 
+000202d0: 2770 7269 7661 7465 4765 7445 7863 6861  'privateGetExcha
+000202e0: 6e67 654f 7264 6572 4c69 7374 270a 2020  ngeOrderList'.  
+000202f0: 2020 2020 2020 6966 2073 696e 6365 2069        if since i
+00020300: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00020310: 2020 2020 2020 2020 7265 7175 6573 745b          request[
+00020320: 2773 7461 7274 275d 203d 2073 696e 6365  'start'] = since
+00020330: 0a20 2020 2020 2020 2069 6620 6c69 6d69  .        if limi
+00020340: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
+00020350: 2020 2020 2020 2020 2020 2072 6571 7565             reque
+00020360: 7374 5b27 6c69 6d69 7427 5d20 3d20 6c69  st['limit'] = li
+00020370: 6d69 740a 2020 2020 2020 2020 7265 7370  mit.        resp
+00020380: 6f6e 7365 203d 2067 6574 6174 7472 2873  onse = getattr(s
+00020390: 656c 662c 206d 6574 686f 6429 2873 656c  elf, method)(sel
+000203a0: 662e 6578 7465 6e64 2872 6571 7565 7374  f.extend(request
+000203b0: 2c20 7061 7261 6d73 2929 0a20 2020 2020  , params)).     
+000203c0: 2020 2023 0a20 2020 2020 2020 2023 2073     #.        # s
+000203d0: 706f 740a 2020 2020 2020 2020 230a 2020  pot.        #.  
+000203e0: 2020 2020 2020 2320 2020 2020 7b0a 2020        #     {.  
+000203f0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00020400: 2263 6f64 6522 3a30 2c0a 2020 2020 2020  "code":0,.      
+00020410: 2020 2320 2020 2020 2020 2020 226d 7367    #         "msg
+00020420: 223a 224f 4b22 2c0a 2020 2020 2020 2020  ":"OK",.        
+00020430: 2320 2020 2020 2020 2020 2264 6174 6122  #         "data"
+00020440: 3a7b 0a20 2020 2020 2020 2023 2020 2020  :{.        #    
+00020450: 2020 2020 2020 2020 2022 746f 7461 6c22           "total"
+00020460: 3a38 2c0a 2020 2020 2020 2020 2320 2020  :8,.        #   
+00020470: 2020 2020 2020 2020 2020 2272 6f77 7322            "rows"
+00020480: 3a5b 0a20 2020 2020 2020 2023 2020 2020  :[.        #    
+00020490: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
+000204a0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+000204b0: 2020 2020 2020 2020 2020 2020 2022 6f72               "or
+000204c0: 6465 7249 4422 3a22 3939 3233 3263 3365  derID":"99232c3e
+000204d0: 2d33 6436 612d 3435 3566 2d39 3863 632d  -3d6a-455f-98cc-
+000204e0: 3230 3631 6364 6665 3931 6263 222c 0a20  2061cdfe91bc",. 
+000204f0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00020500: 2020 2020 2020 2020 2020 2020 2022 7374               "st
+00020510: 6f70 5078 4570 223a 302c 0a20 2020 2020  opPxEp":0,.     
+00020520: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00020530: 2020 2020 2020 2020 2022 6176 6750 7269           "avgPri
+00020540: 6365 4570 223a 302c 0a20 2020 2020 2020  ceEp":0,.       
+00020550: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00020560: 2020 2020 2020 2022 7174 7954 7970 6522         "qtyType"
+00020570: 3a22 4279 4261 7365 222c 0a20 2020 2020  :"ByBase",.     
+00020580: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00020590: 2020 2020 2020 2020 2022 6c65 6176 6573           "leaves
+000205a0: 4261 7365 5174 7945 7622 3a30 2c0a 2020  BaseQtyEv":0,.  
+000205b0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000205c0: 2020 2020 2020 2020 2020 2020 226c 6561              "lea
+000205d0: 7665 7351 756f 7465 5174 7945 7622 3a30  vesQuoteQtyEv":0
+000205e0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000205f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020600: 2262 6173 6551 7479 4576 223a 2231 3030  "baseQtyEv":"100
+00020610: 3030 3030 3030 3022 2c0a 2020 2020 2020  0000000",.      
+00020620: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00020630: 2020 2020 2020 2020 2266 6565 4375 7272          "feeCurr
+00020640: 656e 6379 223a 2234 222c 0a20 2020 2020  ency":"4",.     
+00020650: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00020660: 2020 2020 2020 2020 2022 7374 6f70 4469           "stopDi
+00020670: 7265 6374 696f 6e22 3a22 554e 5350 4543  rection":"UNSPEC
+00020680: 4946 4945 4422 2c0a 2020 2020 2020 2020  IFIED",.        
+00020690: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+000206a0: 2020 2020 2020 2273 796d 626f 6c22 3a22        "symbol":"
+000206b0: 7345 5448 5553 4454 222c 0a20 2020 2020  sETHUSDT",.     
+000206c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+000206d0: 2020 2020 2020 2020 2022 7369 6465 223a           "side":
+000206e0: 2242 7579 222c 0a20 2020 2020 2020 2023  "Buy",.        #
+000206f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020700: 2020 2020 2022 7175 6f74 6551 7479 4576       "quoteQtyEv
+00020710: 223a 3235 3030 3030 3030 3030 3030 2c0a  ":250000000000,.
+00020720: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00020730: 2020 2020 2020 2020 2020 2020 2020 2270                "p
+00020740: 7269 6365 4570 223a 3235 3030 3030 3030  riceEp":25000000
+00020750: 3030 302c 0a20 2020 2020 2020 2023 2020  000,.        #  
+00020760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020770: 2020 2022 6f72 6454 7970 6522 3a22 4c69     "ordType":"Li
+00020780: 6d69 7422 2c0a 2020 2020 2020 2020 2320  mit",.        # 
+00020790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000207a0: 2020 2020 2274 696d 6549 6e46 6f72 6365      "timeInForce
+000207b0: 223a 2247 6f6f 6454 696c 6c43 616e 6365  ":"GoodTillCance
+000207c0: 6c22 2c0a 2020 2020 2020 2020 2320 2020  l",.        #   
+000207d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000207e0: 2020 226f 7264 5374 6174 7573 223a 2252    "ordStatus":"R
+000207f0: 656a 6563 7465 6422 2c0a 2020 2020 2020  ejected",.      
+00020800: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00020810: 2020 2020 2020 2020 2265 7865 6353 7461          "execSta
+00020820: 7475 7322 3a22 4e65 7752 656a 6563 7465  tus":"NewRejecte
+00020830: 6422 2c0a 2020 2020 2020 2020 2320 2020  d",.        #   
+00020840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020850: 2020 2263 7265 6174 6554 696d 654e 7322    "createTimeNs"
+00020860: 3a31 3539 3236 3735 3330 3532 3636 3033  :159267530526603
+00020870: 3731 3330 2c0a 2020 2020 2020 2020 2320  7130,.        # 
+00020880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020890: 2020 2020 2263 756d 4665 6545 7622 3a30      "cumFeeEv":0
+000208a0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000208b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000208c0: 2263 756d 4261 7365 5661 6c75 6545 7622  "cumBaseValueEv"
+000208d0: 3a30 2c0a 2020 2020 2020 2020 2320 2020  :0,.        #   
+000208e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000208f0: 2020 2263 756d 5175 6f74 6556 616c 7565    "cumQuoteValue
+00020900: 4576 223a 300a 2020 2020 2020 2020 2320  Ev":0.        # 
+00020910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020920: 7d2c 0a20 2020 2020 2020 2023 2020 2020  },.        #    
+00020930: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
+00020940: 2020 2023 2020 2020 2020 2020 207d 0a20     #         }. 
+00020950: 2020 2020 2020 2023 2020 2020 207d 0a20         #     }. 
+00020960: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
+00020970: 2064 6174 6120 3d20 7365 6c66 2e73 6166   data = self.saf
+00020980: 655f 7661 6c75 6528 7265 7370 6f6e 7365  e_value(response
+00020990: 2c20 2764 6174 6127 2c20 7b7d 290a 2020  , 'data', {}).  
+000209a0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+000209b0: 6e63 6528 6461 7461 2c20 6c69 7374 293a  nce(data, list):
+000209c0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000209d0: 7572 6e20 7365 6c66 2e70 6172 7365 5f6f  urn self.parse_o
+000209e0: 7264 6572 7328 6461 7461 2c20 6d61 726b  rders(data, mark
+000209f0: 6574 2c20 7369 6e63 652c 206c 696d 6974  et, since, limit
+00020a00: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+00020a10: 2020 2020 2020 2020 2020 2020 726f 7773              rows
+00020a20: 203d 2073 656c 662e 7361 6665 5f76 616c   = self.safe_val
+00020a30: 7565 2864 6174 612c 2027 726f 7773 272c  ue(data, 'rows',
+00020a40: 205b 5d29 0a20 2020 2020 2020 2020 2020   []).           
+00020a50: 2072 6574 7572 6e20 7365 6c66 2e70 6172   return self.par
+00020a60: 7365 5f6f 7264 6572 7328 726f 7773 2c20  se_orders(rows, 
+00020a70: 6d61 726b 6574 2c20 7369 6e63 652c 206c  market, since, l
+00020a80: 696d 6974 290a 0a20 2020 2064 6566 2066  imit)..    def f
+00020a90: 6574 6368 5f6d 795f 7472 6164 6573 2873  etch_my_trades(s
+00020aa0: 656c 662c 2073 796d 626f 6c3a 204f 7074  elf, symbol: Opt
+00020ab0: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+00020ac0: 652c 2073 696e 6365 3a20 4f70 7469 6f6e  e, since: Option
+00020ad0: 616c 5b69 6e74 5d20 3d20 4e6f 6e65 2c20  al[int] = None, 
+00020ae0: 6c69 6d69 743a 204f 7074 696f 6e61 6c5b  limit: Optional[
+00020af0: 696e 745d 203d 204e 6f6e 652c 2070 6172  int] = None, par
+00020b00: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
+00020b10: 2022 2222 0a20 2020 2020 2020 2066 6574   """.        fet
+00020b20: 6368 2061 6c6c 2074 7261 6465 7320 6d61  ch all trades ma
+00020b30: 6465 2062 7920 7468 6520 7573 6572 0a20  de by the user. 
+00020b40: 2020 2020 2020 2073 6565 2068 7474 7073         see https
+00020b50: 3a2f 2f67 6974 6875 622e 636f 6d2f 7068  ://github.com/ph
+00020b60: 656d 6578 2f70 6865 6d65 782d 6170 692d  emex/phemex-api-
+00020b70: 646f 6373 2f62 6c6f 622f 6d61 7374 6572  docs/blob/master
+00020b80: 2f50 7562 6c69 632d 436f 6e74 7261 6374  /Public-Contract
+00020b90: 2d41 5049 2d65 6e2e 6d64 2371 7565 7279  -API-en.md#query
+00020ba0: 2d75 7365 722d 7472 6164 650a 2020 2020  -user-trade.    
+00020bb0: 2020 2020 7365 6520 6874 7470 733a 2f2f      see https://
+00020bc0: 6769 7468 7562 2e63 6f6d 2f70 6865 6d65  github.com/pheme
+00020bd0: 782f 7068 656d 6578 2d61 7069 2d64 6f63  x/phemex-api-doc
+00020be0: 732f 626c 6f62 2f6d 6173 7465 722f 5075  s/blob/master/Pu
+00020bf0: 626c 6963 2d48 6564 6765 642d 5065 7270  blic-Hedged-Perp
+00020c00: 6574 7561 6c2d 4150 492e 6d64 2371 7565  etual-API.md#que
+00020c10: 7279 2d75 7365 722d 7472 6164 650a 2020  ry-user-trade.  
+00020c20: 2020 2020 2020 3a70 6172 616d 2073 7472        :param str
+00020c30: 2073 796d 626f 6c3a 2075 6e69 6669 6564   symbol: unified
+00020c40: 206d 6172 6b65 7420 7379 6d62 6f6c 0a20   market symbol. 
+00020c50: 2020 2020 2020 203a 7061 7261 6d20 696e         :param in
+00020c60: 747c 4e6f 6e65 2073 696e 6365 3a20 7468  t|None since: th
+00020c70: 6520 6561 726c 6965 7374 2074 696d 6520  e earliest time 
+00020c80: 696e 206d 7320 746f 2066 6574 6368 2074  in ms to fetch t
+00020c90: 7261 6465 7320 666f 720a 2020 2020 2020  rades for.      
+00020ca0: 2020 3a70 6172 616d 2069 6e74 7c4e 6f6e    :param int|Non
+00020cb0: 6520 6c69 6d69 743a 2074 6865 206d 6178  e limit: the max
+00020cc0: 696d 756d 206e 756d 6265 7220 6f66 2074  imum number of t
+00020cd0: 7261 6465 7320 7374 7275 6374 7572 6573  rades structures
+00020ce0: 2074 6f20 7265 7472 6965 7665 0a20 2020   to retrieve.   
+00020cf0: 2020 2020 203a 7061 7261 6d20 6469 6374       :param dict
+00020d00: 2070 6172 616d 733a 2065 7874 7261 2070   params: extra p
+00020d10: 6172 616d 6574 6572 7320 7370 6563 6966  arameters specif
+00020d20: 6963 2074 6f20 7468 6520 7068 656d 6578  ic to the phemex
+00020d30: 2061 7069 2065 6e64 706f 696e 740a 2020   api endpoint.  
+00020d40: 2020 2020 2020 3a72 6574 7572 6e73 205b        :returns [
+00020d50: 6469 6374 5d3a 2061 206c 6973 7420 6f66  dict]: a list of
+00020d60: 2060 7472 6164 6520 7374 7275 6374 7572   `trade structur
+00020d70: 6573 203c 6874 7470 733a 2f2f 646f 6373  es <https://docs
+00020d80: 2e63 6378 742e 636f 6d2f 232f 3f69 643d  .ccxt.com/#/?id=
+00020d90: 7472 6164 652d 7374 7275 6374 7572 653e  trade-structure>
+00020da0: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
+00020db0: 2020 2020 2020 6966 2073 796d 626f 6c20        if symbol 
+00020dc0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00020dd0: 2020 2020 2072 6169 7365 2041 7267 756d       raise Argum
+00020de0: 656e 7473 5265 7175 6972 6564 2873 656c  entsRequired(sel
+00020df0: 662e 6964 202b 2027 2066 6574 6368 4d79  f.id + ' fetchMy
+00020e00: 5472 6164 6573 2829 2072 6571 7569 7265  Trades() require
+00020e10: 7320 6120 7379 6d62 6f6c 2061 7267 756d  s a symbol argum
+00020e20: 656e 7427 290a 2020 2020 2020 2020 7365  ent').        se
+00020e30: 6c66 2e6c 6f61 645f 6d61 726b 6574 7328  lf.load_markets(
+00020e40: 290a 2020 2020 2020 2020 6d61 726b 6574  ).        market
+00020e50: 203d 2073 656c 662e 6d61 726b 6574 2873   = self.market(s
+00020e60: 796d 626f 6c29 0a20 2020 2020 2020 206d  ymbol).        m
+00020e70: 6574 686f 6420 3d20 2770 7269 7661 7465  ethod = 'private
+00020e80: 4765 7445 7863 6861 6e67 6553 706f 744f  GetExchangeSpotO
+00020e90: 7264 6572 5472 6164 6573 270a 2020 2020  rderTrades'.    
+00020ea0: 2020 2020 6966 206d 6172 6b65 745b 2773      if market['s
+00020eb0: 7761 7027 5d3a 0a20 2020 2020 2020 2020  wap']:.         
+00020ec0: 2020 206d 6574 686f 6420 3d20 2770 7269     method = 'pri
+00020ed0: 7661 7465 4765 7445 7863 6861 6e67 654f  vateGetExchangeO
+00020ee0: 7264 6572 5472 6164 6527 0a20 2020 2020  rderTrade'.     
+00020ef0: 2020 2020 2020 2069 6620 6d61 726b 6574         if market
+00020f00: 5b27 7365 7474 6c65 275d 203d 3d20 2755  ['settle'] == 'U
+00020f10: 5344 5427 3a0a 2020 2020 2020 2020 2020  SDT':.          
+00020f20: 2020 2020 2020 6d65 7468 6f64 203d 2027        method = '
+00020f30: 7072 6976 6174 6547 6574 4578 6368 616e  privateGetExchan
+00020f40: 6765 4f72 6465 7256 3254 7261 6469 6e67  geOrderV2Trading
+00020f50: 4c69 7374 270a 2020 2020 2020 2020 7265  List'.        re
+00020f60: 7175 6573 7420 3d20 7b7d 0a20 2020 2020  quest = {}.     
+00020f70: 2020 2069 6620 6c69 6d69 7420 6973 206e     if limit is n
+00020f80: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+00020f90: 2020 2020 206c 696d 6974 203d 206d 696e       limit = min
+00020fa0: 2832 3030 2c20 6c69 6d69 7429 0a20 2020  (200, limit).   
+00020fb0: 2020 2020 2020 2020 2072 6571 7565 7374           request
+00020fc0: 5b27 6c69 6d69 7427 5d20 3d20 6c69 6d69  ['limit'] = limi
+00020fd0: 740a 2020 2020 2020 2020 6966 206d 6172  t.        if mar
+00020fe0: 6b65 745b 2773 6574 746c 6527 5d20 3d3d  ket['settle'] ==
+00020ff0: 2027 5553 4454 273a 0a20 2020 2020 2020   'USDT':.       
+00021000: 2020 2020 2072 6571 7565 7374 5b27 6375       request['cu
+00021010: 7272 656e 6379 275d 203d 2027 5553 4454  rrency'] = 'USDT
+00021020: 270a 2020 2020 2020 2020 2020 2020 7265  '.            re
+00021030: 7175 6573 745b 276f 6666 7365 7427 5d20  quest['offset'] 
+00021040: 3d20 300a 2020 2020 2020 2020 2020 2020  = 0.            
+00021050: 6966 206c 696d 6974 2069 7320 4e6f 6e65  if limit is None
+00021060: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00021070: 2020 7265 7175 6573 745b 276c 696d 6974    request['limit
+00021080: 275d 203d 2032 3030 0a20 2020 2020 2020  '] = 200.       
+00021090: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000210a0: 2020 2072 6571 7565 7374 5b27 7379 6d62     request['symb
+000210b0: 6f6c 275d 203d 206d 6172 6b65 745b 2769  ol'] = market['i
+000210c0: 6427 5d0a 2020 2020 2020 2020 6966 2073  d'].        if s
+000210d0: 696e 6365 2069 7320 6e6f 7420 4e6f 6e65  ince is not None
+000210e0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000210f0: 7175 6573 745b 2773 7461 7274 275d 203d  quest['start'] =
+00021100: 2073 696e 6365 0a20 2020 2020 2020 2069   since.        i
+00021110: 6620 6d61 726b 6574 5b27 7377 6170 275d  f market['swap']
+00021120: 2061 6e64 2028 6c69 6d69 7420 6973 206e   and (limit is n
+00021130: 6f74 204e 6f6e 6529 3a0a 2020 2020 2020  ot None):.      
+00021140: 2020 2020 2020 7265 7175 6573 745b 276c        request['l
+00021150: 696d 6974 275d 203d 206c 696d 6974 0a20  imit'] = limit. 
+00021160: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
+00021170: 3d20 6765 7461 7474 7228 7365 6c66 2c20  = getattr(self, 
+00021180: 6d65 7468 6f64 2928 7365 6c66 2e65 7874  method)(self.ext
+00021190: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
+000211a0: 616d 7329 290a 2020 2020 2020 2020 230a  ams)).        #.
+000211b0: 2020 2020 2020 2020 2320 7370 6f74 0a20          # spot. 
+000211c0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
+000211d0: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
+000211e0: 2023 2020 2020 2020 2020 2022 636f 6465   #         "code
+000211f0: 223a 2030 2c0a 2020 2020 2020 2020 2320  ": 0,.        # 
+00021200: 2020 2020 2020 2020 226d 7367 223a 2022          "msg": "
+00021210: 4f4b 222c 0a20 2020 2020 2020 2023 2020  OK",.        #  
+00021220: 2020 2020 2020 2022 6461 7461 223a 207b         "data": {
+00021230: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00021240: 2020 2020 2020 2022 746f 7461 6c22 3a20         "total": 
+00021250: 312c 0a20 2020 2020 2020 2023 2020 2020  1,.        #    
+00021260: 2020 2020 2020 2020 2022 726f 7773 223a           "rows":
+00021270: 205b 0a20 2020 2020 2020 2023 2020 2020   [.        #    
+00021280: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
+00021290: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+000212a0: 2020 2020 2020 2020 2020 2020 2022 7174               "qt
+000212b0: 7954 7970 6522 3a20 2242 7951 756f 7465  yType": "ByQuote
+000212c0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000212d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000212e0: 2022 7472 616e 7361 6374 5469 6d65 4e73   "transactTimeNs
+000212f0: 223a 2031 3538 3934 3530 3937 3438 3030  ": 1589450974800
+00021300: 3535 3031 3030 2c0a 2020 2020 2020 2020  550100,.        
+00021310: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00021320: 2020 2020 2020 2263 6c4f 7264 4944 223a        "clOrdID":
+00021330: 2022 3862 6135 3964 3430 2d64 6632 352d   "8ba59d40-df25-
+00021340: 6434 6230 2d31 3463 662d 3037 3033 6634  d4b0-14cf-0703f4
+00021350: 3465 3936 3930 222c 0a20 2020 2020 2020  4e9690",.       
+00021360: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00021370: 2020 2020 2020 2022 6f72 6465 7249 4422         "orderID"
+00021380: 3a20 2262 3262 3730 3138 642d 6630 3266  : "b2b7018d-f02f
+00021390: 2d34 6335 392d 6234 6366 2d30 3531 6239  -4c59-b4cf-051b9
+000213a0: 6332 6432 6538 3322 2c0a 2020 2020 2020  c2d2e83",.      
+000213b0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000213c0: 2020 2020 2020 2020 2273 796d 626f 6c22          "symbol"
+000213d0: 3a20 2273 4254 4355 5344 5422 2c0a 2020  : "sBTCUSDT",.  
+000213e0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000213f0: 2020 2020 2020 2020 2020 2020 2273 6964              "sid
+00021400: 6522 3a20 2242 7579 222c 0a20 2020 2020  e": "Buy",.     
+00021410: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00021420: 2020 2020 2020 2020 2022 7072 6963 6545           "priceE
+00021430: 5022 3a20 3937 3030 3536 3030 3030 3030  P": 970056000000
+00021440: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021460: 2262 6173 6551 7479 4576 223a 2030 2c0a  "baseQtyEv": 0,.
+00021470: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00021480: 2020 2020 2020 2020 2020 2020 2020 2271                "q
+00021490: 756f 7465 5174 7945 7622 3a20 3130 3030  uoteQtyEv": 1000
+000214a0: 3030 3030 3030 2c0a 2020 2020 2020 2020  000000,.        
+000214b0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+000214c0: 2020 2020 2020 2261 6374 696f 6e22 3a20        "action": 
+000214d0: 224e 6577 222c 0a20 2020 2020 2020 2023  "New",.        #
+000214e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000214f0: 2020 2020 2022 6578 6563 5374 6174 7573       "execStatus
+00021500: 223a 2022 4d61 6b65 7246 696c 6c22 2c0a  ": "MakerFill",.
+00021510: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00021520: 2020 2020 2020 2020 2020 2020 2020 226f                "o
+00021530: 7264 5374 6174 7573 223a 2022 4669 6c6c  rdStatus": "Fill
+00021540: 6564 222c 0a20 2020 2020 2020 2023 2020  ed",.        #  
+00021550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021560: 2020 2022 6f72 6454 7970 6522 3a20 224c     "ordType": "L
+00021570: 696d 6974 222c 0a20 2020 2020 2020 2023  imit",.        #
+00021580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021590: 2020 2020 2022 6578 6563 496e 7374 223a       "execInst":
+000215a0: 2022 4e6f 6e65 222c 0a20 2020 2020 2020   "None",.       
+000215b0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+000215c0: 2020 2020 2020 2022 7469 6d65 496e 466f         "timeInFo
+000215d0: 7263 6522 3a20 2247 6f6f 6454 696c 6c43  rce": "GoodTillC
+000215e0: 616e 6365 6c22 2c0a 2020 2020 2020 2020  ancel",.        
+000215f0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00021600: 2020 2020 2020 2273 746f 7044 6972 6563        "stopDirec
+00021610: 7469 6f6e 223a 2022 554e 5350 4543 4946  tion": "UNSPECIF
+00021620: 4945 4422 2c0a 2020 2020 2020 2020 2320  IED",.        # 
+00021630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021640: 2020 2020 2274 7261 6465 5479 7065 223a      "tradeType":
+00021650: 2022 5472 6164 6522 2c0a 2020 2020 2020   "Trade",.      
+00021660: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00021670: 2020 2020 2020 2020 2273 746f 7050 7845          "stopPxE
+00021680: 7022 3a20 302c 0a20 2020 2020 2020 2023  p": 0,.        #
+00021690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000216a0: 2020 2020 2022 6578 6563 4964 223a 2022       "execId": "
+000216b0: 6336 6264 3839 3739 2d30 3762 612d 3539  c6bd8979-07ba-59
+000216c0: 3436 2d62 3037 652d 6638 6236 3531 3335  46-b07e-f8b65135
+000216d0: 6462 6231 222c 0a20 2020 2020 2020 2023  dbb1",.        #
+000216e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000216f0: 2020 2020 2022 6578 6563 5072 6963 6545       "execPriceE
+00021700: 7022 3a20 3937 3030 3536 3030 3030 3030  p": 970056000000
+00021710: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021730: 2265 7865 6342 6173 6551 7479 4576 223a  "execBaseQtyEv":
+00021740: 2031 3033 3030 302c 0a20 2020 2020 2020   103000,.       
+00021750: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00021760: 2020 2020 2020 2022 6578 6563 5175 6f74         "execQuot
+00021770: 6551 7479 4576 223a 2039 3939 3135 3736  eQtyEv": 9991576
+00021780: 3830 2c0a 2020 2020 2020 2020 2320 2020  80,.        #   
+00021790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000217a0: 2020 226c 6561 7665 7342 6173 6551 7479    "leavesBaseQty
+000217b0: 4576 223a 2030 2c0a 2020 2020 2020 2020  Ev": 0,.        
+000217c0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+000217d0: 2020 2020 2020 226c 6561 7665 7351 756f        "leavesQuo
+000217e0: 7465 5174 7945 7622 3a20 302c 0a20 2020  teQtyEv": 0,.   
+000217f0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00021800: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
+00021810: 4665 6545 7622 3a20 302c 0a20 2020 2020  FeeEv": 0,.     
+00021820: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00021830: 2020 2020 2020 2020 2022 6665 6552 6174           "feeRat
+00021840: 6545 7222 3a20 300a 2020 2020 2020 2020  eEr": 0.        
+00021850: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00021860: 2020 7d0a 2020 2020 2020 2020 2320 2020    }.        #   
+00021870: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
+00021880: 2020 2020 2320 2020 2020 2020 2020 7d0a      #         }.
+00021890: 2020 2020 2020 2020 2320 2020 2020 7d0a          #     }.
+000218a0: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
+000218b0: 2020 230a 2020 2020 2020 2020 2320 7377    #.        # sw
+000218c0: 6170 0a20 2020 2020 2020 2023 0a20 2020  ap.        #.   
+000218d0: 2020 2020 2023 2020 2020 207b 0a20 2020       #     {.   
+000218e0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+000218f0: 636f 6465 223a 2030 2c0a 2020 2020 2020  code": 0,.      
+00021900: 2020 2320 2020 2020 2020 2020 226d 7367    #         "msg
+00021910: 223a 2022 4f4b 222c 0a20 2020 2020 2020  ": "OK",.       
+00021920: 2023 2020 2020 2020 2020 2022 6461 7461   #         "data
+00021930: 223a 207b 0a20 2020 2020 2020 2023 2020  ": {.        #  
+00021940: 2020 2020 2020 2020 2020 2022 746f 7461             "tota
+00021950: 6c22 3a20 3739 2c0a 2020 2020 2020 2020  l": 79,.        
+00021960: 2320 2020 2020 2020 2020 2020 2020 2272  #             "r
+00021970: 6f77 7322 3a20 5b0a 2020 2020 2020 2020  ows": [.        
+00021980: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00021990: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
+000219a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000219b0: 2020 2274 7261 6e73 6163 7454 696d 654e    "transactTimeN
+000219c0: 7322 3a20 3136 3036 3035 3438 3739 3333  s": 160605487933
+000219d0: 3135 3635 3330 302c 0a20 2020 2020 2020  1565300,.       
+000219e0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+000219f0: 2020 2020 2020 2022 7379 6d62 6f6c 223a         "symbol":
+00021a00: 2022 4254 4355 5344 222c 0a20 2020 2020   "BTCUSD",.     
+00021a10: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00021a20: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
+00021a30: 6379 223a 2022 4254 4322 2c0a 2020 2020  cy": "BTC",.    
+00021a40: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00021a50: 2020 2020 2020 2020 2020 2261 6374 696f            "actio
+00021a60: 6e22 3a20 224e 6577 222c 0a20 2020 2020  n": "New",.     
+00021a70: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00021a80: 2020 2020 2020 2020 2022 7369 6465 223a           "side":
+00021a90: 2022 4275 7922 2c0a 2020 2020 2020 2020   "Buy",.        
+00021aa0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00021ab0: 2020 2020 2020 2274 7261 6465 5479 7065        "tradeType
+00021ac0: 223a 2022 5472 6164 6522 2c0a 2020 2020  ": "Trade",.    
+00021ad0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00021ae0: 2020 2020 2020 2020 2020 2265 7865 6351            "execQ
+00021af0: 7479 223a 2035 2c0a 2020 2020 2020 2020  ty": 5,.        
+00021b00: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00021b10: 2020 2020 2020 2265 7865 6350 7269 6365        "execPrice
+00021b20: 4570 223a 2031 3832 3939 3030 3030 2c0a  Ep": 182990000,.
+00021b30: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00021b40: 2020 2020 2020 2020 2020 2020 2020 226f                "o
+00021b50: 7264 6572 5174 7922 3a20 352c 0a20 2020  rderQty": 5,.   
+00021b60: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00021b70: 2020 2020 2020 2020 2020 2022 7072 6963             "pric
+00021b80: 6545 7022 3a20 3138 3338 3730 3030 302c  eEp": 183870000,
+00021b90: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00021ba0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00021bb0: 6578 6563 5661 6c75 6545 7622 3a20 3237  execValueEv": 27
+00021bc0: 3332 332c 0a20 2020 2020 2020 2023 2020  323,.        #  
+00021bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021be0: 2020 2022 6665 6552 6174 6545 7222 3a20     "feeRateEr": 
+00021bf0: 3735 3030 302c 0a20 2020 2020 2020 2023  75000,.        #
+00021c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c10: 2020 2020 2022 6578 6563 4665 6545 7622       "execFeeEv"
+00021c20: 3a20 3231 2c0a 2020 2020 2020 2020 2320  : 21,.        # 
+00021c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c40: 2020 2020 226f 7264 5479 7065 223a 2022      "ordType": "
+00021c50: 4d61 726b 6574 222c 0a20 2020 2020 2020  Market",.       
+00021c60: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00021c70: 2020 2020 2020 2022 6578 6563 4944 223a         "execID":
+00021c80: 2022 3565 6565 3536 6134 2d30 3461 392d   "5eee56a4-04a9-
+00021c90: 3536 3737 2d38 6562 302d 6332 6665 3232  5677-8eb0-c2fe22
+00021ca0: 6165 3336 3435 222c 0a20 2020 2020 2020  ae3645",.       
+00021cb0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00021cc0: 2020 2020 2020 2022 6f72 6465 7249 4422         "orderID"
+00021cd0: 3a20 2265 6530 6163 6238 322d 6637 3132  : "ee0acb82-f712
+00021ce0: 2d34 3534 332d 6131 3164 2d64 3233 6566  -4543-a11d-d23ef
+00021cf0: 6361 3733 3139 3722 2c0a 2020 2020 2020  ca73197",.      
+00021d00: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00021d10: 2020 2020 2020 2020 2263 6c4f 7264 4944          "clOrdID
+00021d20: 223a 2022 222c 0a20 2020 2020 2020 2023  ": "",.        #
+00021d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021d40: 2020 2020 2022 6578 6563 5374 6174 7573       "execStatus
+00021d50: 223a 2022 5461 6b65 7246 696c 6c22 0a20  ": "TakerFill". 
+00021d60: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00021d70: 2020 2020 2020 2020 207d 2c0a 2020 2020           },.    
+00021d80: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00021d90: 2020 5d0a 2020 2020 2020 2020 2320 2020    ].        #   
+00021da0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+00021db0: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
+00021dc0: 230a 2020 2020 2020 2020 2320 7377 6170  #.        # swap
+00021dd0: 202d 2075 7364 740a 2020 2020 2020 2020   - usdt.        
+00021de0: 230a 2020 2020 2020 2020 2320 7b0a 2020  #.        # {.  
+00021df0: 2020 2020 2020 2320 2020 2020 2263 6f64        #     "cod
+00021e00: 6522 3a20 302c 0a20 2020 2020 2020 2023  e": 0,.        #
+00021e10: 2020 2020 2022 6d73 6722 3a20 224f 4b22       "msg": "OK"
+00021e20: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021e30: 2264 6174 6122 3a20 7b0a 2020 2020 2020  "data": {.      
+00021e40: 2020 2320 2020 2020 2020 2020 2274 6f74    #         "tot
+00021e50: 616c 223a 2034 2c0a 2020 2020 2020 2020  al": 4,.        
+00021e60: 2320 2020 2020 2020 2020 2272 6f77 7322  #         "rows"
+00021e70: 3a20 5b0a 2020 2020 2020 2020 2320 2020  : [.        #   
+00021e80: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00021e90: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00021ea0: 2020 2020 2020 2263 7265 6174 6564 4174        "createdAt
+00021eb0: 223a 2031 3636 3632 3236 3933 3232 3539  ": 1666226932259
+00021ec0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021ed0: 2020 2020 2020 2020 2020 2020 2273 796d              "sym
+00021ee0: 626f 6c22 3a20 2245 5448 5553 4454 222c  bol": "ETHUSDT",
+00021ef0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00021f00: 2020 2020 2020 2020 2020 2022 6375 7272             "curr
+00021f10: 656e 6379 223a 2022 5553 4454 222c 0a20  ency": "USDT",. 
+00021f20: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00021f30: 2020 2020 2020 2020 2022 6163 7469 6f6e           "action
+00021f40: 223a 2031 2c0a 2020 2020 2020 2020 2320  ": 1,.        # 
+00021f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021f60: 2274 7261 6465 5479 7065 223a 2031 2c0a  "tradeType": 1,.
+00021f70: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00021f80: 2020 2020 2020 2020 2020 2265 7865 6351            "execQ
+00021f90: 7479 5271 223a 2022 302e 3031 222c 0a20  tyRq": "0.01",. 
+00021fa0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00021fb0: 2020 2020 2020 2020 2022 6578 6563 5072           "execPr
+00021fc0: 6963 6552 7022 3a20 2231 3237 312e 3922  iceRp": "1271.9"
+00021fd0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00021fe0: 2020 2020 2020 2020 2020 2020 2273 6964              "sid
+00021ff0: 6522 3a20 312c 0a20 2020 2020 2020 2023  e": 1,.        #
+00022000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022010: 2022 6f72 6465 7251 7479 5271 223a 2022   "orderQtyRq": "
+00022020: 302e 3738 222c 0a20 2020 2020 2020 2023  0.78",.        #
+00022030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022040: 2022 7072 6963 6552 7022 3a20 2231 3237   "priceRp": "127
+00022050: 312e 3922 2c0a 2020 2020 2020 2020 2320  1.9",.        # 
+00022060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022070: 2265 7865 6356 616c 7565 5276 223a 2022  "execValueRv": "
+00022080: 3132 2e37 3139 222c 0a20 2020 2020 2020  12.719",.       
+00022090: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+000220a0: 2020 2022 6665 6552 6174 6552 7222 3a20     "feeRateRr": 
+000220b0: 2230 2e30 3030 3122 2c0a 2020 2020 2020  "0.0001",.      
+000220c0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000220d0: 2020 2020 2265 7865 6346 6565 5276 223a      "execFeeRv":
+000220e0: 2022 302e 3030 3132 3731 3922 2c0a 2020   "0.0012719",.  
+000220f0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00022100: 2020 2020 2020 2020 226f 7264 5479 7065          "ordType
+00022110: 223a 2032 2c0a 2020 2020 2020 2020 2320  ": 2,.        # 
+00022120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022130: 2265 7865 6349 6422 3a20 2238 3731 3863  "execId": "8718c
+00022140: 6165 222c 0a20 2020 2020 2020 2023 2020  ae",.        #  
+00022150: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00022160: 6578 6563 5374 6174 7573 223a 2036 0a20  execStatus": 6. 
+00022170: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00022180: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
+00022190: 2320 2020 2020 2020 2020 5d0a 2020 2020  #         ].    
+000221a0: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
+000221b0: 2020 2020 2320 7d0a 2020 2020 2020 2020      # }.        
+000221c0: 230a 2020 2020 2020 2020 6461 7461 203d  #.        data =
+000221d0: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+000221e0: 2872 6573 706f 6e73 652c 2027 6461 7461  (response, 'data
+000221f0: 272c 207b 7d29 0a20 2020 2020 2020 2069  ', {}).        i
+00022200: 6620 6d65 7468 6f64 2021 3d20 2770 7269  f method != 'pri
+00022210: 7661 7465 4765 7445 7863 6861 6e67 654f  vateGetExchangeO
+00022220: 7264 6572 5632 5472 6164 696e 674c 6973  rderV2TradingLis
+00022230: 7427 3a0a 2020 2020 2020 2020 2020 2020  t':.            
+00022240: 726f 7773 203d 2073 656c 662e 7361 6665  rows = self.safe
+00022250: 5f76 616c 7565 2864 6174 612c 2027 726f  _value(data, 'ro
+00022260: 7773 272c 205b 5d29 0a20 2020 2020 2020  ws', []).       
+00022270: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00022280: 2e70 6172 7365 5f74 7261 6465 7328 726f  .parse_trades(ro
+00022290: 7773 2c20 6d61 726b 6574 2c20 7369 6e63  ws, market, sinc
+000222a0: 652c 206c 696d 6974 290a 2020 2020 2020  e, limit).      
+000222b0: 2020 7265 7475 726e 2073 656c 662e 7061    return self.pa
+000222c0: 7273 655f 7472 6164 6573 2864 6174 612c  rse_trades(data,
+000222d0: 206d 6172 6b65 742c 2073 696e 6365 2c20   market, since, 
+000222e0: 6c69 6d69 7429 0a0a 2020 2020 6465 6620  limit)..    def 
+000222f0: 6665 7463 685f 6465 706f 7369 745f 6164  fetch_deposit_ad
+00022300: 6472 6573 7328 7365 6c66 2c20 636f 6465  dress(self, code
+00022310: 3a20 7374 722c 2070 6172 616d 733d 7b7d  : str, params={}
+00022320: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00022330: 2020 2020 2020 2066 6574 6368 2074 6865         fetch the
+00022340: 2064 6570 6f73 6974 2061 6464 7265 7373   deposit address
+00022350: 2066 6f72 2061 2063 7572 7265 6e63 7920   for a currency 
+00022360: 6173 736f 6369 6174 6564 2077 6974 6820  associated with 
+00022370: 7365 6c66 2061 6363 6f75 6e74 0a20 2020  self account.   
+00022380: 2020 2020 203a 7061 7261 6d20 7374 7220       :param str 
+00022390: 636f 6465 3a20 756e 6966 6965 6420 6375  code: unified cu
+000223a0: 7272 656e 6379 2063 6f64 650a 2020 2020  rrency code.    
+000223b0: 2020 2020 3a70 6172 616d 2064 6963 7420      :param dict 
+000223c0: 7061 7261 6d73 3a20 6578 7472 6120 7061  params: extra pa
+000223d0: 7261 6d65 7465 7273 2073 7065 6369 6669  rameters specifi
+000223e0: 6320 746f 2074 6865 2070 6865 6d65 7820  c to the phemex 
+000223f0: 6170 6920 656e 6470 6f69 6e74 0a20 2020  api endpoint.   
+00022400: 2020 2020 203a 7265 7475 726e 7320 6469       :returns di
+00022410: 6374 3a20 616e 2060 6164 6472 6573 7320  ct: an `address 
+00022420: 7374 7275 6374 7572 6520 3c68 7474 7073  structure <https
+00022430: 3a2f 2f64 6f63 732e 6363 7874 2e63 6f6d  ://docs.ccxt.com
+00022440: 2f23 2f3f 6964 3d61 6464 7265 7373 2d73  /#/?id=address-s
+00022450: 7472 7563 7475 7265 3e60 0a20 2020 2020  tructure>`.     
+00022460: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
+00022470: 656c 662e 6c6f 6164 5f6d 6172 6b65 7473  elf.load_markets
+00022480: 2829 0a20 2020 2020 2020 2063 7572 7265  ().        curre
+00022490: 6e63 7920 3d20 7365 6c66 2e63 7572 7265  ncy = self.curre
+000224a0: 6e63 7928 636f 6465 290a 2020 2020 2020  ncy(code).      
+000224b0: 2020 7265 7175 6573 7420 3d20 7b0a 2020    request = {.  
+000224c0: 2020 2020 2020 2020 2020 2763 7572 7265            'curre
+000224d0: 6e63 7927 3a20 6375 7272 656e 6379 5b27  ncy': currency['
+000224e0: 6964 275d 2c0a 2020 2020 2020 2020 7d0a  id'],.        }.
+000224f0: 2020 2020 2020 2020 6465 6661 756c 744e          defaultN
+00022500: 6574 776f 726b 7320 3d20 7365 6c66 2e73  etworks = self.s
+00022510: 6166 655f 7661 6c75 6528 7365 6c66 2e6f  afe_value(self.o
+00022520: 7074 696f 6e73 2c20 2764 6566 6175 6c74  ptions, 'default
+00022530: 4e65 7477 6f72 6b73 2729 0a20 2020 2020  Networks').     
+00022540: 2020 2064 6566 6175 6c74 4e65 7477 6f72     defaultNetwor
+00022550: 6b20 3d20 7365 6c66 2e73 6166 655f 7374  k = self.safe_st
+00022560: 7269 6e67 5f75 7070 6572 2864 6566 6175  ring_upper(defau
+00022570: 6c74 4e65 7477 6f72 6b73 2c20 636f 6465  ltNetworks, code
+00022580: 290a 2020 2020 2020 2020 6e65 7477 6f72  ).        networ
+00022590: 6b73 203d 2073 656c 662e 7361 6665 5f76  ks = self.safe_v
+000225a0: 616c 7565 2873 656c 662e 6f70 7469 6f6e  alue(self.option
+000225b0: 732c 2027 6e65 7477 6f72 6b73 272c 207b  s, 'networks', {
+000225c0: 7d29 0a20 2020 2020 2020 206e 6574 776f  }).        netwo
+000225d0: 726b 203d 2073 656c 662e 7361 6665 5f73  rk = self.safe_s
+000225e0: 7472 696e 675f 7570 7065 7228 7061 7261  tring_upper(para
+000225f0: 6d73 2c20 276e 6574 776f 726b 272c 2064  ms, 'network', d
+00022600: 6566 6175 6c74 4e65 7477 6f72 6b29 0a20  efaultNetwork). 
+00022610: 2020 2020 2020 206e 6574 776f 726b 203d         network =
+00022620: 2073 656c 662e 7361 6665 5f73 7472 696e   self.safe_strin
+00022630: 6728 6e65 7477 6f72 6b73 2c20 6e65 7477  g(networks, netw
+00022640: 6f72 6b2c 206e 6574 776f 726b 290a 2020  ork, network).  
+00022650: 2020 2020 2020 6966 206e 6574 776f 726b        if network
+00022660: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+00022670: 2020 2020 2020 7265 7175 6573 745b 2763        request['c
+00022680: 6861 696e 4e61 6d65 275d 203d 2063 7572  hainName'] = cur
+00022690: 7265 6e63 795b 2769 6427 5d0a 2020 2020  rency['id'].    
+000226a0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000226b0: 2020 2020 2020 7265 7175 6573 745b 2763        request['c
+000226c0: 6861 696e 4e61 6d65 275d 203d 206e 6574  hainName'] = net
+000226d0: 776f 726b 0a20 2020 2020 2020 2020 2020  work.           
+000226e0: 2070 6172 616d 7320 3d20 7365 6c66 2e6f   params = self.o
+000226f0: 6d69 7428 7061 7261 6d73 2c20 276e 6574  mit(params, 'net
+00022700: 776f 726b 2729 0a20 2020 2020 2020 2072  work').        r
+00022710: 6573 706f 6e73 6520 3d20 7365 6c66 2e70  esponse = self.p
+00022720: 7269 7661 7465 4765 7450 6865 6d65 7855  rivateGetPhemexU
+00022730: 7365 7257 616c 6c65 7473 5632 4465 706f  serWalletsV2Depo
+00022740: 7369 7441 6464 7265 7373 2873 656c 662e  sitAddress(self.
+00022750: 6578 7465 6e64 2872 6571 7565 7374 2c20  extend(request, 
+00022760: 7061 7261 6d73 2929 0a20 2020 2020 2020  params)).       
+00022770: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
+00022780: 2023 2020 2020 2020 2020 2022 636f 6465   #         "code
+00022790: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
+000227a0: 2020 2020 2020 2022 6d73 6722 3a22 4f4b         "msg":"OK
+000227b0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000227c0: 2020 2020 2022 6461 7461 223a 7b0a 2020       "data":{.  
+000227d0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000227e0: 2020 2020 2261 6464 7265 7373 223a 2230      "address":"0
+000227f0: 7835 6266 6266 3630 6530 6661 3766 3633  x5bfbf60e0fa7f63
+00022800: 3539 3865 3663 6664 3861 3766 6433 6666  598e6cfd8a7fd3ff
+00022810: 6163 3463 6363 3661 6422 2c0a 2020 2020  ac4ccc6ad",.    
+00022820: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00022830: 2020 2274 6167 223a 6e75 6c6c 0a20 2020    "tag":null.   
+00022840: 2020 2020 2023 2020 2020 2020 2020 207d       #         }
+00022850: 0a20 2020 2020 2020 2023 2020 2020 207d  .        #     }
+00022860: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
+00022870: 2020 2064 6174 6120 3d20 7365 6c66 2e73     data = self.s
+00022880: 6166 655f 7661 6c75 6528 7265 7370 6f6e  afe_value(respon
+00022890: 7365 2c20 2764 6174 6127 2c20 7b7d 290a  se, 'data', {}).
+000228a0: 2020 2020 2020 2020 6164 6472 6573 7320          address 
+000228b0: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
+000228c0: 6e67 2864 6174 612c 2027 6164 6472 6573  ng(data, 'addres
+000228d0: 7327 290a 2020 2020 2020 2020 7461 6720  s').        tag 
+000228e0: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
+000228f0: 6e67 2864 6174 612c 2027 7461 6727 290a  ng(data, 'tag').
+00022900: 2020 2020 2020 2020 7365 6c66 2e63 6865          self.che
+00022910: 636b 5f61 6464 7265 7373 2861 6464 7265  ck_address(addre
+00022920: 7373 290a 2020 2020 2020 2020 7265 7475  ss).        retu
+00022930: 726e 207b 0a20 2020 2020 2020 2020 2020  rn {.           
+00022940: 2027 6375 7272 656e 6379 273a 2063 6f64   'currency': cod
+00022950: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00022960: 6164 6472 6573 7327 3a20 6164 6472 6573  address': addres
+00022970: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
+00022980: 7461 6727 3a20 7461 672c 0a20 2020 2020  tag': tag,.     
+00022990: 2020 2020 2020 2027 6e65 7477 6f72 6b27         'network'
+000229a0: 3a20 4e6f 6e65 2c0a 2020 2020 2020 2020  : None,.        
+000229b0: 2020 2020 2769 6e66 6f27 3a20 7265 7370      'info': resp
+000229c0: 6f6e 7365 2c0a 2020 2020 2020 2020 7d0a  onse,.        }.
+000229d0: 0a20 2020 2064 6566 2066 6574 6368 5f64  .    def fetch_d
+000229e0: 6570 6f73 6974 7328 7365 6c66 2c20 636f  eposits(self, co
+000229f0: 6465 3a20 4f70 7469 6f6e 616c 5b73 7472  de: Optional[str
+00022a00: 5d20 3d20 4e6f 6e65 2c20 7369 6e63 653a  ] = None, since:
+00022a10: 204f 7074 696f 6e61 6c5b 696e 745d 203d   Optional[int] =
+00022a20: 204e 6f6e 652c 206c 696d 6974 3a20 4f70   None, limit: Op
+00022a30: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
+00022a40: 6e65 2c20 7061 7261 6d73 3d7b 7d29 3a0a  ne, params={}):.
+00022a50: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00022a60: 2020 2020 6665 7463 6820 616c 6c20 6465      fetch all de
+00022a70: 706f 7369 7473 206d 6164 6520 746f 2061  posits made to a
+00022a80: 6e20 6163 636f 756e 740a 2020 2020 2020  n account.      
+00022a90: 2020 3a70 6172 616d 2073 7472 7c4e 6f6e    :param str|Non
+00022aa0: 6520 636f 6465 3a20 756e 6966 6965 6420  e code: unified 
+00022ab0: 6375 7272 656e 6379 2063 6f64 650a 2020  currency code.  
+00022ac0: 2020 2020 2020 3a70 6172 616d 2069 6e74        :param int
+00022ad0: 7c4e 6f6e 6520 7369 6e63 653a 2074 6865  |None since: the
+00022ae0: 2065 6172 6c69 6573 7420 7469 6d65 2069   earliest time i
+00022af0: 6e20 6d73 2074 6f20 6665 7463 6820 6465  n ms to fetch de
+00022b00: 706f 7369 7473 2066 6f72 0a20 2020 2020  posits for.     
+00022b10: 2020 203a 7061 7261 6d20 696e 747c 4e6f     :param int|No
+00022b20: 6e65 206c 696d 6974 3a20 7468 6520 6d61  ne limit: the ma
+00022b30: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
+00022b40: 6465 706f 7369 7473 2073 7472 7563 7475  deposits structu
+00022b50: 7265 7320 746f 2072 6574 7269 6576 650a  res to retrieve.
+00022b60: 2020 2020 2020 2020 3a70 6172 616d 2064          :param d
+00022b70: 6963 7420 7061 7261 6d73 3a20 6578 7472  ict params: extr
+00022b80: 6120 7061 7261 6d65 7465 7273 2073 7065  a parameters spe
+00022b90: 6369 6669 6320 746f 2074 6865 2070 6865  cific to the phe
+00022ba0: 6d65 7820 6170 6920 656e 6470 6f69 6e74  mex api endpoint
+00022bb0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+00022bc0: 7320 5b64 6963 745d 3a20 6120 6c69 7374  s [dict]: a list
+00022bd0: 206f 6620 6074 7261 6e73 6163 7469 6f6e   of `transaction
+00022be0: 2073 7472 7563 7475 7265 7320 3c68 7474   structures <htt
+00022bf0: 7073 3a2f 2f64 6f63 732e 6363 7874 2e63  ps://docs.ccxt.c
+00022c00: 6f6d 2f23 2f3f 6964 3d74 7261 6e73 6163  om/#/?id=transac
+00022c10: 7469 6f6e 2d73 7472 7563 7475 7265 3e60  tion-structure>`
+00022c20: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00022c30: 2020 2020 2073 656c 662e 6c6f 6164 5f6d       self.load_m
+00022c40: 6172 6b65 7473 2829 0a20 2020 2020 2020  arkets().       
+00022c50: 2063 7572 7265 6e63 7920 3d20 4e6f 6e65   currency = None
+00022c60: 0a20 2020 2020 2020 2069 6620 636f 6465  .        if code
+00022c70: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+00022c80: 2020 2020 2020 2020 2020 6375 7272 656e            curren
+00022c90: 6379 203d 2073 656c 662e 6375 7272 656e  cy = self.curren
+00022ca0: 6379 2863 6f64 6529 0a20 2020 2020 2020  cy(code).       
+00022cb0: 2072 6573 706f 6e73 6520 3d20 7365 6c66   response = self
+00022cc0: 2e70 7269 7661 7465 4765 7445 7863 6861  .privateGetExcha
+00022cd0: 6e67 6557 616c 6c65 7473 4465 706f 7369  ngeWalletsDeposi
+00022ce0: 744c 6973 7428 7061 7261 6d73 290a 2020  tList(params).  
+00022cf0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
+00022d00: 2320 2020 2020 7b0a 2020 2020 2020 2020  #     {.        
+00022d10: 2320 2020 2020 2020 2020 2263 6f64 6522  #         "code"
+00022d20: 3a30 2c0a 2020 2020 2020 2020 2320 2020  :0,.        #   
+00022d30: 2020 2020 2020 226d 7367 223a 224f 4b22        "msg":"OK"
+00022d40: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00022d50: 2020 2020 2264 6174 6122 3a5b 0a20 2020      "data":[.   
+00022d60: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00022d70: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
+00022d80: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00022d90: 6964 223a 3239 3230 302c 0a20 2020 2020  id":29200,.     
+00022da0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00022db0: 2020 2020 2022 6375 7272 656e 6379 223a       "currency":
+00022dc0: 2255 5344 5422 2c0a 2020 2020 2020 2020  "USDT",.        
+00022dd0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00022de0: 2020 2263 7572 7265 6e63 7943 6f64 6522    "currencyCode"
+00022df0: 3a33 2c0a 2020 2020 2020 2020 2320 2020  :3,.        #   
+00022e00: 2020 2020 2020 2020 2020 2020 2020 2274                "t
+00022e10: 7848 6173 6822 3a22 3078 3062 6462 6463  xHash":"0x0bdbdc
+00022e20: 3437 3830 3737 3639 6130 3362 3135 3864  47807769a03b158d
+00022e30: 3537 3533 6635 3464 6663 3538 6239 3239  5753f54dfc58b929
+00022e40: 3933 6432 6635 6538 3138 6462 3231 3836  93d2f5e818db2186
+00022e50: 3365 3031 3233 3865 3564 222c 0a20 2020  3e01238e5d",.   
+00022e60: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00022e70: 2020 2020 2020 2022 6164 6472 6573 7322         "address"
+00022e80: 3a22 3078 3562 6662 6636 3065 3066 6137  :"0x5bfbf60e0fa7
+00022e90: 6636 3335 3938 6536 6366 6438 6137 6664  f63598e6cfd8a7fd
+00022ea0: 3366 6661 6334 6363 6336 6164 222c 0a20  3ffac4ccc6ad",. 
+00022eb0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00022ec0: 2020 2020 2020 2020 2022 616d 6f75 6e74           "amount
+00022ed0: 4576 223a 3330 3030 3030 3030 3030 2c0a  Ev":3000000000,.
+00022ee0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00022ef0: 2020 2020 2020 2020 2020 2263 6f6e 6669            "confi
+00022f00: 726d 6174 696f 6e73 223a 3133 2c0a 2020  rmations":13,.  
+00022f10: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00022f20: 2020 2020 2020 2020 2274 7970 6522 3a22          "type":"
+00022f30: 4465 706f 7369 7422 2c0a 2020 2020 2020  Deposit",.      
+00022f40: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00022f50: 2020 2020 2273 7461 7475 7322 3a22 5375      "status":"Su
+00022f60: 6363 6573 7322 2c0a 2020 2020 2020 2020  ccess",.        
+00022f70: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00022f80: 2020 2263 7265 6174 6564 4174 223a 3135    "createdAt":15
+00022f90: 3932 3732 3235 3635 3030 300a 2020 2020  92722565000.    
+00022fa0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00022fb0: 2020 7d0a 2020 2020 2020 2020 2320 2020    }.        #   
+00022fc0: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
+00022fd0: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
+00022fe0: 230a 2020 2020 2020 2020 6461 7461 203d  #.        data =
+00022ff0: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+00023000: 2872 6573 706f 6e73 652c 2027 6461 7461  (response, 'data
+00023010: 272c 207b 7d29 0a20 2020 2020 2020 2072  ', {}).        r
+00023020: 6574 7572 6e20 7365 6c66 2e70 6172 7365  eturn self.parse
+00023030: 5f74 7261 6e73 6163 7469 6f6e 7328 6461  _transactions(da
+00023040: 7461 2c20 6375 7272 656e 6379 2c20 7369  ta, currency, si
+00023050: 6e63 652c 206c 696d 6974 290a 0a20 2020  nce, limit)..   
+00023060: 2064 6566 2066 6574 6368 5f77 6974 6864   def fetch_withd
+00023070: 7261 7761 6c73 2873 656c 662c 2063 6f64  rawals(self, cod
+00023080: 653a 204f 7074 696f 6e61 6c5b 7374 725d  e: Optional[str]
+00023090: 203d 204e 6f6e 652c 2073 696e 6365 3a20   = None, since: 
+000230a0: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
+000230b0: 4e6f 6e65 2c20 6c69 6d69 743a 204f 7074  None, limit: Opt
+000230c0: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
+000230d0: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
+000230e0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000230f0: 2020 2066 6574 6368 2061 6c6c 2077 6974     fetch all wit
+00023100: 6864 7261 7761 6c73 206d 6164 6520 6672  hdrawals made fr
+00023110: 6f6d 2061 6e20 6163 636f 756e 740a 2020  om an account.  
+00023120: 2020 2020 2020 3a70 6172 616d 2073 7472        :param str
+00023130: 7c4e 6f6e 6520 636f 6465 3a20 756e 6966  |None code: unif
+00023140: 6965 6420 6375 7272 656e 6379 2063 6f64  ied currency cod
+00023150: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+00023160: 2069 6e74 7c4e 6f6e 6520 7369 6e63 653a   int|None since:
+00023170: 2074 6865 2065 6172 6c69 6573 7420 7469   the earliest ti
+00023180: 6d65 2069 6e20 6d73 2074 6f20 6665 7463  me in ms to fetc
+00023190: 6820 7769 7468 6472 6177 616c 7320 666f  h withdrawals fo
+000231a0: 720a 2020 2020 2020 2020 3a70 6172 616d  r.        :param
+000231b0: 2069 6e74 7c4e 6f6e 6520 6c69 6d69 743a   int|None limit:
+000231c0: 2074 6865 206d 6178 696d 756d 206e 756d   the maximum num
+000231d0: 6265 7220 6f66 2077 6974 6864 7261 7761  ber of withdrawa
+000231e0: 6c73 2073 7472 7563 7475 7265 7320 746f  ls structures to
+000231f0: 2072 6574 7269 6576 650a 2020 2020 2020   retrieve.      
+00023200: 2020 3a70 6172 616d 2064 6963 7420 7061    :param dict pa
+00023210: 7261 6d73 3a20 6578 7472 6120 7061 7261  rams: extra para
+00023220: 6d65 7465 7273 2073 7065 6369 6669 6320  meters specific 
+00023230: 746f 2074 6865 2070 6865 6d65 7820 6170  to the phemex ap
+00023240: 6920 656e 6470 6f69 6e74 0a20 2020 2020  i endpoint.     
+00023250: 2020 203a 7265 7475 726e 7320 5b64 6963     :returns [dic
+00023260: 745d 3a20 6120 6c69 7374 206f 6620 6074  t]: a list of `t
+00023270: 7261 6e73 6163 7469 6f6e 2073 7472 7563  ransaction struc
+00023280: 7475 7265 7320 3c68 7474 7073 3a2f 2f64  tures <https://d
+00023290: 6f63 732e 6363 7874 2e63 6f6d 2f23 2f3f  ocs.ccxt.com/#/?
+000232a0: 6964 3d74 7261 6e73 6163 7469 6f6e 2d73  id=transaction-s
+000232b0: 7472 7563 7475 7265 3e60 0a20 2020 2020  tructure>`.     
+000232c0: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
+000232d0: 656c 662e 6c6f 6164 5f6d 6172 6b65 7473  elf.load_markets
+000232e0: 2829 0a20 2020 2020 2020 2063 7572 7265  ().        curre
+000232f0: 6e63 7920 3d20 4e6f 6e65 0a20 2020 2020  ncy = None.     
+00023300: 2020 2069 6620 636f 6465 2069 7320 6e6f     if code is no
+00023310: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00023320: 2020 2020 6375 7272 656e 6379 203d 2073      currency = s
+00023330: 656c 662e 6375 7272 656e 6379 2863 6f64  elf.currency(cod
+00023340: 6529 0a20 2020 2020 2020 2072 6573 706f  e).        respo
+00023350: 6e73 6520 3d20 7365 6c66 2e70 7269 7661  nse = self.priva
+00023360: 7465 4765 7445 7863 6861 6e67 6557 616c  teGetExchangeWal
+00023370: 6c65 7473 5769 7468 6472 6177 4c69 7374  letsWithdrawList
+00023380: 2870 6172 616d 7329 0a20 2020 2020 2020  (params).       
+00023390: 2023 0a20 2020 2020 2020 2023 2020 2020   #.        #    
+000233a0: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+000233b0: 2020 2020 2022 636f 6465 223a 302c 0a20       "code":0,. 
+000233c0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+000233d0: 2022 6d73 6722 3a22 4f4b 222c 0a20 2020   "msg":"OK",.   
+000233e0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+000233f0: 6461 7461 223a 5b0a 2020 2020 2020 2020  data":[.        
+00023400: 2320 2020 2020 2020 2020 2020 2020 7b0a  #             {.
+00023410: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00023420: 2020 2020 2020 2020 2020 2261 6464 7265            "addre
+00023430: 7373 223a 2022 314c 7878 7878 7878 7878  ss": "1Lxxxxxxxx
+00023440: 7878 7822 0a20 2020 2020 2020 2023 2020  xxx".        #  
+00023450: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00023460: 616d 6f75 6e74 4576 223a 2032 3030 3030  amountEv": 20000
+00023470: 300a 2020 2020 2020 2020 2320 2020 2020  0.        #     
+00023480: 2020 2020 2020 2020 2020 2020 2263 7572              "cur
+00023490: 7265 6e63 7922 3a20 2242 5443 220a 2020  rency": "BTC".  
+000234a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000234b0: 2020 2020 2020 2020 2263 7572 7265 6e63          "currenc
+000234c0: 7943 6f64 6522 3a20 310a 2020 2020 2020  yCode": 1.      
+000234d0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000234e0: 2020 2020 2265 7870 6972 6564 5469 6d65      "expiredTime
+000234f0: 223a 2030 0a20 2020 2020 2020 2023 2020  ": 0.        #  
+00023500: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00023510: 6665 6545 7622 3a20 3530 3030 300a 2020  feeEv": 50000.  
+00023520: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00023530: 2020 2020 2020 2020 2272 656a 6563 7452          "rejectR
+00023540: 6561 736f 6e22 3a20 6e75 6c6c 0a20 2020  eason": null.   
+00023550: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00023560: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+00023570: 2022 5375 6363 6565 6422 0a20 2020 2020   "Succeed".     
+00023580: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00023590: 2020 2020 2022 7478 4861 7368 223a 2022       "txHash": "
+000235a0: 3434 6578 7878 7878 7878 7878 7878 7878  44exxxxxxxxxxxxx
+000235b0: 7878 7878 7878 7878 7822 0a20 2020 2020  xxxxxxxxx".     
+000235c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+000235d0: 2020 2020 2022 7769 7468 6472 6177 5374       "withdrawSt
+000235e0: 6174 7573 3a20 2222 0a20 2020 2020 2020  atus: "".       
+000235f0: 2023 2020 2020 2020 2020 2020 2020 207d   #             }
+00023600: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00023610: 2020 205d 0a20 2020 2020 2020 2023 2020     ].        #  
+00023620: 2020 207d 0a20 2020 2020 2020 2023 0a20     }.        #. 
+00023630: 2020 2020 2020 2064 6174 6120 3d20 7365         data = se
+00023640: 6c66 2e73 6166 655f 7661 6c75 6528 7265  lf.safe_value(re
+00023650: 7370 6f6e 7365 2c20 2764 6174 6127 2c20  sponse, 'data', 
+00023660: 7b7d 290a 2020 2020 2020 2020 7265 7475  {}).        retu
+00023670: 726e 2073 656c 662e 7061 7273 655f 7472  rn self.parse_tr
+00023680: 616e 7361 6374 696f 6e73 2864 6174 612c  ansactions(data,
+00023690: 2063 7572 7265 6e63 792c 2073 696e 6365   currency, since
+000236a0: 2c20 6c69 6d69 7429 0a0a 2020 2020 6465  , limit)..    de
+000236b0: 6620 7061 7273 655f 7472 616e 7361 6374  f parse_transact
+000236c0: 696f 6e5f 7374 6174 7573 2873 656c 662c  ion_status(self,
+000236d0: 2073 7461 7475 7329 3a0a 2020 2020 2020   status):.      
+000236e0: 2020 7374 6174 7573 6573 203d 207b 0a20    statuses = {. 
+000236f0: 2020 2020 2020 2020 2020 2027 5375 6363             'Succ
+00023700: 6573 7327 3a20 276f 6b27 2c0a 2020 2020  ess': 'ok',.    
+00023710: 2020 2020 2020 2020 2753 7563 6365 6564          'Succeed
+00023720: 273a 2027 6f6b 272c 0a20 2020 2020 2020  ': 'ok',.       
+00023730: 207d 0a20 2020 2020 2020 2072 6574 7572   }.        retur
+00023740: 6e20 7365 6c66 2e73 6166 655f 7374 7269  n self.safe_stri
+00023750: 6e67 2873 7461 7475 7365 732c 2073 7461  ng(statuses, sta
+00023760: 7475 732c 2073 7461 7475 7329 0a0a 2020  tus, status)..  
+00023770: 2020 6465 6620 7061 7273 655f 7472 616e    def parse_tran
+00023780: 7361 6374 696f 6e28 7365 6c66 2c20 7472  saction(self, tr
+00023790: 616e 7361 6374 696f 6e2c 2063 7572 7265  ansaction, curre
+000237a0: 6e63 793d 4e6f 6e65 293a 0a20 2020 2020  ncy=None):.     
+000237b0: 2020 2023 0a20 2020 2020 2020 2023 2077     #.        # w
+000237c0: 6974 6864 7261 770a 2020 2020 2020 2020  ithdraw.        
+000237d0: 230a 2020 2020 2020 2020 2320 2020 2020  #.        #     
+000237e0: 2e2e 2e0a 2020 2020 2020 2020 230a 2020  ....        #.  
+000237f0: 2020 2020 2020 2320 6665 7463 6844 6570        # fetchDep
+00023800: 6f73 6974 730a 2020 2020 2020 2020 230a  osits.        #.
+00023810: 2020 2020 2020 2020 2320 2020 2020 7b0a          #     {.
+00023820: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00023830: 2020 2269 6422 3a32 3932 3030 2c0a 2020    "id":29200,.  
+00023840: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00023850: 2263 7572 7265 6e63 7922 3a22 5553 4454  "currency":"USDT
+00023860: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+00023870: 2020 2020 2022 6375 7272 656e 6379 436f       "currencyCo
+00023880: 6465 223a 332c 0a20 2020 2020 2020 2023  de":3,.        #
+00023890: 2020 2020 2020 2020 2022 7478 4861 7368           "txHash
+000238a0: 223a 2230 7830 6264 6264 6334 3738 3037  ":"0x0bdbdc47807
+000238b0: 3736 3961 3033 6231 3538 6435 3735 3366  769a03b158d5753f
+000238c0: 3534 6466 6335 3862 3932 3939 3364 3266  54dfc58b92993d2f
+000238d0: 3565 3831 3864 6232 3138 3633 6530 3132  5e818db21863e012
+000238e0: 3338 6535 6422 2c0a 2020 2020 2020 2020  38e5d",.        
+000238f0: 2320 2020 2020 2020 2020 2261 6464 7265  #         "addre
+00023900: 7373 223a 2230 7835 6266 6266 3630 6530  ss":"0x5bfbf60e0
+00023910: 6661 3766 3633 3539 3865 3663 6664 3861  fa7f63598e6cfd8a
+00023920: 3766 6433 6666 6163 3463 6363 3661 6422  7fd3ffac4ccc6ad"
+00023930: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00023940: 2020 2020 2261 6d6f 756e 7445 7622 3a33      "amountEv":3
+00023950: 3030 3030 3030 3030 302c 0a20 2020 2020  000000000,.     
+00023960: 2020 2023 2020 2020 2020 2020 2022 636f     #         "co
+00023970: 6e66 6972 6d61 7469 6f6e 7322 3a31 332c  nfirmations":13,
+00023980: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00023990: 2020 2022 7479 7065 223a 2244 6570 6f73     "type":"Depos
+000239a0: 6974 222c 0a20 2020 2020 2020 2023 2020  it",.        #  
+000239b0: 2020 2020 2020 2022 7374 6174 7573 223a         "status":
+000239c0: 2253 7563 6365 7373 222c 0a20 2020 2020  "Success",.     
+000239d0: 2020 2023 2020 2020 2020 2020 2022 6372     #         "cr
+000239e0: 6561 7465 6441 7422 3a31 3539 3237 3232  eatedAt":1592722
+000239f0: 3536 3530 3030 0a20 2020 2020 2020 2023  565000.        #
+00023a00: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
+00023a10: 0a20 2020 2020 2020 2023 2066 6574 6368  .        # fetch
+00023a20: 5769 7468 6472 6177 616c 730a 2020 2020  Withdrawals.    
+00023a30: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+00023a40: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
+00023a50: 2020 2020 2020 2020 2261 6464 7265 7373          "address
+00023a60: 223a 2022 314c 7878 7878 7878 7878 7878  ": "1Lxxxxxxxxxx
+00023a70: 7822 0a20 2020 2020 2020 2023 2020 2020  x".        #    
+00023a80: 2020 2020 2022 616d 6f75 6e74 4576 223a       "amountEv":
+00023a90: 2032 3030 3030 300a 2020 2020 2020 2020   200000.        
+00023aa0: 2320 2020 2020 2020 2020 2263 7572 7265  #         "curre
+00023ab0: 6e63 7922 3a20 2242 5443 220a 2020 2020  ncy": "BTC".    
+00023ac0: 2020 2020 2320 2020 2020 2020 2020 2263      #         "c
+00023ad0: 7572 7265 6e63 7943 6f64 6522 3a20 310a  urrencyCode": 1.
+00023ae0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00023af0: 2020 2265 7870 6972 6564 5469 6d65 223a    "expiredTime":
+00023b00: 2030 0a20 2020 2020 2020 2023 2020 2020   0.        #    
+00023b10: 2020 2020 2022 6665 6545 7622 3a20 3530       "feeEv": 50
+00023b20: 3030 300a 2020 2020 2020 2020 2320 2020  000.        #   
+00023b30: 2020 2020 2020 2272 656a 6563 7452 6561        "rejectRea
+00023b40: 736f 6e22 3a20 6e75 6c6c 0a20 2020 2020  son": null.     
+00023b50: 2020 2023 2020 2020 2020 2020 2022 7374     #         "st
+00023b60: 6174 7573 223a 2022 5375 6363 6565 6422  atus": "Succeed"
+00023b70: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00023b80: 2020 2022 7478 4861 7368 223a 2022 3434     "txHash": "44
+00023b90: 6578 7878 7878 7878 7878 7878 7878 7878  exxxxxxxxxxxxxxx
+00023ba0: 7878 7878 7878 7822 0a20 2020 2020 2020  xxxxxxx".       
+00023bb0: 2023 2020 2020 2020 2020 2022 7769 7468   #         "with
+00023bc0: 6472 6177 5374 6174 7573 3a20 2222 0a20  drawStatus: "". 
+00023bd0: 2020 2020 2020 2023 2020 2020 207d 0a20         #     }. 
+00023be0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
+00023bf0: 2069 6420 3d20 7365 6c66 2e73 6166 655f   id = self.safe_
+00023c00: 7374 7269 6e67 2874 7261 6e73 6163 7469  string(transacti
+00023c10: 6f6e 2c20 2769 6427 290a 2020 2020 2020  on, 'id').      
+00023c20: 2020 6164 6472 6573 7320 3d20 7365 6c66    address = self
+00023c30: 2e73 6166 655f 7374 7269 6e67 2874 7261  .safe_string(tra
+00023c40: 6e73 6163 7469 6f6e 2c20 2761 6464 7265  nsaction, 'addre
+00023c50: 7373 2729 0a20 2020 2020 2020 2074 6167  ss').        tag
+00023c60: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00023c70: 7478 6964 203d 2073 656c 662e 7361 6665  txid = self.safe
+00023c80: 5f73 7472 696e 6728 7472 616e 7361 6374  _string(transact
+00023c90: 696f 6e2c 2027 7478 4861 7368 2729 0a20  ion, 'txHash'). 
+00023ca0: 2020 2020 2020 2063 7572 7265 6e63 7949         currencyI
+00023cb0: 6420 3d20 7365 6c66 2e73 6166 655f 7374  d = self.safe_st
+00023cc0: 7269 6e67 2874 7261 6e73 6163 7469 6f6e  ring(transaction
+00023cd0: 2c20 2763 7572 7265 6e63 7927 290a 2020  , 'currency').  
+00023ce0: 2020 2020 2020 6375 7272 656e 6379 203d        currency =
+00023cf0: 2073 656c 662e 7361 6665 5f63 7572 7265   self.safe_curre
+00023d00: 6e63 7928 6375 7272 656e 6379 4964 2c20  ncy(currencyId, 
+00023d10: 6375 7272 656e 6379 290a 2020 2020 2020  currency).      
+00023d20: 2020 636f 6465 203d 2063 7572 7265 6e63    code = currenc
+00023d30: 795b 2763 6f64 6527 5d0a 2020 2020 2020  y['code'].      
+00023d40: 2020 7469 6d65 7374 616d 7020 3d20 7365    timestamp = se
+00023d50: 6c66 2e73 6166 655f 696e 7465 6765 725f  lf.safe_integer_
+00023d60: 3228 7472 616e 7361 6374 696f 6e2c 2027  2(transaction, '
+00023d70: 6372 6561 7465 6441 7427 2c20 2773 7562  createdAt', 'sub
+00023d80: 6d69 7465 6441 7427 290a 2020 2020 2020  mitedAt').      
+00023d90: 2020 7479 7065 203d 2073 656c 662e 7361    type = self.sa
+00023da0: 6665 5f73 7472 696e 675f 6c6f 7765 7228  fe_string_lower(
+00023db0: 7472 616e 7361 6374 696f 6e2c 2027 7479  transaction, 'ty
+00023dc0: 7065 2729 0a20 2020 2020 2020 2066 6565  pe').        fee
+00023dd0: 436f 7374 203d 2073 656c 662e 7061 7273  Cost = self.pars
+00023de0: 655f 6e75 6d62 6572 2873 656c 662e 6672  e_number(self.fr
+00023df0: 6f6d 5f65 6e28 7365 6c66 2e73 6166 655f  om_en(self.safe_
+00023e00: 7374 7269 6e67 2874 7261 6e73 6163 7469  string(transacti
+00023e10: 6f6e 2c20 2766 6565 4576 2729 2c20 6375  on, 'feeEv'), cu
+00023e20: 7272 656e 6379 5b27 7661 6c75 6553 6361  rrency['valueSca
+00023e30: 6c65 275d 2929 0a20 2020 2020 2020 2066  le'])).        f
+00023e40: 6565 203d 204e 6f6e 650a 2020 2020 2020  ee = None.      
+00023e50: 2020 6966 2066 6565 436f 7374 2069 7320    if feeCost is 
+00023e60: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00023e70: 2020 2020 2020 7479 7065 203d 2027 7769        type = 'wi
+00023e80: 7468 6472 6177 616c 270a 2020 2020 2020  thdrawal'.      
+00023e90: 2020 2020 2020 6665 6520 3d20 7b0a 2020        fee = {.  
+00023ea0: 2020 2020 2020 2020 2020 2020 2020 2763                'c
+00023eb0: 6f73 7427 3a20 6665 6543 6f73 742c 0a20  ost': feeCost,. 
+00023ec0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00023ed0: 6375 7272 656e 6379 273a 2063 6f64 652c  currency': code,
+00023ee0: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
+00023ef0: 2020 2020 2020 2073 7461 7475 7320 3d20         status = 
+00023f00: 7365 6c66 2e70 6172 7365 5f74 7261 6e73  self.parse_trans
+00023f10: 6163 7469 6f6e 5f73 7461 7475 7328 7365  action_status(se
+00023f20: 6c66 2e73 6166 655f 7374 7269 6e67 2874  lf.safe_string(t
+00023f30: 7261 6e73 6163 7469 6f6e 2c20 2773 7461  ransaction, 'sta
+00023f40: 7475 7327 2929 0a20 2020 2020 2020 2061  tus')).        a
+00023f50: 6d6f 756e 7420 3d20 7365 6c66 2e70 6172  mount = self.par
+00023f60: 7365 5f6e 756d 6265 7228 7365 6c66 2e66  se_number(self.f
+00023f70: 726f 6d5f 656e 2873 656c 662e 7361 6665  rom_en(self.safe
+00023f80: 5f73 7472 696e 6728 7472 616e 7361 6374  _string(transact
+00023f90: 696f 6e2c 2027 616d 6f75 6e74 4576 2729  ion, 'amountEv')
+00023fa0: 2c20 6375 7272 656e 6379 5b27 7661 6c75  , currency['valu
+00023fb0: 6553 6361 6c65 275d 2929 0a20 2020 2020  eScale'])).     
+00023fc0: 2020 2072 6574 7572 6e20 7b0a 2020 2020     return {.    
+00023fd0: 2020 2020 2020 2020 2769 6e66 6f27 3a20          'info': 
+00023fe0: 7472 616e 7361 6374 696f 6e2c 0a20 2020  transaction,.   
+00023ff0: 2020 2020 2020 2020 2027 6964 273a 2069           'id': i
+00024000: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+00024010: 7478 6964 273a 2074 7869 642c 0a20 2020  txid': txid,.   
+00024020: 2020 2020 2020 2020 2027 7469 6d65 7374           'timest
+00024030: 616d 7027 3a20 7469 6d65 7374 616d 702c  amp': timestamp,
+00024040: 0a20 2020 2020 2020 2020 2020 2027 6461  .            'da
+00024050: 7465 7469 6d65 273a 2073 656c 662e 6973  tetime': self.is
+00024060: 6f38 3630 3128 7469 6d65 7374 616d 7029  o8601(timestamp)
+00024070: 2c0a 2020 2020 2020 2020 2020 2020 276e  ,.            'n
+00024080: 6574 776f 726b 273a 204e 6f6e 652c 0a20  etwork': None,. 
+00024090: 2020 2020 2020 2020 2020 2027 6164 6472             'addr
+000240a0: 6573 7327 3a20 6164 6472 6573 732c 0a20  ess': address,. 
+000240b0: 2020 2020 2020 2020 2020 2027 6164 6472             'addr
+000240c0: 6573 7354 6f27 3a20 6164 6472 6573 732c  essTo': address,
+000240d0: 0a20 2020 2020 2020 2020 2020 2027 6164  .            'ad
+000240e0: 6472 6573 7346 726f 6d27 3a20 4e6f 6e65  dressFrom': None
+000240f0: 2c0a 2020 2020 2020 2020 2020 2020 2774  ,.            't
+00024100: 6167 273a 2074 6167 2c0a 2020 2020 2020  ag': tag,.      
+00024110: 2020 2020 2020 2774 6167 546f 273a 2074        'tagTo': t
+00024120: 6167 2c0a 2020 2020 2020 2020 2020 2020  ag,.            
+00024130: 2774 6167 4672 6f6d 273a 204e 6f6e 652c  'tagFrom': None,
+00024140: 0a20 2020 2020 2020 2020 2020 2027 7479  .            'ty
+00024150: 7065 273a 2074 7970 652c 0a20 2020 2020  pe': type,.     
+00024160: 2020 2020 2020 2027 616d 6f75 6e74 273a         'amount':
+00024170: 2061 6d6f 756e 742c 0a20 2020 2020 2020   amount,.       
+00024180: 2020 2020 2027 6375 7272 656e 6379 273a       'currency':
+00024190: 2063 6f64 652c 0a20 2020 2020 2020 2020   code,.         
+000241a0: 2020 2027 7374 6174 7573 273a 2073 7461     'status': sta
+000241b0: 7475 732c 0a20 2020 2020 2020 2020 2020  tus,.           
+000241c0: 2027 7570 6461 7465 6427 3a20 4e6f 6e65   'updated': None
+000241d0: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
+000241e0: 6565 273a 2066 6565 2c0a 2020 2020 2020  ee': fee,.      
+000241f0: 2020 7d0a 0a20 2020 2064 6566 2066 6574    }..    def fet
+00024200: 6368 5f70 6f73 6974 696f 6e73 2873 656c  ch_positions(sel
+00024210: 662c 2073 796d 626f 6c73 3a20 4f70 7469  f, symbols: Opti
+00024220: 6f6e 616c 5b4c 6973 745b 7374 725d 5d20  onal[List[str]] 
+00024230: 3d20 4e6f 6e65 2c20 7061 7261 6d73 3d7b  = None, params={
+00024240: 7d29 3a0a 2020 2020 2020 2020 2222 220a  }):.        """.
+00024250: 2020 2020 2020 2020 6665 7463 6820 616c          fetch al
+00024260: 6c20 6f70 656e 2070 6f73 6974 696f 6e73  l open positions
+00024270: 0a20 2020 2020 2020 2073 6565 2068 7474  .        see htt
+00024280: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00024290: 7068 656d 6578 2f70 6865 6d65 782d 6170  phemex/phemex-ap
+000242a0: 692d 646f 6373 2f62 6c6f 622f 6d61 7374  i-docs/blob/mast
+000242b0: 6572 2f50 7562 6c69 632d 436f 6e74 7261  er/Public-Contra
+000242c0: 6374 2d41 5049 2d65 6e2e 6d64 2371 7565  ct-API-en.md#que
+000242d0: 7279 2d74 7261 6469 6e67 2d61 6363 6f75  ry-trading-accou
+000242e0: 6e74 2d61 6e64 2d70 6f73 6974 696f 6e73  nt-and-positions
+000242f0: 0a20 2020 2020 2020 2073 6565 2068 7474  .        see htt
+00024300: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00024310: 7068 656d 6578 2f70 6865 6d65 782d 6170  phemex/phemex-ap
+00024320: 692d 646f 6373 2f62 6c6f 622f 6d61 7374  i-docs/blob/mast
+00024330: 6572 2f50 7562 6c69 632d 4865 6467 6564  er/Public-Hedged
+00024340: 2d50 6572 7065 7475 616c 2d41 5049 2e6d  -Perpetual-API.m
+00024350: 6423 7175 6572 792d 6163 636f 756e 742d  d#query-account-
+00024360: 706f 7369 7469 6f6e 730a 2020 2020 2020  positions.      
+00024370: 2020 3a70 6172 616d 205b 7374 725d 7c4e    :param [str]|N
+00024380: 6f6e 6520 7379 6d62 6f6c 733a 206c 6973  one symbols: lis
+00024390: 7420 6f66 2075 6e69 6669 6564 206d 6172  t of unified mar
+000243a0: 6b65 7420 7379 6d62 6f6c 730a 2020 2020  ket symbols.    
+000243b0: 2020 2020 3a70 6172 616d 2064 6963 7420      :param dict 
+000243c0: 7061 7261 6d73 3a20 6578 7472 6120 7061  params: extra pa
+000243d0: 7261 6d65 7465 7273 2073 7065 6369 6669  rameters specifi
+000243e0: 6320 746f 2074 6865 2070 6865 6d65 7820  c to the phemex 
+000243f0: 6170 6920 656e 6470 6f69 6e74 0a20 2020  api endpoint.   
+00024400: 2020 2020 203a 7265 7475 726e 7320 5b64       :returns [d
+00024410: 6963 745d 3a20 6120 6c69 7374 206f 6620  ict]: a list of 
+00024420: 6070 6f73 6974 696f 6e20 7374 7275 6374  `position struct
+00024430: 7572 6520 3c68 7474 7073 3a2f 2f64 6f63  ure <https://doc
+00024440: 732e 6363 7874 2e63 6f6d 2f23 2f3f 6964  s.ccxt.com/#/?id
+00024450: 3d70 6f73 6974 696f 6e2d 7374 7275 6374  =position-struct
+00024460: 7572 653e 600a 2020 2020 2020 2020 2222  ure>`.        ""
+00024470: 220a 2020 2020 2020 2020 7365 6c66 2e6c  ".        self.l
+00024480: 6f61 645f 6d61 726b 6574 7328 290a 2020  oad_markets().  
+00024490: 2020 2020 2020 7379 6d62 6f6c 7320 3d20        symbols = 
+000244a0: 7365 6c66 2e6d 6172 6b65 745f 7379 6d62  self.market_symb
+000244b0: 6f6c 7328 7379 6d62 6f6c 7329 0a20 2020  ols(symbols).   
+000244c0: 2020 2020 2073 7562 5479 7065 203d 204e       subType = N
+000244d0: 6f6e 650a 2020 2020 2020 2020 6d65 7468  one.        meth
+000244e0: 6f64 203d 2027 7072 6976 6174 6547 6574  od = 'privateGet
+000244f0: 4163 636f 756e 7473 4163 636f 756e 7450  AccountsAccountP
+00024500: 6f73 6974 696f 6e73 270a 2020 2020 2020  ositions'.      
+00024510: 2020 636f 6465 203d 2073 656c 662e 7361    code = self.sa
+00024520: 6665 5f73 7472 696e 6728 7061 7261 6d73  fe_string(params
+00024530: 2c20 2763 7572 7265 6e63 7927 290a 2020  , 'currency').  
+00024540: 2020 2020 2020 7365 7474 6c65 203d 204e        settle = N
+00024550: 6f6e 650a 2020 2020 2020 2020 6d61 726b  one.        mark
+00024560: 6574 203d 204e 6f6e 650a 2020 2020 2020  et = None.      
+00024570: 2020 6669 7273 7453 796d 626f 6c20 3d20    firstSymbol = 
+00024580: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+00024590: 2873 796d 626f 6c73 2c20 3029 0a20 2020  (symbols, 0).   
+000245a0: 2020 2020 2069 6620 6669 7273 7453 796d       if firstSym
+000245b0: 626f 6c20 6973 206e 6f74 204e 6f6e 653a  bol is not None:
+000245c0: 0a20 2020 2020 2020 2020 2020 206d 6172  .            mar
+000245d0: 6b65 7420 3d20 7365 6c66 2e6d 6172 6b65  ket = self.marke
+000245e0: 7428 6669 7273 7453 796d 626f 6c29 0a20  t(firstSymbol). 
+000245f0: 2020 2020 2020 2020 2020 2073 6574 746c             settl
+00024600: 6520 3d20 6d61 726b 6574 5b27 7365 7474  e = market['sett
+00024610: 6c65 275d 0a20 2020 2020 2020 2020 2020  le'].           
+00024620: 2063 6f64 6520 3d20 6d61 726b 6574 5b27   code = market['
+00024630: 7365 7474 6c65 275d 0a20 2020 2020 2020  settle'].       
+00024640: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00024650: 2020 2073 6574 746c 652c 2070 6172 616d     settle, param
+00024660: 7320 3d20 7365 6c66 2e68 616e 646c 655f  s = self.handle_
+00024670: 6f70 7469 6f6e 5f61 6e64 5f70 6172 616d  option_and_param
+00024680: 7328 7061 7261 6d73 2c20 2766 6574 6368  s(params, 'fetch
+00024690: 506f 7369 7469 6f6e 7327 2c20 2773 6574  Positions', 'set
+000246a0: 746c 6527 2c20 2755 5344 2729 0a20 2020  tle', 'USD').   
+000246b0: 2020 2020 2073 7562 5479 7065 2c20 7061       subType, pa
+000246c0: 7261 6d73 203d 2073 656c 662e 6861 6e64  rams = self.hand
+000246d0: 6c65 5f73 7562 5f74 7970 655f 616e 645f  le_sub_type_and_
+000246e0: 7061 7261 6d73 2827 6665 7463 6850 6f73  params('fetchPos
+000246f0: 6974 696f 6e73 272c 206d 6172 6b65 742c  itions', market,
+00024700: 2070 6172 616d 7329 0a20 2020 2020 2020   params).       
+00024710: 2069 6620 7365 7474 6c65 203d 3d20 2755   if settle == 'U
+00024720: 5344 5427 3a0a 2020 2020 2020 2020 2020  SDT':.          
+00024730: 2020 636f 6465 203d 2027 5553 4454 270a    code = 'USDT'.
+00024740: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
+00024750: 6f64 203d 2027 7072 6976 6174 6547 6574  od = 'privateGet
+00024760: 4741 6363 6f75 6e74 7341 6363 6f75 6e74  GAccountsAccount
+00024770: 506f 7369 7469 6f6e 7327 0a20 2020 2020  Positions'.     
+00024780: 2020 2065 6c69 6620 636f 6465 2069 7320     elif code is 
+00024790: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+000247a0: 2020 636f 6465 203d 2027 5553 4427 2069    code = 'USD' i
+000247b0: 6620 2873 7562 5479 7065 203d 3d20 276c  f (subType == 'l
+000247c0: 696e 6561 7227 2920 656c 7365 2027 4254  inear') else 'BT
+000247d0: 4327 0a20 2020 2020 2020 2065 6c73 653a  C'.        else:
+000247e0: 0a20 2020 2020 2020 2020 2020 2070 6172  .            par
+000247f0: 616d 7320 3d20 7365 6c66 2e6f 6d69 7428  ams = self.omit(
+00024800: 7061 7261 6d73 2c20 2763 6f64 6527 290a  params, 'code').
+00024810: 2020 2020 2020 2020 6375 7272 656e 6379          currency
+00024820: 203d 2073 656c 662e 6375 7272 656e 6379   = self.currency
+00024830: 2863 6f64 6529 0a20 2020 2020 2020 2072  (code).        r
+00024840: 6571 7565 7374 203d 207b 0a20 2020 2020  equest = {.     
+00024850: 2020 2020 2020 2027 6375 7272 656e 6379         'currency
+00024860: 273a 2063 7572 7265 6e63 795b 2769 6427  ': currency['id'
+00024870: 5d2c 0a20 2020 2020 2020 207d 0a20 2020  ],.        }.   
+00024880: 2020 2020 2072 6573 706f 6e73 6520 3d20       response = 
+00024890: 6765 7461 7474 7228 7365 6c66 2c20 6d65  getattr(self, me
+000248a0: 7468 6f64 2928 7365 6c66 2e65 7874 656e  thod)(self.exten
+000248b0: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
+000248c0: 7329 290a 2020 2020 2020 2020 230a 2020  s)).        #.  
+000248d0: 2020 2020 2020 2320 2020 2020 7b0a 2020        #     {.  
+000248e0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000248f0: 2263 6f64 6522 3a30 2c22 6d73 6722 3a22  "code":0,"msg":"
+00024900: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+00024910: 2020 2020 2022 6461 7461 223a 7b0a 2020       "data":{.  
+00024920: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00024930: 2020 2020 2261 6363 6f75 6e74 223a 7b0a      "account":{.
+00024940: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00024950: 2020 2020 2020 2020 2020 2261 6363 6f75            "accou
+00024960: 6e74 4964 223a 3631 3932 3132 3030 3031  ntId":6192120001
+00024970: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00024980: 2020 2020 2020 2020 2020 2020 2263 7572              "cur
+00024990: 7265 6e63 7922 3a22 4254 4322 2c0a 2020  rency":"BTC",.  
+000249a0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000249b0: 2020 2020 2020 2020 2261 6363 6f75 6e74          "account
+000249c0: 4261 6c61 6e63 6545 7622 3a31 3235 3437  BalanceEv":12547
+000249d0: 3434 2c0a 2020 2020 2020 2020 2320 2020  44,.        #   
+000249e0: 2020 2020 2020 2020 2020 2020 2020 2274                "t
+000249f0: 6f74 616c 5573 6564 4261 6c61 6e63 6545  otalUsedBalanceE
+00024a00: 7622 3a30 2c0a 2020 2020 2020 2020 2320  v":0,.        # 
+00024a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024a20: 2262 6f6e 7573 4261 6c61 6e63 6545 7622  "bonusBalanceEv"
+00024a30: 3a31 3235 3437 3434 0a20 2020 2020 2020  :1254744.       
+00024a40: 2023 2020 2020 2020 2020 2020 2020 207d   #             }
+00024a50: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00024a60: 2020 2020 2020 2020 2270 6f73 6974 696f          "positio
+00024a70: 6e73 223a 5b0a 2020 2020 2020 2020 2320  ns":[.        # 
+00024a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024a90: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
+00024aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024ab0: 2261 6363 6f75 6e74 4944 223a 3631 3932  "accountID":6192
+00024ac0: 3132 3030 3031 2c0a 2020 2020 2020 2020  120001,.        
+00024ad0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024ae0: 2020 2020 2020 2273 796d 626f 6c22 3a22        "symbol":"
+00024af0: 4254 4355 5344 222c 0a20 2020 2020 2020  BTCUSD",.       
+00024b00: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00024b10: 2020 2020 2020 2022 6375 7272 656e 6379         "currency
+00024b20: 223a 2242 5443 222c 0a20 2020 2020 2020  ":"BTC",.       
+00024b30: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00024b40: 2020 2020 2020 2022 7369 6465 223a 224e         "side":"N
+00024b50: 6f6e 6522 2c0a 2020 2020 2020 2020 2320  one",.        # 
+00024b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024b70: 2020 2020 2270 6f73 6974 696f 6e53 7461      "positionSta
+00024b80: 7475 7322 3a22 4e6f 726d 616c 222c 0a20  tus":"Normal",. 
+00024b90: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00024ba0: 2020 2020 2020 2020 2020 2020 2022 6372               "cr
+00024bb0: 6f73 734d 6172 6769 6e22 3a66 616c 7365  ossMargin":false
+00024bc0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00024bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024be0: 226c 6576 6572 6167 6545 7222 3a31 3030  "leverageEr":100
+00024bf0: 3030 3030 3030 2c0a 2020 2020 2020 2020  000000,.        
+00024c00: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024c10: 2020 2020 2020 226c 6576 6572 6167 6522        "leverage"
+00024c20: 3a31 2e30 3030 3030 3030 302c 0a20 2020  :1.00000000,.   
+00024c30: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00024c40: 2020 2020 2020 2020 2020 2022 696e 6974             "init
+00024c50: 4d61 7267 696e 5265 7145 7222 3a31 3030  MarginReqEr":100
+00024c60: 3030 3030 3030 2c0a 2020 2020 2020 2020  000000,.        
+00024c70: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024c80: 2020 2020 2020 2269 6e69 744d 6172 6769        "initMargi
+00024c90: 6e52 6571 223a 312e 3030 3030 3030 3030  nReq":1.00000000
+00024ca0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00024cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024cc0: 226d 6169 6e74 4d61 7267 696e 5265 7145  "maintMarginReqE
+00024cd0: 7222 3a35 3030 3030 302c 0a20 2020 2020  r":500000,.     
+00024ce0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00024cf0: 2020 2020 2020 2020 2022 6d61 696e 744d           "maintM
+00024d00: 6172 6769 6e52 6571 223a 302e 3030 3530  arginReq":0.0050
+00024d10: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
+00024d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024d30: 2020 2020 2272 6973 6b4c 696d 6974 4576      "riskLimitEv
+00024d40: 223a 3130 3030 3030 3030 3030 302c 0a20  ":10000000000,. 
+00024d50: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00024d60: 2020 2020 2020 2020 2020 2020 2022 7269               "ri
+00024d70: 736b 4c69 6d69 7422 3a31 3030 2e30 3030  skLimit":100.000
+00024d80: 3030 3030 302c 0a20 2020 2020 2020 2023  00000,.        #
+00024d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024da0: 2020 2020 2022 7369 7a65 223a 302c 0a20       "size":0,. 
+00024db0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00024dc0: 2020 2020 2020 2020 2020 2020 2022 7661               "va
+00024dd0: 6c75 6522 3a30 452d 382c 0a20 2020 2020  lue":0E-8,.     
+00024de0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00024df0: 2020 2020 2020 2020 2022 7661 6c75 6545           "valueE
+00024e00: 7622 3a30 2c0a 2020 2020 2020 2020 2320  v":0,.        # 
+00024e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024e20: 2020 2020 2261 7667 456e 7472 7950 7269      "avgEntryPri
+00024e30: 6365 4570 223a 302c 0a20 2020 2020 2020  ceEp":0,.       
+00024e40: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00024e50: 2020 2020 2020 2022 6176 6745 6e74 7279         "avgEntry
+00024e60: 5072 6963 6522 3a30 452d 382c 0a20 2020  Price":0E-8,.   
+00024e70: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00024e80: 2020 2020 2020 2020 2020 2022 706f 7343             "posC
+00024e90: 6f73 7445 7622 3a30 2c0a 2020 2020 2020  ostEv":0,.      
+00024ea0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00024eb0: 2020 2020 2020 2020 2270 6f73 436f 7374          "posCost
+00024ec0: 223a 3045 2d38 2c0a 2020 2020 2020 2020  ":0E-8,.        
+00024ed0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00024ee0: 2020 2020 2020 2261 7373 6967 6e65 6450        "assignedP
+00024ef0: 6f73 4261 6c61 6e63 6545 7622 3a30 2c0a  osBalanceEv":0,.
+00024f00: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00024f10: 2020 2020 2020 2020 2020 2020 2020 2261                "a
+00024f20: 7373 6967 6e65 6450 6f73 4261 6c61 6e63  ssignedPosBalanc
+00024f30: 6522 3a30 452d 382c 0a20 2020 2020 2020  e":0E-8,.       
+00024f40: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00024f50: 2020 2020 2020 2022 6261 6e6b 7275 7074         "bankrupt
+00024f60: 436f 6d6d 4576 223a 302c 0a20 2020 2020  CommEv":0,.     
+00024f70: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00024f80: 2020 2020 2020 2020 2022 6261 6e6b 7275           "bankru
+00024f90: 7074 436f 6d6d 223a 3045 2d38 2c0a 2020  ptComm":0E-8,.  
+00024fa0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00024fb0: 2020 2020 2020 2020 2020 2020 2262 616e              "ban
+00024fc0: 6b72 7570 7450 7269 6365 4570 223a 302c  kruptPriceEp":0,
+00024fd0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00024fe0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00024ff0: 6261 6e6b 7275 7074 5072 6963 6522 3a30  bankruptPrice":0
+00025000: 452d 382c 0a20 2020 2020 2020 2023 2020  E-8,.        #  
+00025010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025020: 2020 2022 706f 7369 7469 6f6e 4d61 7267     "positionMarg
+00025030: 696e 4576 223a 302c 0a20 2020 2020 2020  inEv":0,.       
+00025040: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00025050: 2020 2020 2020 2022 706f 7369 7469 6f6e         "position
+00025060: 4d61 7267 696e 223a 3045 2d38 2c0a 2020  Margin":0E-8,.  
+00025070: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00025080: 2020 2020 2020 2020 2020 2020 226c 6971              "liq
+00025090: 7569 6461 7469 6f6e 5072 6963 6545 7022  uidationPriceEp"
+000250a0: 3a30 2c0a 2020 2020 2020 2020 2320 2020  :0,.        #   
+000250b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000250c0: 2020 226c 6971 7569 6461 7469 6f6e 5072    "liquidationPr
+000250d0: 6963 6522 3a30 452d 382c 0a20 2020 2020  ice":0E-8,.     
+000250e0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+000250f0: 2020 2020 2020 2020 2022 6465 6c65 7665           "deleve
+00025100: 7261 6765 5065 7263 656e 7469 6c65 4572  ragePercentileEr
+00025110: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
+00025120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025130: 2020 2022 6465 6c65 7665 7261 6765 5065     "deleveragePe
+00025140: 7263 656e 7469 6c65 223a 3045 2d38 2c0a  rcentile":0E-8,.
+00025150: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00025160: 2020 2020 2020 2020 2020 2020 2020 2262                "b
+00025170: 7579 5661 6c75 6554 6f43 6f73 7445 7222  uyValueToCostEr"
+00025180: 3a31 3030 3232 3530 3030 2c0a 2020 2020  :100225000,.    
+00025190: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+000251a0: 2020 2020 2020 2020 2020 2262 7579 5661            "buyVa
+000251b0: 6c75 6554 6f43 6f73 7422 3a31 2e30 3032  lueToCost":1.002
+000251c0: 3235 3030 302c 0a20 2020 2020 2020 2023  25000,.        #
+000251d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000251e0: 2020 2020 2022 7365 6c6c 5661 6c75 6554       "sellValueT
+000251f0: 6f43 6f73 7445 7222 3a31 3030 3037 3530  oCostEr":1000750
+00025200: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+00025210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025220: 2020 2273 656c 6c56 616c 7565 546f 436f    "sellValueToCo
+00025230: 7374 223a 312e 3030 3037 3530 3030 2c0a  st":1.00075000,.
+00025240: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00025250: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00025260: 6172 6b50 7269 6365 4570 223a 3133 3537  arkPriceEp":1357
+00025270: 3336 3037 302c 0a20 2020 2020 2020 2023  36070,.        #
+00025280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025290: 2020 2020 2022 6d61 726b 5072 6963 6522       "markPrice"
+000252a0: 3a31 3335 3733 2e36 3037 3030 3030 302c  :13573.60700000,
+000252b0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000252c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000252d0: 6d61 726b 5661 6c75 6545 7622 3a30 2c0a  markValueEv":0,.
+000252e0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000252f0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00025300: 6172 6b56 616c 7565 223a 6e75 6c6c 2c0a  arkValue":null,.
+00025310: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00025320: 2020 2020 2020 2020 2020 2020 2020 2275                "u
+00025330: 6e52 6561 6c69 7365 6450 6f73 4c6f 7373  nRealisedPosLoss
+00025340: 4576 223a 302c 0a20 2020 2020 2020 2023  Ev":0,.        #
+00025350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025360: 2020 2020 2022 756e 5265 616c 6973 6564       "unRealised
+00025370: 506f 734c 6f73 7322 3a6e 756c 6c2c 0a20  PosLoss":null,. 
+00025380: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00025390: 2020 2020 2020 2020 2020 2020 2022 6573               "es
+000253a0: 7469 6d61 7465 644f 7264 4c6f 7373 4576  timatedOrdLossEv
+000253b0: 223a 302c 0a20 2020 2020 2020 2023 2020  ":0,.        #  
+000253c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000253d0: 2020 2022 6573 7469 6d61 7465 644f 7264     "estimatedOrd
+000253e0: 4c6f 7373 223a 3045 2d38 2c0a 2020 2020  Loss":0E-8,.    
+000253f0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00025400: 2020 2020 2020 2020 2020 2275 7365 6442            "usedB
+00025410: 616c 616e 6365 4576 223a 302c 0a20 2020  alanceEv":0,.   
+00025420: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00025430: 2020 2020 2020 2020 2020 2022 7573 6564             "used
+00025440: 4261 6c61 6e63 6522 3a30 452d 382c 0a20  Balance":0E-8,. 
+00025450: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00025460: 2020 2020 2020 2020 2020 2020 2022 7461               "ta
+00025470: 6b65 5072 6f66 6974 4570 223a 302c 0a20  keProfitEp":0,. 
+00025480: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00025490: 2020 2020 2020 2020 2020 2020 2022 7461               "ta
+000254a0: 6b65 5072 6f66 6974 223a 6e75 6c6c 2c0a  keProfit":null,.
+000254b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000254c0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+000254d0: 746f 704c 6f73 7345 7022 3a30 2c0a 2020  topLossEp":0,.  
+000254e0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000254f0: 2020 2020 2020 2020 2020 2020 2273 746f              "sto
+00025500: 704c 6f73 7322 3a6e 756c 6c2c 0a20 2020  pLoss":null,.   
+00025510: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00025520: 2020 2020 2020 2020 2020 2022 6375 6d43             "cumC
+00025530: 6c6f 7365 6450 6e6c 4576 223a 302c 0a20  losedPnlEv":0,. 
+00025540: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00025550: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
+00025560: 6d46 756e 6469 6e67 4665 6545 7622 3a30  mFundingFeeEv":0
+00025570: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00025580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025590: 2263 756d 5472 616e 7361 6374 4665 6545  "cumTransactFeeE
+000255a0: 7622 3a30 2c0a 2020 2020 2020 2020 2320  v":0,.        # 
+000255b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000255c0: 2020 2020 2272 6561 6c69 7365 6450 6e6c      "realisedPnl
+000255d0: 4576 223a 302c 0a20 2020 2020 2020 2023  Ev":0,.        #
+000255e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000255f0: 2020 2020 2022 7265 616c 6973 6564 506e       "realisedPn
+00025600: 6c22 3a6e 756c 6c2c 0a20 2020 2020 2020  l":null,.       
+00025610: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00025620: 2020 2020 2020 2022 6375 6d52 6561 6c69         "cumReali
+00025630: 7365 6450 6e6c 4576 223a 302c 0a20 2020  sedPnlEv":0,.   
+00025640: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+00025650: 2020 2020 2020 2020 2020 2022 6375 6d52             "cumR
+00025660: 6561 6c69 7365 6450 6e6c 223a 6e75 6c6c  ealisedPnl":null
+00025670: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00025680: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
+00025690: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+000256a0: 2020 205d 0a20 2020 2020 2020 2023 2020     ].        #  
+000256b0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+000256c0: 2023 2020 2020 207d 0a20 2020 2020 2020   #     }.       
+000256d0: 2023 0a20 2020 2020 2020 2064 6174 6120   #.        data 
+000256e0: 3d20 7365 6c66 2e73 6166 655f 7661 6c75  = self.safe_valu
+000256f0: 6528 7265 7370 6f6e 7365 2c20 2764 6174  e(response, 'dat
+00025700: 6127 2c20 7b7d 290a 2020 2020 2020 2020  a', {}).        
+00025710: 706f 7369 7469 6f6e 7320 3d20 7365 6c66  positions = self
+00025720: 2e73 6166 655f 7661 6c75 6528 6461 7461  .safe_value(data
+00025730: 2c20 2770 6f73 6974 696f 6e73 272c 205b  , 'positions', [
+00025740: 5d29 0a20 2020 2020 2020 2072 6573 756c  ]).        resul
+00025750: 7420 3d20 5b5d 0a20 2020 2020 2020 2066  t = [].        f
+00025760: 6f72 2069 2069 6e20 7261 6e67 6528 302c  or i in range(0,
+00025770: 206c 656e 2870 6f73 6974 696f 6e73 2929   len(positions))
+00025780: 3a0a 2020 2020 2020 2020 2020 2020 706f  :.            po
+00025790: 7369 7469 6f6e 203d 2070 6f73 6974 696f  sition = positio
+000257a0: 6e73 5b69 5d0a 2020 2020 2020 2020 2020  ns[i].          
+000257b0: 2020 7265 7375 6c74 2e61 7070 656e 6428    result.append(
+000257c0: 7365 6c66 2e70 6172 7365 5f70 6f73 6974  self.parse_posit
+000257d0: 696f 6e28 706f 7369 7469 6f6e 2929 0a20  ion(position)). 
+000257e0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+000257f0: 6c66 2e66 696c 7465 725f 6279 5f61 7272  lf.filter_by_arr
+00025800: 6179 2872 6573 756c 742c 2027 7379 6d62  ay(result, 'symb
+00025810: 6f6c 272c 2073 796d 626f 6c73 2c20 4661  ol', symbols, Fa
+00025820: 6c73 6529 0a0a 2020 2020 6465 6620 7061  lse)..    def pa
+00025830: 7273 655f 706f 7369 7469 6f6e 2873 656c  rse_position(sel
+00025840: 662c 2070 6f73 6974 696f 6e2c 206d 6172  f, position, mar
+00025850: 6b65 743d 4e6f 6e65 293a 0a20 2020 2020  ket=None):.     
+00025860: 2020 2023 0a20 2020 2020 2020 2023 2020     #.        #  
+00025870: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+00025880: 2075 7365 7249 443a 2027 3831 3133 3730   userID: '811370
+00025890: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
+000258a0: 2061 6363 6f75 6e74 4944 3a20 2738 3131   accountID: '811
+000258b0: 3337 3030 3030 3227 2c0a 2020 2020 2020  3700002',.      
+000258c0: 2020 2320 2020 2020 7379 6d62 6f6c 3a20    #     symbol: 
+000258d0: 2745 5448 5553 4427 2c0a 2020 2020 2020  'ETHUSD',.      
+000258e0: 2020 2320 2020 2020 6375 7272 656e 6379    #     currency
+000258f0: 3a20 2755 5344 272c 0a20 2020 2020 2020  : 'USD',.       
+00025900: 2023 2020 2020 2073 6964 653a 2027 4275   #     side: 'Bu
+00025910: 7927 2c0a 2020 2020 2020 2020 2320 2020  y',.        #   
+00025920: 2020 706f 7369 7469 6f6e 5374 6174 7573    positionStatus
+00025930: 3a20 274e 6f72 6d61 6c27 2c0a 2020 2020  : 'Normal',.    
+00025940: 2020 2020 2320 2020 2020 6372 6f73 734d      #     crossM
+00025950: 6172 6769 6e3a 2046 616c 7365 2c0a 2020  argin: False,.  
+00025960: 2020 2020 2020 2320 2020 2020 6c65 7665        #     leve
+00025970: 7261 6765 4572 3a20 2732 3030 3030 3030  rageEr: '2000000
+00025980: 3030 272c 0a20 2020 2020 2020 2023 2020  00',.        #  
+00025990: 2020 206c 6576 6572 6167 653a 2027 322e     leverage: '2.
+000259a0: 3030 3030 3030 3030 272c 0a20 2020 2020  00000000',.     
+000259b0: 2020 2023 2020 2020 2069 6e69 744d 6172     #     initMar
+000259c0: 6769 6e52 6571 4572 3a20 2735 3030 3030  ginReqEr: '50000
+000259d0: 3030 3027 2c0a 2020 2020 2020 2020 2320  000',.        # 
+000259e0: 2020 2020 696e 6974 4d61 7267 696e 5265      initMarginRe
+000259f0: 713a 2027 302e 3530 3030 3030 3030 272c  q: '0.50000000',
+00025a00: 0a20 2020 2020 2020 2023 2020 2020 206d  .        #     m
+00025a10: 6169 6e74 4d61 7267 696e 5265 7145 723a  aintMarginReqEr:
+00025a20: 2027 3130 3030 3030 3027 2c0a 2020 2020   '1000000',.    
+00025a30: 2020 2020 2320 2020 2020 6d61 696e 744d      #     maintM
+00025a40: 6172 6769 6e52 6571 3a20 2730 2e30 3130  arginReq: '0.010
+00025a50: 3030 3030 3027 2c0a 2020 2020 2020 2020  00000',.        
+00025a60: 2320 2020 2020 7269 736b 4c69 6d69 7445  #     riskLimitE
+00025a70: 763a 2027 3530 3030 3030 3030 3030 272c  v: '5000000000',
+00025a80: 0a20 2020 2020 2020 2023 2020 2020 2072  .        #     r
+00025a90: 6973 6b4c 696d 6974 3a20 2735 3030 3030  iskLimit: '50000
+00025aa0: 302e 3030 3030 3030 3030 272c 0a20 2020  0.00000000',.   
+00025ab0: 2020 2020 2023 2020 2020 2073 697a 653a       #     size:
+00025ac0: 2027 3127 2c0a 2020 2020 2020 2020 2320   '1',.        # 
+00025ad0: 2020 2020 7661 6c75 653a 2027 3232 2e32      value: '22.2
+00025ae0: 3233 3730 3030 3027 2c0a 2020 2020 2020  2370000',.      
+00025af0: 2020 2320 2020 2020 7661 6c75 6545 763a    #     valueEv:
+00025b00: 2027 3232 3232 3337 272c 0a20 2020 2020   '222237',.     
+00025b10: 2020 2023 2020 2020 2061 7667 456e 7472     #     avgEntr
+00025b20: 7950 7269 6365 4570 3a20 2734 3434 3437  yPriceEp: '44447
+00025b30: 3430 3027 2c0a 2020 2020 2020 2020 2320  400',.        # 
+00025b40: 2020 2020 6176 6745 6e74 7279 5072 6963      avgEntryPric
+00025b50: 653a 2027 3434 3434 2e37 3430 3030 3030  e: '4444.7400000
+00025b60: 3027 2c0a 2020 2020 2020 2020 2320 2020  0',.        #   
+00025b70: 2020 706f 7343 6f73 7445 763a 2027 3131    posCostEv: '11
+00025b80: 3132 3032 272c 0a20 2020 2020 2020 2023  1202',.        #
+00025b90: 2020 2020 2070 6f73 436f 7374 3a20 2731       posCost: '1
+00025ba0: 312e 3132 3032 3030 3030 272c 0a20 2020  1.12020000',.   
+00025bb0: 2020 2020 2023 2020 2020 2061 7373 6967       #     assig
+00025bc0: 6e65 6450 6f73 4261 6c61 6e63 6545 763a  nedPosBalanceEv:
+00025bd0: 2027 3131 3132 3032 272c 0a20 2020 2020   '111202',.     
+00025be0: 2020 2023 2020 2020 2061 7373 6967 6e65     #     assigne
+00025bf0: 6450 6f73 4261 6c61 6e63 653a 2027 3131  dPosBalance: '11
+00025c00: 2e31 3230 3230 3030 3027 2c0a 2020 2020  .12020000',.    
+00025c10: 2020 2020 2320 2020 2020 6261 6e6b 7275      #     bankru
+00025c20: 7074 436f 6d6d 4576 3a20 2738 3427 2c0a  ptCommEv: '84',.
+00025c30: 2020 2020 2020 2020 2320 2020 2020 6261          #     ba
+00025c40: 6e6b 7275 7074 436f 6d6d 3a20 2730 2e30  nkruptComm: '0.0
+00025c50: 3038 3430 3030 3027 2c0a 2020 2020 2020  0840000',.      
+00025c60: 2020 2320 2020 2020 6261 6e6b 7275 7074    #     bankrupt
+00025c70: 5072 6963 6545 703a 2027 3232 3232 3430  PriceEp: '222240
+00025c80: 3030 272c 0a20 2020 2020 2020 2023 2020  00',.        #  
+00025c90: 2020 2062 616e 6b72 7570 7450 7269 6365     bankruptPrice
+00025ca0: 3a20 2732 3232 322e 3430 3030 3030 3030  : '2222.40000000
+00025cb0: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
+00025cc0: 2070 6f73 6974 696f 6e4d 6172 6769 6e45   positionMarginE
+00025cd0: 763a 2027 3131 3131 3138 272c 0a20 2020  v: '111118',.   
+00025ce0: 2020 2020 2023 2020 2020 2070 6f73 6974       #     posit
+00025cf0: 696f 6e4d 6172 6769 6e3a 2027 3131 2e31  ionMargin: '11.1
+00025d00: 3131 3830 3030 3027 2c0a 2020 2020 2020  1180000',.      
+00025d10: 2020 2320 2020 2020 6c69 7175 6964 6174    #     liquidat
+00025d20: 696f 6e50 7269 6365 4570 3a20 2732 3236  ionPriceEp: '226
+00025d30: 3639 3030 3027 2c0a 2020 2020 2020 2020  69000',.        
+00025d40: 2320 2020 2020 6c69 7175 6964 6174 696f  #     liquidatio
+00025d50: 6e50 7269 6365 3a20 2732 3236 362e 3930  nPrice: '2266.90
+00025d60: 3030 3030 3030 272c 0a20 2020 2020 2020  000000',.       
+00025d70: 2023 2020 2020 2064 656c 6576 6572 6167   #     deleverag
+00025d80: 6550 6572 6365 6e74 696c 6545 723a 2027  ePercentileEr: '
+00025d90: 3027 2c0a 2020 2020 2020 2020 2320 2020  0',.        #   
+00025da0: 2020 6465 6c65 7665 7261 6765 5065 7263    deleveragePerc
+00025db0: 656e 7469 6c65 3a20 2730 452d 3827 2c0a  entile: '0E-8',.
+00025dc0: 2020 2020 2020 2020 2320 2020 2020 6275          #     bu
+00025dd0: 7956 616c 7565 546f 436f 7374 4572 3a20  yValueToCostEr: 
+00025de0: 2735 3031 3132 3530 3027 2c0a 2020 2020  '50112500',.    
+00025df0: 2020 2020 2320 2020 2020 6275 7956 616c      #     buyVal
+00025e00: 7565 546f 436f 7374 3a20 2730 2e35 3031  ueToCost: '0.501
+00025e10: 3132 3530 3027 2c0a 2020 2020 2020 2020  12500',.        
+00025e20: 2320 2020 2020 7365 6c6c 5661 6c75 6554  #     sellValueT
+00025e30: 6f43 6f73 7445 723a 2027 3530 3138 3735  oCostEr: '501875
+00025e40: 3030 272c 0a20 2020 2020 2020 2023 2020  00',.        #  
+00025e50: 2020 2073 656c 6c56 616c 7565 546f 436f     sellValueToCo
+00025e60: 7374 3a20 2730 2e35 3031 3837 3530 3027  st: '0.50187500'
+00025e70: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00025e80: 6d61 726b 5072 6963 6545 703a 2027 3331  markPriceEp: '31
+00025e90: 3333 3234 3939 272c 0a20 2020 2020 2020  332499',.       
+00025ea0: 2023 2020 2020 206d 6172 6b50 7269 6365   #     markPrice
+00025eb0: 3a20 2733 3133 332e 3234 3939 3030 3030  : '3133.24990000
+00025ec0: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
+00025ed0: 206d 6172 6b56 616c 7565 4576 3a20 2730   markValueEv: '0
+00025ee0: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
+00025ef0: 206d 6172 6b56 616c 7565 3a20 6e75 6c6c   markValue: null
+00025f00: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00025f10: 756e 5265 616c 6973 6564 506f 734c 6f73  unRealisedPosLos
+00025f20: 7345 763a 2027 3027 2c0a 2020 2020 2020  sEv: '0',.      
+00025f30: 2020 2320 2020 2020 756e 5265 616c 6973    #     unRealis
+00025f40: 6564 506f 734c 6f73 733a 206e 756c 6c2c  edPosLoss: null,
+00025f50: 0a20 2020 2020 2020 2023 2020 2020 2065  .        #     e
+00025f60: 7374 696d 6174 6564 4f72 644c 6f73 7345  stimatedOrdLossE
+00025f70: 763a 2027 3027 2c0a 2020 2020 2020 2020  v: '0',.        
+00025f80: 2320 2020 2020 6573 7469 6d61 7465 644f  #     estimatedO
+00025f90: 7264 4c6f 7373 3a20 2730 452d 3827 2c0a  rdLoss: '0E-8',.
+00025fa0: 2020 2020 2020 2020 2320 2020 2020 7573          #     us
+00025fb0: 6564 4261 6c61 6e63 6545 763a 2027 3131  edBalanceEv: '11
+00025fc0: 3132 3032 272c 0a20 2020 2020 2020 2023  1202',.        #
+00025fd0: 2020 2020 2075 7365 6442 616c 616e 6365       usedBalance
+00025fe0: 3a20 2731 312e 3132 3032 3030 3030 272c  : '11.12020000',
+00025ff0: 0a20 2020 2020 2020 2023 2020 2020 2074  .        #     t
+00026000: 616b 6550 726f 6669 7445 703a 2027 3027  akeProfitEp: '0'
+00026010: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00026020: 7461 6b65 5072 6f66 6974 3a20 6e75 6c6c  takeProfit: null
+00026030: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00026040: 7374 6f70 4c6f 7373 4570 3a20 2730 272c  stopLossEp: '0',
+00026050: 0a20 2020 2020 2020 2023 2020 2020 2073  .        #     s
+00026060: 746f 704c 6f73 733a 206e 756c 6c2c 0a20  topLoss: null,. 
+00026070: 2020 2020 2020 2023 2020 2020 2063 756d         #     cum
+00026080: 436c 6f73 6564 506e 6c45 763a 2027 2d31  ClosedPnlEv: '-1
+00026090: 3534 3627 2c0a 2020 2020 2020 2020 2320  546',.        # 
+000260a0: 2020 2020 6375 6d46 756e 6469 6e67 4665      cumFundingFe
+000260b0: 6545 763a 2027 3136 3035 272c 0a20 2020  eEv: '1605',.   
+000260c0: 2020 2020 2023 2020 2020 2063 756d 5472       #     cumTr
+000260d0: 616e 7361 6374 4665 6545 763a 2027 3834  ansactFeeEv: '84
+000260e0: 3338 272c 0a20 2020 2020 2020 2023 2020  38',.        #  
+000260f0: 2020 2072 6561 6c69 7365 6450 6e6c 4576     realisedPnlEv
+00026100: 3a20 2730 272c 0a20 2020 2020 2020 2023  : '0',.        #
+00026110: 2020 2020 2072 6561 6c69 7365 6450 6e6c       realisedPnl
+00026120: 3a20 6e75 6c6c 2c0a 2020 2020 2020 2020  : null,.        
+00026130: 2320 2020 2020 6375 6d52 6561 6c69 7365  #     cumRealise
+00026140: 6450 6e6c 4576 3a20 2730 272c 0a20 2020  dPnlEv: '0',.   
+00026150: 2020 2020 2023 2020 2020 2063 756d 5265       #     cumRe
+00026160: 616c 6973 6564 506e 6c3a 206e 756c 6c2c  alisedPnl: null,
+00026170: 0a20 2020 2020 2020 2023 2020 2020 2074  .        #     t
+00026180: 7261 6e73 6163 7454 696d 654e 733a 2027  ransactTimeNs: '
+00026190: 3136 3431 3537 3132 3030 3030 3138 3835  1641571200001885
+000261a0: 3332 3427 2c0a 2020 2020 2020 2020 2320  324',.        # 
+000261b0: 2020 2020 7461 6b65 7246 6565 5261 7465      takerFeeRate
+000261c0: 4572 3a20 2730 272c 0a20 2020 2020 2020  Er: '0',.       
+000261d0: 2023 2020 2020 206d 616b 6572 4665 6552   #     makerFeeR
+000261e0: 6174 6545 723a 2027 3027 2c0a 2020 2020  ateEr: '0',.    
+000261f0: 2020 2020 2320 2020 2020 7465 726d 3a20      #     term: 
+00026200: 2736 272c 0a20 2020 2020 2020 2023 2020  '6',.        #  
+00026210: 2020 206c 6173 7454 6572 6d45 6e64 5469     lastTermEndTi
+00026220: 6d65 4e73 3a20 2731 3630 3737 3131 3838  meNs: '160771188
+00026230: 3235 3035 3734 3533 3536 272c 0a20 2020  2505745356',.   
+00026240: 2020 2020 2023 2020 2020 206c 6173 7446       #     lastF
+00026250: 756e 6469 6e67 5469 6d65 4e73 3a20 2731  undingTimeNs: '1
+00026260: 3634 3135 3731 3230 3030 3030 3030 3030  6415712000000000
+00026270: 3030 272c 0a20 2020 2020 2020 2023 2020  00',.        #  
+00026280: 2020 2063 7572 5465 726d 5265 616c 6973     curTermRealis
+00026290: 6564 506e 6c45 763a 2027 2d31 3536 3727  edPnlEv: '-1567'
+000262a0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000262b0: 6578 6563 5365 713a 2027 3132 3131 3237  execSeq: '121127
+000262c0: 3631 3536 3127 0a20 2020 2020 2020 2023  61561'.        #
+000262d0: 2020 207d 0a20 2020 2020 2020 2023 0a20     }.        #. 
+000262e0: 2020 2020 2020 206d 6172 6b65 7449 6420         marketId 
+000262f0: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
+00026300: 6e67 2870 6f73 6974 696f 6e2c 2027 7379  ng(position, 'sy
+00026310: 6d62 6f6c 2729 0a20 2020 2020 2020 206d  mbol').        m
+00026320: 6172 6b65 7420 3d20 7365 6c66 2e73 6166  arket = self.saf
+00026330: 655f 6d61 726b 6574 286d 6172 6b65 7449  e_market(marketI
+00026340: 642c 206d 6172 6b65 7429 0a20 2020 2020  d, market).     
+00026350: 2020 2073 796d 626f 6c20 3d20 6d61 726b     symbol = mark
+00026360: 6574 5b27 7379 6d62 6f6c 275d 0a20 2020  et['symbol'].   
+00026370: 2020 2020 2063 6f6c 6c61 7465 7261 6c20       collateral 
+00026380: 3d20 7365 6c66 2e73 6166 655f 7374 7269  = self.safe_stri
+00026390: 6e67 5f32 2870 6f73 6974 696f 6e2c 2027  ng_2(position, '
+000263a0: 706f 7369 7469 6f6e 4d61 7267 696e 272c  positionMargin',
+000263b0: 2027 706f 7369 7469 6f6e 4d61 7267 696e   'positionMargin
+000263c0: 5276 2729 0a20 2020 2020 2020 206e 6f74  Rv').        not
+000263d0: 696f 6e61 6c53 7472 696e 6720 3d20 7365  ionalString = se
+000263e0: 6c66 2e73 6166 655f 7374 7269 6e67 5f32  lf.safe_string_2
+000263f0: 2870 6f73 6974 696f 6e2c 2027 7661 6c75  (position, 'valu
+00026400: 6527 2c20 2776 616c 7565 5276 2729 0a20  e', 'valueRv'). 
+00026410: 2020 2020 2020 206d 6169 6e74 656e 616e         maintenan
+00026420: 6365 4d61 7267 696e 5065 7263 656e 7461  ceMarginPercenta
+00026430: 6765 5374 7269 6e67 203d 2073 656c 662e  geString = self.
+00026440: 7361 6665 5f73 7472 696e 675f 3228 706f  safe_string_2(po
+00026450: 7369 7469 6f6e 2c20 276d 6169 6e74 4d61  sition, 'maintMa
+00026460: 7267 696e 5265 7127 2c20 276d 6169 6e74  rginReq', 'maint
+00026470: 4d61 7267 696e 5265 7152 7227 290a 2020  MarginReqRr').  
+00026480: 2020 2020 2020 6d61 696e 7465 6e61 6e63        maintenanc
+00026490: 654d 6172 6769 6e53 7472 696e 6720 3d20  eMarginString = 
+000264a0: 5072 6563 6973 652e 7374 7269 6e67 5f6d  Precise.string_m
+000264b0: 756c 286e 6f74 696f 6e61 6c53 7472 696e  ul(notionalStrin
+000264c0: 672c 206d 6169 6e74 656e 616e 6365 4d61  g, maintenanceMa
+000264d0: 7267 696e 5065 7263 656e 7461 6765 5374  rginPercentageSt
+000264e0: 7269 6e67 290a 2020 2020 2020 2020 696e  ring).        in
+000264f0: 6974 6961 6c4d 6172 6769 6e53 7472 696e  itialMarginStrin
+00026500: 6720 3d20 7365 6c66 2e73 6166 655f 7374  g = self.safe_st
+00026510: 7269 6e67 5f32 2870 6f73 6974 696f 6e2c  ring_2(position,
+00026520: 2027 6173 7369 676e 6564 506f 7342 616c   'assignedPosBal
+00026530: 616e 6365 272c 2027 6173 7369 676e 6564  ance', 'assigned
+00026540: 506f 7342 616c 616e 6365 5276 2729 0a20  PosBalanceRv'). 
+00026550: 2020 2020 2020 2069 6e69 7469 616c 4d61         initialMa
+00026560: 7267 696e 5065 7263 656e 7461 6765 5374  rginPercentageSt
+00026570: 7269 6e67 203d 2050 7265 6369 7365 2e73  ring = Precise.s
+00026580: 7472 696e 675f 6469 7628 696e 6974 6961  tring_div(initia
+00026590: 6c4d 6172 6769 6e53 7472 696e 672c 206e  lMarginString, n
+000265a0: 6f74 696f 6e61 6c53 7472 696e 6729 0a20  otionalString). 
+000265b0: 2020 2020 2020 206c 6971 7569 6461 7469         liquidati
+000265c0: 6f6e 5072 6963 6520 3d20 7365 6c66 2e73  onPrice = self.s
+000265d0: 6166 655f 6e75 6d62 6572 5f32 2870 6f73  afe_number_2(pos
+000265e0: 6974 696f 6e2c 2027 6c69 7175 6964 6174  ition, 'liquidat
+000265f0: 696f 6e50 7269 6365 272c 2027 6c69 7175  ionPrice', 'liqu
+00026600: 6964 6174 696f 6e50 7269 6365 5270 2729  idationPriceRp')
+00026610: 0a20 2020 2020 2020 206d 6172 6b50 7269  .        markPri
+00026620: 6365 5374 7269 6e67 203d 2073 656c 662e  ceString = self.
+00026630: 7361 6665 5f73 7472 696e 675f 3228 706f  safe_string_2(po
+00026640: 7369 7469 6f6e 2c20 276d 6172 6b50 7269  sition, 'markPri
+00026650: 6365 272c 2027 6d61 726b 5072 6963 6552  ce', 'markPriceR
+00026660: 7027 290a 2020 2020 2020 2020 636f 6e74  p').        cont
+00026670: 7261 6374 7320 3d20 7365 6c66 2e73 6166  racts = self.saf
+00026680: 655f 7374 7269 6e67 2870 6f73 6974 696f  e_string(positio
+00026690: 6e2c 2027 7369 7a65 2729 0a20 2020 2020  n, 'size').     
+000266a0: 2020 2063 6f6e 7472 6163 7453 697a 6520     contractSize 
+000266b0: 3d20 7365 6c66 2e73 6166 655f 7661 6c75  = self.safe_valu
+000266c0: 6528 6d61 726b 6574 2c20 2763 6f6e 7472  e(market, 'contr
+000266d0: 6163 7453 697a 6527 290a 2020 2020 2020  actSize').      
+000266e0: 2020 636f 6e74 7261 6374 5369 7a65 5374    contractSizeSt
+000266f0: 7269 6e67 203d 2073 656c 662e 6e75 6d62  ring = self.numb
+00026700: 6572 5f74 6f5f 7374 7269 6e67 2863 6f6e  er_to_string(con
+00026710: 7472 6163 7453 697a 6529 0a20 2020 2020  tractSize).     
+00026720: 2020 206c 6576 6572 6167 6520 3d20 7365     leverage = se
+00026730: 6c66 2e73 6166 655f 6e75 6d62 6572 5f32  lf.safe_number_2
+00026740: 2870 6f73 6974 696f 6e2c 2027 6c65 7665  (position, 'leve
+00026750: 7261 6765 272c 2027 6c65 7665 7261 6765  rage', 'leverage
+00026760: 5272 2729 0a20 2020 2020 2020 2065 6e74  Rr').        ent
+00026770: 7279 5072 6963 6553 7472 696e 6720 3d20  ryPriceString = 
+00026780: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+00026790: 5f32 2870 6f73 6974 696f 6e2c 2027 6176  _2(position, 'av
+000267a0: 6745 6e74 7279 5072 6963 6527 2c20 2761  gEntryPrice', 'a
+000267b0: 7667 456e 7472 7950 7269 6365 5270 2729  vgEntryPriceRp')
+000267c0: 0a20 2020 2020 2020 2072 6177 5369 6465  .        rawSide
+000267d0: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
+000267e0: 696e 6728 706f 7369 7469 6f6e 2c20 2773  ing(position, 's
+000267f0: 6964 6527 290a 2020 2020 2020 2020 7369  ide').        si
+00026800: 6465 203d 204e 6f6e 650a 2020 2020 2020  de = None.      
+00026810: 2020 6966 2072 6177 5369 6465 2069 7320    if rawSide is 
+00026820: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00026830: 2020 2020 2020 7369 6465 203d 2027 6c6f        side = 'lo
+00026840: 6e67 2720 6966 2028 7261 7753 6964 6520  ng' if (rawSide 
+00026850: 3d3d 2027 4275 7927 2920 656c 7365 2027  == 'Buy') else '
+00026860: 7368 6f72 7427 0a20 2020 2020 2020 2070  short'.        p
+00026870: 7269 6365 4469 6666 203d 204e 6f6e 650a  riceDiff = None.
+00026880: 2020 2020 2020 2020 6375 7272 656e 6379          currency
+00026890: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
+000268a0: 696e 6728 706f 7369 7469 6f6e 2c20 2763  ing(position, 'c
+000268b0: 7572 7265 6e63 7927 290a 2020 2020 2020  urrency').      
+000268c0: 2020 6966 2063 7572 7265 6e63 7920 3d3d    if currency ==
+000268d0: 2027 5553 4427 3a0a 2020 2020 2020 2020   'USD':.        
+000268e0: 2020 2020 6966 2073 6964 6520 3d3d 2027      if side == '
+000268f0: 6c6f 6e67 273a 0a20 2020 2020 2020 2020  long':.         
+00026900: 2020 2020 2020 2070 7269 6365 4469 6666         priceDiff
+00026910: 203d 2050 7265 6369 7365 2e73 7472 696e   = Precise.strin
+00026920: 675f 7375 6228 6d61 726b 5072 6963 6553  g_sub(markPriceS
+00026930: 7472 696e 672c 2065 6e74 7279 5072 6963  tring, entryPric
+00026940: 6553 7472 696e 6729 0a20 2020 2020 2020  eString).       
+00026950: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00026960: 2020 2020 2020 2020 2020 2070 7269 6365             price
+00026970: 4469 6666 203d 2050 7265 6369 7365 2e73  Diff = Precise.s
+00026980: 7472 696e 675f 7375 6228 656e 7472 7950  tring_sub(entryP
+00026990: 7269 6365 5374 7269 6e67 2c20 6d61 726b  riceString, mark
+000269a0: 5072 6963 6553 7472 696e 6729 0a20 2020  PriceString).   
+000269b0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000269c0: 2020 2020 2020 2023 2069 6e76 6572 7365         # inverse
+000269d0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000269e0: 7369 6465 203d 3d20 276c 6f6e 6727 3a0a  side == 'long':.
+000269f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026a00: 7072 6963 6544 6966 6620 3d20 5072 6563  priceDiff = Prec
+00026a10: 6973 652e 7374 7269 6e67 5f73 7562 2850  ise.string_sub(P
+00026a20: 7265 6369 7365 2e73 7472 696e 675f 6469  recise.string_di
+00026a30: 7628 2731 272c 2065 6e74 7279 5072 6963  v('1', entryPric
+00026a40: 6553 7472 696e 6729 2c20 5072 6563 6973  eString), Precis
+00026a50: 652e 7374 7269 6e67 5f64 6976 2827 3127  e.string_div('1'
+00026a60: 2c20 6d61 726b 5072 6963 6553 7472 696e  , markPriceStrin
+00026a70: 6729 290a 2020 2020 2020 2020 2020 2020  g)).            
+00026a80: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00026a90: 2020 2020 2020 7072 6963 6544 6966 6620        priceDiff 
+00026aa0: 3d20 5072 6563 6973 652e 7374 7269 6e67  = Precise.string
+00026ab0: 5f73 7562 2850 7265 6369 7365 2e73 7472  _sub(Precise.str
+00026ac0: 696e 675f 6469 7628 2731 272c 206d 6172  ing_div('1', mar
+00026ad0: 6b50 7269 6365 5374 7269 6e67 292c 2050  kPriceString), P
+00026ae0: 7265 6369 7365 2e73 7472 696e 675f 6469  recise.string_di
+00026af0: 7628 2731 272c 2065 6e74 7279 5072 6963  v('1', entryPric
+00026b00: 6553 7472 696e 6729 290a 2020 2020 2020  eString)).      
+00026b10: 2020 756e 7265 616c 697a 6564 506e 6c20    unrealizedPnl 
+00026b20: 3d20 5072 6563 6973 652e 7374 7269 6e67  = Precise.string
+00026b30: 5f6d 756c 2850 7265 6369 7365 2e73 7472  _mul(Precise.str
+00026b40: 696e 675f 6d75 6c28 7072 6963 6544 6966  ing_mul(priceDif
+00026b50: 662c 2063 6f6e 7472 6163 7473 292c 2063  f, contracts), c
+00026b60: 6f6e 7472 6163 7453 697a 6553 7472 696e  ontractSizeStrin
+00026b70: 6729 0a20 2020 2020 2020 206d 6172 6769  g).        margi
+00026b80: 6e52 6174 696f 203d 2050 7265 6369 7365  nRatio = Precise
+00026b90: 2e73 7472 696e 675f 6469 7628 6d61 696e  .string_div(main
+00026ba0: 7465 6e61 6e63 654d 6172 6769 6e53 7472  tenanceMarginStr
+00026bb0: 696e 672c 2063 6f6c 6c61 7465 7261 6c29  ing, collateral)
+00026bc0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00026bd0: 7365 6c66 2e73 6166 655f 706f 7369 7469  self.safe_positi
+00026be0: 6f6e 287b 0a20 2020 2020 2020 2020 2020  on({.           
+00026bf0: 2027 696e 666f 273a 2070 6f73 6974 696f   'info': positio
+00026c00: 6e2c 0a20 2020 2020 2020 2020 2020 2027  n,.            '
+00026c10: 6964 273a 204e 6f6e 652c 0a20 2020 2020  id': None,.     
+00026c20: 2020 2020 2020 2027 7379 6d62 6f6c 273a         'symbol':
+00026c30: 2073 796d 626f 6c2c 0a20 2020 2020 2020   symbol,.       
+00026c40: 2020 2020 2027 636f 6e74 7261 6374 7327       'contracts'
+00026c50: 3a20 7365 6c66 2e70 6172 7365 5f6e 756d  : self.parse_num
+00026c60: 6265 7228 636f 6e74 7261 6374 7329 2c0a  ber(contracts),.
+00026c70: 2020 2020 2020 2020 2020 2020 2763 6f6e              'con
+00026c80: 7472 6163 7453 697a 6527 3a20 636f 6e74  tractSize': cont
+00026c90: 7261 6374 5369 7a65 2c0a 2020 2020 2020  ractSize,.      
+00026ca0: 2020 2020 2020 2775 6e72 6561 6c69 7a65        'unrealize
+00026cb0: 6450 6e6c 273a 2073 656c 662e 7061 7273  dPnl': self.pars
+00026cc0: 655f 6e75 6d62 6572 2875 6e72 6561 6c69  e_number(unreali
+00026cd0: 7a65 6450 6e6c 292c 0a20 2020 2020 2020  zedPnl),.       
+00026ce0: 2020 2020 2027 6c65 7665 7261 6765 273a       'leverage':
+00026cf0: 206c 6576 6572 6167 652c 0a20 2020 2020   leverage,.     
+00026d00: 2020 2020 2020 2027 6c69 7175 6964 6174         'liquidat
+00026d10: 696f 6e50 7269 6365 273a 206c 6971 7569  ionPrice': liqui
+00026d20: 6461 7469 6f6e 5072 6963 652c 0a20 2020  dationPrice,.   
+00026d30: 2020 2020 2020 2020 2027 636f 6c6c 6174           'collat
+00026d40: 6572 616c 273a 2073 656c 662e 7061 7273  eral': self.pars
+00026d50: 655f 6e75 6d62 6572 2863 6f6c 6c61 7465  e_number(collate
+00026d60: 7261 6c29 2c0a 2020 2020 2020 2020 2020  ral),.          
+00026d70: 2020 276e 6f74 696f 6e61 6c27 3a20 7365    'notional': se
+00026d80: 6c66 2e70 6172 7365 5f6e 756d 6265 7228  lf.parse_number(
+00026d90: 6e6f 7469 6f6e 616c 5374 7269 6e67 292c  notionalString),
+00026da0: 0a20 2020 2020 2020 2020 2020 2027 6d61  .            'ma
+00026db0: 726b 5072 6963 6527 3a20 7365 6c66 2e70  rkPrice': self.p
+00026dc0: 6172 7365 5f6e 756d 6265 7228 6d61 726b  arse_number(mark
+00026dd0: 5072 6963 6553 7472 696e 6729 2c20 2023  PriceString),  #
+00026de0: 206d 6172 6b50 7269 6365 206c 6167 7320   markPrice lags 
+00026df0: 6120 6269 7420 c2af 5c5f 28e3 8384 295f  a bit ..\_(...)_
+00026e00: 2fc2 af0a 2020 2020 2020 2020 2020 2020  /...            
+00026e10: 276c 6173 7450 7269 6365 273a 204e 6f6e  'lastPrice': Non
+00026e20: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00026e30: 656e 7472 7950 7269 6365 273a 2073 656c  entryPrice': sel
+00026e40: 662e 7061 7273 655f 6e75 6d62 6572 2865  f.parse_number(e
+00026e50: 6e74 7279 5072 6963 6553 7472 696e 6729  ntryPriceString)
+00026e60: 2c0a 2020 2020 2020 2020 2020 2020 2774  ,.            't
+00026e70: 696d 6573 7461 6d70 273a 204e 6f6e 652c  imestamp': None,
+00026e80: 0a20 2020 2020 2020 2020 2020 2027 6c61  .            'la
+00026e90: 7374 5570 6461 7465 5469 6d65 7374 616d  stUpdateTimestam
+00026ea0: 7027 3a20 4e6f 6e65 2c0a 2020 2020 2020  p': None,.      
+00026eb0: 2020 2020 2020 2769 6e69 7469 616c 4d61        'initialMa
+00026ec0: 7267 696e 273a 2073 656c 662e 7061 7273  rgin': self.pars
+00026ed0: 655f 6e75 6d62 6572 2869 6e69 7469 616c  e_number(initial
+00026ee0: 4d61 7267 696e 5374 7269 6e67 292c 0a20  MarginString),. 
+00026ef0: 2020 2020 2020 2020 2020 2027 696e 6974             'init
+00026f00: 6961 6c4d 6172 6769 6e50 6572 6365 6e74  ialMarginPercent
+00026f10: 6167 6527 3a20 7365 6c66 2e70 6172 7365  age': self.parse
+00026f20: 5f6e 756d 6265 7228 696e 6974 6961 6c4d  _number(initialM
+00026f30: 6172 6769 6e50 6572 6365 6e74 6167 6553  arginPercentageS
+00026f40: 7472 696e 6729 2c0a 2020 2020 2020 2020  tring),.        
+00026f50: 2020 2020 276d 6169 6e74 656e 616e 6365      'maintenance
+00026f60: 4d61 7267 696e 273a 2073 656c 662e 7061  Margin': self.pa
+00026f70: 7273 655f 6e75 6d62 6572 286d 6169 6e74  rse_number(maint
+00026f80: 656e 616e 6365 4d61 7267 696e 5374 7269  enanceMarginStri
+00026f90: 6e67 292c 0a20 2020 2020 2020 2020 2020  ng),.           
+00026fa0: 2027 6d61 696e 7465 6e61 6e63 654d 6172   'maintenanceMar
+00026fb0: 6769 6e50 6572 6365 6e74 6167 6527 3a20  ginPercentage': 
+00026fc0: 7365 6c66 2e70 6172 7365 5f6e 756d 6265  self.parse_numbe
+00026fd0: 7228 6d61 696e 7465 6e61 6e63 654d 6172  r(maintenanceMar
+00026fe0: 6769 6e50 6572 6365 6e74 6167 6553 7472  ginPercentageStr
+00026ff0: 696e 6729 2c0a 2020 2020 2020 2020 2020  ing),.          
+00027000: 2020 276d 6172 6769 6e52 6174 696f 273a    'marginRatio':
+00027010: 2073 656c 662e 7061 7273 655f 6e75 6d62   self.parse_numb
+00027020: 6572 286d 6172 6769 6e52 6174 696f 292c  er(marginRatio),
+00027030: 0a20 2020 2020 2020 2020 2020 2027 6461  .            'da
+00027040: 7465 7469 6d65 273a 204e 6f6e 652c 0a20  tetime': None,. 
+00027050: 2020 2020 2020 2020 2020 2027 6d61 7267             'marg
+00027060: 696e 4d6f 6465 273a 204e 6f6e 652c 0a20  inMode': None,. 
+00027070: 2020 2020 2020 2020 2020 2027 7369 6465             'side
+00027080: 273a 2073 6964 652c 0a20 2020 2020 2020  ': side,.       
+00027090: 2020 2020 2027 6865 6467 6564 273a 2046       'hedged': F
+000270a0: 616c 7365 2c0a 2020 2020 2020 2020 2020  alse,.          
+000270b0: 2020 2770 6572 6365 6e74 6167 6527 3a20    'percentage': 
+000270c0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7d29  None,.        })
+000270d0: 0a0a 2020 2020 6465 6620 6665 7463 685f  ..    def fetch_
+000270e0: 6675 6e64 696e 675f 6869 7374 6f72 7928  funding_history(
+000270f0: 7365 6c66 2c20 7379 6d62 6f6c 3a20 4f70  self, symbol: Op
+00027100: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+00027110: 6e65 2c20 7369 6e63 653a 204f 7074 696f  ne, since: Optio
+00027120: 6e61 6c5b 696e 745d 203d 204e 6f6e 652c  nal[int] = None,
+00027130: 206c 696d 6974 3a20 4f70 7469 6f6e 616c   limit: Optional
+00027140: 5b69 6e74 5d20 3d20 4e6f 6e65 2c20 7061  [int] = None, pa
+00027150: 7261 6d73 3d7b 7d29 3a0a 2020 2020 2020  rams={}):.      
+00027160: 2020 2222 220a 2020 2020 2020 2020 6665    """.        fe
+00027170: 7463 6820 7468 6520 6869 7374 6f72 7920  tch the history 
+00027180: 6f66 2066 756e 6469 6e67 2070 6179 6d65  of funding payme
+00027190: 6e74 7320 7061 6964 2061 6e64 2072 6563  nts paid and rec
+000271a0: 6569 7665 6420 6f6e 2073 656c 6620 6163  eived on self ac
+000271b0: 636f 756e 740a 2020 2020 2020 2020 7365  count.        se
+000271c0: 6520 6874 7470 733a 2f2f 6769 7468 7562  e https://github
+000271d0: 2e63 6f6d 2f70 6865 6d65 782f 7068 656d  .com/phemex/phem
+000271e0: 6578 2d61 7069 2d64 6f63 732f 626c 6f62  ex-api-docs/blob
+000271f0: 2f6d 6173 7465 722f 5075 626c 6963 2d48  /master/Public-H
+00027200: 6564 6765 642d 5065 7270 6574 7561 6c2d  edged-Perpetual-
+00027210: 4150 492e 6d64 2366 7574 7572 6544 6174  API.md#futureDat
+00027220: 6146 756e 6469 6e67 4665 6573 4869 7374  aFundingFeesHist
+00027230: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00027240: 7374 7220 7379 6d62 6f6c 3a20 756e 6966  str symbol: unif
+00027250: 6965 6420 6d61 726b 6574 2073 796d 626f  ied market symbo
+00027260: 6c0a 2020 2020 2020 2020 3a70 6172 616d  l.        :param
+00027270: 2069 6e74 7c4e 6f6e 6520 7369 6e63 653a   int|None since:
+00027280: 2074 6865 2065 6172 6c69 6573 7420 7469   the earliest ti
+00027290: 6d65 2069 6e20 6d73 2074 6f20 6665 7463  me in ms to fetc
+000272a0: 6820 6675 6e64 696e 6720 6869 7374 6f72  h funding histor
+000272b0: 7920 666f 720a 2020 2020 2020 2020 3a70  y for.        :p
+000272c0: 6172 616d 2069 6e74 7c4e 6f6e 6520 6c69  aram int|None li
+000272d0: 6d69 743a 2074 6865 206d 6178 696d 756d  mit: the maximum
+000272e0: 206e 756d 6265 7220 6f66 2066 756e 6469   number of fundi
+000272f0: 6e67 2068 6973 746f 7279 2073 7472 7563  ng history struc
+00027300: 7475 7265 7320 746f 2072 6574 7269 6576  tures to retriev
+00027310: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+00027320: 2064 6963 7420 7061 7261 6d73 3a20 6578   dict params: ex
+00027330: 7472 6120 7061 7261 6d65 7465 7273 2073  tra parameters s
+00027340: 7065 6369 6669 6320 746f 2074 6865 2070  pecific to the p
+00027350: 6865 6d65 7820 6170 6920 656e 6470 6f69  hemex api endpoi
+00027360: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
+00027370: 726e 7320 6469 6374 3a20 6120 6066 756e  rns dict: a `fun
+00027380: 6469 6e67 2068 6973 746f 7279 2073 7472  ding history str
+00027390: 7563 7475 7265 203c 6874 7470 733a 2f2f  ucture <https://
+000273a0: 646f 6373 2e63 6378 742e 636f 6d2f 232f  docs.ccxt.com/#/
+000273b0: 3f69 643d 6675 6e64 696e 672d 6869 7374  ?id=funding-hist
+000273c0: 6f72 792d 7374 7275 6374 7572 653e 600a  ory-structure>`.
+000273d0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000273e0: 2020 2020 7365 6c66 2e6c 6f61 645f 6d61      self.load_ma
+000273f0: 726b 6574 7328 290a 2020 2020 2020 2020  rkets().        
+00027400: 6966 2073 796d 626f 6c20 6973 204e 6f6e  if symbol is Non
+00027410: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00027420: 6169 7365 2041 7267 756d 656e 7473 5265  aise ArgumentsRe
+00027430: 7175 6972 6564 2873 656c 662e 6964 202b  quired(self.id +
+00027440: 2027 2066 6574 6368 4675 6e64 696e 6748   ' fetchFundingH
+00027450: 6973 746f 7279 2829 2072 6571 7569 7265  istory() require
+00027460: 7320 6120 7379 6d62 6f6c 2061 7267 756d  s a symbol argum
+00027470: 656e 7427 290a 2020 2020 2020 2020 6d61  ent').        ma
+00027480: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
+00027490: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
+000274a0: 2020 2072 6571 7565 7374 203d 207b 0a20     request = {. 
+000274b0: 2020 2020 2020 2020 2020 2027 7379 6d62             'symb
+000274c0: 6f6c 273a 206d 6172 6b65 745b 2769 6427  ol': market['id'
+000274d0: 5d2c 0a20 2020 2020 2020 2020 2020 2023  ],.            #
+000274e0: 2027 6c69 6d69 7427 3a20 3230 2c20 2023   'limit': 20,  #
+000274f0: 2050 6167 6520 7369 7a65 2064 6566 6175   Page size defau
+00027500: 6c74 2032 302c 206d 6178 2032 3030 0a20  lt 20, max 200. 
+00027510: 2020 2020 2020 2020 2020 2023 2027 6f66             # 'of
+00027520: 6673 6574 273a 2030 2c20 2023 2050 6167  fset': 0,  # Pag
+00027530: 6520 7374 6172 7420 6465 6661 756c 7420  e start default 
+00027540: 300a 2020 2020 2020 2020 7d0a 2020 2020  0.        }.    
+00027550: 2020 2020 6966 206c 696d 6974 203e 2032      if limit > 2
+00027560: 3030 3a0a 2020 2020 2020 2020 2020 2020  00:.            
+00027570: 7261 6973 6520 4261 6452 6571 7565 7374  raise BadRequest
+00027580: 2873 656c 662e 6964 202b 2027 2066 6574  (self.id + ' fet
+00027590: 6368 4675 6e64 696e 6748 6973 746f 7279  chFundingHistory
+000275a0: 2829 206c 696d 6974 2061 7267 756d 656e  () limit argumen
+000275b0: 7420 6361 6e6e 6f74 2065 7863 6565 6420  t cannot exceed 
+000275c0: 3230 3027 290a 2020 2020 2020 2020 6966  200').        if
+000275d0: 206c 696d 6974 2069 7320 6e6f 7420 4e6f   limit is not No
+000275e0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+000275f0: 7265 7175 6573 745b 276c 696d 6974 275d  request['limit']
+00027600: 203d 206c 696d 6974 0a20 2020 2020 2020   = limit.       
+00027610: 206d 6574 686f 6420 3d20 2770 7269 7661   method = 'priva
+00027620: 7465 4765 7441 7069 4461 7461 4675 7475  teGetApiDataFutu
+00027630: 7265 7346 756e 6469 6e67 4665 6573 270a  resFundingFees'.
+00027640: 2020 2020 2020 2020 6966 206d 6172 6b65          if marke
+00027650: 745b 2773 6574 746c 6527 5d20 3d3d 2027  t['settle'] == '
+00027660: 5553 4454 273a 0a20 2020 2020 2020 2020  USDT':.         
+00027670: 2020 206d 6574 686f 6420 3d20 2770 7269     method = 'pri
+00027680: 7661 7465 4765 7441 7069 4461 7461 4746  vateGetApiDataGF
+00027690: 7574 7572 6573 4675 6e64 696e 6746 6565  uturesFundingFee
+000276a0: 7327 0a20 2020 2020 2020 2072 6573 706f  s'.        respo
+000276b0: 6e73 6520 3d20 6765 7461 7474 7228 7365  nse = getattr(se
+000276c0: 6c66 2c20 6d65 7468 6f64 2928 7365 6c66  lf, method)(self
+000276d0: 2e65 7874 656e 6428 7265 7175 6573 742c  .extend(request,
+000276e0: 2070 6172 616d 7329 290a 2020 2020 2020   params)).      
+000276f0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
+00027700: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
+00027710: 2020 2020 2020 2263 6f64 6522 3a20 302c        "code": 0,
+00027720: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00027730: 2020 2022 6d73 6722 3a20 224f 4b22 2c0a     "msg": "OK",.
+00027740: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00027750: 2020 2264 6174 6122 3a20 7b0a 2020 2020    "data": {.    
+00027760: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00027770: 2020 2272 6f77 7322 3a20 5b0a 2020 2020    "rows": [.    
+00027780: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00027790: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
+000277a0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+000277b0: 2020 2020 2020 2273 796d 626f 6c22 3a20        "symbol": 
+000277c0: 2242 5443 5553 4422 2c0a 2020 2020 2020  "BTCUSD",.      
+000277d0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000277e0: 2020 2020 2020 2020 2263 7572 7265 6e63          "currenc
+000277f0: 7922 3a20 2242 5443 222c 0a20 2020 2020  y": "BTC",.     
+00027800: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00027810: 2020 2020 2020 2020 2022 6578 6563 5174           "execQt
+00027820: 7922 3a20 3138 2c0a 2020 2020 2020 2020  y": 18,.        
+00027830: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+00027840: 2020 2020 2020 2273 6964 6522 3a20 2242        "side": "B
+00027850: 7579 222c 0a20 2020 2020 2020 2023 2020  uy",.        #  
+00027860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027870: 2020 2022 6578 6563 5072 6963 6545 7022     "execPriceEp"
+00027880: 3a20 3336 3030 3836 3435 352c 0a20 2020  : 360086455,.   
+00027890: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+000278a0: 2020 2020 2020 2020 2020 2022 6578 6563             "exec
+000278b0: 5661 6c75 6545 7622 3a20 3439 3938 372c  ValueEv": 49987,
+000278c0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000278d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000278e0: 6675 6e64 696e 6752 6174 6545 7222 3a20  fundingRateEr": 
+000278f0: 3130 3030 302c 0a20 2020 2020 2020 2023  10000,.        #
+00027900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027910: 2020 2020 2022 6665 6552 6174 6545 7222       "feeRateEr"
+00027920: 3a20 3130 3030 302c 0a20 2020 2020 2020  : 10000,.       
+00027930: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+00027940: 2020 2020 2020 2022 6578 6563 4665 6545         "execFeeE
+00027950: 7622 3a20 352c 0a20 2020 2020 2020 2023  v": 5,.        #
+00027960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027970: 2020 2020 2022 6372 6561 7465 5469 6d65       "createTime
+00027980: 223a 2031 3635 3138 3831 3630 3030 3030  ": 1651881600000
+00027990: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000279a0: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
+000279b0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+000279c0: 2020 205d 0a20 2020 2020 2020 2023 2020     ].        #  
+000279d0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+000279e0: 2023 2020 2020 207d 0a20 2020 2020 2020   #     }.       
+000279f0: 2023 0a20 2020 2020 2020 2064 6174 6120   #.        data 
+00027a00: 3d20 7365 6c66 2e73 6166 655f 7661 6c75  = self.safe_valu
+00027a10: 6528 7265 7370 6f6e 7365 2c20 2764 6174  e(response, 'dat
+00027a20: 6127 2c20 7b7d 290a 2020 2020 2020 2020  a', {}).        
+00027a30: 726f 7773 203d 2073 656c 662e 7361 6665  rows = self.safe
+00027a40: 5f76 616c 7565 2864 6174 612c 2027 726f  _value(data, 'ro
+00027a50: 7773 272c 205b 5d29 0a20 2020 2020 2020  ws', []).       
+00027a60: 2072 6573 756c 7420 3d20 5b5d 0a20 2020   result = [].   
+00027a70: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
+00027a80: 6e67 6528 302c 206c 656e 2872 6f77 7329  nge(0, len(rows)
+00027a90: 293a 0a20 2020 2020 2020 2020 2020 2065  ):.            e
+00027aa0: 6e74 7279 203d 2072 6f77 735b 695d 0a20  ntry = rows[i]. 
+00027ab0: 2020 2020 2020 2020 2020 2074 696d 6573             times
+00027ac0: 7461 6d70 203d 2073 656c 662e 7361 6665  tamp = self.safe
+00027ad0: 5f69 6e74 6567 6572 2865 6e74 7279 2c20  _integer(entry, 
+00027ae0: 2763 7265 6174 6554 696d 6527 290a 2020  'createTime').  
+00027af0: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+00027b00: 2e61 7070 656e 6428 7b0a 2020 2020 2020  .append({.      
+00027b10: 2020 2020 2020 2020 2020 2769 6e66 6f27            'info'
+00027b20: 3a20 656e 7472 792c 0a20 2020 2020 2020  : entry,.       
+00027b30: 2020 2020 2020 2020 2027 7379 6d62 6f6c           'symbol
+00027b40: 273a 2073 656c 662e 7361 6665 5f73 7472  ': self.safe_str
+00027b50: 696e 6728 656e 7472 792c 2027 7379 6d62  ing(entry, 'symb
+00027b60: 6f6c 2729 2c0a 2020 2020 2020 2020 2020  ol'),.          
+00027b70: 2020 2020 2020 2763 6f64 6527 3a20 7365        'code': se
+00027b80: 6c66 2e73 6166 655f 6375 7272 656e 6379  lf.safe_currency
+00027b90: 5f63 6f64 6528 7365 6c66 2e73 6166 655f  _code(self.safe_
+00027ba0: 7374 7269 6e67 2865 6e74 7279 2c20 2763  string(entry, 'c
+00027bb0: 7572 7265 6e63 7927 2929 2c0a 2020 2020  urrency')),.    
+00027bc0: 2020 2020 2020 2020 2020 2020 2774 696d              'tim
+00027bd0: 6573 7461 6d70 273a 2074 696d 6573 7461  estamp': timesta
+00027be0: 6d70 2c0a 2020 2020 2020 2020 2020 2020  mp,.            
+00027bf0: 2020 2020 2764 6174 6574 696d 6527 3a20      'datetime': 
+00027c00: 7365 6c66 2e69 736f 3836 3031 2874 696d  self.iso8601(tim
+00027c10: 6573 7461 6d70 292c 0a20 2020 2020 2020  estamp),.       
+00027c20: 2020 2020 2020 2020 2027 6964 273a 204e           'id': N
+00027c30: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00027c40: 2020 2020 2027 616d 6f75 6e74 273a 2073       'amount': s
+00027c50: 656c 662e 6672 6f6d 5f65 7628 7365 6c66  elf.from_ev(self
+00027c60: 2e73 6166 655f 7374 7269 6e67 2865 6e74  .safe_string(ent
+00027c70: 7279 2c20 2765 7865 6346 6565 4576 2729  ry, 'execFeeEv')
+00027c80: 2c20 6d61 726b 6574 292c 0a20 2020 2020  , market),.     
+00027c90: 2020 2020 2020 207d 290a 2020 2020 2020         }).      
+00027ca0: 2020 7265 7475 726e 2072 6573 756c 740a    return result.
+00027cb0: 0a20 2020 2064 6566 2066 6574 6368 5f66  .    def fetch_f
+00027cc0: 756e 6469 6e67 5f72 6174 6528 7365 6c66  unding_rate(self
+00027cd0: 2c20 7379 6d62 6f6c 3a20 7374 722c 2070  , symbol: str, p
+00027ce0: 6172 616d 733d 7b7d 293a 0a20 2020 2020  arams={}):.     
+00027cf0: 2020 2022 2222 0a20 2020 2020 2020 2066     """.        f
+00027d00: 6574 6368 2074 6865 2063 7572 7265 6e74  etch the current
+00027d10: 2066 756e 6469 6e67 2072 6174 650a 2020   funding rate.  
+00027d20: 2020 2020 2020 3a70 6172 616d 2073 7472        :param str
+00027d30: 2073 796d 626f 6c3a 2075 6e69 6669 6564   symbol: unified
+00027d40: 206d 6172 6b65 7420 7379 6d62 6f6c 0a20   market symbol. 
+00027d50: 2020 2020 2020 203a 7061 7261 6d20 6469         :param di
+00027d60: 6374 2070 6172 616d 733a 2065 7874 7261  ct params: extra
+00027d70: 2070 6172 616d 6574 6572 7320 7370 6563   parameters spec
+00027d80: 6966 6963 2074 6f20 7468 6520 7068 656d  ific to the phem
+00027d90: 6578 2061 7069 2065 6e64 706f 696e 740a  ex api endpoint.
+00027da0: 2020 2020 2020 2020 3a72 6574 7572 6e73          :returns
+00027db0: 2064 6963 743a 2061 2060 6675 6e64 696e   dict: a `fundin
+00027dc0: 6720 7261 7465 2073 7472 7563 7475 7265  g rate structure
+00027dd0: 203c 6874 7470 733a 2f2f 646f 6373 2e63   <https://docs.c
+00027de0: 6378 742e 636f 6d2f 232f 3f69 643d 6675  cxt.com/#/?id=fu
+00027df0: 6e64 696e 672d 7261 7465 2d73 7472 7563  nding-rate-struc
+00027e00: 7475 7265 3e60 0a20 2020 2020 2020 2022  ture>`.        "
+00027e10: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
+00027e20: 6c6f 6164 5f6d 6172 6b65 7473 2829 0a20  load_markets(). 
+00027e30: 2020 2020 2020 206d 6172 6b65 7420 3d20         market = 
+00027e40: 7365 6c66 2e6d 6172 6b65 7428 7379 6d62  self.market(symb
+00027e50: 6f6c 290a 2020 2020 2020 2020 6966 206e  ol).        if n
+00027e60: 6f74 206d 6172 6b65 745b 2773 7761 7027  ot market['swap'
+00027e70: 5d3a 0a20 2020 2020 2020 2020 2020 2072  ]:.            r
+00027e80: 6169 7365 2042 6164 5379 6d62 6f6c 2873  aise BadSymbol(s
+00027e90: 656c 662e 6964 202b 2027 2066 6574 6368  elf.id + ' fetch
+00027ea0: 4675 6e64 696e 6752 6174 6528 2920 7375  FundingRate() su
+00027eb0: 7070 6f72 7473 2073 7761 7020 636f 6e74  pports swap cont
+00027ec0: 7261 6374 7320 6f6e 6c79 2729 0a20 2020  racts only').   
+00027ed0: 2020 2020 2072 6571 7565 7374 203d 207b       request = {
+00027ee0: 0a20 2020 2020 2020 2020 2020 2027 7379  .            'sy
+00027ef0: 6d62 6f6c 273a 206d 6172 6b65 745b 2769  mbol': market['i
+00027f00: 6427 5d2c 0a20 2020 2020 2020 207d 0a20  d'],.        }. 
+00027f10: 2020 2020 2020 2072 6573 706f 6e73 6520         response 
+00027f20: 3d20 7b7d 0a20 2020 2020 2020 2069 6620  = {}.        if 
+00027f30: 6e6f 7420 6d61 726b 6574 5b27 6c69 6e65  not market['line
+00027f40: 6172 275d 3a0a 2020 2020 2020 2020 2020  ar']:.          
+00027f50: 2020 7265 7370 6f6e 7365 203d 2073 656c    response = sel
+00027f60: 662e 7631 4765 744d 6454 6963 6b65 7232  f.v1GetMdTicker2
+00027f70: 3468 7228 7365 6c66 2e65 7874 656e 6428  4hr(self.extend(
+00027f80: 7265 7175 6573 742c 2070 6172 616d 7329  request, params)
+00027f90: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+00027fa0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+00027fb0: 6f6e 7365 203d 2073 656c 662e 7632 4765  onse = self.v2Ge
+00027fc0: 744d 6456 3254 6963 6b65 7232 3468 7228  tMdV2Ticker24hr(
+00027fd0: 7365 6c66 2e65 7874 656e 6428 7265 7175  self.extend(requ
+00027fe0: 6573 742c 2070 6172 616d 7329 290a 2020  est, params)).  
+00027ff0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
+00028000: 2320 2020 2020 7b0a 2020 2020 2020 2020  #     {.        
+00028010: 2320 2020 2020 2020 2020 2265 7272 6f72  #         "error
+00028020: 223a 206e 756c 6c2c 0a20 2020 2020 2020  ": null,.       
+00028030: 2023 2020 2020 2020 2020 2022 6964 223a   #         "id":
+00028040: 2030 2c0a 2020 2020 2020 2020 2320 2020   0,.        #   
+00028050: 2020 2020 2020 2272 6573 756c 7422 3a20        "result": 
+00028060: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
+00028070: 2020 2020 2020 2020 2261 736b 4570 223a          "askEp":
+00028080: 2032 3333 3235 3030 2c0a 2020 2020 2020   2332500,.      
+00028090: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000280a0: 2262 6964 4570 223a 2032 3333 3130 3030  "bidEp": 2331000
+000280b0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+000280c0: 2020 2020 2020 2020 2266 756e 6469 6e67          "funding
+000280d0: 5261 7465 4572 223a 2031 3030 3030 2c0a  RateEr": 10000,.
+000280e0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+000280f0: 2020 2020 2020 2268 6967 6845 7022 3a20        "highEp": 
+00028100: 3233 3830 3030 302c 0a20 2020 2020 2020  2380000,.       
+00028110: 2023 2020 2020 2020 2020 2020 2020 2022   #             "
+00028120: 696e 6465 7845 7022 3a20 3233 3239 3035  indexEp": 232905
+00028130: 372c 0a20 2020 2020 2020 2023 2020 2020  7,.        #    
+00028140: 2020 2020 2020 2020 2022 6c61 7374 4570           "lastEp
+00028150: 223a 2032 3333 3135 3030 2c0a 2020 2020  ": 2331500,.    
+00028160: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+00028170: 2020 226c 6f77 4570 223a 2032 3237 3430    "lowEp": 22740
+00028180: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+00028190: 2020 2020 2020 2020 2020 226d 6172 6b45            "markE
+000281a0: 7022 3a20 3233 3239 3233 322c 0a20 2020  p": 2329232,.   
+000281b0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+000281c0: 2020 2022 6f70 656e 4570 223a 2032 3333     "openEp": 233
+000281d0: 3735 3030 2c0a 2020 2020 2020 2020 2320  7500,.        # 
+000281e0: 2020 2020 2020 2020 2020 2020 226f 7065              "ope
+000281f0: 6e49 6e74 6572 6573 7422 3a20 3132 3938  nInterest": 1298
+00028200: 3035 302c 0a20 2020 2020 2020 2023 2020  050,.        #  
+00028210: 2020 2020 2020 2020 2020 2022 7072 6564             "pred
+00028220: 4675 6e64 696e 6752 6174 6545 7222 3a20  FundingRateEr": 
+00028230: 3139 3932 312c 0a20 2020 2020 2020 2023  19921,.        #
+00028240: 2020 2020 2020 2020 2020 2020 2022 7379               "sy
+00028250: 6d62 6f6c 223a 2022 4554 4855 5344 222c  mbol": "ETHUSD",
+00028260: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00028270: 2020 2020 2020 2022 7469 6d65 7374 616d         "timestam
+00028280: 7022 3a20 3135 3932 3437 3432 3431 3538  p": 159247424158
+00028290: 3237 3031 3431 362c 0a20 2020 2020 2020  2701416,.       
+000282a0: 2023 2020 2020 2020 2020 2020 2020 2022   #             "
+000282b0: 7475 726e 6f76 6572 4576 223a 2034 3732  turnoverEv": 472
+000282c0: 3238 3336 3233 3330 2c0a 2020 2020 2020  28362330,.      
+000282d0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+000282e0: 2276 6f6c 756d 6522 3a20 3430 3533 3836  "volume": 405386
+000282f0: 330a 2020 2020 2020 2020 2320 2020 2020  3.        #     
+00028300: 2020 2020 7d0a 2020 2020 2020 2020 2320      }.        # 
+00028310: 2020 2020 7d0a 2020 2020 2020 2020 230a      }.        #.
+00028320: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+00028330: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+00028340: 2872 6573 706f 6e73 652c 2027 7265 7375  (response, 'resu
+00028350: 6c74 272c 207b 7d29 0a20 2020 2020 2020  lt', {}).       
+00028360: 2072 6574 7572 6e20 7365 6c66 2e70 6172   return self.par
+00028370: 7365 5f66 756e 6469 6e67 5f72 6174 6528  se_funding_rate(
+00028380: 7265 7375 6c74 2c20 6d61 726b 6574 290a  result, market).
+00028390: 0a20 2020 2064 6566 2070 6172 7365 5f66  .    def parse_f
+000283a0: 756e 6469 6e67 5f72 6174 6528 7365 6c66  unding_rate(self
+000283b0: 2c20 636f 6e74 7261 6374 2c20 6d61 726b  , contract, mark
+000283c0: 6574 3d4e 6f6e 6529 3a0a 2020 2020 2020  et=None):.      
+000283d0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
+000283e0: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
+000283f0: 2020 2020 2020 2261 736b 4570 223a 2032        "askEp": 2
+00028400: 3333 3235 3030 2c0a 2020 2020 2020 2020  332500,.        
+00028410: 2320 2020 2020 2020 2020 2262 6964 4570  #         "bidEp
+00028420: 223a 2032 3333 3130 3030 2c0a 2020 2020  ": 2331000,.    
+00028430: 2020 2020 2320 2020 2020 2020 2020 2266      #         "f
+00028440: 756e 6469 6e67 5261 7465 4572 223a 2031  undingRateEr": 1
+00028450: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
+00028460: 2020 2020 2020 2020 2268 6967 6845 7022          "highEp"
+00028470: 3a20 3233 3830 3030 302c 0a20 2020 2020  : 2380000,.     
+00028480: 2020 2023 2020 2020 2020 2020 2022 696e     #         "in
+00028490: 6465 7845 7022 3a20 3233 3239 3035 372c  dexEp": 2329057,
+000284a0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+000284b0: 2020 2022 6c61 7374 4570 223a 2032 3333     "lastEp": 233
+000284c0: 3135 3030 2c0a 2020 2020 2020 2020 2320  1500,.        # 
+000284d0: 2020 2020 2020 2020 226c 6f77 4570 223a          "lowEp":
+000284e0: 2032 3237 3430 3030 2c0a 2020 2020 2020   2274000,.      
+000284f0: 2020 2320 2020 2020 2020 2020 226d 6172    #         "mar
+00028500: 6b45 7022 3a20 3233 3239 3233 322c 0a20  kEp": 2329232,. 
+00028510: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00028520: 2022 6f70 656e 4570 223a 2032 3333 3735   "openEp": 23375
+00028530: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+00028540: 2020 2020 2020 226f 7065 6e49 6e74 6572        "openInter
+00028550: 6573 7422 3a20 3132 3938 3035 302c 0a20  est": 1298050,. 
+00028560: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00028570: 2022 7072 6564 4675 6e64 696e 6752 6174   "predFundingRat
+00028580: 6545 7222 3a20 3139 3932 312c 0a20 2020  eEr": 19921,.   
+00028590: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+000285a0: 7379 6d62 6f6c 223a 2022 4554 4855 5344  symbol": "ETHUSD
+000285b0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+000285c0: 2020 2020 2022 7469 6d65 7374 616d 7022       "timestamp"
+000285d0: 3a20 3135 3932 3437 3432 3431 3538 3237  : 15924742415827
+000285e0: 3031 3431 362c 0a20 2020 2020 2020 2023  01416,.        #
+000285f0: 2020 2020 2020 2020 2022 7475 726e 6f76           "turnov
+00028600: 6572 4576 223a 2034 3732 3238 3336 3233  erEv": 472283623
+00028610: 3330 2c0a 2020 2020 2020 2020 2320 2020  30,.        #   
+00028620: 2020 2020 2020 2276 6f6c 756d 6522 3a20        "volume": 
+00028630: 3430 3533 3836 330a 2020 2020 2020 2020  4053863.        
+00028640: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
+00028650: 230a 2020 2020 2020 2020 2320 6c69 6e65  #.        # line
+00028660: 6172 2073 7761 7020 7632 0a20 2020 2020  ar swap v2.     
+00028670: 2020 2023 0a20 2020 2020 2020 2023 2020     #.        #  
+00028680: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
+00028690: 2020 2020 2020 2022 636c 6f73 6552 7022         "closeRp"
+000286a0: 3a22 3136 3832 302e 3522 2c0a 2020 2020  :"16820.5",.    
+000286b0: 2020 2020 2320 2020 2020 2020 2020 2266      #         "f
+000286c0: 756e 6469 6e67 5261 7465 5272 223a 2230  undingRateRr":"0
+000286d0: 2e30 3030 3122 2c0a 2020 2020 2020 2020  .0001",.        
+000286e0: 2320 2020 2020 2020 2020 2268 6967 6852  #         "highR
+000286f0: 7022 3a22 3136 3936 322e 3122 2c0a 2020  p":"16962.1",.  
+00028700: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00028710: 2269 6e64 6578 5072 6963 6552 7022 3a22  "indexPriceRp":"
+00028720: 3136 3833 302e 3135 3635 3135 3635 222c  16830.15651565",
+00028730: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00028740: 2020 2022 6c6f 7752 7022 3a22 3136 3738     "lowRp":"1678
+00028750: 3522 2c0a 2020 2020 2020 2020 2320 2020  5",.        #   
+00028760: 2020 2020 2020 226d 6172 6b50 7269 6365        "markPrice
+00028770: 5270 223a 2231 3638 3330 2e39 3735 3334  Rp":"16830.97534
+00028780: 3935 3122 2c0a 2020 2020 2020 2020 2320  951",.        # 
+00028790: 2020 2020 2020 2020 226f 7065 6e49 6e74          "openInt
+000287a0: 6572 6573 7452 7622 3a22 3133 3233 2e35  erestRv":"1323.5
+000287b0: 3936 222c 0a20 2020 2020 2020 2023 2020  96",.        #  
+000287c0: 2020 2020 2020 2022 6f70 656e 5270 223a         "openRp":
+000287d0: 2231 3638 3531 2e37 222c 0a20 2020 2020  "16851.7",.     
+000287e0: 2020 2023 2020 2020 2020 2020 2022 7072     #         "pr
+000287f0: 6564 4675 6e64 696e 6752 6174 6552 7222  edFundingRateRr"
+00028800: 3a22 302e 3030 3031 222c 0a20 2020 2020  :"0.0001",.     
+00028810: 2020 2023 2020 2020 2020 2020 2022 7379     #         "sy
+00028820: 6d62 6f6c 223a 2242 5443 5553 4454 222c  mbol":"BTCUSDT",
+00028830: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+00028840: 2020 2022 7469 6d65 7374 616d 7022 3a22     "timestamp":"
+00028850: 3136 3732 3134 3237 3839 3036 3535 3933  1672142789065593
+00028860: 3039 3622 2c0a 2020 2020 2020 2020 2320  096",.        # 
+00028870: 2020 2020 2020 2020 2274 7572 6e6f 7665          "turnove
+00028880: 7252 7622 3a22 3132 3438 3335 3239 362e  rRv":"124835296.
+00028890: 3035 3338 222c 0a20 2020 2020 2020 2023  0538",.        #
+000288a0: 2020 2020 2020 2020 2022 766f 6c75 6d65           "volume
+000288b0: 5271 223a 2237 3430 362e 3935 220a 2020  Rq":"7406.95".  
+000288c0: 2020 2020 2020 2320 2020 2020 7d0a 2020        #     }.  
+000288d0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
+000288e0: 6d61 726b 6574 4964 203d 2073 656c 662e  marketId = self.
+000288f0: 7361 6665 5f73 7472 696e 6728 636f 6e74  safe_string(cont
+00028900: 7261 6374 2c20 2773 796d 626f 6c27 290a  ract, 'symbol').
+00028910: 2020 2020 2020 2020 7379 6d62 6f6c 203d          symbol =
+00028920: 2073 656c 662e 7361 6665 5f73 796d 626f   self.safe_symbo
+00028930: 6c28 6d61 726b 6574 4964 2c20 6d61 726b  l(marketId, mark
+00028940: 6574 290a 2020 2020 2020 2020 7469 6d65  et).        time
+00028950: 7374 616d 7020 3d20 7365 6c66 2e73 6166  stamp = self.saf
+00028960: 655f 696e 7465 6765 725f 7072 6f64 7563  e_integer_produc
+00028970: 7428 636f 6e74 7261 6374 2c20 2774 696d  t(contract, 'tim
+00028980: 6573 7461 6d70 272c 2030 2e30 3030 3030  estamp', 0.00000
+00028990: 3129 0a20 2020 2020 2020 2072 6574 7572  1).        retur
+000289a0: 6e20 7b0a 2020 2020 2020 2020 2020 2020  n {.            
+000289b0: 2769 6e66 6f27 3a20 636f 6e74 7261 6374  'info': contract
+000289c0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+000289d0: 796d 626f 6c27 3a20 7379 6d62 6f6c 2c0a  ymbol': symbol,.
+000289e0: 2020 2020 2020 2020 2020 2020 276d 6172              'mar
+000289f0: 6b50 7269 6365 273a 2073 656c 662e 6672  kPrice': self.fr
+00028a00: 6f6d 5f65 7028 7365 6c66 2e73 6166 655f  om_ep(self.safe_
+00028a10: 7374 7269 6e67 5f32 2863 6f6e 7472 6163  string_2(contrac
+00028a20: 742c 2027 6d61 726b 4570 272c 2027 6d61  t, 'markEp', 'ma
+00028a30: 726b 5072 6963 6552 7027 292c 206d 6172  rkPriceRp'), mar
+00028a40: 6b65 7429 2c0a 2020 2020 2020 2020 2020  ket),.          
+00028a50: 2020 2769 6e64 6578 5072 6963 6527 3a20    'indexPrice': 
+00028a60: 7365 6c66 2e66 726f 6d5f 6570 2873 656c  self.from_ep(sel
+00028a70: 662e 7361 6665 5f73 7472 696e 675f 3228  f.safe_string_2(
+00028a80: 636f 6e74 7261 6374 2c20 2769 6e64 6578  contract, 'index
+00028a90: 4570 272c 2027 696e 6465 7850 7269 6365  Ep', 'indexPrice
+00028aa0: 5270 2729 2c20 6d61 726b 6574 292c 0a20  Rp'), market),. 
+00028ab0: 2020 2020 2020 2020 2020 2027 696e 7465             'inte
+00028ac0: 7265 7374 5261 7465 273a 204e 6f6e 652c  restRate': None,
+00028ad0: 0a20 2020 2020 2020 2020 2020 2027 6573  .            'es
+00028ae0: 7469 6d61 7465 6453 6574 746c 6550 7269  timatedSettlePri
+00028af0: 6365 273a 204e 6f6e 652c 0a20 2020 2020  ce': None,.     
+00028b00: 2020 2020 2020 2027 7469 6d65 7374 616d         'timestam
+00028b10: 7027 3a20 7469 6d65 7374 616d 702c 0a20  p': timestamp,. 
+00028b20: 2020 2020 2020 2020 2020 2027 6461 7465             'date
+00028b30: 7469 6d65 273a 2073 656c 662e 6973 6f38  time': self.iso8
+00028b40: 3630 3128 7469 6d65 7374 616d 7029 2c0a  601(timestamp),.
+00028b50: 2020 2020 2020 2020 2020 2020 2766 756e              'fun
+00028b60: 6469 6e67 5261 7465 273a 2073 656c 662e  dingRate': self.
+00028b70: 6672 6f6d 5f65 7228 7365 6c66 2e73 6166  from_er(self.saf
+00028b80: 655f 7374 7269 6e67 2863 6f6e 7472 6163  e_string(contrac
+00028b90: 742c 2027 6675 6e64 696e 6752 6174 6545  t, 'fundingRateE
+00028ba0: 7227 292c 206d 6172 6b65 7429 2c0a 2020  r'), market),.  
+00028bb0: 2020 2020 2020 2020 2020 2766 756e 6469            'fundi
+00028bc0: 6e67 5469 6d65 7374 616d 7027 3a20 4e6f  ngTimestamp': No
+00028bd0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+00028be0: 2766 756e 6469 6e67 4461 7465 7469 6d65  'fundingDatetime
+00028bf0: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00028c00: 2020 2020 2027 6e65 7874 4675 6e64 696e       'nextFundin
+00028c10: 6752 6174 6527 3a20 7365 6c66 2e66 726f  gRate': self.fro
+00028c20: 6d5f 6572 2873 656c 662e 7361 6665 5f73  m_er(self.safe_s
+00028c30: 7472 696e 675f 3228 636f 6e74 7261 6374  tring_2(contract
+00028c40: 2c20 2770 7265 6446 756e 6469 6e67 5261  , 'predFundingRa
+00028c50: 7465 4572 272c 2027 7072 6564 4675 6e64  teEr', 'predFund
+00028c60: 696e 6752 6174 6552 7227 292c 206d 6172  ingRateRr'), mar
+00028c70: 6b65 7429 2c0a 2020 2020 2020 2020 2020  ket),.          
+00028c80: 2020 276e 6578 7446 756e 6469 6e67 5469    'nextFundingTi
+00028c90: 6d65 7374 616d 7027 3a20 4e6f 6e65 2c0a  mestamp': None,.
+00028ca0: 2020 2020 2020 2020 2020 2020 276e 6578              'nex
+00028cb0: 7446 756e 6469 6e67 4461 7465 7469 6d65  tFundingDatetime
+00028cc0: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00028cd0: 2020 2020 2027 7072 6576 696f 7573 4675       'previousFu
+00028ce0: 6e64 696e 6752 6174 6527 3a20 4e6f 6e65  ndingRate': None
+00028cf0: 2c0a 2020 2020 2020 2020 2020 2020 2770  ,.            'p
+00028d00: 7265 7669 6f75 7346 756e 6469 6e67 5469  reviousFundingTi
+00028d10: 6d65 7374 616d 7027 3a20 4e6f 6e65 2c0a  mestamp': None,.
+00028d20: 2020 2020 2020 2020 2020 2020 2770 7265              'pre
+00028d30: 7669 6f75 7346 756e 6469 6e67 4461 7465  viousFundingDate
+00028d40: 7469 6d65 273a 204e 6f6e 652c 0a20 2020  time': None,.   
+00028d50: 2020 2020 207d 0a0a 2020 2020 6465 6620       }..    def 
+00028d60: 7365 745f 6d61 7267 696e 2873 656c 662c  set_margin(self,
+00028d70: 2073 796d 626f 6c3a 2073 7472 2c20 616d   symbol: str, am
+00028d80: 6f75 6e74 2c20 7061 7261 6d73 3d7b 7d29  ount, params={})
+00028d90: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00028da0: 2020 2020 2020 4569 7468 6572 2061 6464        Either add
+00028db0: 7320 6f72 2072 6564 7563 6573 206d 6172  s or reduces mar
+00028dc0: 6769 6e20 696e 2061 6e20 6973 6f6c 6174  gin in an isolat
+00028dd0: 6564 2070 6f73 6974 696f 6e20 696e 206f  ed position in o
+00028de0: 7264 6572 2074 6f20 7365 7420 7468 6520  rder to set the 
+00028df0: 6d61 7267 696e 2074 6f20 6120 7370 6563  margin to a spec
+00028e00: 6966 6963 2076 616c 7565 0a20 2020 2020  ific value.     
+00028e10: 2020 2073 6565 2068 7474 7073 3a2f 2f67     see https://g
+00028e20: 6974 6875 622e 636f 6d2f 7068 656d 6578  ithub.com/phemex
+00028e30: 2f70 6865 6d65 782d 6170 692d 646f 6373  /phemex-api-docs
+00028e40: 2f62 6c6f 622f 6d61 7374 6572 2f50 7562  /blob/master/Pub
+00028e50: 6c69 632d 436f 6e74 7261 6374 2d41 5049  lic-Contract-API
+00028e60: 2d65 6e2e 6d64 2361 7373 6967 6e2d 706f  -en.md#assign-po
+00028e70: 7369 7469 6f6e 2d62 616c 616e 6365 2d69  sition-balance-i
+00028e80: 6e2d 6973 6f6c 6174 6564 2d6d 6172 6967  n-isolated-marig
+00028e90: 6e2d 6d6f 6465 0a20 2020 2020 2020 203a  n-mode.        :
+00028ea0: 7061 7261 6d20 7374 7220 7379 6d62 6f6c  param str symbol
+00028eb0: 3a20 756e 6966 6965 6420 6d61 726b 6574  : unified market
+00028ec0: 2073 796d 626f 6c20 6f66 2074 6865 206d   symbol of the m
+00028ed0: 6172 6b65 7420 746f 2073 6574 206d 6172  arket to set mar
+00028ee0: 6769 6e20 696e 0a20 2020 2020 2020 203a  gin in.        :
+00028ef0: 7061 7261 6d20 666c 6f61 7420 616d 6f75  param float amou
+00028f00: 6e74 3a20 7468 6520 616d 6f75 6e74 2074  nt: the amount t
+00028f10: 6f20 7365 7420 7468 6520 6d61 7267 696e  o set the margin
+00028f20: 2074 6f0a 2020 2020 2020 2020 3a70 6172   to.        :par
+00028f30: 616d 2064 6963 7420 7061 7261 6d73 3a20  am dict params: 
+00028f40: 7061 7261 6d65 7465 7273 2073 7065 6369  parameters speci
+00028f50: 6669 6320 746f 2074 6865 2070 6865 6d65  fic to the pheme
+00028f60: 7820 6170 6920 656e 6470 6f69 6e74 0a20  x api endpoint. 
+00028f70: 2020 2020 2020 203a 7265 7475 726e 7320         :returns 
+00028f80: 6469 6374 3a20 4120 606d 6172 6769 6e20  dict: A `margin 
+00028f90: 7374 7275 6374 7572 6520 3c68 7474 7073  structure <https
+00028fa0: 3a2f 2f64 6f63 732e 6363 7874 2e63 6f6d  ://docs.ccxt.com
+00028fb0: 2f23 2f3f 6964 3d61 6464 2d6d 6172 6769  /#/?id=add-margi
+00028fc0: 6e2d 7374 7275 6374 7572 653e 600a 2020  n-structure>`.  
+00028fd0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00028fe0: 2020 7365 6c66 2e6c 6f61 645f 6d61 726b    self.load_mark
+00028ff0: 6574 7328 290a 2020 2020 2020 2020 6d61  ets().        ma
+00029000: 726b 6574 203d 2073 656c 662e 6d61 726b  rket = self.mark
+00029010: 6574 2873 796d 626f 6c29 0a20 2020 2020  et(symbol).     
+00029020: 2020 2072 6571 7565 7374 203d 207b 0a20     request = {. 
+00029030: 2020 2020 2020 2020 2020 2027 7379 6d62             'symb
+00029040: 6f6c 273a 206d 6172 6b65 745b 2769 6427  ol': market['id'
+00029050: 5d2c 0a20 2020 2020 2020 2020 2020 2027  ],.            '
+00029060: 706f 7342 616c 616e 6365 4576 273a 2073  posBalanceEv': s
+00029070: 656c 662e 746f 5f65 7628 616d 6f75 6e74  elf.to_ev(amount
+00029080: 2c20 6d61 726b 6574 292c 0a20 2020 2020  , market),.     
+00029090: 2020 207d 0a20 2020 2020 2020 2072 6573     }.        res
+000290a0: 706f 6e73 6520 3d20 7365 6c66 2e70 7269  ponse = self.pri
+000290b0: 7661 7465 506f 7374 506f 7369 7469 6f6e  vatePostPosition
+000290c0: 7341 7373 6967 6e28 7365 6c66 2e65 7874  sAssign(self.ext
+000290d0: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
+000290e0: 616d 7329 290a 2020 2020 2020 2020 230a  ams)).        #.
+000290f0: 2020 2020 2020 2020 2320 2020 2020 7b0a          #     {.
+00029100: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00029110: 2020 2263 6f64 6522 3a20 302c 0a20 2020    "code": 0,.   
+00029120: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+00029130: 6d73 6722 3a20 2222 2c0a 2020 2020 2020  msg": "",.      
+00029140: 2020 2320 2020 2020 2020 2020 2264 6174    #         "dat
+00029150: 6122 3a20 224f 4b22 0a20 2020 2020 2020  a": "OK".       
+00029160: 2023 2020 2020 207d 0a20 2020 2020 2020   #     }.       
+00029170: 2023 0a20 2020 2020 2020 2072 6574 7572   #.        retur
+00029180: 6e20 7365 6c66 2e65 7874 656e 6428 7365  n self.extend(se
+00029190: 6c66 2e70 6172 7365 5f6d 6172 6769 6e5f  lf.parse_margin_
+000291a0: 6d6f 6469 6669 6361 7469 6f6e 2872 6573  modification(res
+000291b0: 706f 6e73 652c 206d 6172 6b65 7429 2c20  ponse, market), 
+000291c0: 7b0a 2020 2020 2020 2020 2020 2020 2761  {.            'a
+000291d0: 6d6f 756e 7427 3a20 616d 6f75 6e74 2c0a  mount': amount,.
+000291e0: 2020 2020 2020 2020 7d29 0a0a 2020 2020          })..    
+000291f0: 6465 6620 7061 7273 655f 6d61 7267 696e  def parse_margin
+00029200: 5f73 7461 7475 7328 7365 6c66 2c20 7374  _status(self, st
+00029210: 6174 7573 293a 0a20 2020 2020 2020 2073  atus):.        s
+00029220: 7461 7475 7365 7320 3d20 7b0a 2020 2020  tatuses = {.    
+00029230: 2020 2020 2020 2020 2730 273a 2027 6f6b          '0': 'ok
+00029240: 272c 0a20 2020 2020 2020 207d 0a20 2020  ',.        }.   
+00029250: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00029260: 2e73 6166 655f 7374 7269 6e67 2873 7461  .safe_string(sta
+00029270: 7475 7365 732c 2073 7461 7475 732c 2073  tuses, status, s
+00029280: 7461 7475 7329 0a0a 2020 2020 6465 6620  tatus)..    def 
+00029290: 7061 7273 655f 6d61 7267 696e 5f6d 6f64  parse_margin_mod
+000292a0: 6966 6963 6174 696f 6e28 7365 6c66 2c20  ification(self, 
+000292b0: 6461 7461 2c20 6d61 726b 6574 3d4e 6f6e  data, market=Non
+000292c0: 6529 3a0a 2020 2020 2020 2020 230a 2020  e):.        #.  
+000292d0: 2020 2020 2020 2320 2020 2020 7b0a 2020        #     {.  
+000292e0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+000292f0: 2263 6f64 6522 3a20 302c 0a20 2020 2020  "code": 0,.     
+00029300: 2020 2023 2020 2020 2020 2020 2022 6d73     #         "ms
+00029310: 6722 3a20 2222 2c0a 2020 2020 2020 2020  g": "",.        
+00029320: 2320 2020 2020 2020 2020 2264 6174 6122  #         "data"
+00029330: 3a20 224f 4b22 0a20 2020 2020 2020 2023  : "OK".        #
+00029340: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
+00029350: 0a20 2020 2020 2020 206d 6172 6b65 7420  .        market 
+00029360: 3d20 7365 6c66 2e73 6166 655f 6d61 726b  = self.safe_mark
+00029370: 6574 284e 6f6e 652c 206d 6172 6b65 7429  et(None, market)
+00029380: 0a20 2020 2020 2020 2069 6e76 6572 7365  .        inverse
+00029390: 203d 2073 656c 662e 7361 6665 5f76 616c   = self.safe_val
+000293a0: 7565 286d 6172 6b65 742c 2027 696e 7665  ue(market, 'inve
+000293b0: 7273 6527 290a 2020 2020 2020 2020 636f  rse').        co
+000293c0: 6465 4375 7272 656e 6379 203d 2027 6261  deCurrency = 'ba
+000293d0: 7365 2720 6966 2069 6e76 6572 7365 2065  se' if inverse e
+000293e0: 6c73 6520 2771 756f 7465 270a 2020 2020  lse 'quote'.    
+000293f0: 2020 2020 7265 7475 726e 207b 0a20 2020      return {.   
+00029400: 2020 2020 2020 2020 2027 696e 666f 273a           'info':
+00029410: 2064 6174 612c 0a20 2020 2020 2020 2020   data,.         
+00029420: 2020 2027 7479 7065 273a 2027 7365 7427     'type': 'set'
+00029430: 2c0a 2020 2020 2020 2020 2020 2020 2761  ,.            'a
+00029440: 6d6f 756e 7427 3a20 4e6f 6e65 2c0a 2020  mount': None,.  
+00029450: 2020 2020 2020 2020 2020 2774 6f74 616c            'total
+00029460: 273a 204e 6f6e 652c 0a20 2020 2020 2020  ': None,.       
+00029470: 2020 2020 2027 636f 6465 273a 206d 6172       'code': mar
+00029480: 6b65 745b 636f 6465 4375 7272 656e 6379  ket[codeCurrency
+00029490: 5d2c 0a20 2020 2020 2020 2020 2020 2027  ],.            '
+000294a0: 7379 6d62 6f6c 273a 2073 656c 662e 7361  symbol': self.sa
+000294b0: 6665 5f73 796d 626f 6c28 4e6f 6e65 2c20  fe_symbol(None, 
+000294c0: 6d61 726b 6574 292c 0a20 2020 2020 2020  market),.       
+000294d0: 2020 2020 2027 7374 6174 7573 273a 2073       'status': s
+000294e0: 656c 662e 7061 7273 655f 6d61 7267 696e  elf.parse_margin
+000294f0: 5f73 7461 7475 7328 7365 6c66 2e73 6166  _status(self.saf
+00029500: 655f 7374 7269 6e67 2864 6174 612c 2027  e_string(data, '
+00029510: 636f 6465 2729 292c 0a20 2020 2020 2020  code')),.       
+00029520: 207d 0a0a 2020 2020 6465 6620 7365 745f   }..    def set_
+00029530: 6d61 7267 696e 5f6d 6f64 6528 7365 6c66  margin_mode(self
+00029540: 2c20 6d61 7267 696e 4d6f 6465 2c20 7379  , marginMode, sy
+00029550: 6d62 6f6c 3a20 4f70 7469 6f6e 616c 5b73  mbol: Optional[s
+00029560: 7472 5d20 3d20 4e6f 6e65 2c20 7061 7261  tr] = None, para
+00029570: 6d73 3d7b 7d29 3a0a 2020 2020 2020 2020  ms={}):.        
+00029580: 2222 220a 2020 2020 2020 2020 7365 7420  """.        set 
+00029590: 6d61 7267 696e 206d 6f64 6520 746f 2027  margin mode to '
+000295a0: 6372 6f73 7327 206f 7220 2769 736f 6c61  cross' or 'isola
+000295b0: 7465 6427 0a20 2020 2020 2020 203a 7061  ted'.        :pa
+000295c0: 7261 6d20 7374 7220 6d61 7267 696e 4d6f  ram str marginMo
+000295d0: 6465 3a20 2763 726f 7373 2720 6f72 2027  de: 'cross' or '
+000295e0: 6973 6f6c 6174 6564 270a 2020 2020 2020  isolated'.      
+000295f0: 2020 3a70 6172 616d 2073 7472 2073 796d    :param str sym
+00029600: 626f 6c3a 2075 6e69 6669 6564 206d 6172  bol: unified mar
+00029610: 6b65 7420 7379 6d62 6f6c 0a20 2020 2020  ket symbol.     
+00029620: 2020 203a 7061 7261 6d20 6469 6374 2070     :param dict p
+00029630: 6172 616d 733a 2065 7874 7261 2070 6172  arams: extra par
+00029640: 616d 6574 6572 7320 7370 6563 6966 6963  ameters specific
+00029650: 2074 6f20 7468 6520 7068 656d 6578 2061   to the phemex a
+00029660: 7069 2065 6e64 706f 696e 740a 2020 2020  pi endpoint.    
+00029670: 2020 2020 3a72 6574 7572 6e73 2064 6963      :returns dic
+00029680: 743a 2072 6573 706f 6e73 6520 6672 6f6d  t: response from
+00029690: 2074 6865 2065 7863 6861 6e67 650a 2020   the exchange.  
+000296a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000296b0: 2020 7365 6c66 2e63 6865 636b 5f72 6571    self.check_req
+000296c0: 7569 7265 645f 7379 6d62 6f6c 2827 7365  uired_symbol('se
+000296d0: 744d 6172 6769 6e4d 6f64 6527 2c20 7379  tMarginMode', sy
+000296e0: 6d62 6f6c 290a 2020 2020 2020 2020 7365  mbol).        se
+000296f0: 6c66 2e6c 6f61 645f 6d61 726b 6574 7328  lf.load_markets(
+00029700: 290a 2020 2020 2020 2020 6d61 726b 6574  ).        market
+00029710: 203d 2073 656c 662e 6d61 726b 6574 2873   = self.market(s
+00029720: 796d 626f 6c29 0a20 2020 2020 2020 2069  ymbol).        i
+00029730: 6620 6e6f 7420 6d61 726b 6574 5b27 7377  f not market['sw
+00029740: 6170 275d 206f 7220 6d61 726b 6574 5b27  ap'] or market['
+00029750: 7365 7474 6c65 275d 203d 3d20 2755 5344  settle'] == 'USD
+00029760: 5427 3a0a 2020 2020 2020 2020 2020 2020  T':.            
+00029770: 7261 6973 6520 4261 6453 796d 626f 6c28  raise BadSymbol(
+00029780: 7365 6c66 2e69 6420 2b20 2720 7365 744d  self.id + ' setM
+00029790: 6172 6769 6e4d 6f64 6528 2920 7375 7070  arginMode() supp
+000297a0: 6f72 7473 2073 7761 7028 6e6f 6e20 5553  orts swap(non US
+000297b0: 4454 2062 6173 6564 2920 636f 6e74 7261  DT based) contra
+000297c0: 6374 7320 6f6e 6c79 2729 0a20 2020 2020  cts only').     
+000297d0: 2020 206d 6172 6769 6e4d 6f64 6520 3d20     marginMode = 
+000297e0: 6d61 7267 696e 4d6f 6465 2e6c 6f77 6572  marginMode.lower
+000297f0: 2829 0a20 2020 2020 2020 2069 6620 6d61  ().        if ma
+00029800: 7267 696e 4d6f 6465 2021 3d20 2769 736f  rginMode != 'iso
+00029810: 6c61 7465 6427 2061 6e64 206d 6172 6769  lated' and margi
+00029820: 6e4d 6f64 6520 213d 2027 6372 6f73 7327  nMode != 'cross'
+00029830: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+00029840: 6973 6520 4261 6452 6571 7565 7374 2873  ise BadRequest(s
+00029850: 656c 662e 6964 202b 2027 2073 6574 4d61  elf.id + ' setMa
+00029860: 7267 696e 4d6f 6465 2829 206d 6172 6769  rginMode() margi
+00029870: 6e4d 6f64 6520 6172 6775 6d65 6e74 2073  nMode argument s
+00029880: 686f 756c 6420 6265 2069 736f 6c61 7465  hould be isolate
+00029890: 6420 6f72 2063 726f 7373 2729 0a20 2020  d or cross').   
+000298a0: 2020 2020 206c 6576 6572 6167 6520 3d20       leverage = 
+000298b0: 7365 6c66 2e73 6166 655f 696e 7465 6765  self.safe_intege
+000298c0: 7228 7061 7261 6d73 2c20 276c 6576 6572  r(params, 'lever
+000298d0: 6167 6527 290a 2020 2020 2020 2020 6966  age').        if
+000298e0: 206d 6172 6769 6e4d 6f64 6520 3d3d 2027   marginMode == '
+000298f0: 6372 6f73 7327 3a0a 2020 2020 2020 2020  cross':.        
+00029900: 2020 2020 6c65 7665 7261 6765 203d 2030      leverage = 0
+00029910: 0a20 2020 2020 2020 2069 6620 6c65 7665  .        if leve
+00029920: 7261 6765 2069 7320 4e6f 6e65 3a0a 2020  rage is None:.  
+00029930: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00029940: 4172 6775 6d65 6e74 7352 6571 7569 7265  ArgumentsRequire
+00029950: 6428 7365 6c66 2e69 6420 2b20 2720 7365  d(self.id + ' se
+00029960: 744d 6172 6769 6e4d 6f64 6528 2920 7265  tMarginMode() re
+00029970: 7175 6972 6573 2061 206c 6576 6572 6167  quires a leverag
+00029980: 6520 7061 7261 6d65 7465 7227 290a 2020  e parameter').  
+00029990: 2020 2020 2020 7265 7175 6573 7420 3d20        request = 
+000299a0: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
+000299b0: 796d 626f 6c27 3a20 6d61 726b 6574 5b27  ymbol': market['
+000299c0: 6964 275d 2c0a 2020 2020 2020 2020 2020  id'],.          
+000299d0: 2020 276c 6576 6572 6167 6527 3a20 6c65    'leverage': le
+000299e0: 7665 7261 6765 2c0a 2020 2020 2020 2020  verage,.        
+000299f0: 7d0a 2020 2020 2020 2020 7265 7475 726e  }.        return
+00029a00: 2073 656c 662e 7072 6976 6174 6550 7574   self.privatePut
+00029a10: 506f 7369 7469 6f6e 734c 6576 6572 6167  PositionsLeverag
+00029a20: 6528 7365 6c66 2e65 7874 656e 6428 7265  e(self.extend(re
+00029a30: 7175 6573 742c 2070 6172 616d 7329 290a  quest, params)).
+00029a40: 0a20 2020 2064 6566 2073 6574 5f70 6f73  .    def set_pos
+00029a50: 6974 696f 6e5f 6d6f 6465 2873 656c 662c  ition_mode(self,
+00029a60: 2068 6564 6765 642c 2073 796d 626f 6c3a   hedged, symbol:
+00029a70: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
+00029a80: 204e 6f6e 652c 2070 6172 616d 733d 7b7d   None, params={}
+00029a90: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00029aa0: 2020 2020 2020 2073 6574 2068 6564 6765         set hedge
+00029ab0: 6420 746f 2054 7275 6520 6f72 2046 616c  d to True or Fal
+00029ac0: 7365 2066 6f72 2061 206d 6172 6b65 740a  se for a market.
+00029ad0: 2020 2020 2020 2020 7365 6520 6874 7470          see http
+00029ae0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f70  s://github.com/p
+00029af0: 6865 6d65 782f 7068 656d 6578 2d61 7069  hemex/phemex-api
+00029b00: 2d64 6f63 732f 626c 6f62 2f6d 6173 7465  -docs/blob/maste
+00029b10: 722f 5075 626c 6963 2d48 6564 6765 642d  r/Public-Hedged-
+00029b20: 5065 7270 6574 7561 6c2d 4150 492e 6d64  Perpetual-API.md
+00029b30: 2373 7769 7463 682d 706f 7369 7469 6f6e  #switch-position
+00029b40: 2d6d 6f64 652d 7379 6e63 6872 6f6e 6f75  -mode-synchronou
+00029b50: 736c 790a 2020 2020 2020 2020 3a70 6172  sly.        :par
+00029b60: 616d 2062 6f6f 6c20 6865 6467 6564 3a20  am bool hedged: 
+00029b70: 7365 7420 746f 2054 7275 6520 746f 2075  set to True to u
+00029b80: 7365 2064 7561 6c53 6964 6550 6f73 6974  se dualSidePosit
+00029b90: 696f 6e0a 2020 2020 2020 2020 3a70 6172  ion.        :par
+00029ba0: 616d 2073 7472 7c4e 6f6e 6520 7379 6d62  am str|None symb
+00029bb0: 6f6c 3a20 6e6f 7420 7573 6564 2062 7920  ol: not used by 
+00029bc0: 6269 6e61 6e63 6520 7365 7450 6f73 6974  binance setPosit
+00029bd0: 696f 6e4d 6f64 6528 290a 2020 2020 2020  ionMode().      
+00029be0: 2020 3a70 6172 616d 2064 6963 7420 7061    :param dict pa
+00029bf0: 7261 6d73 3a20 6578 7472 6120 7061 7261  rams: extra para
+00029c00: 6d65 7465 7273 2073 7065 6369 6669 6320  meters specific 
+00029c10: 746f 2074 6865 2062 696e 616e 6365 2061  to the binance a
+00029c20: 7069 2065 6e64 706f 696e 740a 2020 2020  pi endpoint.    
+00029c30: 2020 2020 3a72 6574 7572 6e73 2064 6963      :returns dic
+00029c40: 743a 2072 6573 706f 6e73 6520 6672 6f6d  t: response from
+00029c50: 2074 6865 2065 7863 6861 6e67 650a 2020   the exchange.  
+00029c60: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00029c70: 2020 7365 6c66 2e63 6865 636b 5f72 6571    self.check_req
+00029c80: 7569 7265 645f 6172 6775 6d65 6e74 2827  uired_argument('
+00029c90: 7365 7450 6f73 6974 696f 6e4d 6f64 6527  setPositionMode'
+00029ca0: 2c20 7379 6d62 6f6c 2c20 2773 796d 626f  , symbol, 'symbo
+00029cb0: 6c27 290a 2020 2020 2020 2020 7365 6c66  l').        self
+00029cc0: 2e6c 6f61 645f 6d61 726b 6574 7328 290a  .load_markets().
+00029cd0: 2020 2020 2020 2020 6d61 726b 6574 203d          market =
+00029ce0: 2073 656c 662e 6d61 726b 6574 2873 796d   self.market(sym
+00029cf0: 626f 6c29 0a20 2020 2020 2020 2069 6620  bol).        if 
+00029d00: 6d61 726b 6574 5b27 7365 7474 6c65 275d  market['settle']
+00029d10: 2021 3d20 2755 5344 5427 3a0a 2020 2020   != 'USDT':.    
+00029d20: 2020 2020 2020 2020 7261 6973 6520 4261          raise Ba
+00029d30: 6453 796d 626f 6c28 7365 6c66 2e69 6420  dSymbol(self.id 
+00029d40: 2b20 2720 7365 7450 6f73 6974 696f 6e4d  + ' setPositionM
+00029d50: 6f64 6528 2920 7375 7070 6f72 7473 2055  ode() supports U
+00029d60: 5344 5420 7365 7474 6c65 6420 6d61 726b  SDT settled mark
+00029d70: 6574 7320 6f6e 6c79 2729 0a20 2020 2020  ets only').     
+00029d80: 2020 2072 6571 7565 7374 203d 207b 0a20     request = {. 
+00029d90: 2020 2020 2020 2020 2020 2027 7379 6d62             'symb
+00029da0: 6f6c 273a 206d 6172 6b65 745b 2769 6427  ol': market['id'
+00029db0: 5d2c 0a20 2020 2020 2020 207d 0a20 2020  ],.        }.   
+00029dc0: 2020 2020 2069 6620 6865 6467 6564 3a0a       if hedged:.
+00029dd0: 2020 2020 2020 2020 2020 2020 7265 7175              requ
+00029de0: 6573 745b 2774 6172 6765 7450 6f73 4d6f  est['targetPosMo
+00029df0: 6465 275d 203d 2027 4865 6467 6564 270a  de'] = 'Hedged'.
+00029e00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00029e10: 2020 2020 2020 2020 2020 7265 7175 6573            reques
+00029e20: 745b 2774 6172 6765 7450 6f73 4d6f 6465  t['targetPosMode
+00029e30: 275d 203d 2027 4f6e 6557 6179 270a 2020  '] = 'OneWay'.  
+00029e40: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00029e50: 662e 7072 6976 6174 6550 7574 4750 6f73  f.privatePutGPos
+00029e60: 6974 696f 6e73 5377 6974 6368 506f 734d  itionsSwitchPosM
+00029e70: 6f64 6553 796e 6328 7365 6c66 2e65 7874  odeSync(self.ext
+00029e80: 656e 6428 7265 7175 6573 742c 2070 6172  end(request, par
+00029e90: 616d 7329 290a 0a20 2020 2064 6566 2066  ams))..    def f
+00029ea0: 6574 6368 5f6c 6576 6572 6167 655f 7469  etch_leverage_ti
+00029eb0: 6572 7328 7365 6c66 2c20 7379 6d62 6f6c  ers(self, symbol
+00029ec0: 733a 204f 7074 696f 6e61 6c5b 4c69 7374  s: Optional[List
+00029ed0: 5b73 7472 5d5d 203d 204e 6f6e 652c 2070  [str]] = None, p
+00029ee0: 6172 616d 733d 7b7d 293a 0a20 2020 2020  arams={}):.     
+00029ef0: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
+00029f00: 6574 7269 6576 6520 696e 666f 726d 6174  etrieve informat
+00029f10: 696f 6e20 6f6e 2074 6865 206d 6178 696d  ion on the maxim
+00029f20: 756d 206c 6576 6572 6167 652c 2061 6e64  um leverage, and
+00029f30: 206d 6169 6e74 656e 616e 6365 206d 6172   maintenance mar
+00029f40: 6769 6e20 666f 7220 7472 6164 6573 206f  gin for trades o
+00029f50: 6620 7661 7279 696e 6720 7472 6164 6520  f varying trade 
+00029f60: 7369 7a65 730a 2020 2020 2020 2020 3a70  sizes.        :p
+00029f70: 6172 616d 205b 7374 725d 7c4e 6f6e 6520  aram [str]|None 
+00029f80: 7379 6d62 6f6c 733a 206c 6973 7420 6f66  symbols: list of
+00029f90: 2075 6e69 6669 6564 206d 6172 6b65 7420   unified market 
+00029fa0: 7379 6d62 6f6c 730a 2020 2020 2020 2020  symbols.        
+00029fb0: 3a70 6172 616d 2064 6963 7420 7061 7261  :param dict para
+00029fc0: 6d73 3a20 6578 7472 6120 7061 7261 6d65  ms: extra parame
+00029fd0: 7465 7273 2073 7065 6369 6669 6320 746f  ters specific to
+00029fe0: 2074 6865 2070 6865 6d65 7820 6170 6920   the phemex api 
+00029ff0: 656e 6470 6f69 6e74 0a20 2020 2020 2020  endpoint.       
+0002a000: 203a 7265 7475 726e 7320 6469 6374 3a20   :returns dict: 
+0002a010: 6120 6469 6374 696f 6e61 7279 206f 6620  a dictionary of 
+0002a020: 606c 6576 6572 6167 6520 7469 6572 7320  `leverage tiers 
+0002a030: 7374 7275 6374 7572 6573 203c 6874 7470  structures <http
+0002a040: 733a 2f2f 646f 6373 2e63 6378 742e 636f  s://docs.ccxt.co
+0002a050: 6d2f 232f 3f69 643d 6c65 7665 7261 6765  m/#/?id=leverage
+0002a060: 2d74 6965 7273 2d73 7472 7563 7475 7265  -tiers-structure
+0002a070: 3e60 2c20 696e 6465 7865 6420 6279 206d  >`, indexed by m
+0002a080: 6172 6b65 7420 7379 6d62 6f6c 730a 2020  arket symbols.  
+0002a090: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0002a0a0: 2020 7365 6c66 2e6c 6f61 645f 6d61 726b    self.load_mark
+0002a0b0: 6574 7328 290a 2020 2020 2020 2020 7265  ets().        re
+0002a0c0: 7370 6f6e 7365 203d 2073 656c 662e 7075  sponse = self.pu
+0002a0d0: 626c 6963 4765 7443 6667 5632 5072 6f64  blicGetCfgV2Prod
+0002a0e0: 7563 7473 2870 6172 616d 7329 0a20 2020  ucts(params).   
+0002a0f0: 2020 2020 2023 0a20 2020 2020 2020 2023       #.        #
+0002a100: 2020 2020 207b 0a20 2020 2020 2020 2023       {.        #
+0002a110: 2020 2020 2020 2020 2022 636f 6465 223a           "code":
+0002a120: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
+0002a130: 2020 2020 2022 6d73 6722 3a22 4f4b 222c       "msg":"OK",
+0002a140: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+0002a150: 2020 2022 6461 7461 223a 7b0a 2020 2020     "data":{.    
+0002a160: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002a170: 2020 2272 6174 696f 5363 616c 6522 3a38    "ratioScale":8
+0002a180: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002a190: 2020 2020 2020 2020 2263 7572 7265 6e63          "currenc
+0002a1a0: 6965 7322 3a5b 0a20 2020 2020 2020 2023  ies":[.        #
+0002a1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a1c0: 207b 2263 7572 7265 6e63 7922 3a22 4254   {"currency":"BT
+0002a1d0: 4322 2c22 7661 6c75 6553 6361 6c65 223a  C","valueScale":
+0002a1e0: 382c 226d 696e 5661 6c75 6545 7622 3a31  8,"minValueEv":1
+0002a1f0: 2c22 6d61 7856 616c 7565 4576 223a 3530  ,"maxValueEv":50
+0002a200: 3030 3030 3030 3030 3030 3030 3030 3030  0000000000000000
+0002a210: 302c 226e 616d 6522 3a22 4269 7463 6f69  0,"name":"Bitcoi
+0002a220: 6e22 7d2c 0a20 2020 2020 2020 2023 2020  n"},.        #  
+0002a230: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+0002a240: 2263 7572 7265 6e63 7922 3a22 5553 4422  "currency":"USD"
+0002a250: 2c22 7661 6c75 6553 6361 6c65 223a 342c  ,"valueScale":4,
+0002a260: 226d 696e 5661 6c75 6545 7622 3a31 2c22  "minValueEv":1,"
+0002a270: 6d61 7856 616c 7565 4576 223a 3530 3030  maxValueEv":5000
+0002a280: 3030 3030 3030 3030 3030 302c 226e 616d  00000000000,"nam
+0002a290: 6522 3a22 5553 4422 7d2c 0a20 2020 2020  e":"USD"},.     
+0002a2a0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002a2b0: 2020 2020 207b 2263 7572 7265 6e63 7922       {"currency"
+0002a2c0: 3a22 5553 4454 222c 2276 616c 7565 5363  :"USDT","valueSc
+0002a2d0: 616c 6522 3a38 2c22 6d69 6e56 616c 7565  ale":8,"minValue
+0002a2e0: 4576 223a 312c 226d 6178 5661 6c75 6545  Ev":1,"maxValueE
+0002a2f0: 7622 3a35 3030 3030 3030 3030 3030 3030  v":5000000000000
+0002a300: 3030 3030 3030 2c22 6e61 6d65 223a 2254  000000,"name":"T
+0002a310: 6574 6865 7255 5322 7d2c 0a20 2020 2020  etherUS"},.     
+0002a320: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002a330: 205d 2c0a 2020 2020 2020 2020 2320 2020   ],.        #   
+0002a340: 2020 2020 2020 2020 2020 2270 726f 6475            "produ
+0002a350: 6374 7322 3a5b 0a20 2020 2020 2020 2023  cts":[.        #
+0002a360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a370: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+0002a380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a390: 2022 7379 6d62 6f6c 223a 2242 5443 5553   "symbol":"BTCUS
+0002a3a0: 4422 2c0a 2020 2020 2020 2020 2320 2020  D",.        #   
+0002a3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a3c0: 2020 2264 6973 706c 6179 5379 6d62 6f6c    "displaySymbol
+0002a3d0: 223a 2242 5443 202f 2055 5344 222c 0a20  ":"BTC / USD",. 
+0002a3e0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002a3f0: 2020 2020 2020 2020 2020 2020 2022 696e               "in
+0002a400: 6465 7853 796d 626f 6c22 3a22 2e42 5443  dexSymbol":".BTC
+0002a410: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002a420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a430: 2022 6d61 726b 5379 6d62 6f6c 223a 222e   "markSymbol":".
+0002a440: 4d42 5443 222c 0a20 2020 2020 2020 2023  MBTC",.        #
+0002a450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a460: 2020 2020 2022 6675 6e64 696e 6752 6174       "fundingRat
+0002a470: 6553 796d 626f 6c22 3a22 2e42 5443 4652  eSymbol":".BTCFR
+0002a480: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002a490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a4a0: 2022 6675 6e64 696e 6752 6174 6538 6853   "fundingRate8hS
+0002a4b0: 796d 626f 6c22 3a22 2e42 5443 4652 3848  ymbol":".BTCFR8H
+0002a4c0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002a4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a4e0: 2022 636f 6e74 7261 6374 556e 6465 726c   "contractUnderl
+0002a4f0: 7969 6e67 4173 7365 7473 223a 2255 5344  yingAssets":"USD
+0002a500: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002a510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a520: 2022 7365 7474 6c65 4375 7272 656e 6379   "settleCurrency
+0002a530: 223a 2242 5443 222c 0a20 2020 2020 2020  ":"BTC",.       
+0002a540: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002a550: 2020 2020 2020 2022 7175 6f74 6543 7572         "quoteCur
+0002a560: 7265 6e63 7922 3a22 5553 4422 2c0a 2020  rency":"USD",.  
+0002a570: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002a580: 2020 2020 2020 2020 2020 2020 2263 6f6e              "con
+0002a590: 7472 6163 7453 697a 6522 3a31 2e30 2c0a  tractSize":1.0,.
+0002a5a0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002a5b0: 2020 2020 2020 2020 2020 2020 2020 226c                "l
+0002a5c0: 6f74 5369 7a65 223a 312c 0a20 2020 2020  otSize":1,.     
+0002a5d0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002a5e0: 2020 2020 2020 2020 2022 7469 636b 5369           "tickSi
+0002a5f0: 7a65 223a 302e 352c 0a20 2020 2020 2020  ze":0.5,.       
+0002a600: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002a610: 2020 2020 2020 2022 7072 6963 6553 6361         "priceSca
+0002a620: 6c65 223a 342c 0a20 2020 2020 2020 2023  le":4,.        #
+0002a630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a640: 2020 2020 2022 7261 7469 6f53 6361 6c65       "ratioScale
+0002a650: 223a 382c 0a20 2020 2020 2020 2023 2020  ":8,.        #  
+0002a660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a670: 2020 2022 7072 6963 6550 7265 6369 7369     "pricePrecisi
+0002a680: 6f6e 223a 312c 0a20 2020 2020 2020 2023  on":1,.        #
+0002a690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a6a0: 2020 2020 2022 6d69 6e50 7269 6365 4570       "minPriceEp
+0002a6b0: 223a 3530 3030 2c0a 2020 2020 2020 2020  ":5000,.        
+0002a6c0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+0002a6d0: 2020 2020 2020 226d 6178 5072 6963 6545        "maxPriceE
+0002a6e0: 7022 3a31 3030 3030 3030 3030 3030 2c0a  p":10000000000,.
+0002a6f0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002a700: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+0002a710: 6178 4f72 6465 7251 7479 223a 3130 3030  axOrderQty":1000
+0002a720: 3030 302c 0a20 2020 2020 2020 2023 2020  000,.        #  
+0002a730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a740: 2020 2022 7479 7065 223a 2250 6572 7065     "type":"Perpe
+0002a750: 7475 616c 220a 2020 2020 2020 2020 2320  tual".        # 
+0002a760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a770: 7d2c 0a20 2020 2020 2020 2023 2020 2020  },.        #    
+0002a780: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
+0002a790: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002a7a0: 2020 2020 2020 2020 2020 2020 2022 7379               "sy
+0002a7b0: 6d62 6f6c 223a 2273 4254 4355 5344 5422  mbol":"sBTCUSDT"
+0002a7c0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002a7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a7e0: 2264 6973 706c 6179 5379 6d62 6f6c 223a  "displaySymbol":
+0002a7f0: 2242 5443 202f 2055 5344 5422 2c0a 2020  "BTC / USDT",.  
+0002a800: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002a810: 2020 2020 2020 2020 2020 2020 2271 756f              "quo
+0002a820: 7465 4375 7272 656e 6379 223a 2255 5344  teCurrency":"USD
+0002a830: 5422 2c0a 2020 2020 2020 2020 2320 2020  T",.        #   
+0002a840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a850: 2020 2270 7269 6365 5072 6563 6973 696f    "pricePrecisio
+0002a860: 6e22 3a32 2c0a 2020 2020 2020 2020 2320  n":2,.        # 
+0002a870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a880: 2020 2020 2274 7970 6522 3a22 5370 6f74      "type":"Spot
+0002a890: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002a8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a8b0: 2022 6261 7365 4375 7272 656e 6379 223a   "baseCurrency":
+0002a8c0: 2242 5443 222c 0a20 2020 2020 2020 2023  "BTC",.        #
+0002a8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a8e0: 2020 2020 2022 6261 7365 5469 636b 5369       "baseTickSi
+0002a8f0: 7a65 223a 2230 2e30 3030 3030 3120 4254  ze":"0.000001 BT
+0002a900: 4322 2c0a 2020 2020 2020 2020 2320 2020  C",.        #   
+0002a910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a920: 2020 2262 6173 6554 6963 6b53 697a 6545    "baseTickSizeE
+0002a930: 7622 3a31 3030 2c0a 2020 2020 2020 2020  v":100,.        
+0002a940: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+0002a950: 2020 2020 2020 2271 756f 7465 5469 636b        "quoteTick
+0002a960: 5369 7a65 223a 2230 2e30 3120 5553 4454  Size":"0.01 USDT
+0002a970: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002a980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a990: 2022 7175 6f74 6554 6963 6b53 697a 6545   "quoteTickSizeE
+0002a9a0: 7622 3a31 3030 3030 3030 2c0a 2020 2020  v":1000000,.    
+0002a9b0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002a9c0: 2020 2020 2020 2020 2020 226d 696e 4f72            "minOr
+0002a9d0: 6465 7256 616c 7565 223a 2231 3020 5553  derValue":"10 US
+0002a9e0: 4454 222c 0a20 2020 2020 2020 2023 2020  DT",.        #  
+0002a9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aa00: 2020 2022 6d69 6e4f 7264 6572 5661 6c75     "minOrderValu
+0002aa10: 6545 7622 3a31 3030 3030 3030 3030 302c  eEv":1000000000,
+0002aa20: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+0002aa30: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0002aa40: 6d61 7842 6173 654f 7264 6572 5369 7a65  maxBaseOrderSize
+0002aa50: 223a 2231 3030 3020 4254 4322 2c0a 2020  ":"1000 BTC",.  
+0002aa60: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002aa70: 2020 2020 2020 2020 2020 2020 226d 6178              "max
+0002aa80: 4261 7365 4f72 6465 7253 697a 6545 7622  BaseOrderSizeEv"
+0002aa90: 3a31 3030 3030 3030 3030 3030 302c 0a20  :100000000000,. 
+0002aaa0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002aab0: 2020 2020 2020 2020 2020 2020 2022 6d61               "ma
+0002aac0: 784f 7264 6572 5661 6c75 6522 3a22 352c  xOrderValue":"5,
+0002aad0: 3030 302c 3030 3020 5553 4454 222c 0a20  000,000 USDT",. 
+0002aae0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002aaf0: 2020 2020 2020 2020 2020 2020 2022 6d61               "ma
+0002ab00: 784f 7264 6572 5661 6c75 6545 7622 3a35  xOrderValueEv":5
+0002ab10: 3030 3030 3030 3030 3030 3030 3030 2c0a  00000000000000,.
+0002ab20: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002ab30: 2020 2020 2020 2020 2020 2020 2020 2264                "d
+0002ab40: 6566 6175 6c74 5461 6b65 7246 6565 223a  efaultTakerFee":
+0002ab50: 2230 2e30 3031 222c 0a20 2020 2020 2020  "0.001",.       
+0002ab60: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002ab70: 2020 2020 2020 2022 6465 6661 756c 7454         "defaultT
+0002ab80: 616b 6572 4665 6545 7222 3a31 3030 3030  akerFeeEr":10000
+0002ab90: 302c 0a20 2020 2020 2020 2023 2020 2020  0,.        #    
+0002aba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002abb0: 2022 6465 6661 756c 744d 616b 6572 4665   "defaultMakerFe
+0002abc0: 6522 3a22 302e 3030 3122 2c0a 2020 2020  e":"0.001",.    
+0002abd0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002abe0: 2020 2020 2020 2020 2020 2264 6566 6175            "defau
+0002abf0: 6c74 4d61 6b65 7246 6565 4572 223a 3130  ltMakerFeeEr":10
+0002ac00: 3030 3030 2c0a 2020 2020 2020 2020 2320  0000,.        # 
+0002ac10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ac20: 2020 2020 2262 6173 6551 7479 5072 6563      "baseQtyPrec
+0002ac30: 6973 696f 6e22 3a36 2c0a 2020 2020 2020  ision":6,.      
+0002ac40: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002ac50: 2020 2020 2020 2020 2271 756f 7465 5174          "quoteQt
+0002ac60: 7950 7265 6369 7369 6f6e 223a 320a 2020  yPrecision":2.  
+0002ac70: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002ac80: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
+0002ac90: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0002aca0: 205d 2c0a 2020 2020 2020 2020 2320 2020   ],.        #   
+0002acb0: 2020 2020 2020 2020 2020 2272 6973 6b4c            "riskL
+0002acc0: 696d 6974 7322 3a5b 0a20 2020 2020 2020  imits":[.       
+0002acd0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002ace0: 2020 207b 0a20 2020 2020 2020 2023 2020     {.        #  
+0002acf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ad00: 2020 2022 7379 6d62 6f6c 223a 2242 5443     "symbol":"BTC
+0002ad10: 5553 4422 2c0a 2020 2020 2020 2020 2320  USD",.        # 
+0002ad20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ad30: 2020 2020 2273 7465 7073 223a 2235 3022      "steps":"50"
+0002ad40: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002ad50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ad60: 2272 6973 6b4c 696d 6974 7322 3a5b 0a20  "riskLimits":[. 
+0002ad70: 2020 2020 2020 2023 2020 2020 2020 2020         #        
 0002ad80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ad90: 2020 2020 2020 207b 226c 696d 6974 223a         {"limit":
-0002ada0: 3130 302c 2269 6e69 7469 616c 4d61 7267  100,"initialMarg
-0002adb0: 696e 223a 2231 2e30 2522 2c22 696e 6974  in":"1.0%","init
-0002adc0: 6961 6c4d 6172 6769 6e45 7222 3a31 3030  ialMarginEr":100
-0002add0: 3030 3030 2c22 6d61 696e 7465 6e61 6e63  0000,"maintenanc
-0002ade0: 654d 6172 6769 6e22 3a22 302e 3525 222c  eMargin":"0.5%",
-0002adf0: 226d 6169 6e74 656e 616e 6365 4d61 7267  "maintenanceMarg
-0002ae00: 696e 4572 223a 3530 3030 3030 7d2c 0a20  inEr":500000},. 
-0002ae10: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002ae20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ae30: 207b 226c 696d 6974 223a 3135 302c 2269   {"limit":150,"i
-0002ae40: 6e69 7469 616c 4d61 7267 696e 223a 2231  nitialMargin":"1
-0002ae50: 2e35 2522 2c22 696e 6974 6961 6c4d 6172  .5%","initialMar
-0002ae60: 6769 6e45 7222 3a31 3530 3030 3030 2c22  ginEr":1500000,"
-0002ae70: 6d61 696e 7465 6e61 6e63 654d 6172 6769  maintenanceMargi
-0002ae80: 6e22 3a22 312e 3025 222c 226d 6169 6e74  n":"1.0%","maint
-0002ae90: 656e 616e 6365 4d61 7267 696e 4572 223a  enanceMarginEr":
-0002aea0: 3130 3030 3030 307d 2c0a 2020 2020 2020  1000000},.      
-0002aeb0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002aec0: 2020 2020 2020 2020 2020 2020 7b22 6c69              {"li
-0002aed0: 6d69 7422 3a32 3030 2c22 696e 6974 6961  mit":200,"initia
-0002aee0: 6c4d 6172 6769 6e22 3a22 322e 3025 222c  lMargin":"2.0%",
-0002aef0: 2269 6e69 7469 616c 4d61 7267 696e 4572  "initialMarginEr
-0002af00: 223a 3230 3030 3030 302c 226d 6169 6e74  ":2000000,"maint
-0002af10: 656e 616e 6365 4d61 7267 696e 223a 2231  enanceMargin":"1
-0002af20: 2e35 2522 2c22 6d61 696e 7465 6e61 6e63  .5%","maintenanc
-0002af30: 654d 6172 6769 6e45 7222 3a31 3530 3030  eMarginEr":15000
-0002af40: 3030 7d2c 0a20 2020 2020 2020 2023 2020  00},.        #  
-0002af50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002af60: 2020 205d 0a20 2020 2020 2020 2023 2020     ].        #  
-0002af70: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-0002af80: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002af90: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
-0002afa0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002afb0: 2022 6c65 7665 7261 6765 7322 3a5b 0a20   "leverages":[. 
-0002afc0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002afd0: 2020 2020 2020 2020 207b 2269 6e69 7469           {"initi
-0002afe0: 616c 4d61 7267 696e 223a 2231 2e30 2522  alMargin":"1.0%"
-0002aff0: 2c22 696e 6974 6961 6c4d 6172 6769 6e45  ,"initialMarginE
-0002b000: 7222 3a31 3030 3030 3030 2c22 6f70 7469  r":1000000,"opti
-0002b010: 6f6e 7322 3a5b 312c 322c 332c 352c 3130  ons":[1,2,3,5,10
-0002b020: 2c32 352c 3530 2c31 3030 5d7d 2c0a 2020  ,25,50,100]},.  
-0002b030: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002b040: 2020 2020 2020 2020 7b22 696e 6974 6961          {"initia
-0002b050: 6c4d 6172 6769 6e22 3a22 312e 3525 222c  lMargin":"1.5%",
-0002b060: 2269 6e69 7469 616c 4d61 7267 696e 4572  "initialMarginEr
-0002b070: 223a 3135 3030 3030 302c 226f 7074 696f  ":1500000,"optio
-0002b080: 6e73 223a 5b31 2c32 2c33 2c35 2c31 302c  ns":[1,2,3,5,10,
-0002b090: 3235 2c35 302c 3636 5d7d 2c0a 2020 2020  25,50,66]},.    
-0002b0a0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002b0b0: 2020 2020 2020 7b22 696e 6974 6961 6c4d        {"initialM
-0002b0c0: 6172 6769 6e22 3a22 322e 3025 222c 2269  argin":"2.0%","i
-0002b0d0: 6e69 7469 616c 4d61 7267 696e 4572 223a  nitialMarginEr":
-0002b0e0: 3230 3030 3030 302c 226f 7074 696f 6e73  2000000,"options
-0002b0f0: 223a 5b31 2c32 2c33 2c35 2c31 302c 3235  ":[1,2,3,5,10,25
-0002b100: 2c33 332c 3530 5d7d 2c0a 2020 2020 2020  ,33,50]},.      
-0002b110: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002b120: 5d0a 2020 2020 2020 2020 2320 2020 2020  ].        #     
-0002b130: 2020 2020 7d0a 2020 2020 2020 2020 2320      }.        # 
-0002b140: 2020 2020 7d0a 2020 2020 2020 2020 230a      }.        #.
-0002b150: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-0002b160: 2020 6461 7461 203d 2073 656c 662e 7361    data = self.sa
-0002b170: 6665 5f76 616c 7565 2872 6573 706f 6e73  fe_value(respons
-0002b180: 652c 2027 6461 7461 272c 207b 7d29 0a20  e, 'data', {}). 
-0002b190: 2020 2020 2020 2072 6973 6b4c 696d 6974         riskLimit
-0002b1a0: 7320 3d20 7365 6c66 2e73 6166 655f 7661  s = self.safe_va
-0002b1b0: 6c75 6528 6461 7461 2c20 2772 6973 6b4c  lue(data, 'riskL
-0002b1c0: 696d 6974 7327 290a 2020 2020 2020 2020  imits').        
-0002b1d0: 7265 7475 726e 2073 656c 662e 7061 7273  return self.pars
-0002b1e0: 655f 6c65 7665 7261 6765 5f74 6965 7273  e_leverage_tiers
-0002b1f0: 2872 6973 6b4c 696d 6974 732c 2073 796d  (riskLimits, sym
-0002b200: 626f 6c73 2c20 2773 796d 626f 6c27 290a  bols, 'symbol').
-0002b210: 0a20 2020 2064 6566 2070 6172 7365 5f6d  .    def parse_m
-0002b220: 6172 6b65 745f 6c65 7665 7261 6765 5f74  arket_leverage_t
-0002b230: 6965 7273 2873 656c 662c 2069 6e66 6f2c  iers(self, info,
-0002b240: 206d 6172 6b65 743d 4e6f 6e65 293a 0a20   market=None):. 
-0002b250: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0002b260: 2020 203a 7061 7261 6d20 6469 6374 2069     :param dict i
-0002b270: 6e66 6f3a 2045 7863 6861 6e67 6520 6d61  nfo: Exchange ma
-0002b280: 726b 6574 2072 6573 706f 6e73 6520 666f  rket response fo
-0002b290: 7220 3120 6d61 726b 6574 0a20 2020 2020  r 1 market.     
-0002b2a0: 2020 203a 7061 7261 6d20 6469 6374 206d     :param dict m
-0002b2b0: 6172 6b65 743a 2043 4358 5420 6d61 726b  arket: CCXT mark
-0002b2c0: 6574 0a20 2020 2020 2020 2022 2222 0a20  et.        """. 
-0002b2d0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-0002b2e0: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
-0002b2f0: 2023 2020 2020 2020 2020 2022 7379 6d62   #         "symb
-0002b300: 6f6c 223a 2242 5443 5553 4422 2c0a 2020  ol":"BTCUSD",.  
-0002b310: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002b320: 2273 7465 7073 223a 2235 3022 2c0a 2020  "steps":"50",.  
-0002b330: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002b340: 2272 6973 6b4c 696d 6974 7322 3a5b 0a20  "riskLimits":[. 
-0002b350: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002b360: 2020 2020 207b 226c 696d 6974 223a 3130       {"limit":10
-0002b370: 302c 2269 6e69 7469 616c 4d61 7267 696e  0,"initialMargin
-0002b380: 223a 2231 2e30 2522 2c22 696e 6974 6961  ":"1.0%","initia
-0002b390: 6c4d 6172 6769 6e45 7222 3a31 3030 3030  lMarginEr":10000
-0002b3a0: 3030 2c22 6d61 696e 7465 6e61 6e63 654d  00,"maintenanceM
-0002b3b0: 6172 6769 6e22 3a22 302e 3525 222c 226d  argin":"0.5%","m
-0002b3c0: 6169 6e74 656e 616e 6365 4d61 7267 696e  aintenanceMargin
-0002b3d0: 4572 223a 3530 3030 3030 7d2c 0a20 2020  Er":500000},.   
-0002b3e0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002b3f0: 2020 207b 226c 696d 6974 223a 3135 302c     {"limit":150,
-0002b400: 2269 6e69 7469 616c 4d61 7267 696e 223a  "initialMargin":
-0002b410: 2231 2e35 2522 2c22 696e 6974 6961 6c4d  "1.5%","initialM
-0002b420: 6172 6769 6e45 7222 3a31 3530 3030 3030  arginEr":1500000
-0002b430: 2c22 6d61 696e 7465 6e61 6e63 654d 6172  ,"maintenanceMar
-0002b440: 6769 6e22 3a22 312e 3025 222c 226d 6169  gin":"1.0%","mai
-0002b450: 6e74 656e 616e 6365 4d61 7267 696e 4572  ntenanceMarginEr
-0002b460: 223a 3130 3030 3030 307d 2c0a 2020 2020  ":1000000},.    
-0002b470: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0002b480: 2020 7b22 6c69 6d69 7422 3a32 3030 2c22    {"limit":200,"
-0002b490: 696e 6974 6961 6c4d 6172 6769 6e22 3a22  initialMargin":"
-0002b4a0: 322e 3025 222c 2269 6e69 7469 616c 4d61  2.0%","initialMa
-0002b4b0: 7267 696e 4572 223a 3230 3030 3030 302c  rginEr":2000000,
-0002b4c0: 226d 6169 6e74 656e 616e 6365 4d61 7267  "maintenanceMarg
-0002b4d0: 696e 223a 2231 2e35 2522 2c22 6d61 696e  in":"1.5%","main
-0002b4e0: 7465 6e61 6e63 654d 6172 6769 6e45 7222  tenanceMarginEr"
-0002b4f0: 3a31 3530 3030 3030 7d2c 0a20 2020 2020  :1500000},.     
-0002b500: 2020 2023 2020 2020 2020 2020 205d 0a20     #         ]. 
-0002b510: 2020 2020 2020 2023 2020 2020 207d 2c0a         #     },.
-0002b520: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-0002b530: 2020 6d61 726b 6574 203d 2073 656c 662e    market = self.
-0002b540: 7361 6665 5f6d 6172 6b65 7428 4e6f 6e65  safe_market(None
-0002b550: 2c20 6d61 726b 6574 290a 2020 2020 2020  , market).      
-0002b560: 2020 7269 736b 4c69 6d69 7473 203d 2028    riskLimits = (
-0002b570: 6d61 726b 6574 5b27 696e 666f 275d 5b27  market['info']['
-0002b580: 7269 736b 4c69 6d69 7473 275d 290a 2020  riskLimits']).  
-0002b590: 2020 2020 2020 7469 6572 7320 3d20 5b5d        tiers = []
-0002b5a0: 0a20 2020 2020 2020 206d 696e 4e6f 7469  .        minNoti
-0002b5b0: 6f6e 616c 203d 2030 0a20 2020 2020 2020  onal = 0.       
-0002b5c0: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-0002b5d0: 302c 206c 656e 2872 6973 6b4c 696d 6974  0, len(riskLimit
-0002b5e0: 7329 293a 0a20 2020 2020 2020 2020 2020  s)):.           
-0002b5f0: 2074 6965 7220 3d20 7269 736b 4c69 6d69   tier = riskLimi
-0002b600: 7473 5b69 5d0a 2020 2020 2020 2020 2020  ts[i].          
-0002b610: 2020 6d61 784e 6f74 696f 6e61 6c20 3d20    maxNotional = 
-0002b620: 7365 6c66 2e73 6166 655f 696e 7465 6765  self.safe_intege
-0002b630: 7228 7469 6572 2c20 276c 696d 6974 2729  r(tier, 'limit')
-0002b640: 0a20 2020 2020 2020 2020 2020 2074 6965  .            tie
-0002b650: 7273 2e61 7070 656e 6428 7b0a 2020 2020  rs.append({.    
-0002b660: 2020 2020 2020 2020 2020 2020 2774 6965              'tie
-0002b670: 7227 3a20 7365 6c66 2e73 756d 2869 2c20  r': self.sum(i, 
-0002b680: 3129 2c0a 2020 2020 2020 2020 2020 2020  1),.            
-0002b690: 2020 2020 2763 7572 7265 6e63 7927 3a20      'currency': 
-0002b6a0: 6d61 726b 6574 5b27 7365 7474 6c65 275d  market['settle']
-0002b6b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002b6c0: 2020 276d 696e 4e6f 7469 6f6e 616c 273a    'minNotional':
-0002b6d0: 206d 696e 4e6f 7469 6f6e 616c 2c0a 2020   minNotional,.  
-0002b6e0: 2020 2020 2020 2020 2020 2020 2020 276d                'm
-0002b6f0: 6178 4e6f 7469 6f6e 616c 273a 206d 6178  axNotional': max
-0002b700: 4e6f 7469 6f6e 616c 2c0a 2020 2020 2020  Notional,.      
-0002b710: 2020 2020 2020 2020 2020 276d 6169 6e74            'maint
-0002b720: 656e 616e 6365 4d61 7267 696e 5261 7465  enanceMarginRate
-0002b730: 273a 2073 656c 662e 7361 6665 5f73 7472  ': self.safe_str
-0002b740: 696e 6728 7469 6572 2c20 276d 6169 6e74  ing(tier, 'maint
-0002b750: 656e 616e 6365 4d61 7267 696e 2729 2c0a  enanceMargin'),.
-0002b760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b770: 276d 6178 4c65 7665 7261 6765 273a 204e  'maxLeverage': N
-0002b780: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-0002b790: 2020 2020 2027 696e 666f 273a 2074 6965       'info': tie
-0002b7a0: 722c 0a20 2020 2020 2020 2020 2020 207d  r,.            }
-0002b7b0: 290a 2020 2020 2020 2020 2020 2020 6d69  ).            mi
-0002b7c0: 6e4e 6f74 696f 6e61 6c20 3d20 6d61 784e  nNotional = maxN
-0002b7d0: 6f74 696f 6e61 6c0a 2020 2020 2020 2020  otional.        
-0002b7e0: 7265 7475 726e 2074 6965 7273 0a0a 2020  return tiers..  
-0002b7f0: 2020 6465 6620 7369 676e 2873 656c 662c    def sign(self,
-0002b800: 2070 6174 682c 2061 7069 3d27 7075 626c   path, api='publ
-0002b810: 6963 272c 206d 6574 686f 643d 2747 4554  ic', method='GET
-0002b820: 272c 2070 6172 616d 733d 7b7d 2c20 6865  ', params={}, he
-0002b830: 6164 6572 733d 4e6f 6e65 2c20 626f 6479  aders=None, body
-0002b840: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
-0002b850: 7175 6572 7920 3d20 7365 6c66 2e6f 6d69  query = self.omi
-0002b860: 7428 7061 7261 6d73 2c20 7365 6c66 2e65  t(params, self.e
-0002b870: 7874 7261 6374 5f70 6172 616d 7328 7061  xtract_params(pa
-0002b880: 7468 2929 0a20 2020 2020 2020 2072 6571  th)).        req
-0002b890: 7565 7374 5061 7468 203d 2027 2f27 202b  uestPath = '/' +
-0002b8a0: 2073 656c 662e 696d 706c 6f64 655f 7061   self.implode_pa
-0002b8b0: 7261 6d73 2870 6174 682c 2070 6172 616d  rams(path, param
-0002b8c0: 7329 0a20 2020 2020 2020 2075 726c 203d  s).        url =
-0002b8d0: 2072 6571 7565 7374 5061 7468 0a20 2020   requestPath.   
-0002b8e0: 2020 2020 2071 7565 7279 5374 7269 6e67       queryString
-0002b8f0: 203d 2027 270a 2020 2020 2020 2020 6966   = ''.        if
-0002b900: 2028 6d65 7468 6f64 203d 3d20 2747 4554   (method == 'GET
-0002b910: 2729 206f 7220 286d 6574 686f 6420 3d3d  ') or (method ==
-0002b920: 2027 4445 4c45 5445 2729 206f 7220 286d   'DELETE') or (m
-0002b930: 6574 686f 6420 3d3d 2027 5055 5427 2920  ethod == 'PUT') 
-0002b940: 6f72 2028 7572 6c20 3d3d 2027 2f70 6f73  or (url == '/pos
-0002b950: 6974 696f 6e73 2f61 7373 6967 6e27 293a  itions/assign'):
-0002b960: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0002b970: 7175 6572 793a 0a20 2020 2020 2020 2020  query:.         
-0002b980: 2020 2020 2020 2071 7565 7279 5374 7269         queryStri
-0002b990: 6e67 203d 2073 656c 662e 7572 6c65 6e63  ng = self.urlenc
-0002b9a0: 6f64 655f 7769 7468 5f61 7272 6179 5f72  ode_with_array_r
-0002b9b0: 6570 6561 7428 7175 6572 7929 0a20 2020  epeat(query).   
-0002b9c0: 2020 2020 2020 2020 2020 2020 2075 726c               url
-0002b9d0: 202b 3d20 273f 2720 2b20 7175 6572 7953   += '?' + queryS
-0002b9e0: 7472 696e 670a 2020 2020 2020 2020 6966  tring.        if
-0002b9f0: 2061 7069 203d 3d20 2770 7269 7661 7465   api == 'private
-0002ba00: 273a 0a20 2020 2020 2020 2020 2020 2073  ':.            s
-0002ba10: 656c 662e 6368 6563 6b5f 7265 7175 6972  elf.check_requir
-0002ba20: 6564 5f63 7265 6465 6e74 6961 6c73 2829  ed_credentials()
-0002ba30: 0a20 2020 2020 2020 2020 2020 2074 696d  .            tim
-0002ba40: 6573 7461 6d70 203d 2073 656c 662e 7365  estamp = self.se
-0002ba50: 636f 6e64 7328 290a 2020 2020 2020 2020  conds().        
-0002ba60: 2020 2020 7850 6865 6d65 7852 6571 7565      xPhemexReque
-0002ba70: 7374 4578 7069 7279 203d 2073 656c 662e  stExpiry = self.
-0002ba80: 7361 6665 5f69 6e74 6567 6572 2873 656c  safe_integer(sel
-0002ba90: 662e 6f70 7469 6f6e 732c 2027 782d 7068  f.options, 'x-ph
-0002baa0: 656d 6578 2d72 6571 7565 7374 2d65 7870  emex-request-exp
-0002bab0: 6972 7927 2c20 3630 290a 2020 2020 2020  iry', 60).      
-0002bac0: 2020 2020 2020 6578 7069 7279 203d 2073        expiry = s
-0002bad0: 656c 662e 7375 6d28 7469 6d65 7374 616d  elf.sum(timestam
-0002bae0: 702c 2078 5068 656d 6578 5265 7175 6573  p, xPhemexReques
-0002baf0: 7445 7870 6972 7929 0a20 2020 2020 2020  tExpiry).       
-0002bb00: 2020 2020 2065 7870 6972 7953 7472 696e       expiryStrin
-0002bb10: 6720 3d20 7374 7228 6578 7069 7279 290a  g = str(expiry).
-0002bb20: 2020 2020 2020 2020 2020 2020 6865 6164              head
-0002bb30: 6572 7320 3d20 7b0a 2020 2020 2020 2020  ers = {.        
-0002bb40: 2020 2020 2020 2020 2778 2d70 6865 6d65          'x-pheme
-0002bb50: 782d 6163 6365 7373 2d74 6f6b 656e 273a  x-access-token':
-0002bb60: 2073 656c 662e 6170 694b 6579 2c0a 2020   self.apiKey,.  
-0002bb70: 2020 2020 2020 2020 2020 2020 2020 2778                'x
-0002bb80: 2d70 6865 6d65 782d 7265 7175 6573 742d  -phemex-request-
-0002bb90: 6578 7069 7279 273a 2065 7870 6972 7953  expiry': expiryS
-0002bba0: 7472 696e 672c 0a20 2020 2020 2020 2020  tring,.         
-0002bbb0: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
-0002bbc0: 2070 6179 6c6f 6164 203d 2027 270a 2020   payload = ''.  
-0002bbd0: 2020 2020 2020 2020 2020 6966 206d 6574            if met
-0002bbe0: 686f 6420 3d3d 2027 504f 5354 273a 0a20  hod == 'POST':. 
-0002bbf0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0002bc00: 6179 6c6f 6164 203d 2073 656c 662e 6a73  ayload = self.js
-0002bc10: 6f6e 2870 6172 616d 7329 0a20 2020 2020  on(params).     
-0002bc20: 2020 2020 2020 2020 2020 2062 6f64 7920             body 
-0002bc30: 3d20 7061 796c 6f61 640a 2020 2020 2020  = payload.      
-0002bc40: 2020 2020 2020 2020 2020 6865 6164 6572            header
-0002bc50: 735b 2743 6f6e 7465 6e74 2d54 7970 6527  s['Content-Type'
-0002bc60: 5d20 3d20 2761 7070 6c69 6361 7469 6f6e  ] = 'application
-0002bc70: 2f6a 736f 6e27 0a20 2020 2020 2020 2020  /json'.         
-0002bc80: 2020 2061 7574 6820 3d20 7265 7175 6573     auth = reques
-0002bc90: 7450 6174 6820 2b20 7175 6572 7953 7472  tPath + queryStr
-0002bca0: 696e 6720 2b20 6578 7069 7279 5374 7269  ing + expiryStri
-0002bcb0: 6e67 202b 2070 6179 6c6f 6164 0a20 2020  ng + payload.   
-0002bcc0: 2020 2020 2020 2020 2068 6561 6465 7273           headers
-0002bcd0: 5b27 782d 7068 656d 6578 2d72 6571 7565  ['x-phemex-reque
-0002bce0: 7374 2d73 6967 6e61 7475 7265 275d 203d  st-signature'] =
-0002bcf0: 2073 656c 662e 686d 6163 2873 656c 662e   self.hmac(self.
-0002bd00: 656e 636f 6465 2861 7574 6829 2c20 7365  encode(auth), se
-0002bd10: 6c66 2e65 6e63 6f64 6528 7365 6c66 2e73  lf.encode(self.s
-0002bd20: 6563 7265 7429 2c20 6861 7368 6c69 622e  ecret), hashlib.
-0002bd30: 7368 6132 3536 290a 2020 2020 2020 2020  sha256).        
-0002bd40: 7572 6c20 3d20 7365 6c66 2e69 6d70 6c6f  url = self.implo
-0002bd50: 6465 5f68 6f73 746e 616d 6528 7365 6c66  de_hostname(self
-0002bd60: 2e75 726c 735b 2761 7069 275d 5b61 7069  .urls['api'][api
-0002bd70: 5d29 202b 2075 726c 0a20 2020 2020 2020  ]) + url.       
-0002bd80: 2072 6574 7572 6e20 7b27 7572 6c27 3a20   return {'url': 
-0002bd90: 7572 6c2c 2027 6d65 7468 6f64 273a 206d  url, 'method': m
-0002bda0: 6574 686f 642c 2027 626f 6479 273a 2062  ethod, 'body': b
-0002bdb0: 6f64 792c 2027 6865 6164 6572 7327 3a20  ody, 'headers': 
-0002bdc0: 6865 6164 6572 737d 0a0a 2020 2020 6465  headers}..    de
-0002bdd0: 6620 7365 745f 6c65 7665 7261 6765 2873  f set_leverage(s
-0002bde0: 656c 662c 206c 6576 6572 6167 652c 2073  elf, leverage, s
-0002bdf0: 796d 626f 6c3a 204f 7074 696f 6e61 6c5b  ymbol: Optional[
-0002be00: 7374 725d 203d 204e 6f6e 652c 2070 6172  str] = None, par
-0002be10: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
-0002be20: 2022 2222 0a20 2020 2020 2020 2073 6574   """.        set
-0002be30: 2074 6865 206c 6576 656c 206f 6620 6c65   the level of le
-0002be40: 7665 7261 6765 2066 6f72 2061 206d 6172  verage for a mar
-0002be50: 6b65 740a 2020 2020 2020 2020 7365 6520  ket.        see 
-0002be60: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002be70: 6f6d 2f70 6865 6d65 782f 7068 656d 6578  om/phemex/phemex
-0002be80: 2d61 7069 2d64 6f63 732f 626c 6f62 2f6d  -api-docs/blob/m
-0002be90: 6173 7465 722f 5075 626c 6963 2d48 6564  aster/Public-Hed
-0002bea0: 6765 642d 5065 7270 6574 7561 6c2d 4150  ged-Perpetual-AP
-0002beb0: 492e 6d64 2373 6574 2d6c 6576 6572 6167  I.md#set-leverag
-0002bec0: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
-0002bed0: 2066 6c6f 6174 206c 6576 6572 6167 653a   float leverage:
-0002bee0: 2074 6865 2072 6174 6520 6f66 206c 6576   the rate of lev
-0002bef0: 6572 6167 650a 2020 2020 2020 2020 3a70  erage.        :p
-0002bf00: 6172 616d 2073 7472 2073 796d 626f 6c3a  aram str symbol:
-0002bf10: 2075 6e69 6669 6564 206d 6172 6b65 7420   unified market 
-0002bf20: 7379 6d62 6f6c 0a20 2020 2020 2020 203a  symbol.        :
-0002bf30: 7061 7261 6d20 6469 6374 2070 6172 616d  param dict param
-0002bf40: 733a 2065 7874 7261 2070 6172 616d 6574  s: extra paramet
-0002bf50: 6572 7320 7370 6563 6966 6963 2074 6f20  ers specific to 
-0002bf60: 7468 6520 7068 656d 6578 2061 7069 2065  the phemex api e
-0002bf70: 6e64 706f 696e 740a 2020 2020 2020 2020  ndpoint.        
-0002bf80: 3a72 6574 7572 6e73 2064 6963 743a 2072  :returns dict: r
-0002bf90: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
-0002bfa0: 2065 7863 6861 6e67 650a 2020 2020 2020   exchange.      
-0002bfb0: 2020 2222 220a 2020 2020 2020 2020 2320    """.        # 
-0002bfc0: 5741 524e 494e 473a 2054 4849 5320 5749  WARNING: THIS WI
-0002bfd0: 4c4c 2049 4e43 5245 4153 4520 4c49 5155  LL INCREASE LIQU
-0002bfe0: 4944 4154 494f 4e20 5052 4943 4520 464f  IDATION PRICE FO
-0002bff0: 5220 4f50 454e 2049 534f 4c41 5445 4420  R OPEN ISOLATED 
-0002c000: 4c4f 4e47 2050 4f53 4954 494f 4e53 0a20  LONG POSITIONS. 
-0002c010: 2020 2020 2020 2023 2041 4e44 2044 4543         # AND DEC
-0002c020: 5245 4153 4520 4c49 5155 4944 4154 494f  REASE LIQUIDATIO
-0002c030: 4e20 5052 4943 4520 464f 5220 4f50 454e  N PRICE FOR OPEN
-0002c040: 2049 534f 4c41 5445 4420 5348 4f52 5420   ISOLATED SHORT 
-0002c050: 504f 5349 5449 4f4e 530a 2020 2020 2020  POSITIONS.      
-0002c060: 2020 6966 2073 796d 626f 6c20 6973 204e    if symbol is N
-0002c070: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0002c080: 2072 6169 7365 2041 7267 756d 656e 7473   raise Arguments
-0002c090: 5265 7175 6972 6564 2873 656c 662e 6964  Required(self.id
-0002c0a0: 202b 2027 2073 6574 4c65 7665 7261 6765   + ' setLeverage
-0002c0b0: 2829 2072 6571 7569 7265 7320 6120 7379  () requires a sy
-0002c0c0: 6d62 6f6c 2061 7267 756d 656e 7427 290a  mbol argument').
-0002c0d0: 2020 2020 2020 2020 6966 2028 6c65 7665          if (leve
-0002c0e0: 7261 6765 203c 2031 2920 6f72 2028 6c65  rage < 1) or (le
-0002c0f0: 7665 7261 6765 203e 2031 3030 293a 0a20  verage > 100):. 
-0002c100: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0002c110: 2042 6164 5265 7175 6573 7428 7365 6c66   BadRequest(self
-0002c120: 2e69 6420 2b20 2720 7365 744c 6576 6572  .id + ' setLever
-0002c130: 6167 6528 2920 6c65 7665 7261 6765 2073  age() leverage s
-0002c140: 686f 756c 6420 6265 2062 6574 7765 656e  hould be between
-0002c150: 2031 2061 6e64 2031 3030 2729 0a20 2020   1 and 100').   
-0002c160: 2020 2020 2073 656c 662e 6c6f 6164 5f6d       self.load_m
-0002c170: 6172 6b65 7473 2829 0a20 2020 2020 2020  arkets().       
-0002c180: 206d 6172 6b65 7420 3d20 7365 6c66 2e6d   market = self.m
-0002c190: 6172 6b65 7428 7379 6d62 6f6c 290a 2020  arket(symbol).  
-0002c1a0: 2020 2020 2020 7265 7175 6573 7420 3d20        request = 
-0002c1b0: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
-0002c1c0: 796d 626f 6c27 3a20 6d61 726b 6574 5b27  ymbol': market['
-0002c1d0: 6964 275d 2c0a 2020 2020 2020 2020 7d0a  id'],.        }.
-0002c1e0: 2020 2020 2020 2020 6d65 7468 6f64 203d          method =
-0002c1f0: 2027 7072 6976 6174 6550 7574 506f 7369   'privatePutPosi
-0002c200: 7469 6f6e 734c 6576 6572 6167 6527 0a20  tionsLeverage'. 
-0002c210: 2020 2020 2020 2069 6620 6d61 726b 6574         if market
-0002c220: 5b27 7365 7474 6c65 275d 203d 3d20 2755  ['settle'] == 'U
-0002c230: 5344 5427 3a0a 2020 2020 2020 2020 2020  SDT':.          
-0002c240: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
-0002c250: 6174 6550 7574 4750 6f73 6974 696f 6e73  atePutGPositions
-0002c260: 4c65 7665 7261 6765 270a 2020 2020 2020  Leverage'.      
-0002c270: 2020 2020 2020 7265 7175 6573 745b 276c        request['l
-0002c280: 6576 6572 6167 6552 7227 5d20 3d20 6c65  everageRr'] = le
-0002c290: 7665 7261 6765 0a20 2020 2020 2020 2065  verage.        e
-0002c2a0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002c2b0: 2072 6571 7565 7374 5b27 6c65 7665 7261   request['levera
-0002c2c0: 6765 275d 203d 206c 6576 6572 6167 650a  ge'] = leverage.
-0002c2d0: 2020 2020 2020 2020 7265 7475 726e 2067          return g
-0002c2e0: 6574 6174 7472 2873 656c 662c 206d 6574  etattr(self, met
-0002c2f0: 686f 6429 2873 656c 662e 6578 7465 6e64  hod)(self.extend
-0002c300: 2872 6571 7565 7374 2c20 7061 7261 6d73  (request, params
-0002c310: 2929 0a0a 2020 2020 6465 6620 7472 616e  ))..    def tran
-0002c320: 7366 6572 2873 656c 662c 2063 6f64 653a  sfer(self, code:
-0002c330: 2073 7472 2c20 616d 6f75 6e74 2c20 6672   str, amount, fr
-0002c340: 6f6d 4163 636f 756e 742c 2074 6f41 6363  omAccount, toAcc
-0002c350: 6f75 6e74 2c20 7061 7261 6d73 3d7b 7d29  ount, params={})
-0002c360: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0002c370: 2020 2020 2020 7472 616e 7366 6572 2063        transfer c
-0002c380: 7572 7265 6e63 7920 696e 7465 726e 616c  urrency internal
-0002c390: 6c79 2062 6574 7765 656e 2077 616c 6c65  ly between walle
-0002c3a0: 7473 206f 6e20 7468 6520 7361 6d65 2061  ts on the same a
-0002c3b0: 6363 6f75 6e74 0a20 2020 2020 2020 203a  ccount.        :
-0002c3c0: 7061 7261 6d20 7374 7220 636f 6465 3a20  param str code: 
-0002c3d0: 756e 6966 6965 6420 6375 7272 656e 6379  unified currency
-0002c3e0: 2063 6f64 650a 2020 2020 2020 2020 3a70   code.        :p
-0002c3f0: 6172 616d 2066 6c6f 6174 2061 6d6f 756e  aram float amoun
-0002c400: 743a 2061 6d6f 756e 7420 746f 2074 7261  t: amount to tra
-0002c410: 6e73 6665 720a 2020 2020 2020 2020 3a70  nsfer.        :p
-0002c420: 6172 616d 2073 7472 2066 726f 6d41 6363  aram str fromAcc
-0002c430: 6f75 6e74 3a20 6163 636f 756e 7420 746f  ount: account to
-0002c440: 2074 7261 6e73 6665 7220 6672 6f6d 0a20   transfer from. 
-0002c450: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
-0002c460: 7220 746f 4163 636f 756e 743a 2061 6363  r toAccount: acc
-0002c470: 6f75 6e74 2074 6f20 7472 616e 7366 6572  ount to transfer
-0002c480: 2074 6f0a 2020 2020 2020 2020 3a70 6172   to.        :par
-0002c490: 616d 2064 6963 7420 7061 7261 6d73 3a20  am dict params: 
-0002c4a0: 6578 7472 6120 7061 7261 6d65 7465 7273  extra parameters
-0002c4b0: 2073 7065 6369 6669 6320 746f 2074 6865   specific to the
-0002c4c0: 2070 6865 6d65 7820 6170 6920 656e 6470   phemex api endp
-0002c4d0: 6f69 6e74 0a20 2020 2020 2020 203a 7061  oint.        :pa
-0002c4e0: 7261 6d20 7374 727c 4e6f 6e65 2070 6172  ram str|None par
-0002c4f0: 616d 735b 2762 697a 5479 7065 275d 3a20  ams['bizType']: 
-0002c500: 666f 7220 7472 616e 7366 6572 7269 6e67  for transferring
-0002c510: 2062 6574 7765 656e 206d 6169 6e20 616e   between main an
-0002c520: 6420 7375 622d 6163 6f75 6e74 7320 6569  d sub-acounts ei
-0002c530: 7468 6572 2027 5350 4f54 2720 6f72 2027  ther 'SPOT' or '
-0002c540: 5045 5250 4554 5541 4c27 2064 6566 6175  PERPETUAL' defau
-0002c550: 6c74 2069 7320 2753 504f 5427 0a20 2020  lt is 'SPOT'.   
-0002c560: 2020 2020 203a 7265 7475 726e 7320 6469       :returns di
-0002c570: 6374 3a20 6120 6074 7261 6e73 6665 7220  ct: a `transfer 
-0002c580: 7374 7275 6374 7572 6520 3c68 7474 7073  structure <https
-0002c590: 3a2f 2f64 6f63 732e 6363 7874 2e63 6f6d  ://docs.ccxt.com
-0002c5a0: 2f23 2f3f 6964 3d74 7261 6e73 6665 722d  /#/?id=transfer-
-0002c5b0: 7374 7275 6374 7572 653e 600a 2020 2020  structure>`.    
-0002c5c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0002c5d0: 7365 6c66 2e6c 6f61 645f 6d61 726b 6574  self.load_market
-0002c5e0: 7328 290a 2020 2020 2020 2020 6375 7272  s().        curr
-0002c5f0: 656e 6379 203d 2073 656c 662e 6375 7272  ency = self.curr
-0002c600: 656e 6379 2863 6f64 6529 0a20 2020 2020  ency(code).     
-0002c610: 2020 2061 6363 6f75 6e74 7342 7954 7970     accountsByTyp
-0002c620: 6520 3d20 7365 6c66 2e73 6166 655f 7661  e = self.safe_va
-0002c630: 6c75 6528 7365 6c66 2e6f 7074 696f 6e73  lue(self.options
-0002c640: 2c20 2761 6363 6f75 6e74 7342 7954 7970  , 'accountsByTyp
-0002c650: 6527 2c20 7b7d 290a 2020 2020 2020 2020  e', {}).        
-0002c660: 6672 6f6d 4964 203d 2073 656c 662e 7361  fromId = self.sa
-0002c670: 6665 5f73 7472 696e 6728 6163 636f 756e  fe_string(accoun
-0002c680: 7473 4279 5479 7065 2c20 6672 6f6d 4163  tsByType, fromAc
-0002c690: 636f 756e 742c 2066 726f 6d41 6363 6f75  count, fromAccou
-0002c6a0: 6e74 290a 2020 2020 2020 2020 746f 4964  nt).        toId
-0002c6b0: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
-0002c6c0: 696e 6728 6163 636f 756e 7473 4279 5479  ing(accountsByTy
-0002c6d0: 7065 2c20 746f 4163 636f 756e 742c 2074  pe, toAccount, t
-0002c6e0: 6f41 6363 6f75 6e74 290a 2020 2020 2020  oAccount).      
-0002c6f0: 2020 7363 616c 6564 416d 6d6f 756e 7420    scaledAmmount 
-0002c700: 3d20 7365 6c66 2e74 6f5f 6576 2861 6d6f  = self.to_ev(amo
-0002c710: 756e 742c 2063 7572 7265 6e63 7929 0a20  unt, currency). 
-0002c720: 2020 2020 2020 2064 6972 6563 7469 6f6e         direction
-0002c730: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-0002c740: 7472 616e 7366 6572 203d 204e 6f6e 650a  transfer = None.
-0002c750: 2020 2020 2020 2020 6966 2066 726f 6d49          if fromI
-0002c760: 6420 3d3d 2027 7370 6f74 2720 616e 6420  d == 'spot' and 
-0002c770: 746f 4964 203d 3d20 2766 7574 7572 6527  toId == 'future'
-0002c780: 3a0a 2020 2020 2020 2020 2020 2020 6469  :.            di
-0002c790: 7265 6374 696f 6e20 3d20 320a 2020 2020  rection = 2.    
-0002c7a0: 2020 2020 656c 6966 2066 726f 6d49 6420      elif fromId 
-0002c7b0: 3d3d 2027 6675 7475 7265 2720 616e 6420  == 'future' and 
-0002c7c0: 746f 4964 203d 3d20 2773 706f 7427 3a0a  toId == 'spot':.
-0002c7d0: 2020 2020 2020 2020 2020 2020 6469 7265              dire
-0002c7e0: 6374 696f 6e20 3d20 310a 2020 2020 2020  ction = 1.      
-0002c7f0: 2020 6966 2064 6972 6563 7469 6f6e 2069    if direction i
-0002c800: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-0002c810: 2020 2020 2020 2020 7265 7175 6573 7420          request 
-0002c820: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0002c830: 2020 2020 2763 7572 7265 6e63 7927 3a20      'currency': 
-0002c840: 6375 7272 656e 6379 5b27 6964 275d 2c0a  currency['id'],.
-0002c850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c860: 276d 6f76 654f 7027 3a20 6469 7265 6374  'moveOp': direct
-0002c870: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
-0002c880: 2020 2020 2027 616d 6f75 6e74 4576 273a       'amountEv':
-0002c890: 2073 6361 6c65 6441 6d6d 6f75 6e74 2c0a   scaledAmmount,.
-0002c8a0: 2020 2020 2020 2020 2020 2020 7d0a 2020              }.  
-0002c8b0: 2020 2020 2020 2020 2020 7265 7370 6f6e            respon
-0002c8c0: 7365 203d 2073 656c 662e 7072 6976 6174  se = self.privat
-0002c8d0: 6550 6f73 7441 7373 6574 7354 7261 6e73  ePostAssetsTrans
-0002c8e0: 6665 7228 7365 6c66 2e65 7874 656e 6428  fer(self.extend(
-0002c8f0: 7265 7175 6573 742c 2070 6172 616d 7329  request, params)
-0002c900: 290a 2020 2020 2020 2020 2020 2020 230a  ).            #.
-0002c910: 2020 2020 2020 2020 2020 2020 2320 2020              #   
-0002c920: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-0002c930: 2320 2020 2020 2020 2020 636f 6465 3a20  #         code: 
-0002c940: 2730 272c 0a20 2020 2020 2020 2020 2020  '0',.           
-0002c950: 2023 2020 2020 2020 2020 206d 7367 3a20   #         msg: 
-0002c960: 274f 4b27 2c0a 2020 2020 2020 2020 2020  'OK',.          
-0002c970: 2020 2320 2020 2020 2020 2020 6461 7461    #         data
-0002c980: 3a20 7b0a 2020 2020 2020 2020 2020 2020  : {.            
-0002c990: 2320 2020 2020 2020 2020 2020 2020 6c69  #             li
-0002c9a0: 6e6b 4b65 793a 2027 3835 3634 6562 6134  nkKey: '8564eba4
-0002c9b0: 2d63 3965 632d 3439 6436 2d39 6238 632d  -c9ec-49d6-9b8c-
-0002c9c0: 3265 6335 3030 3161 3066 6239 272c 0a20  2ec5001a0fb9',. 
-0002c9d0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-0002c9e0: 2020 2020 2020 2020 2075 7365 7249 643a           userId:
-0002c9f0: 2027 3430 3138 3334 3027 2c0a 2020 2020   '4018340',.    
-0002ca00: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002ca10: 2020 2020 2020 6375 7272 656e 6379 3a20        currency: 
-0002ca20: 2755 5344 272c 0a20 2020 2020 2020 2020  'USD',.         
-0002ca30: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002ca40: 2061 6d6f 756e 7445 763a 2027 3130 272c   amountEv: '10',
-0002ca50: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
-0002ca60: 2020 2020 2020 2020 2020 2073 6964 653a             side:
-0002ca70: 2027 3227 2c0a 2020 2020 2020 2020 2020   '2',.          
-0002ca80: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002ca90: 7374 6174 7573 3a20 2731 3027 0a20 2020  status: '10'.   
-0002caa0: 2020 2020 2020 2020 2023 2020 2020 2020           #      
-0002cab0: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
-0002cac0: 2023 2020 2020 207d 0a20 2020 2020 2020   #     }.       
-0002cad0: 2020 2020 2023 0a20 2020 2020 2020 2020       #.         
-0002cae0: 2020 2064 6174 6120 3d20 7365 6c66 2e73     data = self.s
-0002caf0: 6166 655f 7661 6c75 6528 7265 7370 6f6e  afe_value(respon
-0002cb00: 7365 2c20 2764 6174 6127 2c20 7b7d 290a  se, 'data', {}).
-0002cb10: 2020 2020 2020 2020 2020 2020 7472 616e              tran
-0002cb20: 7366 6572 203d 2073 656c 662e 7061 7273  sfer = self.pars
-0002cb30: 655f 7472 616e 7366 6572 2864 6174 612c  e_transfer(data,
-0002cb40: 2063 7572 7265 6e63 7929 0a20 2020 2020   currency).     
-0002cb50: 2020 2065 6c73 653a 2020 2320 7375 6220     else:  # sub 
-0002cb60: 6163 636f 756e 7420 7472 616e 7366 6572  account transfer
-0002cb70: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
-0002cb80: 7565 7374 203d 207b 0a20 2020 2020 2020  uest = {.       
-0002cb90: 2020 2020 2020 2020 2027 6672 6f6d 5573           'fromUs
-0002cba0: 6572 4964 273a 2066 726f 6d49 642c 0a20  erId': fromId,. 
-0002cbb0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0002cbc0: 746f 5573 6572 4964 273a 2074 6f49 642c  toUserId': toId,
-0002cbd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002cbe0: 2027 616d 6f75 6e74 4576 273a 2073 6361   'amountEv': sca
-0002cbf0: 6c65 6441 6d6d 6f75 6e74 2c0a 2020 2020  ledAmmount,.    
-0002cc00: 2020 2020 2020 2020 2020 2020 2763 7572              'cur
-0002cc10: 7265 6e63 7927 3a20 6375 7272 656e 6379  rency': currency
-0002cc20: 5b27 6964 275d 2c0a 2020 2020 2020 2020  ['id'],.        
-0002cc30: 2020 2020 2020 2020 2762 697a 5479 7065          'bizType
-0002cc40: 273a 2073 656c 662e 7361 6665 5f73 7472  ': self.safe_str
-0002cc50: 696e 6728 7061 7261 6d73 2c20 2762 697a  ing(params, 'biz
-0002cc60: 5479 7065 272c 2027 5350 4f54 2729 2c0a  Type', 'SPOT'),.
-0002cc70: 2020 2020 2020 2020 2020 2020 7d0a 2020              }.  
-0002cc80: 2020 2020 2020 2020 2020 7265 7370 6f6e            respon
-0002cc90: 7365 203d 2073 656c 662e 7072 6976 6174  se = self.privat
-0002cca0: 6550 6f73 7441 7373 6574 7355 6e69 7665  ePostAssetsUnive
-0002ccb0: 7273 616c 5472 616e 7366 6572 2873 656c  rsalTransfer(sel
-0002ccc0: 662e 6578 7465 6e64 2872 6571 7565 7374  f.extend(request
-0002ccd0: 2c20 7061 7261 6d73 2929 0a20 2020 2020  , params)).     
-0002cce0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-0002ccf0: 2020 2020 2023 2020 2020 207b 0a20 2020       #     {.   
-0002cd00: 2020 2020 2020 2020 2023 2020 2020 2020           #      
-0002cd10: 2020 2063 6f64 653a 2027 3027 2c0a 2020     code: '0',.  
-0002cd20: 2020 2020 2020 2020 2020 2320 2020 2020            #     
-0002cd30: 2020 2020 6d73 673a 2027 4f4b 272c 0a20      msg: 'OK',. 
-0002cd40: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-0002cd50: 2020 2020 2064 6174 613a 2027 4150 492d       data: 'API-
-0002cd60: 3932 3364 6238 3236 2d61 6161 612d 6161  923db826-aaaa-aa
-0002cd70: 6161 2d61 6161 612d 3464 3938 6333 6137  aa-aaaa-4d98c3a7
-0002cd80: 6339 6664 270a 2020 2020 2020 2020 2020  c9fd'.          
-0002cd90: 2020 2320 2020 2020 7d0a 2020 2020 2020    #     }.      
-0002cda0: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-0002cdb0: 2020 2020 7472 616e 7366 6572 203d 2073      transfer = s
-0002cdc0: 656c 662e 7061 7273 655f 7472 616e 7366  elf.parse_transf
-0002cdd0: 6572 2872 6573 706f 6e73 6529 0a20 2020  er(response).   
-0002cde0: 2020 2020 2074 7261 6e73 6665 724f 7074       transferOpt
-0002cdf0: 696f 6e73 203d 2073 656c 662e 7361 6665  ions = self.safe
-0002ce00: 5f76 616c 7565 2873 656c 662e 6f70 7469  _value(self.opti
-0002ce10: 6f6e 732c 2027 7472 616e 7366 6572 272c  ons, 'transfer',
-0002ce20: 207b 7d29 0a20 2020 2020 2020 2066 696c   {}).        fil
-0002ce30: 6c52 6573 706f 6e73 6546 726f 6d52 6571  lResponseFromReq
-0002ce40: 7565 7374 203d 2073 656c 662e 7361 6665  uest = self.safe
-0002ce50: 5f76 616c 7565 2874 7261 6e73 6665 724f  _value(transferO
-0002ce60: 7074 696f 6e73 2c20 2766 696c 6c52 6573  ptions, 'fillRes
-0002ce70: 706f 6e73 6546 726f 6d52 6571 7565 7374  ponseFromRequest
-0002ce80: 272c 2054 7275 6529 0a20 2020 2020 2020  ', True).       
-0002ce90: 2069 6620 6669 6c6c 5265 7370 6f6e 7365   if fillResponse
-0002cea0: 4672 6f6d 5265 7175 6573 743a 0a20 2020  FromRequest:.   
-0002ceb0: 2020 2020 2020 2020 2069 6620 7472 616e           if tran
-0002cec0: 7366 6572 5b27 6672 6f6d 4163 636f 756e  sfer['fromAccoun
-0002ced0: 7427 5d20 6973 204e 6f6e 653a 0a20 2020  t'] is None:.   
-0002cee0: 2020 2020 2020 2020 2020 2020 2074 7261               tra
-0002cef0: 6e73 6665 725b 2766 726f 6d41 6363 6f75  nsfer['fromAccou
-0002cf00: 6e74 275d 203d 2066 726f 6d41 6363 6f75  nt'] = fromAccou
-0002cf10: 6e74 0a20 2020 2020 2020 2020 2020 2069  nt.            i
-0002cf20: 6620 7472 616e 7366 6572 5b27 746f 4163  f transfer['toAc
-0002cf30: 636f 756e 7427 5d20 6973 204e 6f6e 653a  count'] is None:
-0002cf40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002cf50: 2074 7261 6e73 6665 725b 2774 6f41 6363   transfer['toAcc
-0002cf60: 6f75 6e74 275d 203d 2074 6f41 6363 6f75  ount'] = toAccou
-0002cf70: 6e74 0a20 2020 2020 2020 2020 2020 2069  nt.            i
-0002cf80: 6620 7472 616e 7366 6572 5b27 616d 6f75  f transfer['amou
-0002cf90: 6e74 275d 2069 7320 4e6f 6e65 3a0a 2020  nt'] is None:.  
-0002cfa0: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-0002cfb0: 616e 7366 6572 5b27 616d 6f75 6e74 275d  ansfer['amount']
-0002cfc0: 203d 2061 6d6f 756e 740a 2020 2020 2020   = amount.      
-0002cfd0: 2020 2020 2020 6966 2074 7261 6e73 6665        if transfe
-0002cfe0: 725b 2763 7572 7265 6e63 7927 5d20 6973  r['currency'] is
-0002cff0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-0002d000: 2020 2020 2020 2074 7261 6e73 6665 725b         transfer[
-0002d010: 2763 7572 7265 6e63 7927 5d20 3d20 636f  'currency'] = co
-0002d020: 6465 0a20 2020 2020 2020 2072 6574 7572  de.        retur
-0002d030: 6e20 7472 616e 7366 6572 0a0a 2020 2020  n transfer..    
-0002d040: 6465 6620 6665 7463 685f 7472 616e 7366  def fetch_transf
-0002d050: 6572 7328 7365 6c66 2c20 636f 6465 3a20  ers(self, code: 
-0002d060: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
-0002d070: 4e6f 6e65 2c20 7369 6e63 653a 204f 7074  None, since: Opt
-0002d080: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
-0002d090: 652c 206c 696d 6974 3a20 4f70 7469 6f6e  e, limit: Option
-0002d0a0: 616c 5b69 6e74 5d20 3d20 4e6f 6e65 2c20  al[int] = None, 
-0002d0b0: 7061 7261 6d73 3d7b 7d29 3a0a 2020 2020  params={}):.    
-0002d0c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0002d0d0: 6665 7463 6820 6120 6869 7374 6f72 7920  fetch a history 
-0002d0e0: 6f66 2069 6e74 6572 6e61 6c20 7472 616e  of internal tran
-0002d0f0: 7366 6572 7320 6d61 6465 206f 6e20 616e  sfers made on an
-0002d100: 2061 6363 6f75 6e74 0a20 2020 2020 2020   account.       
-0002d110: 203a 7061 7261 6d20 7374 727c 4e6f 6e65   :param str|None
-0002d120: 2063 6f64 653a 2075 6e69 6669 6564 2063   code: unified c
-0002d130: 7572 7265 6e63 7920 636f 6465 206f 6620  urrency code of 
-0002d140: 7468 6520 6375 7272 656e 6379 2074 7261  the currency tra
-0002d150: 6e73 6665 7272 6564 0a20 2020 2020 2020  nsferred.       
-0002d160: 203a 7061 7261 6d20 696e 747c 4e6f 6e65   :param int|None
-0002d170: 2073 696e 6365 3a20 7468 6520 6561 726c   since: the earl
-0002d180: 6965 7374 2074 696d 6520 696e 206d 7320  iest time in ms 
-0002d190: 746f 2066 6574 6368 2074 7261 6e73 6665  to fetch transfe
-0002d1a0: 7273 2066 6f72 0a20 2020 2020 2020 203a  rs for.        :
-0002d1b0: 7061 7261 6d20 696e 747c 4e6f 6e65 206c  param int|None l
-0002d1c0: 696d 6974 3a20 7468 6520 6d61 7869 6d75  imit: the maximu
-0002d1d0: 6d20 6e75 6d62 6572 206f 6620 2074 7261  m number of  tra
-0002d1e0: 6e73 6665 7273 2073 7472 7563 7475 7265  nsfers structure
-0002d1f0: 7320 746f 2072 6574 7269 6576 650a 2020  s to retrieve.  
-0002d200: 2020 2020 2020 3a70 6172 616d 2064 6963        :param dic
-0002d210: 7420 7061 7261 6d73 3a20 6578 7472 6120  t params: extra 
-0002d220: 7061 7261 6d65 7465 7273 2073 7065 6369  parameters speci
-0002d230: 6669 6320 746f 2074 6865 2070 6865 6d65  fic to the pheme
-0002d240: 7820 6170 6920 656e 6470 6f69 6e74 0a20  x api endpoint. 
-0002d250: 2020 2020 2020 203a 7265 7475 726e 7320         :returns 
-0002d260: 5b64 6963 745d 3a20 6120 6c69 7374 206f  [dict]: a list o
-0002d270: 6620 6074 7261 6e73 6665 7220 7374 7275  f `transfer stru
-0002d280: 6374 7572 6573 203c 6874 7470 733a 2f2f  ctures <https://
-0002d290: 646f 6373 2e63 6378 742e 636f 6d2f 232f  docs.ccxt.com/#/
-0002d2a0: 3f69 643d 7472 616e 7366 6572 2d73 7472  ?id=transfer-str
-0002d2b0: 7563 7475 7265 3e60 0a20 2020 2020 2020  ucture>`.       
-0002d2c0: 2022 2222 0a20 2020 2020 2020 2073 656c   """.        sel
-0002d2d0: 662e 6c6f 6164 5f6d 6172 6b65 7473 2829  f.load_markets()
-0002d2e0: 0a20 2020 2020 2020 2069 6620 636f 6465  .        if code
-0002d2f0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-0002d300: 2020 2020 2020 7261 6973 6520 4172 6775        raise Argu
-0002d310: 6d65 6e74 7352 6571 7569 7265 6428 7365  mentsRequired(se
-0002d320: 6c66 2e69 6420 2b20 2720 6665 7463 6854  lf.id + ' fetchT
-0002d330: 7261 6e73 6665 7273 2829 2072 6571 7569  ransfers() requi
-0002d340: 7265 7320 6120 636f 6465 2061 7267 756d  res a code argum
-0002d350: 656e 7427 290a 2020 2020 2020 2020 6375  ent').        cu
-0002d360: 7272 656e 6379 203d 2073 656c 662e 6375  rrency = self.cu
-0002d370: 7272 656e 6379 2863 6f64 6529 0a20 2020  rrency(code).   
-0002d380: 2020 2020 2072 6571 7565 7374 203d 207b       request = {
-0002d390: 0a20 2020 2020 2020 2020 2020 2027 6375  .            'cu
-0002d3a0: 7272 656e 6379 273a 2063 7572 7265 6e63  rrency': currenc
-0002d3b0: 795b 2769 6427 5d2c 0a20 2020 2020 2020  y['id'],.       
-0002d3c0: 207d 0a20 2020 2020 2020 2069 6620 7369   }.        if si
-0002d3d0: 6e63 6520 6973 206e 6f74 204e 6f6e 653a  nce is not None:
-0002d3e0: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
-0002d3f0: 7565 7374 5b27 7374 6172 7427 5d20 3d20  uest['start'] = 
-0002d400: 7369 6e63 650a 2020 2020 2020 2020 6966  since.        if
-0002d410: 206c 696d 6974 2069 7320 6e6f 7420 4e6f   limit is not No
-0002d420: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0002d430: 7265 7175 6573 745b 276c 696d 6974 275d  request['limit']
-0002d440: 203d 206c 696d 6974 0a20 2020 2020 2020   = limit.       
-0002d450: 2072 6573 706f 6e73 6520 3d20 7365 6c66   response = self
-0002d460: 2e70 7269 7661 7465 4765 7441 7373 6574  .privateGetAsset
-0002d470: 7354 7261 6e73 6665 7228 7365 6c66 2e65  sTransfer(self.e
-0002d480: 7874 656e 6428 7265 7175 6573 742c 2070  xtend(request, p
-0002d490: 6172 616d 7329 290a 2020 2020 2020 2020  arams)).        
-0002d4a0: 230a 2020 2020 2020 2020 2320 2020 2020  #.        #     
-0002d4b0: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
-0002d4c0: 2020 2020 2263 6f64 6522 3a20 302c 0a20      "code": 0,. 
-0002d4d0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002d4e0: 2022 6d73 6722 3a20 224f 4b22 2c0a 2020   "msg": "OK",.  
-0002d4f0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002d500: 2264 6174 6122 3a20 7b0a 2020 2020 2020  "data": {.      
-0002d510: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002d520: 2272 6f77 7322 3a20 5b0a 2020 2020 2020  "rows": [.      
-0002d530: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002d540: 2020 2020 7b0a 2020 2020 2020 2020 2320      {.        # 
-0002d550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d560: 2020 2020 226c 696e 6b4b 6579 223a 2022      "linkKey": "
-0002d570: 3837 6330 3731 6133 2d38 3632 382d 3461  87c071a3-8628-4a
-0002d580: 6332 2d61 6361 312d 3663 6530 6431 6661  c2-aca1-6ce0d1fa
-0002d590: 6436 3663 222c 0a20 2020 2020 2020 2023  d66c",.        #
-0002d5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d5b0: 2020 2020 2022 7573 6572 4964 223a 2034       "userId": 4
-0002d5c0: 3134 3834 3238 2c0a 2020 2020 2020 2020  148428,.        
-0002d5d0: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-0002d5e0: 2020 2020 2020 2263 7572 7265 6e63 7922        "currency"
-0002d5f0: 3a20 2242 5443 222c 0a20 2020 2020 2020  : "BTC",.       
-0002d600: 2023 2020 2020 2020 2020 2020 2020 2020   #              
-0002d610: 2020 2020 2020 2022 616d 6f75 6e74 4576         "amountEv
-0002d620: 223a 2036 3739 3332 2c0a 2020 2020 2020  ": 67932,.      
-0002d630: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002d640: 2020 2020 2020 2020 2273 6964 6522 3a20          "side": 
-0002d650: 322c 0a20 2020 2020 2020 2023 2020 2020  2,.        #    
-0002d660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d670: 2022 7374 6174 7573 223a 2031 302c 0a20   "status": 10,. 
-0002d680: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002d690: 2020 2020 2020 2020 2020 2020 2022 6372               "cr
-0002d6a0: 6561 7465 5469 6d65 223a 2031 3635 3238  eateTime": 16528
-0002d6b0: 3332 3436 3730 3030 2c0a 2020 2020 2020  32467000,.      
-0002d6c0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0002d6d0: 2020 2020 2020 2020 2262 697a 5479 7065          "bizType
-0002d6e0: 223a 2031 300a 2020 2020 2020 2020 2320  ": 10.        # 
-0002d6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d700: 7d0a 2020 2020 2020 2020 2320 2020 2020  }.        #     
-0002d710: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
-0002d720: 2020 2320 2020 2020 2020 2020 7d0a 2020    #         }.  
-0002d730: 2020 2020 2020 2320 2020 2020 7d0a 2020        #     }.  
-0002d740: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-0002d750: 6461 7461 203d 2073 656c 662e 7361 6665  data = self.safe
-0002d760: 5f76 616c 7565 2872 6573 706f 6e73 652c  _value(response,
-0002d770: 2027 6461 7461 272c 207b 7d29 0a20 2020   'data', {}).   
-0002d780: 2020 2020 2074 7261 6e73 6665 7273 203d       transfers =
-0002d790: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
-0002d7a0: 2864 6174 612c 2027 726f 7773 272c 205b  (data, 'rows', [
-0002d7b0: 5d29 0a20 2020 2020 2020 2072 6574 7572  ]).        retur
-0002d7c0: 6e20 7365 6c66 2e70 6172 7365 5f74 7261  n self.parse_tra
-0002d7d0: 6e73 6665 7273 2874 7261 6e73 6665 7273  nsfers(transfers
-0002d7e0: 2c20 6375 7272 656e 6379 2c20 7369 6e63  , currency, sinc
-0002d7f0: 652c 206c 696d 6974 290a 0a20 2020 2064  e, limit)..    d
-0002d800: 6566 2070 6172 7365 5f74 7261 6e73 6665  ef parse_transfe
-0002d810: 7228 7365 6c66 2c20 7472 616e 7366 6572  r(self, transfer
-0002d820: 2c20 6375 7272 656e 6379 3d4e 6f6e 6529  , currency=None)
-0002d830: 3a0a 2020 2020 2020 2020 230a 2020 2020  :.        #.    
-0002d840: 2020 2020 2320 7472 616e 7366 6572 0a20      # transfer. 
-0002d850: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-0002d860: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
-0002d870: 2023 2020 2020 2020 2020 206c 696e 6b4b   #         linkK
-0002d880: 6579 3a20 2738 3536 3465 6261 342d 6339  ey: '8564eba4-c9
-0002d890: 6563 2d34 3964 362d 3962 3863 2d32 6563  ec-49d6-9b8c-2ec
-0002d8a0: 3530 3031 6130 6662 3927 2c0a 2020 2020  5001a0fb9',.    
-0002d8b0: 2020 2020 2320 2020 2020 2020 2020 7573      #         us
-0002d8c0: 6572 4964 3a20 2734 3031 3833 3430 272c  erId: '4018340',
-0002d8d0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-0002d8e0: 2020 2063 7572 7265 6e63 793a 2027 5553     currency: 'US
-0002d8f0: 4427 2c0a 2020 2020 2020 2020 2320 2020  D',.        #   
-0002d900: 2020 2020 2020 616d 6f75 6e74 4576 3a20        amountEv: 
-0002d910: 2731 3027 2c0a 2020 2020 2020 2020 2320  '10',.        # 
-0002d920: 2020 2020 2020 2020 7369 6465 3a20 2732          side: '2
-0002d930: 272c 0a20 2020 2020 2020 2023 2020 2020  ',.        #    
-0002d940: 2020 2020 2073 7461 7475 733a 2027 3130       status: '10
-0002d950: 270a 2020 2020 2020 2020 2320 2020 2020  '.        #     
-0002d960: 7d0a 2020 2020 2020 2020 230a 2020 2020  }.        #.    
-0002d970: 2020 2020 2320 6665 7463 6854 7261 6e73      # fetchTrans
-0002d980: 6665 7273 0a20 2020 2020 2020 2023 0a20  fers.        #. 
-0002d990: 2020 2020 2020 2023 2020 2020 207b 0a20         #     {. 
-0002d9a0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002d9b0: 2022 6c69 6e6b 4b65 7922 3a20 2238 3763   "linkKey": "87c
-0002d9c0: 3037 3161 332d 3836 3238 2d34 6163 322d  071a3-8628-4ac2-
-0002d9d0: 6163 6131 2d36 6365 3064 3166 6164 3636  aca1-6ce0d1fad66
-0002d9e0: 6322 2c0a 2020 2020 2020 2020 2320 2020  c",.        #   
-0002d9f0: 2020 2020 2020 2275 7365 7249 6422 3a20        "userId": 
-0002da00: 3431 3438 3432 382c 0a20 2020 2020 2020  4148428,.       
-0002da10: 2023 2020 2020 2020 2020 2022 6375 7272   #         "curr
-0002da20: 656e 6379 223a 2022 4254 4322 2c0a 2020  ency": "BTC",.  
-0002da30: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002da40: 2261 6d6f 756e 7445 7622 3a20 3637 3933  "amountEv": 6793
-0002da50: 322c 0a20 2020 2020 2020 2023 2020 2020  2,.        #    
-0002da60: 2020 2020 2022 7369 6465 223a 2032 2c0a       "side": 2,.
-0002da70: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002da80: 2020 2273 7461 7475 7322 3a20 3130 2c0a    "status": 10,.
-0002da90: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002daa0: 2020 2263 7265 6174 6554 696d 6522 3a20    "createTime": 
-0002dab0: 3136 3532 3833 3234 3637 3030 302c 0a20  1652832467000,. 
-0002dac0: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002dad0: 2022 6269 7a54 7970 6522 3a20 3130 0a20   "bizType": 10. 
-0002dae0: 2020 2020 2020 2023 2020 2020 207d 0a20         #     }. 
-0002daf0: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
-0002db00: 2069 6420 3d20 7365 6c66 2e73 6166 655f   id = self.safe_
-0002db10: 7374 7269 6e67 2874 7261 6e73 6665 722c  string(transfer,
-0002db20: 2027 6c69 6e6b 4b65 7927 290a 2020 2020   'linkKey').    
-0002db30: 2020 2020 7374 6174 7573 203d 2073 656c      status = sel
-0002db40: 662e 7361 6665 5f73 7472 696e 6728 7472  f.safe_string(tr
-0002db50: 616e 7366 6572 2c20 2773 7461 7475 7327  ansfer, 'status'
-0002db60: 290a 2020 2020 2020 2020 616d 6f75 6e74  ).        amount
-0002db70: 4576 203d 2073 656c 662e 7361 6665 5f73  Ev = self.safe_s
-0002db80: 7472 696e 6728 7472 616e 7366 6572 2c20  tring(transfer, 
-0002db90: 2761 6d6f 756e 7445 7627 290a 2020 2020  'amountEv').    
-0002dba0: 2020 2020 616d 6f75 6e74 5472 616e 7366      amountTransf
-0002dbb0: 6572 6564 203d 2073 656c 662e 6672 6f6d  ered = self.from
-0002dbc0: 5f65 7628 616d 6f75 6e74 4576 2c20 6375  _ev(amountEv, cu
-0002dbd0: 7272 656e 6379 290a 2020 2020 2020 2020  rrency).        
-0002dbe0: 6375 7272 656e 6379 4964 203d 2073 656c  currencyId = sel
-0002dbf0: 662e 7361 6665 5f73 7472 696e 6728 7472  f.safe_string(tr
-0002dc00: 616e 7366 6572 2c20 2763 7572 7265 6e63  ansfer, 'currenc
-0002dc10: 7927 290a 2020 2020 2020 2020 636f 6465  y').        code
-0002dc20: 203d 2073 656c 662e 7361 6665 5f63 7572   = self.safe_cur
-0002dc30: 7265 6e63 795f 636f 6465 2863 7572 7265  rency_code(curre
-0002dc40: 6e63 7949 642c 2063 7572 7265 6e63 7929  ncyId, currency)
-0002dc50: 0a20 2020 2020 2020 2073 6964 6520 3d20  .        side = 
-0002dc60: 7365 6c66 2e73 6166 655f 696e 7465 6765  self.safe_intege
-0002dc70: 7228 7472 616e 7366 6572 2c20 2773 6964  r(transfer, 'sid
-0002dc80: 6527 290a 2020 2020 2020 2020 6672 6f6d  e').        from
-0002dc90: 4964 203d 204e 6f6e 650a 2020 2020 2020  Id = None.      
-0002dca0: 2020 746f 4964 203d 204e 6f6e 650a 2020    toId = None.  
-0002dcb0: 2020 2020 2020 6966 2073 6964 6520 3d3d        if side ==
-0002dcc0: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-0002dcd0: 6672 6f6d 4964 203d 2027 7377 6170 270a  fromId = 'swap'.
-0002dce0: 2020 2020 2020 2020 2020 2020 746f 4964              toId
-0002dcf0: 203d 2027 7370 6f74 270a 2020 2020 2020   = 'spot'.      
-0002dd00: 2020 656c 6966 2073 6964 6520 3d3d 2032    elif side == 2
-0002dd10: 3a0a 2020 2020 2020 2020 2020 2020 6672  :.            fr
-0002dd20: 6f6d 4964 203d 2027 7370 6f74 270a 2020  omId = 'spot'.  
-0002dd30: 2020 2020 2020 2020 2020 746f 4964 203d            toId =
-0002dd40: 2027 7377 6170 270a 2020 2020 2020 2020   'swap'.        
-0002dd50: 7469 6d65 7374 616d 7020 3d20 7365 6c66  timestamp = self
-0002dd60: 2e73 6166 655f 696e 7465 6765 7228 7472  .safe_integer(tr
-0002dd70: 616e 7366 6572 2c20 2763 7265 6174 6554  ansfer, 'createT
-0002dd80: 696d 6527 290a 2020 2020 2020 2020 7265  ime').        re
-0002dd90: 7475 726e 207b 0a20 2020 2020 2020 2020  turn {.         
-0002dda0: 2020 2027 696e 666f 273a 2074 7261 6e73     'info': trans
-0002ddb0: 6665 722c 0a20 2020 2020 2020 2020 2020  fer,.           
-0002ddc0: 2027 6964 273a 2069 642c 0a20 2020 2020   'id': id,.     
-0002ddd0: 2020 2020 2020 2027 7469 6d65 7374 616d         'timestam
-0002dde0: 7027 3a20 7469 6d65 7374 616d 702c 0a20  p': timestamp,. 
-0002ddf0: 2020 2020 2020 2020 2020 2027 6461 7465             'date
-0002de00: 7469 6d65 273a 2073 656c 662e 6973 6f38  time': self.iso8
-0002de10: 3630 3128 7469 6d65 7374 616d 7029 2c0a  601(timestamp),.
-0002de20: 2020 2020 2020 2020 2020 2020 2763 7572              'cur
-0002de30: 7265 6e63 7927 3a20 636f 6465 2c0a 2020  rency': code,.  
-0002de40: 2020 2020 2020 2020 2020 2761 6d6f 756e            'amoun
-0002de50: 7427 3a20 616d 6f75 6e74 5472 616e 7366  t': amountTransf
-0002de60: 6572 6564 2c0a 2020 2020 2020 2020 2020  ered,.          
-0002de70: 2020 2766 726f 6d41 6363 6f75 6e74 273a    'fromAccount':
-0002de80: 2066 726f 6d49 642c 0a20 2020 2020 2020   fromId,.       
-0002de90: 2020 2020 2027 746f 4163 636f 756e 7427       'toAccount'
-0002dea0: 3a20 746f 4964 2c0a 2020 2020 2020 2020  : toId,.        
-0002deb0: 2020 2020 2773 7461 7475 7327 3a20 7365      'status': se
-0002dec0: 6c66 2e70 6172 7365 5f74 7261 6e73 6665  lf.parse_transfe
-0002ded0: 725f 7374 6174 7573 2873 7461 7475 7329  r_status(status)
-0002dee0: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
-0002def0: 2064 6566 2070 6172 7365 5f74 7261 6e73   def parse_trans
-0002df00: 6665 725f 7374 6174 7573 2873 656c 662c  fer_status(self,
-0002df10: 2073 7461 7475 7329 3a0a 2020 2020 2020   status):.      
-0002df20: 2020 7374 6174 7573 6573 203d 207b 0a20    statuses = {. 
-0002df30: 2020 2020 2020 2020 2020 2027 3327 3a20             '3': 
-0002df40: 2772 656a 6563 7465 6427 2c20 2023 2027  'rejected',  # '
-0002df50: 5265 6a65 6374 6564 272c 0a20 2020 2020  Rejected',.     
-0002df60: 2020 2020 2020 2027 3627 3a20 2763 616e         '6': 'can
-0002df70: 6365 6c65 6427 2c20 2023 2027 476f 7420  celed',  # 'Got 
-0002df80: 6572 726f 7220 616e 6420 7761 6974 2066  error and wait f
-0002df90: 6f72 2072 6563 6f76 6572 7927 2c0a 2020  or recovery',.  
-0002dfa0: 2020 2020 2020 2020 2020 2731 3027 3a20            '10': 
-0002dfb0: 276f 6b27 2c20 2023 2027 5375 6363 6573  'ok',  # 'Succes
-0002dfc0: 7327 2c0a 2020 2020 2020 2020 2020 2020  s',.            
-0002dfd0: 2731 3127 3a20 2766 6169 6c65 6427 2c20  '11': 'failed', 
-0002dfe0: 2023 2027 4661 696c 6564 272c 0a20 2020   # 'Failed',.   
-0002dff0: 2020 2020 207d 0a20 2020 2020 2020 2072       }.        r
-0002e000: 6574 7572 6e20 7365 6c66 2e73 6166 655f  eturn self.safe_
-0002e010: 7374 7269 6e67 2873 7461 7475 7365 732c  string(statuses,
-0002e020: 2073 7461 7475 732c 2073 7461 7475 7329   status, status)
-0002e030: 0a0a 2020 2020 6465 6620 6665 7463 685f  ..    def fetch_
-0002e040: 6675 6e64 696e 675f 7261 7465 5f68 6973  funding_rate_his
-0002e050: 746f 7279 2873 656c 662c 2073 796d 626f  tory(self, symbo
-0002e060: 6c3a 204f 7074 696f 6e61 6c5b 7374 725d  l: Optional[str]
-0002e070: 203d 204e 6f6e 652c 2073 696e 6365 3a20   = None, since: 
-0002e080: 4f70 7469 6f6e 616c 5b69 6e74 5d20 3d20  Optional[int] = 
-0002e090: 4e6f 6e65 2c20 6c69 6d69 743a 204f 7074  None, limit: Opt
-0002e0a0: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
-0002e0b0: 652c 2070 6172 616d 733d 7b7d 293a 0a20  e, params={}):. 
-0002e0c0: 2020 2020 2020 2073 656c 662e 6368 6563         self.chec
-0002e0d0: 6b5f 7265 7175 6972 6564 5f73 796d 626f  k_required_symbo
-0002e0e0: 6c28 2766 6574 6368 4675 6e64 696e 6752  l('fetchFundingR
-0002e0f0: 6174 6548 6973 746f 7279 272c 2073 796d  ateHistory', sym
-0002e100: 626f 6c29 0a20 2020 2020 2020 2073 656c  bol).        sel
-0002e110: 662e 6c6f 6164 5f6d 6172 6b65 7473 2829  f.load_markets()
-0002e120: 0a20 2020 2020 2020 206d 6172 6b65 7420  .        market 
-0002e130: 3d20 7365 6c66 2e6d 6172 6b65 7428 7379  = self.market(sy
-0002e140: 6d62 6f6c 290a 2020 2020 2020 2020 6973  mbol).        is
-0002e150: 5573 6474 5365 7474 6c65 6420 3d20 6d61  UsdtSettled = ma
-0002e160: 726b 6574 5b27 7365 7474 6c65 275d 203d  rket['settle'] =
-0002e170: 3d20 2755 5344 5427 0a20 2020 2020 2020  = 'USDT'.       
-0002e180: 2069 6620 6e6f 7420 6d61 726b 6574 5b27   if not market['
-0002e190: 7377 6170 275d 3a0a 2020 2020 2020 2020  swap']:.        
-0002e1a0: 2020 2020 7261 6973 6520 4261 6452 6571      raise BadReq
-0002e1b0: 7565 7374 2873 656c 662e 6964 202b 2027  uest(self.id + '
-0002e1c0: 2066 6574 6368 4675 6e64 696e 6752 6174   fetchFundingRat
-0002e1d0: 6548 6973 746f 7279 2829 2073 7570 706f  eHistory() suppo
-0002e1e0: 7274 7320 7377 6170 2063 6f6e 7472 6163  rts swap contrac
-0002e1f0: 7473 206f 6e6c 7927 290a 2020 2020 2020  ts only').      
-0002e200: 2020 6375 7374 6f6d 5379 6d62 6f6c 203d    customSymbol =
-0002e210: 204e 6f6e 650a 2020 2020 2020 2020 6966   None.        if
-0002e220: 2069 7355 7364 7453 6574 746c 6564 3a0a   isUsdtSettled:.
-0002e230: 2020 2020 2020 2020 2020 2020 6375 7374              cust
-0002e240: 6f6d 5379 6d62 6f6c 203d 2027 2e27 202b  omSymbol = '.' +
-0002e250: 206d 6172 6b65 745b 2769 6427 5d20 2b20   market['id'] + 
-0002e260: 2746 5238 4827 2020 2320 7068 656d 6578  'FR8H'  # phemex
-0002e270: 2072 6571 7569 7265 7320 6120 6375 7374   requires a cust
-0002e280: 6f6d 2073 796d 626f 6c20 666f 7220 6675  om symbol for fu
-0002e290: 6e64 696e 6720 7261 7465 2068 6973 746f  nding rate histo
-0002e2a0: 7279 0a20 2020 2020 2020 2065 6c73 653a  ry.        else:
-0002e2b0: 0a20 2020 2020 2020 2020 2020 2063 7573  .            cus
-0002e2c0: 746f 6d53 796d 626f 6c20 3d20 272e 2720  tomSymbol = '.' 
-0002e2d0: 2b20 6d61 726b 6574 5b27 6261 7365 4964  + market['baseId
-0002e2e0: 275d 202b 2027 4652 3848 270a 2020 2020  '] + 'FR8H'.    
-0002e2f0: 2020 2020 7265 7175 6573 7420 3d20 7b0a      request = {.
-0002e300: 2020 2020 2020 2020 2020 2020 2773 796d              'sym
-0002e310: 626f 6c27 3a20 6375 7374 6f6d 5379 6d62  bol': customSymb
-0002e320: 6f6c 2c0a 2020 2020 2020 2020 7d0a 2020  ol,.        }.  
-0002e330: 2020 2020 2020 6966 2073 696e 6365 2069        if since i
-0002e340: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-0002e350: 2020 2020 2020 2020 7265 7175 6573 745b          request[
-0002e360: 2773 7461 7274 275d 203d 2073 696e 6365  'start'] = since
-0002e370: 0a20 2020 2020 2020 2069 6620 6c69 6d69  .        if limi
-0002e380: 7420 6973 206e 6f74 204e 6f6e 653a 0a20  t is not None:. 
-0002e390: 2020 2020 2020 2020 2020 2072 6571 7565             reque
-0002e3a0: 7374 5b27 6c69 6d69 7427 5d20 3d20 6c69  st['limit'] = li
-0002e3b0: 6d69 740a 2020 2020 2020 2020 7265 7370  mit.        resp
-0002e3c0: 6f6e 7365 203d 204e 6f6e 650a 2020 2020  onse = None.    
-0002e3d0: 2020 2020 6966 2069 7355 7364 7453 6574      if isUsdtSet
-0002e3e0: 746c 6564 3a0a 2020 2020 2020 2020 2020  tled:.          
-0002e3f0: 2020 7265 7370 6f6e 7365 203d 2073 656c    response = sel
-0002e400: 662e 7632 4765 7441 7069 4461 7461 5075  f.v2GetApiDataPu
-0002e410: 626c 6963 4461 7461 4675 6e64 696e 6752  blicDataFundingR
-0002e420: 6174 6548 6973 746f 7279 2873 656c 662e  ateHistory(self.
-0002e430: 6578 7465 6e64 2872 6571 7565 7374 2c20  extend(request, 
-0002e440: 7061 7261 6d73 2929 0a20 2020 2020 2020  params)).       
-0002e450: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0002e460: 2020 2072 6573 706f 6e73 6520 3d20 7365     response = se
-0002e470: 6c66 2e76 3147 6574 4170 6944 6174 6150  lf.v1GetApiDataP
-0002e480: 7562 6c69 6344 6174 6146 756e 6469 6e67  ublicDataFunding
-0002e490: 5261 7465 4869 7374 6f72 7928 7365 6c66  RateHistory(self
-0002e4a0: 2e65 7874 656e 6428 7265 7175 6573 742c  .extend(request,
-0002e4b0: 2070 6172 616d 7329 290a 2020 2020 2020   params)).      
-0002e4c0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
-0002e4d0: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
-0002e4e0: 2020 2020 2263 6f64 6522 3a22 3022 2c0a      "code":"0",.
-0002e4f0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002e500: 2022 6d73 6722 3a22 4f4b 222c 0a20 2020   "msg":"OK",.   
-0002e510: 2020 2020 2023 2020 2020 2020 2020 2264       #        "d
-0002e520: 6174 6122 3a7b 0a20 2020 2020 2020 2023  ata":{.        #
-0002e530: 2020 2020 2020 2020 2020 2022 726f 7773             "rows
-0002e540: 223a 5b0a 2020 2020 2020 2020 2320 2020  ":[.        #   
-0002e550: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
-0002e560: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-0002e570: 2020 2020 2020 2022 7379 6d62 6f6c 223a         "symbol":
-0002e580: 222e 4254 4355 5344 5446 5238 4822 2c0a  ".BTCUSDTFR8H",.
-0002e590: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0002e5a0: 2020 2020 2020 2020 2020 2266 756e 6469            "fundi
-0002e5b0: 6e67 5261 7465 223a 2230 2e30 3030 3122  ngRate":"0.0001"
-0002e5c0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-0002e5d0: 2020 2020 2020 2020 2020 2020 2266 756e              "fun
-0002e5e0: 6469 6e67 5469 6d65 223a 2231 3638 3230  dingTime":"16820
-0002e5f0: 3634 3030 3030 3030 222c 0a20 2020 2020  64000000",.     
-0002e600: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-0002e610: 2020 2020 2022 696e 7465 7276 616c 5365       "intervalSe
-0002e620: 636f 6e64 7322 3a22 3238 3830 3022 0a20  conds":"28800". 
-0002e630: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0002e640: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-0002e650: 2320 2020 2020 2020 2020 2020 5d0a 2020  #           ].  
-0002e660: 2020 2020 2020 2320 2020 2020 2020 207d        #        }
-0002e670: 0a20 2020 2020 2020 2023 2020 2020 7d0a  .        #    }.
-0002e680: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-0002e690: 2020 6461 7461 203d 2073 656c 662e 7361    data = self.sa
-0002e6a0: 6665 5f76 616c 7565 2872 6573 706f 6e73  fe_value(respons
-0002e6b0: 652c 2027 6461 7461 272c 207b 7d29 0a20  e, 'data', {}). 
-0002e6c0: 2020 2020 2020 2072 6174 6573 203d 2073         rates = s
-0002e6d0: 656c 662e 7361 6665 5f76 616c 7565 2864  elf.safe_value(d
-0002e6e0: 6174 612c 2027 726f 7773 2729 0a20 2020  ata, 'rows').   
-0002e6f0: 2020 2020 2072 6573 756c 7420 3d20 5b5d       result = []
-0002e700: 0a20 2020 2020 2020 2066 6f72 2069 2069  .        for i i
-0002e710: 6e20 7261 6e67 6528 302c 206c 656e 2872  n range(0, len(r
-0002e720: 6174 6573 2929 3a0a 2020 2020 2020 2020  ates)):.        
-0002e730: 2020 2020 6974 656d 203d 2072 6174 6573      item = rates
-0002e740: 5b69 5d0a 2020 2020 2020 2020 2020 2020  [i].            
-0002e750: 7469 6d65 7374 616d 7020 3d20 7365 6c66  timestamp = self
-0002e760: 2e73 6166 655f 696e 7465 6765 7228 6974  .safe_integer(it
-0002e770: 656d 2c20 2766 756e 6469 6e67 5469 6d65  em, 'fundingTime
-0002e780: 2729 0a20 2020 2020 2020 2020 2020 2072  ').            r
-0002e790: 6573 756c 742e 6170 7065 6e64 287b 0a20  esult.append({. 
-0002e7a0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0002e7b0: 696e 666f 273a 2069 7465 6d2c 0a20 2020  info': item,.   
-0002e7c0: 2020 2020 2020 2020 2020 2020 2027 7379               'sy
-0002e7d0: 6d62 6f6c 273a 2073 796d 626f 6c2c 0a20  mbol': symbol,. 
-0002e7e0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0002e7f0: 6675 6e64 696e 6752 6174 6527 3a20 7365  fundingRate': se
-0002e800: 6c66 2e73 6166 655f 6e75 6d62 6572 2869  lf.safe_number(i
-0002e810: 7465 6d2c 2027 6675 6e64 696e 6752 6174  tem, 'fundingRat
-0002e820: 6527 292c 0a20 2020 2020 2020 2020 2020  e'),.           
-0002e830: 2020 2020 2027 7469 6d65 7374 616d 7027       'timestamp'
-0002e840: 3a20 7469 6d65 7374 616d 702c 0a20 2020  : timestamp,.   
-0002e850: 2020 2020 2020 2020 2020 2020 2027 6461               'da
-0002e860: 7465 7469 6d65 273a 2073 656c 662e 6973  tetime': self.is
-0002e870: 6f38 3630 3128 7469 6d65 7374 616d 7029  o8601(timestamp)
-0002e880: 2c0a 2020 2020 2020 2020 2020 2020 7d29  ,.            })
-0002e890: 0a20 2020 2020 2020 2073 6f72 7465 6420  .        sorted 
-0002e8a0: 3d20 7365 6c66 2e73 6f72 745f 6279 2872  = self.sort_by(r
-0002e8b0: 6573 756c 742c 2027 7469 6d65 7374 616d  esult, 'timestam
-0002e8c0: 7027 290a 2020 2020 2020 2020 7265 7475  p').        retu
-0002e8d0: 726e 2073 656c 662e 6669 6c74 6572 5f62  rn self.filter_b
-0002e8e0: 795f 7379 6d62 6f6c 5f73 696e 6365 5f6c  y_symbol_since_l
-0002e8f0: 696d 6974 2873 6f72 7465 642c 2073 796d  imit(sorted, sym
-0002e900: 626f 6c2c 2073 696e 6365 2c20 6c69 6d69  bol, since, limi
-0002e910: 7429 0a0a 2020 2020 6465 6620 6861 6e64  t)..    def hand
-0002e920: 6c65 5f65 7272 6f72 7328 7365 6c66 2c20  le_errors(self, 
-0002e930: 6874 7470 436f 6465 2c20 7265 6173 6f6e  httpCode, reason
-0002e940: 2c20 7572 6c2c 206d 6574 686f 642c 2068  , url, method, h
-0002e950: 6561 6465 7273 2c20 626f 6479 2c20 7265  eaders, body, re
-0002e960: 7370 6f6e 7365 2c20 7265 7175 6573 7448  sponse, requestH
-0002e970: 6561 6465 7273 2c20 7265 7175 6573 7442  eaders, requestB
-0002e980: 6f64 7929 3a0a 2020 2020 2020 2020 6966  ody):.        if
-0002e990: 2072 6573 706f 6e73 6520 6973 204e 6f6e   response is Non
-0002e9a0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-0002e9b0: 6574 7572 6e20 4e6f 6e65 2020 2320 6661  eturn None  # fa
-0002e9c0: 6c6c 6261 636b 2074 6f20 6465 6661 756c  llback to defaul
-0002e9d0: 7420 6572 726f 7220 6861 6e64 6c65 720a  t error handler.
-0002e9e0: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
-0002e9f0: 2020 2320 2020 2020 7b22 636f 6465 223a    #     {"code":
-0002ea00: 3330 3031 382c 226d 7367 223a 2270 6865  30018,"msg":"phe
-0002ea10: 6d65 782e 6461 7461 2e73 697a 652e 7570  mex.data.size.up
-0002ea20: 6c69 6d74 222c 2264 6174 6122 3a6e 756c  limt","data":nul
-0002ea30: 6c7d 0a20 2020 2020 2020 2023 2020 2020  l}.        #    
-0002ea40: 207b 2263 6f64 6522 3a34 3132 2c22 6d73   {"code":412,"ms
-0002ea50: 6722 3a22 4d69 7373 696e 6720 7061 7261  g":"Missing para
-0002ea60: 6d65 7465 7220 2d20 7265 736f 6c75 7469  meter - resoluti
-0002ea70: 6f6e 222c 2264 6174 6122 3a6e 756c 6c7d  on","data":null}
-0002ea80: 0a20 2020 2020 2020 2023 2020 2020 207b  .        #     {
-0002ea90: 2263 6f64 6522 3a34 3132 2c22 6d73 6722  "code":412,"msg"
-0002eaa0: 3a22 4d69 7373 696e 6720 7061 7261 6d65  :"Missing parame
-0002eab0: 7465 7220 2d20 746f 222c 2264 6174 6122  ter - to","data"
-0002eac0: 3a6e 756c 6c7d 0a20 2020 2020 2020 2023  :null}.        #
-0002ead0: 2020 2020 207b 2265 7272 6f72 223a 7b22       {"error":{"
-0002eae0: 636f 6465 223a 3630 3031 2c22 6d65 7373  code":6001,"mess
-0002eaf0: 6167 6522 3a22 696e 7661 6c69 6420 6172  age":"invalid ar
-0002eb00: 6775 6d65 6e74 227d 2c22 6964 223a 6e75  gument"},"id":nu
-0002eb10: 6c6c 2c22 7265 7375 6c74 223a 6e75 6c6c  ll,"result":null
-0002eb20: 7d0a 2020 2020 2020 2020 230a 2020 2020  }.        #.    
-0002eb30: 2020 2020 6572 726f 7220 3d20 7365 6c66      error = self
-0002eb40: 2e73 6166 655f 7661 6c75 6528 7265 7370  .safe_value(resp
-0002eb50: 6f6e 7365 2c20 2765 7272 6f72 272c 2072  onse, 'error', r
-0002eb60: 6573 706f 6e73 6529 0a20 2020 2020 2020  esponse).       
-0002eb70: 2065 7272 6f72 436f 6465 203d 2073 656c   errorCode = sel
-0002eb80: 662e 7361 6665 5f73 7472 696e 6728 6572  f.safe_string(er
-0002eb90: 726f 722c 2027 636f 6465 2729 0a20 2020  ror, 'code').   
-0002eba0: 2020 2020 206d 6573 7361 6765 203d 2073       message = s
-0002ebb0: 656c 662e 7361 6665 5f73 7472 696e 6728  elf.safe_string(
-0002ebc0: 6572 726f 722c 2027 6d73 6727 290a 2020  error, 'msg').  
-0002ebd0: 2020 2020 2020 6966 2028 6572 726f 7243        if (errorC
-0002ebe0: 6f64 6520 6973 206e 6f74 204e 6f6e 6529  ode is not None)
-0002ebf0: 2061 6e64 2028 6572 726f 7243 6f64 6520   and (errorCode 
-0002ec00: 213d 2027 3027 293a 0a20 2020 2020 2020  != '0'):.       
-0002ec10: 2020 2020 2066 6565 6462 6163 6b20 3d20       feedback = 
-0002ec20: 7365 6c66 2e69 6420 2b20 2720 2720 2b20  self.id + ' ' + 
-0002ec30: 626f 6479 0a20 2020 2020 2020 2020 2020  body.           
-0002ec40: 2073 656c 662e 7468 726f 775f 6578 6163   self.throw_exac
-0002ec50: 746c 795f 6d61 7463 6865 645f 6578 6365  tly_matched_exce
-0002ec60: 7074 696f 6e28 7365 6c66 2e65 7863 6570  ption(self.excep
-0002ec70: 7469 6f6e 735b 2765 7861 6374 275d 2c20  tions['exact'], 
-0002ec80: 6572 726f 7243 6f64 652c 2066 6565 6462  errorCode, feedb
-0002ec90: 6163 6b29 0a20 2020 2020 2020 2020 2020  ack).           
-0002eca0: 2073 656c 662e 7468 726f 775f 6272 6f61   self.throw_broa
-0002ecb0: 646c 795f 6d61 7463 6865 645f 6578 6365  dly_matched_exce
-0002ecc0: 7074 696f 6e28 7365 6c66 2e65 7863 6570  ption(self.excep
-0002ecd0: 7469 6f6e 735b 2762 726f 6164 275d 2c20  tions['broad'], 
-0002ece0: 6d65 7373 6167 652c 2066 6565 6462 6163  message, feedbac
-0002ecf0: 6b29 0a20 2020 2020 2020 2020 2020 2072  k).            r
-0002ed00: 6169 7365 2045 7863 6861 6e67 6545 7272  aise ExchangeErr
-0002ed10: 6f72 2866 6565 6462 6163 6b29 2020 2320  or(feedback)  # 
-0002ed20: 756e 6b6e 6f77 6e20 6d65 7373 6167 650a  unknown message.
-0002ed30: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-0002ed40: 6f6e 650a                                one.
+0002ad90: 207b 226c 696d 6974 223a 3130 302c 2269   {"limit":100,"i
+0002ada0: 6e69 7469 616c 4d61 7267 696e 223a 2231  nitialMargin":"1
+0002adb0: 2e30 2522 2c22 696e 6974 6961 6c4d 6172  .0%","initialMar
+0002adc0: 6769 6e45 7222 3a31 3030 3030 3030 2c22  ginEr":1000000,"
+0002add0: 6d61 696e 7465 6e61 6e63 654d 6172 6769  maintenanceMargi
+0002ade0: 6e22 3a22 302e 3525 222c 226d 6169 6e74  n":"0.5%","maint
+0002adf0: 656e 616e 6365 4d61 7267 696e 4572 223a  enanceMarginEr":
+0002ae00: 3530 3030 3030 7d2c 0a20 2020 2020 2020  500000},.       
+0002ae10: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002ae20: 2020 2020 2020 2020 2020 207b 226c 696d             {"lim
+0002ae30: 6974 223a 3135 302c 2269 6e69 7469 616c  it":150,"initial
+0002ae40: 4d61 7267 696e 223a 2231 2e35 2522 2c22  Margin":"1.5%","
+0002ae50: 696e 6974 6961 6c4d 6172 6769 6e45 7222  initialMarginEr"
+0002ae60: 3a31 3530 3030 3030 2c22 6d61 696e 7465  :1500000,"mainte
+0002ae70: 6e61 6e63 654d 6172 6769 6e22 3a22 312e  nanceMargin":"1.
+0002ae80: 3025 222c 226d 6169 6e74 656e 616e 6365  0%","maintenance
+0002ae90: 4d61 7267 696e 4572 223a 3130 3030 3030  MarginEr":100000
+0002aea0: 307d 2c0a 2020 2020 2020 2020 2320 2020  0},.        #   
+0002aeb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002aec0: 2020 2020 2020 7b22 6c69 6d69 7422 3a32        {"limit":2
+0002aed0: 3030 2c22 696e 6974 6961 6c4d 6172 6769  00,"initialMargi
+0002aee0: 6e22 3a22 322e 3025 222c 2269 6e69 7469  n":"2.0%","initi
+0002aef0: 616c 4d61 7267 696e 4572 223a 3230 3030  alMarginEr":2000
+0002af00: 3030 302c 226d 6169 6e74 656e 616e 6365  000,"maintenance
+0002af10: 4d61 7267 696e 223a 2231 2e35 2522 2c22  Margin":"1.5%","
+0002af20: 6d61 696e 7465 6e61 6e63 654d 6172 6769  maintenanceMargi
+0002af30: 6e45 7222 3a31 3530 3030 3030 7d2c 0a20  nEr":1500000},. 
+0002af40: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002af50: 2020 2020 2020 2020 2020 2020 205d 0a20               ]. 
+0002af60: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002af70: 2020 2020 2020 2020 207d 2c0a 2020 2020           },.    
+0002af80: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002af90: 2020 5d2c 0a20 2020 2020 2020 2023 2020    ],.        #  
+0002afa0: 2020 2020 2020 2020 2020 2022 6c65 7665             "leve
+0002afb0: 7261 6765 7322 3a5b 0a20 2020 2020 2020  rages":[.       
+0002afc0: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002afd0: 2020 207b 2269 6e69 7469 616c 4d61 7267     {"initialMarg
+0002afe0: 696e 223a 2231 2e30 2522 2c22 696e 6974  in":"1.0%","init
+0002aff0: 6961 6c4d 6172 6769 6e45 7222 3a31 3030  ialMarginEr":100
+0002b000: 3030 3030 2c22 6f70 7469 6f6e 7322 3a5b  0000,"options":[
+0002b010: 312c 322c 332c 352c 3130 2c32 352c 3530  1,2,3,5,10,25,50
+0002b020: 2c31 3030 5d7d 2c0a 2020 2020 2020 2020  ,100]},.        
+0002b030: 2320 2020 2020 2020 2020 2020 2020 2020  #               
+0002b040: 2020 7b22 696e 6974 6961 6c4d 6172 6769    {"initialMargi
+0002b050: 6e22 3a22 312e 3525 222c 2269 6e69 7469  n":"1.5%","initi
+0002b060: 616c 4d61 7267 696e 4572 223a 3135 3030  alMarginEr":1500
+0002b070: 3030 302c 226f 7074 696f 6e73 223a 5b31  000,"options":[1
+0002b080: 2c32 2c33 2c35 2c31 302c 3235 2c35 302c  ,2,3,5,10,25,50,
+0002b090: 3636 5d7d 2c0a 2020 2020 2020 2020 2320  66]},.        # 
+0002b0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b0b0: 7b22 696e 6974 6961 6c4d 6172 6769 6e22  {"initialMargin"
+0002b0c0: 3a22 322e 3025 222c 2269 6e69 7469 616c  :"2.0%","initial
+0002b0d0: 4d61 7267 696e 4572 223a 3230 3030 3030  MarginEr":200000
+0002b0e0: 302c 226f 7074 696f 6e73 223a 5b31 2c32  0,"options":[1,2
+0002b0f0: 2c33 2c35 2c31 302c 3235 2c33 332c 3530  ,3,5,10,25,33,50
+0002b100: 5d7d 2c0a 2020 2020 2020 2020 2320 2020  ]},.        #   
+0002b110: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
+0002b120: 2020 2020 2320 2020 2020 2020 2020 7d0a      #         }.
+0002b130: 2020 2020 2020 2020 2320 2020 2020 7d0a          #     }.
+0002b140: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
+0002b150: 2020 230a 2020 2020 2020 2020 6461 7461    #.        data
+0002b160: 203d 2073 656c 662e 7361 6665 5f76 616c   = self.safe_val
+0002b170: 7565 2872 6573 706f 6e73 652c 2027 6461  ue(response, 'da
+0002b180: 7461 272c 207b 7d29 0a20 2020 2020 2020  ta', {}).       
+0002b190: 2072 6973 6b4c 696d 6974 7320 3d20 7365   riskLimits = se
+0002b1a0: 6c66 2e73 6166 655f 7661 6c75 6528 6461  lf.safe_value(da
+0002b1b0: 7461 2c20 2772 6973 6b4c 696d 6974 7327  ta, 'riskLimits'
+0002b1c0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+0002b1d0: 2073 656c 662e 7061 7273 655f 6c65 7665   self.parse_leve
+0002b1e0: 7261 6765 5f74 6965 7273 2872 6973 6b4c  rage_tiers(riskL
+0002b1f0: 696d 6974 732c 2073 796d 626f 6c73 2c20  imits, symbols, 
+0002b200: 2773 796d 626f 6c27 290a 0a20 2020 2064  'symbol')..    d
+0002b210: 6566 2070 6172 7365 5f6d 6172 6b65 745f  ef parse_market_
+0002b220: 6c65 7665 7261 6765 5f74 6965 7273 2873  leverage_tiers(s
+0002b230: 656c 662c 2069 6e66 6f2c 206d 6172 6b65  elf, info, marke
+0002b240: 743d 4e6f 6e65 293a 0a20 2020 2020 2020  t=None):.       
+0002b250: 2022 2222 0a20 2020 2020 2020 203a 7061   """.        :pa
+0002b260: 7261 6d20 6469 6374 2069 6e66 6f3a 2045  ram dict info: E
+0002b270: 7863 6861 6e67 6520 6d61 726b 6574 2072  xchange market r
+0002b280: 6573 706f 6e73 6520 666f 7220 3120 6d61  esponse for 1 ma
+0002b290: 726b 6574 0a20 2020 2020 2020 203a 7061  rket.        :pa
+0002b2a0: 7261 6d20 6469 6374 206d 6172 6b65 743a  ram dict market:
+0002b2b0: 2043 4358 5420 6d61 726b 6574 0a20 2020   CCXT market.   
+0002b2c0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0002b2d0: 2023 0a20 2020 2020 2020 2023 2020 2020   #.        #    
+0002b2e0: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+0002b2f0: 2020 2020 2022 7379 6d62 6f6c 223a 2242       "symbol":"B
+0002b300: 5443 5553 4422 2c0a 2020 2020 2020 2020  TCUSD",.        
+0002b310: 2320 2020 2020 2020 2020 2273 7465 7073  #         "steps
+0002b320: 223a 2235 3022 2c0a 2020 2020 2020 2020  ":"50",.        
+0002b330: 2320 2020 2020 2020 2020 2272 6973 6b4c  #         "riskL
+0002b340: 696d 6974 7322 3a5b 0a20 2020 2020 2020  imits":[.       
+0002b350: 2023 2020 2020 2020 2020 2020 2020 207b   #             {
+0002b360: 226c 696d 6974 223a 3130 302c 2269 6e69  "limit":100,"ini
+0002b370: 7469 616c 4d61 7267 696e 223a 2231 2e30  tialMargin":"1.0
+0002b380: 2522 2c22 696e 6974 6961 6c4d 6172 6769  %","initialMargi
+0002b390: 6e45 7222 3a31 3030 3030 3030 2c22 6d61  nEr":1000000,"ma
+0002b3a0: 696e 7465 6e61 6e63 654d 6172 6769 6e22  intenanceMargin"
+0002b3b0: 3a22 302e 3525 222c 226d 6169 6e74 656e  :"0.5%","mainten
+0002b3c0: 616e 6365 4d61 7267 696e 4572 223a 3530  anceMarginEr":50
+0002b3d0: 3030 3030 7d2c 0a20 2020 2020 2020 2023  0000},.        #
+0002b3e0: 2020 2020 2020 2020 2020 2020 207b 226c               {"l
+0002b3f0: 696d 6974 223a 3135 302c 2269 6e69 7469  imit":150,"initi
+0002b400: 616c 4d61 7267 696e 223a 2231 2e35 2522  alMargin":"1.5%"
+0002b410: 2c22 696e 6974 6961 6c4d 6172 6769 6e45  ,"initialMarginE
+0002b420: 7222 3a31 3530 3030 3030 2c22 6d61 696e  r":1500000,"main
+0002b430: 7465 6e61 6e63 654d 6172 6769 6e22 3a22  tenanceMargin":"
+0002b440: 312e 3025 222c 226d 6169 6e74 656e 616e  1.0%","maintenan
+0002b450: 6365 4d61 7267 696e 4572 223a 3130 3030  ceMarginEr":1000
+0002b460: 3030 307d 2c0a 2020 2020 2020 2020 2320  000},.        # 
+0002b470: 2020 2020 2020 2020 2020 2020 7b22 6c69              {"li
+0002b480: 6d69 7422 3a32 3030 2c22 696e 6974 6961  mit":200,"initia
+0002b490: 6c4d 6172 6769 6e22 3a22 322e 3025 222c  lMargin":"2.0%",
+0002b4a0: 2269 6e69 7469 616c 4d61 7267 696e 4572  "initialMarginEr
+0002b4b0: 223a 3230 3030 3030 302c 226d 6169 6e74  ":2000000,"maint
+0002b4c0: 656e 616e 6365 4d61 7267 696e 223a 2231  enanceMargin":"1
+0002b4d0: 2e35 2522 2c22 6d61 696e 7465 6e61 6e63  .5%","maintenanc
+0002b4e0: 654d 6172 6769 6e45 7222 3a31 3530 3030  eMarginEr":15000
+0002b4f0: 3030 7d2c 0a20 2020 2020 2020 2023 2020  00},.        #  
+0002b500: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
+0002b510: 2023 2020 2020 207d 2c0a 2020 2020 2020   #     },.      
+0002b520: 2020 230a 2020 2020 2020 2020 6d61 726b    #.        mark
+0002b530: 6574 203d 2073 656c 662e 7361 6665 5f6d  et = self.safe_m
+0002b540: 6172 6b65 7428 4e6f 6e65 2c20 6d61 726b  arket(None, mark
+0002b550: 6574 290a 2020 2020 2020 2020 7269 736b  et).        risk
+0002b560: 4c69 6d69 7473 203d 2028 6d61 726b 6574  Limits = (market
+0002b570: 5b27 696e 666f 275d 5b27 7269 736b 4c69  ['info']['riskLi
+0002b580: 6d69 7473 275d 290a 2020 2020 2020 2020  mits']).        
+0002b590: 7469 6572 7320 3d20 5b5d 0a20 2020 2020  tiers = [].     
+0002b5a0: 2020 206d 696e 4e6f 7469 6f6e 616c 203d     minNotional =
+0002b5b0: 2030 0a20 2020 2020 2020 2066 6f72 2069   0.        for i
+0002b5c0: 2069 6e20 7261 6e67 6528 302c 206c 656e   in range(0, len
+0002b5d0: 2872 6973 6b4c 696d 6974 7329 293a 0a20  (riskLimits)):. 
+0002b5e0: 2020 2020 2020 2020 2020 2074 6965 7220             tier 
+0002b5f0: 3d20 7269 736b 4c69 6d69 7473 5b69 5d0a  = riskLimits[i].
+0002b600: 2020 2020 2020 2020 2020 2020 6d61 784e              maxN
+0002b610: 6f74 696f 6e61 6c20 3d20 7365 6c66 2e73  otional = self.s
+0002b620: 6166 655f 696e 7465 6765 7228 7469 6572  afe_integer(tier
+0002b630: 2c20 276c 696d 6974 2729 0a20 2020 2020  , 'limit').     
+0002b640: 2020 2020 2020 2074 6965 7273 2e61 7070         tiers.app
+0002b650: 656e 6428 7b0a 2020 2020 2020 2020 2020  end({.          
+0002b660: 2020 2020 2020 2774 6965 7227 3a20 7365        'tier': se
+0002b670: 6c66 2e73 756d 2869 2c20 3129 2c0a 2020  lf.sum(i, 1),.  
+0002b680: 2020 2020 2020 2020 2020 2020 2020 2763                'c
+0002b690: 7572 7265 6e63 7927 3a20 6d61 726b 6574  urrency': market
+0002b6a0: 5b27 7365 7474 6c65 275d 2c0a 2020 2020  ['settle'],.    
+0002b6b0: 2020 2020 2020 2020 2020 2020 276d 696e              'min
+0002b6c0: 4e6f 7469 6f6e 616c 273a 206d 696e 4e6f  Notional': minNo
+0002b6d0: 7469 6f6e 616c 2c0a 2020 2020 2020 2020  tional,.        
+0002b6e0: 2020 2020 2020 2020 276d 6178 4e6f 7469          'maxNoti
+0002b6f0: 6f6e 616c 273a 206d 6178 4e6f 7469 6f6e  onal': maxNotion
+0002b700: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
+0002b710: 2020 2020 276d 6169 6e74 656e 616e 6365      'maintenance
+0002b720: 4d61 7267 696e 5261 7465 273a 2073 656c  MarginRate': sel
+0002b730: 662e 7361 6665 5f73 7472 696e 6728 7469  f.safe_string(ti
+0002b740: 6572 2c20 276d 6169 6e74 656e 616e 6365  er, 'maintenance
+0002b750: 4d61 7267 696e 2729 2c0a 2020 2020 2020  Margin'),.      
+0002b760: 2020 2020 2020 2020 2020 276d 6178 4c65            'maxLe
+0002b770: 7665 7261 6765 273a 204e 6f6e 652c 0a20  verage': None,. 
+0002b780: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0002b790: 696e 666f 273a 2074 6965 722c 0a20 2020  info': tier,.   
+0002b7a0: 2020 2020 2020 2020 207d 290a 2020 2020           }).    
+0002b7b0: 2020 2020 2020 2020 6d69 6e4e 6f74 696f          minNotio
+0002b7c0: 6e61 6c20 3d20 6d61 784e 6f74 696f 6e61  nal = maxNotiona
+0002b7d0: 6c0a 2020 2020 2020 2020 7265 7475 726e  l.        return
+0002b7e0: 2074 6965 7273 0a0a 2020 2020 6465 6620   tiers..    def 
+0002b7f0: 7369 676e 2873 656c 662c 2070 6174 682c  sign(self, path,
+0002b800: 2061 7069 3d27 7075 626c 6963 272c 206d   api='public', m
+0002b810: 6574 686f 643d 2747 4554 272c 2070 6172  ethod='GET', par
+0002b820: 616d 733d 7b7d 2c20 6865 6164 6572 733d  ams={}, headers=
+0002b830: 4e6f 6e65 2c20 626f 6479 3d4e 6f6e 6529  None, body=None)
+0002b840: 3a0a 2020 2020 2020 2020 7175 6572 7920  :.        query 
+0002b850: 3d20 7365 6c66 2e6f 6d69 7428 7061 7261  = self.omit(para
+0002b860: 6d73 2c20 7365 6c66 2e65 7874 7261 6374  ms, self.extract
+0002b870: 5f70 6172 616d 7328 7061 7468 2929 0a20  _params(path)). 
+0002b880: 2020 2020 2020 2072 6571 7565 7374 5061         requestPa
+0002b890: 7468 203d 2027 2f27 202b 2073 656c 662e  th = '/' + self.
+0002b8a0: 696d 706c 6f64 655f 7061 7261 6d73 2870  implode_params(p
+0002b8b0: 6174 682c 2070 6172 616d 7329 0a20 2020  ath, params).   
+0002b8c0: 2020 2020 2075 726c 203d 2072 6571 7565       url = reque
+0002b8d0: 7374 5061 7468 0a20 2020 2020 2020 2071  stPath.        q
+0002b8e0: 7565 7279 5374 7269 6e67 203d 2027 270a  ueryString = ''.
+0002b8f0: 2020 2020 2020 2020 6966 2028 6d65 7468          if (meth
+0002b900: 6f64 203d 3d20 2747 4554 2729 206f 7220  od == 'GET') or 
+0002b910: 286d 6574 686f 6420 3d3d 2027 4445 4c45  (method == 'DELE
+0002b920: 5445 2729 206f 7220 286d 6574 686f 6420  TE') or (method 
+0002b930: 3d3d 2027 5055 5427 2920 6f72 2028 7572  == 'PUT') or (ur
+0002b940: 6c20 3d3d 2027 2f70 6f73 6974 696f 6e73  l == '/positions
+0002b950: 2f61 7373 6967 6e27 293a 0a20 2020 2020  /assign'):.     
+0002b960: 2020 2020 2020 2069 6620 7175 6572 793a         if query:
+0002b970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002b980: 2071 7565 7279 5374 7269 6e67 203d 2073   queryString = s
+0002b990: 656c 662e 7572 6c65 6e63 6f64 655f 7769  elf.urlencode_wi
+0002b9a0: 7468 5f61 7272 6179 5f72 6570 6561 7428  th_array_repeat(
+0002b9b0: 7175 6572 7929 0a20 2020 2020 2020 2020  query).         
+0002b9c0: 2020 2020 2020 2075 726c 202b 3d20 273f         url += '?
+0002b9d0: 2720 2b20 7175 6572 7953 7472 696e 670a  ' + queryString.
+0002b9e0: 2020 2020 2020 2020 6966 2061 7069 203d          if api =
+0002b9f0: 3d20 2770 7269 7661 7465 273a 0a20 2020  = 'private':.   
+0002ba00: 2020 2020 2020 2020 2073 656c 662e 6368           self.ch
+0002ba10: 6563 6b5f 7265 7175 6972 6564 5f63 7265  eck_required_cre
+0002ba20: 6465 6e74 6961 6c73 2829 0a20 2020 2020  dentials().     
+0002ba30: 2020 2020 2020 2074 696d 6573 7461 6d70         timestamp
+0002ba40: 203d 2073 656c 662e 7365 636f 6e64 7328   = self.seconds(
+0002ba50: 290a 2020 2020 2020 2020 2020 2020 7850  ).            xP
+0002ba60: 6865 6d65 7852 6571 7565 7374 4578 7069  hemexRequestExpi
+0002ba70: 7279 203d 2073 656c 662e 7361 6665 5f69  ry = self.safe_i
+0002ba80: 6e74 6567 6572 2873 656c 662e 6f70 7469  nteger(self.opti
+0002ba90: 6f6e 732c 2027 782d 7068 656d 6578 2d72  ons, 'x-phemex-r
+0002baa0: 6571 7565 7374 2d65 7870 6972 7927 2c20  equest-expiry', 
+0002bab0: 3630 290a 2020 2020 2020 2020 2020 2020  60).            
+0002bac0: 6578 7069 7279 203d 2073 656c 662e 7375  expiry = self.su
+0002bad0: 6d28 7469 6d65 7374 616d 702c 2078 5068  m(timestamp, xPh
+0002bae0: 656d 6578 5265 7175 6573 7445 7870 6972  emexRequestExpir
+0002baf0: 7929 0a20 2020 2020 2020 2020 2020 2065  y).            e
+0002bb00: 7870 6972 7953 7472 696e 6720 3d20 7374  xpiryString = st
+0002bb10: 7228 6578 7069 7279 290a 2020 2020 2020  r(expiry).      
+0002bb20: 2020 2020 2020 6865 6164 6572 7320 3d20        headers = 
+0002bb30: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+0002bb40: 2020 2778 2d70 6865 6d65 782d 6163 6365    'x-phemex-acce
+0002bb50: 7373 2d74 6f6b 656e 273a 2073 656c 662e  ss-token': self.
+0002bb60: 6170 694b 6579 2c0a 2020 2020 2020 2020  apiKey,.        
+0002bb70: 2020 2020 2020 2020 2778 2d70 6865 6d65          'x-pheme
+0002bb80: 782d 7265 7175 6573 742d 6578 7069 7279  x-request-expiry
+0002bb90: 273a 2065 7870 6972 7953 7472 696e 672c  ': expiryString,
+0002bba0: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
+0002bbb0: 2020 2020 2020 2020 2020 2070 6179 6c6f             paylo
+0002bbc0: 6164 203d 2027 270a 2020 2020 2020 2020  ad = ''.        
+0002bbd0: 2020 2020 6966 206d 6574 686f 6420 3d3d      if method ==
+0002bbe0: 2027 504f 5354 273a 0a20 2020 2020 2020   'POST':.       
+0002bbf0: 2020 2020 2020 2020 2070 6179 6c6f 6164           payload
+0002bc00: 203d 2073 656c 662e 6a73 6f6e 2870 6172   = self.json(par
+0002bc10: 616d 7329 0a20 2020 2020 2020 2020 2020  ams).           
+0002bc20: 2020 2020 2062 6f64 7920 3d20 7061 796c       body = payl
+0002bc30: 6f61 640a 2020 2020 2020 2020 2020 2020  oad.            
+0002bc40: 2020 2020 6865 6164 6572 735b 2743 6f6e      headers['Con
+0002bc50: 7465 6e74 2d54 7970 6527 5d20 3d20 2761  tent-Type'] = 'a
+0002bc60: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
+0002bc70: 0a20 2020 2020 2020 2020 2020 2061 7574  .            aut
+0002bc80: 6820 3d20 7265 7175 6573 7450 6174 6820  h = requestPath 
+0002bc90: 2b20 7175 6572 7953 7472 696e 6720 2b20  + queryString + 
+0002bca0: 6578 7069 7279 5374 7269 6e67 202b 2070  expiryString + p
+0002bcb0: 6179 6c6f 6164 0a20 2020 2020 2020 2020  ayload.         
+0002bcc0: 2020 2068 6561 6465 7273 5b27 782d 7068     headers['x-ph
+0002bcd0: 656d 6578 2d72 6571 7565 7374 2d73 6967  emex-request-sig
+0002bce0: 6e61 7475 7265 275d 203d 2073 656c 662e  nature'] = self.
+0002bcf0: 686d 6163 2873 656c 662e 656e 636f 6465  hmac(self.encode
+0002bd00: 2861 7574 6829 2c20 7365 6c66 2e65 6e63  (auth), self.enc
+0002bd10: 6f64 6528 7365 6c66 2e73 6563 7265 7429  ode(self.secret)
+0002bd20: 2c20 6861 7368 6c69 622e 7368 6132 3536  , hashlib.sha256
+0002bd30: 290a 2020 2020 2020 2020 7572 6c20 3d20  ).        url = 
+0002bd40: 7365 6c66 2e69 6d70 6c6f 6465 5f68 6f73  self.implode_hos
+0002bd50: 746e 616d 6528 7365 6c66 2e75 726c 735b  tname(self.urls[
+0002bd60: 2761 7069 275d 5b61 7069 5d29 202b 2075  'api'][api]) + u
+0002bd70: 726c 0a20 2020 2020 2020 2072 6574 7572  rl.        retur
+0002bd80: 6e20 7b27 7572 6c27 3a20 7572 6c2c 2027  n {'url': url, '
+0002bd90: 6d65 7468 6f64 273a 206d 6574 686f 642c  method': method,
+0002bda0: 2027 626f 6479 273a 2062 6f64 792c 2027   'body': body, '
+0002bdb0: 6865 6164 6572 7327 3a20 6865 6164 6572  headers': header
+0002bdc0: 737d 0a0a 2020 2020 6465 6620 7365 745f  s}..    def set_
+0002bdd0: 6c65 7665 7261 6765 2873 656c 662c 206c  leverage(self, l
+0002bde0: 6576 6572 6167 652c 2073 796d 626f 6c3a  everage, symbol:
+0002bdf0: 204f 7074 696f 6e61 6c5b 7374 725d 203d   Optional[str] =
+0002be00: 204e 6f6e 652c 2070 6172 616d 733d 7b7d   None, params={}
+0002be10: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+0002be20: 2020 2020 2020 2073 6574 2074 6865 206c         set the l
+0002be30: 6576 656c 206f 6620 6c65 7665 7261 6765  evel of leverage
+0002be40: 2066 6f72 2061 206d 6172 6b65 740a 2020   for a market.  
+0002be50: 2020 2020 2020 7365 6520 6874 7470 733a        see https:
+0002be60: 2f2f 6769 7468 7562 2e63 6f6d 2f70 6865  //github.com/phe
+0002be70: 6d65 782f 7068 656d 6578 2d61 7069 2d64  mex/phemex-api-d
+0002be80: 6f63 732f 626c 6f62 2f6d 6173 7465 722f  ocs/blob/master/
+0002be90: 5075 626c 6963 2d48 6564 6765 642d 5065  Public-Hedged-Pe
+0002bea0: 7270 6574 7561 6c2d 4150 492e 6d64 2373  rpetual-API.md#s
+0002beb0: 6574 2d6c 6576 6572 6167 650a 2020 2020  et-leverage.    
+0002bec0: 2020 2020 3a70 6172 616d 2066 6c6f 6174      :param float
+0002bed0: 206c 6576 6572 6167 653a 2074 6865 2072   leverage: the r
+0002bee0: 6174 6520 6f66 206c 6576 6572 6167 650a  ate of leverage.
+0002bef0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
+0002bf00: 7472 2073 796d 626f 6c3a 2075 6e69 6669  tr symbol: unifi
+0002bf10: 6564 206d 6172 6b65 7420 7379 6d62 6f6c  ed market symbol
+0002bf20: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0002bf30: 6469 6374 2070 6172 616d 733a 2065 7874  dict params: ext
+0002bf40: 7261 2070 6172 616d 6574 6572 7320 7370  ra parameters sp
+0002bf50: 6563 6966 6963 2074 6f20 7468 6520 7068  ecific to the ph
+0002bf60: 656d 6578 2061 7069 2065 6e64 706f 696e  emex api endpoin
+0002bf70: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
+0002bf80: 6e73 2064 6963 743a 2072 6573 706f 6e73  ns dict: respons
+0002bf90: 6520 6672 6f6d 2074 6865 2065 7863 6861  e from the excha
+0002bfa0: 6e67 650a 2020 2020 2020 2020 2222 220a  nge.        """.
+0002bfb0: 2020 2020 2020 2020 2320 5741 524e 494e          # WARNIN
+0002bfc0: 473a 2054 4849 5320 5749 4c4c 2049 4e43  G: THIS WILL INC
+0002bfd0: 5245 4153 4520 4c49 5155 4944 4154 494f  REASE LIQUIDATIO
+0002bfe0: 4e20 5052 4943 4520 464f 5220 4f50 454e  N PRICE FOR OPEN
+0002bff0: 2049 534f 4c41 5445 4420 4c4f 4e47 2050   ISOLATED LONG P
+0002c000: 4f53 4954 494f 4e53 0a20 2020 2020 2020  OSITIONS.       
+0002c010: 2023 2041 4e44 2044 4543 5245 4153 4520   # AND DECREASE 
+0002c020: 4c49 5155 4944 4154 494f 4e20 5052 4943  LIQUIDATION PRIC
+0002c030: 4520 464f 5220 4f50 454e 2049 534f 4c41  E FOR OPEN ISOLA
+0002c040: 5445 4420 5348 4f52 5420 504f 5349 5449  TED SHORT POSITI
+0002c050: 4f4e 530a 2020 2020 2020 2020 6966 2073  ONS.        if s
+0002c060: 796d 626f 6c20 6973 204e 6f6e 653a 0a20  ymbol is None:. 
+0002c070: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0002c080: 2041 7267 756d 656e 7473 5265 7175 6972   ArgumentsRequir
+0002c090: 6564 2873 656c 662e 6964 202b 2027 2073  ed(self.id + ' s
+0002c0a0: 6574 4c65 7665 7261 6765 2829 2072 6571  etLeverage() req
+0002c0b0: 7569 7265 7320 6120 7379 6d62 6f6c 2061  uires a symbol a
+0002c0c0: 7267 756d 656e 7427 290a 2020 2020 2020  rgument').      
+0002c0d0: 2020 6966 2028 6c65 7665 7261 6765 203c    if (leverage <
+0002c0e0: 2031 2920 6f72 2028 6c65 7665 7261 6765   1) or (leverage
+0002c0f0: 203e 2031 3030 293a 0a20 2020 2020 2020   > 100):.       
+0002c100: 2020 2020 2072 6169 7365 2042 6164 5265       raise BadRe
+0002c110: 7175 6573 7428 7365 6c66 2e69 6420 2b20  quest(self.id + 
+0002c120: 2720 7365 744c 6576 6572 6167 6528 2920  ' setLeverage() 
+0002c130: 6c65 7665 7261 6765 2073 686f 756c 6420  leverage should 
+0002c140: 6265 2062 6574 7765 656e 2031 2061 6e64  be between 1 and
+0002c150: 2031 3030 2729 0a20 2020 2020 2020 2073   100').        s
+0002c160: 656c 662e 6c6f 6164 5f6d 6172 6b65 7473  elf.load_markets
+0002c170: 2829 0a20 2020 2020 2020 206d 6172 6b65  ().        marke
+0002c180: 7420 3d20 7365 6c66 2e6d 6172 6b65 7428  t = self.market(
+0002c190: 7379 6d62 6f6c 290a 2020 2020 2020 2020  symbol).        
+0002c1a0: 7265 7175 6573 7420 3d20 7b0a 2020 2020  request = {.    
+0002c1b0: 2020 2020 2020 2020 2773 796d 626f 6c27          'symbol'
+0002c1c0: 3a20 6d61 726b 6574 5b27 6964 275d 2c0a  : market['id'],.
+0002c1d0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+0002c1e0: 2020 6d65 7468 6f64 203d 2027 7072 6976    method = 'priv
+0002c1f0: 6174 6550 7574 506f 7369 7469 6f6e 734c  atePutPositionsL
+0002c200: 6576 6572 6167 6527 0a20 2020 2020 2020  everage'.       
+0002c210: 2069 6620 6d61 726b 6574 5b27 7365 7474   if market['sett
+0002c220: 6c65 275d 203d 3d20 2755 5344 5427 3a0a  le'] == 'USDT':.
+0002c230: 2020 2020 2020 2020 2020 2020 6d65 7468              meth
+0002c240: 6f64 203d 2027 7072 6976 6174 6550 7574  od = 'privatePut
+0002c250: 4750 6f73 6974 696f 6e73 4c65 7665 7261  GPositionsLevera
+0002c260: 6765 270a 2020 2020 2020 2020 2020 2020  ge'.            
+0002c270: 7265 7175 6573 745b 276c 6576 6572 6167  request['leverag
+0002c280: 6552 7227 5d20 3d20 6c65 7665 7261 6765  eRr'] = leverage
+0002c290: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0002c2a0: 2020 2020 2020 2020 2020 2072 6571 7565             reque
+0002c2b0: 7374 5b27 6c65 7665 7261 6765 275d 203d  st['leverage'] =
+0002c2c0: 206c 6576 6572 6167 650a 2020 2020 2020   leverage.      
+0002c2d0: 2020 7265 7475 726e 2067 6574 6174 7472    return getattr
+0002c2e0: 2873 656c 662c 206d 6574 686f 6429 2873  (self, method)(s
+0002c2f0: 656c 662e 6578 7465 6e64 2872 6571 7565  elf.extend(reque
+0002c300: 7374 2c20 7061 7261 6d73 2929 0a0a 2020  st, params))..  
+0002c310: 2020 6465 6620 7472 616e 7366 6572 2873    def transfer(s
+0002c320: 656c 662c 2063 6f64 653a 2073 7472 2c20  elf, code: str, 
+0002c330: 616d 6f75 6e74 2c20 6672 6f6d 4163 636f  amount, fromAcco
+0002c340: 756e 742c 2074 6f41 6363 6f75 6e74 2c20  unt, toAccount, 
+0002c350: 7061 7261 6d73 3d7b 7d29 3a0a 2020 2020  params={}):.    
+0002c360: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0002c370: 7472 616e 7366 6572 2063 7572 7265 6e63  transfer currenc
+0002c380: 7920 696e 7465 726e 616c 6c79 2062 6574  y internally bet
+0002c390: 7765 656e 2077 616c 6c65 7473 206f 6e20  ween wallets on 
+0002c3a0: 7468 6520 7361 6d65 2061 6363 6f75 6e74  the same account
+0002c3b0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0002c3c0: 7374 7220 636f 6465 3a20 756e 6966 6965  str code: unifie
+0002c3d0: 6420 6375 7272 656e 6379 2063 6f64 650a  d currency code.
+0002c3e0: 2020 2020 2020 2020 3a70 6172 616d 2066          :param f
+0002c3f0: 6c6f 6174 2061 6d6f 756e 743a 2061 6d6f  loat amount: amo
+0002c400: 756e 7420 746f 2074 7261 6e73 6665 720a  unt to transfer.
+0002c410: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
+0002c420: 7472 2066 726f 6d41 6363 6f75 6e74 3a20  tr fromAccount: 
+0002c430: 6163 636f 756e 7420 746f 2074 7261 6e73  account to trans
+0002c440: 6665 7220 6672 6f6d 0a20 2020 2020 2020  fer from.       
+0002c450: 203a 7061 7261 6d20 7374 7220 746f 4163   :param str toAc
+0002c460: 636f 756e 743a 2061 6363 6f75 6e74 2074  count: account t
+0002c470: 6f20 7472 616e 7366 6572 2074 6f0a 2020  o transfer to.  
+0002c480: 2020 2020 2020 3a70 6172 616d 2064 6963        :param dic
+0002c490: 7420 7061 7261 6d73 3a20 6578 7472 6120  t params: extra 
+0002c4a0: 7061 7261 6d65 7465 7273 2073 7065 6369  parameters speci
+0002c4b0: 6669 6320 746f 2074 6865 2070 6865 6d65  fic to the pheme
+0002c4c0: 7820 6170 6920 656e 6470 6f69 6e74 0a20  x api endpoint. 
+0002c4d0: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
+0002c4e0: 727c 4e6f 6e65 2070 6172 616d 735b 2762  r|None params['b
+0002c4f0: 697a 5479 7065 275d 3a20 666f 7220 7472  izType']: for tr
+0002c500: 616e 7366 6572 7269 6e67 2062 6574 7765  ansferring betwe
+0002c510: 656e 206d 6169 6e20 616e 6420 7375 622d  en main and sub-
+0002c520: 6163 6f75 6e74 7320 6569 7468 6572 2027  acounts either '
+0002c530: 5350 4f54 2720 6f72 2027 5045 5250 4554  SPOT' or 'PERPET
+0002c540: 5541 4c27 2064 6566 6175 6c74 2069 7320  UAL' default is 
+0002c550: 2753 504f 5427 0a20 2020 2020 2020 203a  'SPOT'.        :
+0002c560: 7265 7475 726e 7320 6469 6374 3a20 6120  returns dict: a 
+0002c570: 6074 7261 6e73 6665 7220 7374 7275 6374  `transfer struct
+0002c580: 7572 6520 3c68 7474 7073 3a2f 2f64 6f63  ure <https://doc
+0002c590: 732e 6363 7874 2e63 6f6d 2f23 2f3f 6964  s.ccxt.com/#/?id
+0002c5a0: 3d74 7261 6e73 6665 722d 7374 7275 6374  =transfer-struct
+0002c5b0: 7572 653e 600a 2020 2020 2020 2020 2222  ure>`.        ""
+0002c5c0: 220a 2020 2020 2020 2020 7365 6c66 2e6c  ".        self.l
+0002c5d0: 6f61 645f 6d61 726b 6574 7328 290a 2020  oad_markets().  
+0002c5e0: 2020 2020 2020 6375 7272 656e 6379 203d        currency =
+0002c5f0: 2073 656c 662e 6375 7272 656e 6379 2863   self.currency(c
+0002c600: 6f64 6529 0a20 2020 2020 2020 2061 6363  ode).        acc
+0002c610: 6f75 6e74 7342 7954 7970 6520 3d20 7365  ountsByType = se
+0002c620: 6c66 2e73 6166 655f 7661 6c75 6528 7365  lf.safe_value(se
+0002c630: 6c66 2e6f 7074 696f 6e73 2c20 2761 6363  lf.options, 'acc
+0002c640: 6f75 6e74 7342 7954 7970 6527 2c20 7b7d  ountsByType', {}
+0002c650: 290a 2020 2020 2020 2020 6672 6f6d 4964  ).        fromId
+0002c660: 203d 2073 656c 662e 7361 6665 5f73 7472   = self.safe_str
+0002c670: 696e 6728 6163 636f 756e 7473 4279 5479  ing(accountsByTy
+0002c680: 7065 2c20 6672 6f6d 4163 636f 756e 742c  pe, fromAccount,
+0002c690: 2066 726f 6d41 6363 6f75 6e74 290a 2020   fromAccount).  
+0002c6a0: 2020 2020 2020 746f 4964 203d 2073 656c        toId = sel
+0002c6b0: 662e 7361 6665 5f73 7472 696e 6728 6163  f.safe_string(ac
+0002c6c0: 636f 756e 7473 4279 5479 7065 2c20 746f  countsByType, to
+0002c6d0: 4163 636f 756e 742c 2074 6f41 6363 6f75  Account, toAccou
+0002c6e0: 6e74 290a 2020 2020 2020 2020 7363 616c  nt).        scal
+0002c6f0: 6564 416d 6d6f 756e 7420 3d20 7365 6c66  edAmmount = self
+0002c700: 2e74 6f5f 6576 2861 6d6f 756e 742c 2063  .to_ev(amount, c
+0002c710: 7572 7265 6e63 7929 0a20 2020 2020 2020  urrency).       
+0002c720: 2064 6972 6563 7469 6f6e 203d 204e 6f6e   direction = Non
+0002c730: 650a 2020 2020 2020 2020 7472 616e 7366  e.        transf
+0002c740: 6572 203d 204e 6f6e 650a 2020 2020 2020  er = None.      
+0002c750: 2020 6966 2066 726f 6d49 6420 3d3d 2027    if fromId == '
+0002c760: 7370 6f74 2720 616e 6420 746f 4964 203d  spot' and toId =
+0002c770: 3d20 2766 7574 7572 6527 3a0a 2020 2020  = 'future':.    
+0002c780: 2020 2020 2020 2020 6469 7265 6374 696f          directio
+0002c790: 6e20 3d20 320a 2020 2020 2020 2020 656c  n = 2.        el
+0002c7a0: 6966 2066 726f 6d49 6420 3d3d 2027 6675  if fromId == 'fu
+0002c7b0: 7475 7265 2720 616e 6420 746f 4964 203d  ture' and toId =
+0002c7c0: 3d20 2773 706f 7427 3a0a 2020 2020 2020  = 'spot':.      
+0002c7d0: 2020 2020 2020 6469 7265 6374 696f 6e20        direction 
+0002c7e0: 3d20 310a 2020 2020 2020 2020 6966 2064  = 1.        if d
+0002c7f0: 6972 6563 7469 6f6e 2069 7320 6e6f 7420  irection is not 
+0002c800: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0002c810: 2020 7265 7175 6573 7420 3d20 7b0a 2020    request = {.  
+0002c820: 2020 2020 2020 2020 2020 2020 2020 2763                'c
+0002c830: 7572 7265 6e63 7927 3a20 6375 7272 656e  urrency': curren
+0002c840: 6379 5b27 6964 275d 2c0a 2020 2020 2020  cy['id'],.      
+0002c850: 2020 2020 2020 2020 2020 276d 6f76 654f            'moveO
+0002c860: 7027 3a20 6469 7265 6374 696f 6e2c 0a20  p': direction,. 
+0002c870: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0002c880: 616d 6f75 6e74 4576 273a 2073 6361 6c65  amountEv': scale
+0002c890: 6441 6d6d 6f75 6e74 2c0a 2020 2020 2020  dAmmount,.      
+0002c8a0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0002c8b0: 2020 2020 7265 7370 6f6e 7365 203d 2073      response = s
+0002c8c0: 656c 662e 7072 6976 6174 6550 6f73 7441  elf.privatePostA
+0002c8d0: 7373 6574 7354 7261 6e73 6665 7228 7365  ssetsTransfer(se
+0002c8e0: 6c66 2e65 7874 656e 6428 7265 7175 6573  lf.extend(reques
+0002c8f0: 742c 2070 6172 616d 7329 290a 2020 2020  t, params)).    
+0002c900: 2020 2020 2020 2020 230a 2020 2020 2020          #.      
+0002c910: 2020 2020 2020 2320 2020 2020 7b0a 2020        #     {.  
+0002c920: 2020 2020 2020 2020 2020 2320 2020 2020            #     
+0002c930: 2020 2020 636f 6465 3a20 2730 272c 0a20      code: '0',. 
+0002c940: 2020 2020 2020 2020 2020 2023 2020 2020             #    
+0002c950: 2020 2020 206d 7367 3a20 274f 4b27 2c0a       msg: 'OK',.
+0002c960: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+0002c970: 2020 2020 2020 6461 7461 3a20 7b0a 2020        data: {.  
+0002c980: 2020 2020 2020 2020 2020 2320 2020 2020            #     
+0002c990: 2020 2020 2020 2020 6c69 6e6b 4b65 793a          linkKey:
+0002c9a0: 2027 3835 3634 6562 6134 2d63 3965 632d   '8564eba4-c9ec-
+0002c9b0: 3439 6436 2d39 6238 632d 3265 6335 3030  49d6-9b8c-2ec500
+0002c9c0: 3161 3066 6239 272c 0a20 2020 2020 2020  1a0fb9',.       
+0002c9d0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002c9e0: 2020 2075 7365 7249 643a 2027 3430 3138     userId: '4018
+0002c9f0: 3334 3027 2c0a 2020 2020 2020 2020 2020  340',.          
+0002ca00: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002ca10: 6375 7272 656e 6379 3a20 2755 5344 272c  currency: 'USD',
+0002ca20: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+0002ca30: 2020 2020 2020 2020 2020 2061 6d6f 756e             amoun
+0002ca40: 7445 763a 2027 3130 272c 0a20 2020 2020  tEv: '10',.     
+0002ca50: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0002ca60: 2020 2020 2073 6964 653a 2027 3227 2c0a       side: '2',.
+0002ca70: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+0002ca80: 2020 2020 2020 2020 2020 7374 6174 7573            status
+0002ca90: 3a20 2731 3027 0a20 2020 2020 2020 2020  : '10'.         
+0002caa0: 2020 2023 2020 2020 2020 2020 207d 0a20     #         }. 
+0002cab0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
+0002cac0: 207d 0a20 2020 2020 2020 2020 2020 2023   }.            #
+0002cad0: 0a20 2020 2020 2020 2020 2020 2064 6174  .            dat
+0002cae0: 6120 3d20 7365 6c66 2e73 6166 655f 7661  a = self.safe_va
+0002caf0: 6c75 6528 7265 7370 6f6e 7365 2c20 2764  lue(response, 'd
+0002cb00: 6174 6127 2c20 7b7d 290a 2020 2020 2020  ata', {}).      
+0002cb10: 2020 2020 2020 7472 616e 7366 6572 203d        transfer =
+0002cb20: 2073 656c 662e 7061 7273 655f 7472 616e   self.parse_tran
+0002cb30: 7366 6572 2864 6174 612c 2063 7572 7265  sfer(data, curre
+0002cb40: 6e63 7929 0a20 2020 2020 2020 2065 6c73  ncy).        els
+0002cb50: 653a 2020 2320 7375 6220 6163 636f 756e  e:  # sub accoun
+0002cb60: 7420 7472 616e 7366 6572 0a20 2020 2020  t transfer.     
+0002cb70: 2020 2020 2020 2072 6571 7565 7374 203d         request =
+0002cb80: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+0002cb90: 2020 2027 6672 6f6d 5573 6572 4964 273a     'fromUserId':
+0002cba0: 2066 726f 6d49 642c 0a20 2020 2020 2020   fromId,.       
+0002cbb0: 2020 2020 2020 2020 2027 746f 5573 6572           'toUser
+0002cbc0: 4964 273a 2074 6f49 642c 0a20 2020 2020  Id': toId,.     
+0002cbd0: 2020 2020 2020 2020 2020 2027 616d 6f75             'amou
+0002cbe0: 6e74 4576 273a 2073 6361 6c65 6441 6d6d  ntEv': scaledAmm
+0002cbf0: 6f75 6e74 2c0a 2020 2020 2020 2020 2020  ount,.          
+0002cc00: 2020 2020 2020 2763 7572 7265 6e63 7927        'currency'
+0002cc10: 3a20 6375 7272 656e 6379 5b27 6964 275d  : currency['id']
+0002cc20: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002cc30: 2020 2762 697a 5479 7065 273a 2073 656c    'bizType': sel
+0002cc40: 662e 7361 6665 5f73 7472 696e 6728 7061  f.safe_string(pa
+0002cc50: 7261 6d73 2c20 2762 697a 5479 7065 272c  rams, 'bizType',
+0002cc60: 2027 5350 4f54 2729 2c0a 2020 2020 2020   'SPOT'),.      
+0002cc70: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0002cc80: 2020 2020 7265 7370 6f6e 7365 203d 2073      response = s
+0002cc90: 656c 662e 7072 6976 6174 6550 6f73 7441  elf.privatePostA
+0002cca0: 7373 6574 7355 6e69 7665 7273 616c 5472  ssetsUniversalTr
+0002ccb0: 616e 7366 6572 2873 656c 662e 6578 7465  ansfer(self.exte
+0002ccc0: 6e64 2872 6571 7565 7374 2c20 7061 7261  nd(request, para
+0002ccd0: 6d73 2929 0a20 2020 2020 2020 2020 2020  ms)).           
+0002cce0: 2023 0a20 2020 2020 2020 2020 2020 2023   #.            #
+0002ccf0: 2020 2020 207b 0a20 2020 2020 2020 2020       {.         
+0002cd00: 2020 2023 2020 2020 2020 2020 2063 6f64     #         cod
+0002cd10: 653a 2027 3027 2c0a 2020 2020 2020 2020  e: '0',.        
+0002cd20: 2020 2020 2320 2020 2020 2020 2020 6d73      #         ms
+0002cd30: 673a 2027 4f4b 272c 0a20 2020 2020 2020  g: 'OK',.       
+0002cd40: 2020 2020 2023 2020 2020 2020 2020 2064       #         d
+0002cd50: 6174 613a 2027 4150 492d 3932 3364 6238  ata: 'API-923db8
+0002cd60: 3236 2d61 6161 612d 6161 6161 2d61 6161  26-aaaa-aaaa-aaa
+0002cd70: 612d 3464 3938 6333 6137 6339 6664 270a  a-4d98c3a7c9fd'.
+0002cd80: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+0002cd90: 2020 7d0a 2020 2020 2020 2020 2020 2020    }.            
+0002cda0: 230a 2020 2020 2020 2020 2020 2020 7472  #.            tr
+0002cdb0: 616e 7366 6572 203d 2073 656c 662e 7061  ansfer = self.pa
+0002cdc0: 7273 655f 7472 616e 7366 6572 2872 6573  rse_transfer(res
+0002cdd0: 706f 6e73 6529 0a20 2020 2020 2020 2074  ponse).        t
+0002cde0: 7261 6e73 6665 724f 7074 696f 6e73 203d  ransferOptions =
+0002cdf0: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+0002ce00: 2873 656c 662e 6f70 7469 6f6e 732c 2027  (self.options, '
+0002ce10: 7472 616e 7366 6572 272c 207b 7d29 0a20  transfer', {}). 
+0002ce20: 2020 2020 2020 2066 696c 6c52 6573 706f         fillRespo
+0002ce30: 6e73 6546 726f 6d52 6571 7565 7374 203d  nseFromRequest =
+0002ce40: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+0002ce50: 2874 7261 6e73 6665 724f 7074 696f 6e73  (transferOptions
+0002ce60: 2c20 2766 696c 6c52 6573 706f 6e73 6546  , 'fillResponseF
+0002ce70: 726f 6d52 6571 7565 7374 272c 2054 7275  romRequest', Tru
+0002ce80: 6529 0a20 2020 2020 2020 2069 6620 6669  e).        if fi
+0002ce90: 6c6c 5265 7370 6f6e 7365 4672 6f6d 5265  llResponseFromRe
+0002cea0: 7175 6573 743a 0a20 2020 2020 2020 2020  quest:.         
+0002ceb0: 2020 2069 6620 7472 616e 7366 6572 5b27     if transfer['
+0002cec0: 6672 6f6d 4163 636f 756e 7427 5d20 6973  fromAccount'] is
+0002ced0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0002cee0: 2020 2020 2020 2074 7261 6e73 6665 725b         transfer[
+0002cef0: 2766 726f 6d41 6363 6f75 6e74 275d 203d  'fromAccount'] =
+0002cf00: 2066 726f 6d41 6363 6f75 6e74 0a20 2020   fromAccount.   
+0002cf10: 2020 2020 2020 2020 2069 6620 7472 616e           if tran
+0002cf20: 7366 6572 5b27 746f 4163 636f 756e 7427  sfer['toAccount'
+0002cf30: 5d20 6973 204e 6f6e 653a 0a20 2020 2020  ] is None:.     
+0002cf40: 2020 2020 2020 2020 2020 2074 7261 6e73             trans
+0002cf50: 6665 725b 2774 6f41 6363 6f75 6e74 275d  fer['toAccount']
+0002cf60: 203d 2074 6f41 6363 6f75 6e74 0a20 2020   = toAccount.   
+0002cf70: 2020 2020 2020 2020 2069 6620 7472 616e           if tran
+0002cf80: 7366 6572 5b27 616d 6f75 6e74 275d 2069  sfer['amount'] i
+0002cf90: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+0002cfa0: 2020 2020 2020 2020 7472 616e 7366 6572          transfer
+0002cfb0: 5b27 616d 6f75 6e74 275d 203d 2061 6d6f  ['amount'] = amo
+0002cfc0: 756e 740a 2020 2020 2020 2020 2020 2020  unt.            
+0002cfd0: 6966 2074 7261 6e73 6665 725b 2763 7572  if transfer['cur
+0002cfe0: 7265 6e63 7927 5d20 6973 204e 6f6e 653a  rency'] is None:
+0002cff0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d000: 2074 7261 6e73 6665 725b 2763 7572 7265   transfer['curre
+0002d010: 6e63 7927 5d20 3d20 636f 6465 0a20 2020  ncy'] = code.   
+0002d020: 2020 2020 2072 6574 7572 6e20 7472 616e       return tran
+0002d030: 7366 6572 0a0a 2020 2020 6465 6620 6665  sfer..    def fe
+0002d040: 7463 685f 7472 616e 7366 6572 7328 7365  tch_transfers(se
+0002d050: 6c66 2c20 636f 6465 3a20 4f70 7469 6f6e  lf, code: Option
+0002d060: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c20  al[str] = None, 
+0002d070: 7369 6e63 653a 204f 7074 696f 6e61 6c5b  since: Optional[
+0002d080: 696e 745d 203d 204e 6f6e 652c 206c 696d  int] = None, lim
+0002d090: 6974 3a20 4f70 7469 6f6e 616c 5b69 6e74  it: Optional[int
+0002d0a0: 5d20 3d20 4e6f 6e65 2c20 7061 7261 6d73  ] = None, params
+0002d0b0: 3d7b 7d29 3a0a 2020 2020 2020 2020 2222  ={}):.        ""
+0002d0c0: 220a 2020 2020 2020 2020 6665 7463 6820  ".        fetch 
+0002d0d0: 6120 6869 7374 6f72 7920 6f66 2069 6e74  a history of int
+0002d0e0: 6572 6e61 6c20 7472 616e 7366 6572 7320  ernal transfers 
+0002d0f0: 6d61 6465 206f 6e20 616e 2061 6363 6f75  made on an accou
+0002d100: 6e74 0a20 2020 2020 2020 203a 7061 7261  nt.        :para
+0002d110: 6d20 7374 727c 4e6f 6e65 2063 6f64 653a  m str|None code:
+0002d120: 2075 6e69 6669 6564 2063 7572 7265 6e63   unified currenc
+0002d130: 7920 636f 6465 206f 6620 7468 6520 6375  y code of the cu
+0002d140: 7272 656e 6379 2074 7261 6e73 6665 7272  rrency transferr
+0002d150: 6564 0a20 2020 2020 2020 203a 7061 7261  ed.        :para
+0002d160: 6d20 696e 747c 4e6f 6e65 2073 696e 6365  m int|None since
+0002d170: 3a20 7468 6520 6561 726c 6965 7374 2074  : the earliest t
+0002d180: 696d 6520 696e 206d 7320 746f 2066 6574  ime in ms to fet
+0002d190: 6368 2074 7261 6e73 6665 7273 2066 6f72  ch transfers for
+0002d1a0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0002d1b0: 696e 747c 4e6f 6e65 206c 696d 6974 3a20  int|None limit: 
+0002d1c0: 7468 6520 6d61 7869 6d75 6d20 6e75 6d62  the maximum numb
+0002d1d0: 6572 206f 6620 2074 7261 6e73 6665 7273  er of  transfers
+0002d1e0: 2073 7472 7563 7475 7265 7320 746f 2072   structures to r
+0002d1f0: 6574 7269 6576 650a 2020 2020 2020 2020  etrieve.        
+0002d200: 3a70 6172 616d 2064 6963 7420 7061 7261  :param dict para
+0002d210: 6d73 3a20 6578 7472 6120 7061 7261 6d65  ms: extra parame
+0002d220: 7465 7273 2073 7065 6369 6669 6320 746f  ters specific to
+0002d230: 2074 6865 2070 6865 6d65 7820 6170 6920   the phemex api 
+0002d240: 656e 6470 6f69 6e74 0a20 2020 2020 2020  endpoint.       
+0002d250: 203a 7265 7475 726e 7320 5b64 6963 745d   :returns [dict]
+0002d260: 3a20 6120 6c69 7374 206f 6620 6074 7261  : a list of `tra
+0002d270: 6e73 6665 7220 7374 7275 6374 7572 6573  nsfer structures
+0002d280: 203c 6874 7470 733a 2f2f 646f 6373 2e63   <https://docs.c
+0002d290: 6378 742e 636f 6d2f 232f 3f69 643d 7472  cxt.com/#/?id=tr
+0002d2a0: 616e 7366 6572 2d73 7472 7563 7475 7265  ansfer-structure
+0002d2b0: 3e60 0a20 2020 2020 2020 2022 2222 0a20  >`.        """. 
+0002d2c0: 2020 2020 2020 2073 656c 662e 6c6f 6164         self.load
+0002d2d0: 5f6d 6172 6b65 7473 2829 0a20 2020 2020  _markets().     
+0002d2e0: 2020 2069 6620 636f 6465 2069 7320 4e6f     if code is No
+0002d2f0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0002d300: 7261 6973 6520 4172 6775 6d65 6e74 7352  raise ArgumentsR
+0002d310: 6571 7569 7265 6428 7365 6c66 2e69 6420  equired(self.id 
+0002d320: 2b20 2720 6665 7463 6854 7261 6e73 6665  + ' fetchTransfe
+0002d330: 7273 2829 2072 6571 7569 7265 7320 6120  rs() requires a 
+0002d340: 636f 6465 2061 7267 756d 656e 7427 290a  code argument').
+0002d350: 2020 2020 2020 2020 6375 7272 656e 6379          currency
+0002d360: 203d 2073 656c 662e 6375 7272 656e 6379   = self.currency
+0002d370: 2863 6f64 6529 0a20 2020 2020 2020 2072  (code).        r
+0002d380: 6571 7565 7374 203d 207b 0a20 2020 2020  equest = {.     
+0002d390: 2020 2020 2020 2027 6375 7272 656e 6379         'currency
+0002d3a0: 273a 2063 7572 7265 6e63 795b 2769 6427  ': currency['id'
+0002d3b0: 5d2c 0a20 2020 2020 2020 207d 0a20 2020  ],.        }.   
+0002d3c0: 2020 2020 2069 6620 7369 6e63 6520 6973       if since is
+0002d3d0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+0002d3e0: 2020 2020 2020 2072 6571 7565 7374 5b27         request['
+0002d3f0: 7374 6172 7427 5d20 3d20 7369 6e63 650a  start'] = since.
+0002d400: 2020 2020 2020 2020 6966 206c 696d 6974          if limit
+0002d410: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+0002d420: 2020 2020 2020 2020 2020 7265 7175 6573            reques
+0002d430: 745b 276c 696d 6974 275d 203d 206c 696d  t['limit'] = lim
+0002d440: 6974 0a20 2020 2020 2020 2072 6573 706f  it.        respo
+0002d450: 6e73 6520 3d20 7365 6c66 2e70 7269 7661  nse = self.priva
+0002d460: 7465 4765 7441 7373 6574 7354 7261 6e73  teGetAssetsTrans
+0002d470: 6665 7228 7365 6c66 2e65 7874 656e 6428  fer(self.extend(
+0002d480: 7265 7175 6573 742c 2070 6172 616d 7329  request, params)
+0002d490: 290a 2020 2020 2020 2020 230a 2020 2020  ).        #.    
+0002d4a0: 2020 2020 2320 2020 2020 7b0a 2020 2020      #     {.    
+0002d4b0: 2020 2020 2320 2020 2020 2020 2020 2263      #         "c
+0002d4c0: 6f64 6522 3a20 302c 0a20 2020 2020 2020  ode": 0,.       
+0002d4d0: 2023 2020 2020 2020 2020 2022 6d73 6722   #         "msg"
+0002d4e0: 3a20 224f 4b22 2c0a 2020 2020 2020 2020  : "OK",.        
+0002d4f0: 2320 2020 2020 2020 2020 2264 6174 6122  #         "data"
+0002d500: 3a20 7b0a 2020 2020 2020 2020 2320 2020  : {.        #   
+0002d510: 2020 2020 2020 2020 2020 2272 6f77 7322            "rows"
+0002d520: 3a20 5b0a 2020 2020 2020 2020 2320 2020  : [.        #   
+0002d530: 2020 2020 2020 2020 2020 2020 2020 7b0a                {.
+0002d540: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002d550: 2020 2020 2020 2020 2020 2020 2020 226c                "l
+0002d560: 696e 6b4b 6579 223a 2022 3837 6330 3731  inkKey": "87c071
+0002d570: 6133 2d38 3632 382d 3461 6332 2d61 6361  a3-8628-4ac2-aca
+0002d580: 312d 3663 6530 6431 6661 6436 3663 222c  1-6ce0d1fad66c",
+0002d590: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+0002d5a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0002d5b0: 7573 6572 4964 223a 2034 3134 3834 3238  userId": 4148428
+0002d5c0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002d5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d5e0: 2263 7572 7265 6e63 7922 3a20 2242 5443  "currency": "BTC
+0002d5f0: 222c 0a20 2020 2020 2020 2023 2020 2020  ",.        #    
+0002d600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d610: 2022 616d 6f75 6e74 4576 223a 2036 3739   "amountEv": 679
+0002d620: 3332 2c0a 2020 2020 2020 2020 2320 2020  32,.        #   
+0002d630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d640: 2020 2273 6964 6522 3a20 322c 0a20 2020    "side": 2,.   
+0002d650: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0002d660: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
+0002d670: 7573 223a 2031 302c 0a20 2020 2020 2020  us": 10,.       
+0002d680: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002d690: 2020 2020 2020 2022 6372 6561 7465 5469         "createTi
+0002d6a0: 6d65 223a 2031 3635 3238 3332 3436 3730  me": 16528324670
+0002d6b0: 3030 2c0a 2020 2020 2020 2020 2320 2020  00,.        #   
+0002d6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d6d0: 2020 2262 697a 5479 7065 223a 2031 300a    "bizType": 10.
+0002d6e0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002d6f0: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
+0002d700: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002d710: 2020 5d0a 2020 2020 2020 2020 2320 2020    ].        #   
+0002d720: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0002d730: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
+0002d740: 230a 2020 2020 2020 2020 6461 7461 203d  #.        data =
+0002d750: 2073 656c 662e 7361 6665 5f76 616c 7565   self.safe_value
+0002d760: 2872 6573 706f 6e73 652c 2027 6461 7461  (response, 'data
+0002d770: 272c 207b 7d29 0a20 2020 2020 2020 2074  ', {}).        t
+0002d780: 7261 6e73 6665 7273 203d 2073 656c 662e  ransfers = self.
+0002d790: 7361 6665 5f76 616c 7565 2864 6174 612c  safe_value(data,
+0002d7a0: 2027 726f 7773 272c 205b 5d29 0a20 2020   'rows', []).   
+0002d7b0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0002d7c0: 2e70 6172 7365 5f74 7261 6e73 6665 7273  .parse_transfers
+0002d7d0: 2874 7261 6e73 6665 7273 2c20 6375 7272  (transfers, curr
+0002d7e0: 656e 6379 2c20 7369 6e63 652c 206c 696d  ency, since, lim
+0002d7f0: 6974 290a 0a20 2020 2064 6566 2070 6172  it)..    def par
+0002d800: 7365 5f74 7261 6e73 6665 7228 7365 6c66  se_transfer(self
+0002d810: 2c20 7472 616e 7366 6572 2c20 6375 7272  , transfer, curr
+0002d820: 656e 6379 3d4e 6f6e 6529 3a0a 2020 2020  ency=None):.    
+0002d830: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+0002d840: 7472 616e 7366 6572 0a20 2020 2020 2020  transfer.       
+0002d850: 2023 0a20 2020 2020 2020 2023 2020 2020   #.        #    
+0002d860: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+0002d870: 2020 2020 206c 696e 6b4b 6579 3a20 2738       linkKey: '8
+0002d880: 3536 3465 6261 342d 6339 6563 2d34 3964  564eba4-c9ec-49d
+0002d890: 362d 3962 3863 2d32 6563 3530 3031 6130  6-9b8c-2ec5001a0
+0002d8a0: 6662 3927 2c0a 2020 2020 2020 2020 2320  fb9',.        # 
+0002d8b0: 2020 2020 2020 2020 7573 6572 4964 3a20          userId: 
+0002d8c0: 2734 3031 3833 3430 272c 0a20 2020 2020  '4018340',.     
+0002d8d0: 2020 2023 2020 2020 2020 2020 2063 7572     #         cur
+0002d8e0: 7265 6e63 793a 2027 5553 4427 2c0a 2020  rency: 'USD',.  
+0002d8f0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002d900: 616d 6f75 6e74 4576 3a20 2731 3027 2c0a  amountEv: '10',.
+0002d910: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0002d920: 2020 7369 6465 3a20 2732 272c 0a20 2020    side: '2',.   
+0002d930: 2020 2020 2023 2020 2020 2020 2020 2073       #         s
+0002d940: 7461 7475 733a 2027 3130 270a 2020 2020  tatus: '10'.    
+0002d950: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
+0002d960: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
+0002d970: 6665 7463 6854 7261 6e73 6665 7273 0a20  fetchTransfers. 
+0002d980: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
+0002d990: 2023 2020 2020 207b 0a20 2020 2020 2020   #     {.       
+0002d9a0: 2023 2020 2020 2020 2020 2022 6c69 6e6b   #         "link
+0002d9b0: 4b65 7922 3a20 2238 3763 3037 3161 332d  Key": "87c071a3-
+0002d9c0: 3836 3238 2d34 6163 322d 6163 6131 2d36  8628-4ac2-aca1-6
+0002d9d0: 6365 3064 3166 6164 3636 6322 2c0a 2020  ce0d1fad66c",.  
+0002d9e0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002d9f0: 2275 7365 7249 6422 3a20 3431 3438 3432  "userId": 414842
+0002da00: 382c 0a20 2020 2020 2020 2023 2020 2020  8,.        #    
+0002da10: 2020 2020 2022 6375 7272 656e 6379 223a       "currency":
+0002da20: 2022 4254 4322 2c0a 2020 2020 2020 2020   "BTC",.        
+0002da30: 2320 2020 2020 2020 2020 2261 6d6f 756e  #         "amoun
+0002da40: 7445 7622 3a20 3637 3933 322c 0a20 2020  tEv": 67932,.   
+0002da50: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+0002da60: 7369 6465 223a 2032 2c0a 2020 2020 2020  side": 2,.      
+0002da70: 2020 2320 2020 2020 2020 2020 2273 7461    #         "sta
+0002da80: 7475 7322 3a20 3130 2c0a 2020 2020 2020  tus": 10,.      
+0002da90: 2020 2320 2020 2020 2020 2020 2263 7265    #         "cre
+0002daa0: 6174 6554 696d 6522 3a20 3136 3532 3833  ateTime": 165283
+0002dab0: 3234 3637 3030 302c 0a20 2020 2020 2020  2467000,.       
+0002dac0: 2023 2020 2020 2020 2020 2022 6269 7a54   #         "bizT
+0002dad0: 7970 6522 3a20 3130 0a20 2020 2020 2020  ype": 10.       
+0002dae0: 2023 2020 2020 207d 0a20 2020 2020 2020   #     }.       
+0002daf0: 2023 0a20 2020 2020 2020 2069 6420 3d20   #.        id = 
+0002db00: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+0002db10: 2874 7261 6e73 6665 722c 2027 6c69 6e6b  (transfer, 'link
+0002db20: 4b65 7927 290a 2020 2020 2020 2020 7374  Key').        st
+0002db30: 6174 7573 203d 2073 656c 662e 7361 6665  atus = self.safe
+0002db40: 5f73 7472 696e 6728 7472 616e 7366 6572  _string(transfer
+0002db50: 2c20 2773 7461 7475 7327 290a 2020 2020  , 'status').    
+0002db60: 2020 2020 616d 6f75 6e74 4576 203d 2073      amountEv = s
+0002db70: 656c 662e 7361 6665 5f73 7472 696e 6728  elf.safe_string(
+0002db80: 7472 616e 7366 6572 2c20 2761 6d6f 756e  transfer, 'amoun
+0002db90: 7445 7627 290a 2020 2020 2020 2020 616d  tEv').        am
+0002dba0: 6f75 6e74 5472 616e 7366 6572 6564 203d  ountTransfered =
+0002dbb0: 2073 656c 662e 6672 6f6d 5f65 7628 616d   self.from_ev(am
+0002dbc0: 6f75 6e74 4576 2c20 6375 7272 656e 6379  ountEv, currency
+0002dbd0: 290a 2020 2020 2020 2020 6375 7272 656e  ).        curren
+0002dbe0: 6379 4964 203d 2073 656c 662e 7361 6665  cyId = self.safe
+0002dbf0: 5f73 7472 696e 6728 7472 616e 7366 6572  _string(transfer
+0002dc00: 2c20 2763 7572 7265 6e63 7927 290a 2020  , 'currency').  
+0002dc10: 2020 2020 2020 636f 6465 203d 2073 656c        code = sel
+0002dc20: 662e 7361 6665 5f63 7572 7265 6e63 795f  f.safe_currency_
+0002dc30: 636f 6465 2863 7572 7265 6e63 7949 642c  code(currencyId,
+0002dc40: 2063 7572 7265 6e63 7929 0a20 2020 2020   currency).     
+0002dc50: 2020 2073 6964 6520 3d20 7365 6c66 2e73     side = self.s
+0002dc60: 6166 655f 696e 7465 6765 7228 7472 616e  afe_integer(tran
+0002dc70: 7366 6572 2c20 2773 6964 6527 290a 2020  sfer, 'side').  
+0002dc80: 2020 2020 2020 6672 6f6d 4964 203d 204e        fromId = N
+0002dc90: 6f6e 650a 2020 2020 2020 2020 746f 4964  one.        toId
+0002dca0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+0002dcb0: 6966 2073 6964 6520 3d3d 2031 3a0a 2020  if side == 1:.  
+0002dcc0: 2020 2020 2020 2020 2020 6672 6f6d 4964            fromId
+0002dcd0: 203d 2027 7377 6170 270a 2020 2020 2020   = 'swap'.      
+0002dce0: 2020 2020 2020 746f 4964 203d 2027 7370        toId = 'sp
+0002dcf0: 6f74 270a 2020 2020 2020 2020 656c 6966  ot'.        elif
+0002dd00: 2073 6964 6520 3d3d 2032 3a0a 2020 2020   side == 2:.    
+0002dd10: 2020 2020 2020 2020 6672 6f6d 4964 203d          fromId =
+0002dd20: 2027 7370 6f74 270a 2020 2020 2020 2020   'spot'.        
+0002dd30: 2020 2020 746f 4964 203d 2027 7377 6170      toId = 'swap
+0002dd40: 270a 2020 2020 2020 2020 7469 6d65 7374  '.        timest
+0002dd50: 616d 7020 3d20 7365 6c66 2e73 6166 655f  amp = self.safe_
+0002dd60: 696e 7465 6765 7228 7472 616e 7366 6572  integer(transfer
+0002dd70: 2c20 2763 7265 6174 6554 696d 6527 290a  , 'createTime').
+0002dd80: 2020 2020 2020 2020 7265 7475 726e 207b          return {
+0002dd90: 0a20 2020 2020 2020 2020 2020 2027 696e  .            'in
+0002dda0: 666f 273a 2074 7261 6e73 6665 722c 0a20  fo': transfer,. 
+0002ddb0: 2020 2020 2020 2020 2020 2027 6964 273a             'id':
+0002ddc0: 2069 642c 0a20 2020 2020 2020 2020 2020   id,.           
+0002ddd0: 2027 7469 6d65 7374 616d 7027 3a20 7469   'timestamp': ti
+0002dde0: 6d65 7374 616d 702c 0a20 2020 2020 2020  mestamp,.       
+0002ddf0: 2020 2020 2027 6461 7465 7469 6d65 273a       'datetime':
+0002de00: 2073 656c 662e 6973 6f38 3630 3128 7469   self.iso8601(ti
+0002de10: 6d65 7374 616d 7029 2c0a 2020 2020 2020  mestamp),.      
+0002de20: 2020 2020 2020 2763 7572 7265 6e63 7927        'currency'
+0002de30: 3a20 636f 6465 2c0a 2020 2020 2020 2020  : code,.        
+0002de40: 2020 2020 2761 6d6f 756e 7427 3a20 616d      'amount': am
+0002de50: 6f75 6e74 5472 616e 7366 6572 6564 2c0a  ountTransfered,.
+0002de60: 2020 2020 2020 2020 2020 2020 2766 726f              'fro
+0002de70: 6d41 6363 6f75 6e74 273a 2066 726f 6d49  mAccount': fromI
+0002de80: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+0002de90: 746f 4163 636f 756e 7427 3a20 746f 4964  toAccount': toId
+0002dea0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+0002deb0: 7461 7475 7327 3a20 7365 6c66 2e70 6172  tatus': self.par
+0002dec0: 7365 5f74 7261 6e73 6665 725f 7374 6174  se_transfer_stat
+0002ded0: 7573 2873 7461 7475 7329 2c0a 2020 2020  us(status),.    
+0002dee0: 2020 2020 7d0a 0a20 2020 2064 6566 2070      }..    def p
+0002def0: 6172 7365 5f74 7261 6e73 6665 725f 7374  arse_transfer_st
+0002df00: 6174 7573 2873 656c 662c 2073 7461 7475  atus(self, statu
+0002df10: 7329 3a0a 2020 2020 2020 2020 7374 6174  s):.        stat
+0002df20: 7573 6573 203d 207b 0a20 2020 2020 2020  uses = {.       
+0002df30: 2020 2020 2027 3327 3a20 2772 656a 6563       '3': 'rejec
+0002df40: 7465 6427 2c20 2023 2027 5265 6a65 6374  ted',  # 'Reject
+0002df50: 6564 272c 0a20 2020 2020 2020 2020 2020  ed',.           
+0002df60: 2027 3627 3a20 2763 616e 6365 6c65 6427   '6': 'canceled'
+0002df70: 2c20 2023 2027 476f 7420 6572 726f 7220  ,  # 'Got error 
+0002df80: 616e 6420 7761 6974 2066 6f72 2072 6563  and wait for rec
+0002df90: 6f76 6572 7927 2c0a 2020 2020 2020 2020  overy',.        
+0002dfa0: 2020 2020 2731 3027 3a20 276f 6b27 2c20      '10': 'ok', 
+0002dfb0: 2023 2027 5375 6363 6573 7327 2c0a 2020   # 'Success',.  
+0002dfc0: 2020 2020 2020 2020 2020 2731 3127 3a20            '11': 
+0002dfd0: 2766 6169 6c65 6427 2c20 2023 2027 4661  'failed',  # 'Fa
+0002dfe0: 696c 6564 272c 0a20 2020 2020 2020 207d  iled',.        }
+0002dff0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0002e000: 7365 6c66 2e73 6166 655f 7374 7269 6e67  self.safe_string
+0002e010: 2873 7461 7475 7365 732c 2073 7461 7475  (statuses, statu
+0002e020: 732c 2073 7461 7475 7329 0a0a 2020 2020  s, status)..    
+0002e030: 6465 6620 6665 7463 685f 6675 6e64 696e  def fetch_fundin
+0002e040: 675f 7261 7465 5f68 6973 746f 7279 2873  g_rate_history(s
+0002e050: 656c 662c 2073 796d 626f 6c3a 204f 7074  elf, symbol: Opt
+0002e060: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+0002e070: 652c 2073 696e 6365 3a20 4f70 7469 6f6e  e, since: Option
+0002e080: 616c 5b69 6e74 5d20 3d20 4e6f 6e65 2c20  al[int] = None, 
+0002e090: 6c69 6d69 743a 204f 7074 696f 6e61 6c5b  limit: Optional[
+0002e0a0: 696e 745d 203d 204e 6f6e 652c 2070 6172  int] = None, par
+0002e0b0: 616d 733d 7b7d 293a 0a20 2020 2020 2020  ams={}):.       
+0002e0c0: 2073 656c 662e 6368 6563 6b5f 7265 7175   self.check_requ
+0002e0d0: 6972 6564 5f73 796d 626f 6c28 2766 6574  ired_symbol('fet
+0002e0e0: 6368 4675 6e64 696e 6752 6174 6548 6973  chFundingRateHis
+0002e0f0: 746f 7279 272c 2073 796d 626f 6c29 0a20  tory', symbol). 
+0002e100: 2020 2020 2020 2073 656c 662e 6c6f 6164         self.load
+0002e110: 5f6d 6172 6b65 7473 2829 0a20 2020 2020  _markets().     
+0002e120: 2020 206d 6172 6b65 7420 3d20 7365 6c66     market = self
+0002e130: 2e6d 6172 6b65 7428 7379 6d62 6f6c 290a  .market(symbol).
+0002e140: 2020 2020 2020 2020 6973 5573 6474 5365          isUsdtSe
+0002e150: 7474 6c65 6420 3d20 6d61 726b 6574 5b27  ttled = market['
+0002e160: 7365 7474 6c65 275d 203d 3d20 2755 5344  settle'] == 'USD
+0002e170: 5427 0a20 2020 2020 2020 2069 6620 6e6f  T'.        if no
+0002e180: 7420 6d61 726b 6574 5b27 7377 6170 275d  t market['swap']
+0002e190: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+0002e1a0: 6973 6520 4261 6452 6571 7565 7374 2873  ise BadRequest(s
+0002e1b0: 656c 662e 6964 202b 2027 2066 6574 6368  elf.id + ' fetch
+0002e1c0: 4675 6e64 696e 6752 6174 6548 6973 746f  FundingRateHisto
+0002e1d0: 7279 2829 2073 7570 706f 7274 7320 7377  ry() supports sw
+0002e1e0: 6170 2063 6f6e 7472 6163 7473 206f 6e6c  ap contracts onl
+0002e1f0: 7927 290a 2020 2020 2020 2020 6375 7374  y').        cust
+0002e200: 6f6d 5379 6d62 6f6c 203d 204e 6f6e 650a  omSymbol = None.
+0002e210: 2020 2020 2020 2020 6966 2069 7355 7364          if isUsd
+0002e220: 7453 6574 746c 6564 3a0a 2020 2020 2020  tSettled:.      
+0002e230: 2020 2020 2020 6375 7374 6f6d 5379 6d62        customSymb
+0002e240: 6f6c 203d 2027 2e27 202b 206d 6172 6b65  ol = '.' + marke
+0002e250: 745b 2769 6427 5d20 2b20 2746 5238 4827  t['id'] + 'FR8H'
+0002e260: 2020 2320 7068 656d 6578 2072 6571 7569    # phemex requi
+0002e270: 7265 7320 6120 6375 7374 6f6d 2073 796d  res a custom sym
+0002e280: 626f 6c20 666f 7220 6675 6e64 696e 6720  bol for funding 
+0002e290: 7261 7465 2068 6973 746f 7279 0a20 2020  rate history.   
+0002e2a0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0002e2b0: 2020 2020 2020 2063 7573 746f 6d53 796d         customSym
+0002e2c0: 626f 6c20 3d20 272e 2720 2b20 6d61 726b  bol = '.' + mark
+0002e2d0: 6574 5b27 6261 7365 4964 275d 202b 2027  et['baseId'] + '
+0002e2e0: 4652 3848 270a 2020 2020 2020 2020 7265  FR8H'.        re
+0002e2f0: 7175 6573 7420 3d20 7b0a 2020 2020 2020  quest = {.      
+0002e300: 2020 2020 2020 2773 796d 626f 6c27 3a20        'symbol': 
+0002e310: 6375 7374 6f6d 5379 6d62 6f6c 2c0a 2020  customSymbol,.  
+0002e320: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0002e330: 6966 2073 696e 6365 2069 7320 6e6f 7420  if since is not 
+0002e340: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+0002e350: 2020 7265 7175 6573 745b 2773 7461 7274    request['start
+0002e360: 275d 203d 2073 696e 6365 0a20 2020 2020  '] = since.     
+0002e370: 2020 2069 6620 6c69 6d69 7420 6973 206e     if limit is n
+0002e380: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+0002e390: 2020 2020 2072 6571 7565 7374 5b27 6c69       request['li
+0002e3a0: 6d69 7427 5d20 3d20 6c69 6d69 740a 2020  mit'] = limit.  
+0002e3b0: 2020 2020 2020 7265 7370 6f6e 7365 203d        response =
+0002e3c0: 204e 6f6e 650a 2020 2020 2020 2020 6966   None.        if
+0002e3d0: 2069 7355 7364 7453 6574 746c 6564 3a0a   isUsdtSettled:.
+0002e3e0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+0002e3f0: 6f6e 7365 203d 2073 656c 662e 7632 4765  onse = self.v2Ge
+0002e400: 7441 7069 4461 7461 5075 626c 6963 4461  tApiDataPublicDa
+0002e410: 7461 4675 6e64 696e 6752 6174 6548 6973  taFundingRateHis
+0002e420: 746f 7279 2873 656c 662e 6578 7465 6e64  tory(self.extend
+0002e430: 2872 6571 7565 7374 2c20 7061 7261 6d73  (request, params
+0002e440: 2929 0a20 2020 2020 2020 2065 6c73 653a  )).        else:
+0002e450: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
+0002e460: 706f 6e73 6520 3d20 7365 6c66 2e76 3147  ponse = self.v1G
+0002e470: 6574 4170 6944 6174 6150 7562 6c69 6344  etApiDataPublicD
+0002e480: 6174 6146 756e 6469 6e67 5261 7465 4869  ataFundingRateHi
+0002e490: 7374 6f72 7928 7365 6c66 2e65 7874 656e  story(self.exten
+0002e4a0: 6428 7265 7175 6573 742c 2070 6172 616d  d(request, param
+0002e4b0: 7329 290a 2020 2020 2020 2020 230a 2020  s)).        #.  
+0002e4c0: 2020 2020 2020 2320 2020 207b 0a20 2020        #    {.   
+0002e4d0: 2020 2020 2023 2020 2020 2020 2020 2263       #        "c
+0002e4e0: 6f64 6522 3a22 3022 2c0a 2020 2020 2020  ode":"0",.      
+0002e4f0: 2020 2320 2020 2020 2020 2022 6d73 6722    #        "msg"
+0002e500: 3a22 4f4b 222c 0a20 2020 2020 2020 2023  :"OK",.        #
+0002e510: 2020 2020 2020 2020 2264 6174 6122 3a7b          "data":{
+0002e520: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
+0002e530: 2020 2020 2022 726f 7773 223a 5b0a 2020       "rows":[.  
+0002e540: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+0002e550: 2020 2020 207b 0a20 2020 2020 2020 2023       {.        #
+0002e560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002e570: 2022 7379 6d62 6f6c 223a 222e 4254 4355   "symbol":".BTCU
+0002e580: 5344 5446 5238 4822 2c0a 2020 2020 2020  SDTFR8H",.      
+0002e590: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+0002e5a0: 2020 2020 2266 756e 6469 6e67 5261 7465      "fundingRate
+0002e5b0: 223a 2230 2e30 3030 3122 2c0a 2020 2020  ":"0.0001",.    
+0002e5c0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+0002e5d0: 2020 2020 2020 2266 756e 6469 6e67 5469        "fundingTi
+0002e5e0: 6d65 223a 2231 3638 3230 3634 3030 3030  me":"16820640000
+0002e5f0: 3030 222c 0a20 2020 2020 2020 2023 2020  00",.        #  
+0002e600: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0002e610: 696e 7465 7276 616c 5365 636f 6e64 7322  intervalSeconds"
+0002e620: 3a22 3238 3830 3022 0a20 2020 2020 2020  :"28800".       
+0002e630: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0002e640: 7d0a 2020 2020 2020 2020 2320 2020 2020  }.        #     
+0002e650: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
+0002e660: 2320 2020 2020 2020 207d 0a20 2020 2020  #        }.     
+0002e670: 2020 2023 2020 2020 7d0a 2020 2020 2020     #    }.      
+0002e680: 2020 230a 2020 2020 2020 2020 6461 7461    #.        data
+0002e690: 203d 2073 656c 662e 7361 6665 5f76 616c   = self.safe_val
+0002e6a0: 7565 2872 6573 706f 6e73 652c 2027 6461  ue(response, 'da
+0002e6b0: 7461 272c 207b 7d29 0a20 2020 2020 2020  ta', {}).       
+0002e6c0: 2072 6174 6573 203d 2073 656c 662e 7361   rates = self.sa
+0002e6d0: 6665 5f76 616c 7565 2864 6174 612c 2027  fe_value(data, '
+0002e6e0: 726f 7773 2729 0a20 2020 2020 2020 2072  rows').        r
+0002e6f0: 6573 756c 7420 3d20 5b5d 0a20 2020 2020  esult = [].     
+0002e700: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+0002e710: 6528 302c 206c 656e 2872 6174 6573 2929  e(0, len(rates))
+0002e720: 3a0a 2020 2020 2020 2020 2020 2020 6974  :.            it
+0002e730: 656d 203d 2072 6174 6573 5b69 5d0a 2020  em = rates[i].  
+0002e740: 2020 2020 2020 2020 2020 7469 6d65 7374            timest
+0002e750: 616d 7020 3d20 7365 6c66 2e73 6166 655f  amp = self.safe_
+0002e760: 696e 7465 6765 7228 6974 656d 2c20 2766  integer(item, 'f
+0002e770: 756e 6469 6e67 5469 6d65 2729 0a20 2020  undingTime').   
+0002e780: 2020 2020 2020 2020 2072 6573 756c 742e           result.
+0002e790: 6170 7065 6e64 287b 0a20 2020 2020 2020  append({.       
+0002e7a0: 2020 2020 2020 2020 2027 696e 666f 273a           'info':
+0002e7b0: 2069 7465 6d2c 0a20 2020 2020 2020 2020   item,.         
+0002e7c0: 2020 2020 2020 2027 7379 6d62 6f6c 273a         'symbol':
+0002e7d0: 2073 796d 626f 6c2c 0a20 2020 2020 2020   symbol,.       
+0002e7e0: 2020 2020 2020 2020 2027 6675 6e64 696e           'fundin
+0002e7f0: 6752 6174 6527 3a20 7365 6c66 2e73 6166  gRate': self.saf
+0002e800: 655f 6e75 6d62 6572 2869 7465 6d2c 2027  e_number(item, '
+0002e810: 6675 6e64 696e 6752 6174 6527 292c 0a20  fundingRate'),. 
+0002e820: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0002e830: 7469 6d65 7374 616d 7027 3a20 7469 6d65  timestamp': time
+0002e840: 7374 616d 702c 0a20 2020 2020 2020 2020  stamp,.         
+0002e850: 2020 2020 2020 2027 6461 7465 7469 6d65         'datetime
+0002e860: 273a 2073 656c 662e 6973 6f38 3630 3128  ': self.iso8601(
+0002e870: 7469 6d65 7374 616d 7029 2c0a 2020 2020  timestamp),.    
+0002e880: 2020 2020 2020 2020 7d29 0a20 2020 2020          }).     
+0002e890: 2020 2073 6f72 7465 6420 3d20 7365 6c66     sorted = self
+0002e8a0: 2e73 6f72 745f 6279 2872 6573 756c 742c  .sort_by(result,
+0002e8b0: 2027 7469 6d65 7374 616d 7027 290a 2020   'timestamp').  
+0002e8c0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+0002e8d0: 662e 6669 6c74 6572 5f62 795f 7379 6d62  f.filter_by_symb
+0002e8e0: 6f6c 5f73 696e 6365 5f6c 696d 6974 2873  ol_since_limit(s
+0002e8f0: 6f72 7465 642c 2073 796d 626f 6c2c 2073  orted, symbol, s
+0002e900: 696e 6365 2c20 6c69 6d69 7429 0a0a 2020  ince, limit)..  
+0002e910: 2020 6465 6620 6861 6e64 6c65 5f65 7272    def handle_err
+0002e920: 6f72 7328 7365 6c66 2c20 6874 7470 436f  ors(self, httpCo
+0002e930: 6465 2c20 7265 6173 6f6e 2c20 7572 6c2c  de, reason, url,
+0002e940: 206d 6574 686f 642c 2068 6561 6465 7273   method, headers
+0002e950: 2c20 626f 6479 2c20 7265 7370 6f6e 7365  , body, response
+0002e960: 2c20 7265 7175 6573 7448 6561 6465 7273  , requestHeaders
+0002e970: 2c20 7265 7175 6573 7442 6f64 7929 3a0a  , requestBody):.
+0002e980: 2020 2020 2020 2020 6966 2072 6573 706f          if respo
+0002e990: 6e73 6520 6973 204e 6f6e 653a 0a20 2020  nse is None:.   
+0002e9a0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0002e9b0: 4e6f 6e65 2020 2320 6661 6c6c 6261 636b  None  # fallback
+0002e9c0: 2074 6f20 6465 6661 756c 7420 6572 726f   to default erro
+0002e9d0: 7220 6861 6e64 6c65 720a 2020 2020 2020  r handler.      
+0002e9e0: 2020 230a 2020 2020 2020 2020 2320 2020    #.        #   
+0002e9f0: 2020 7b22 636f 6465 223a 3330 3031 382c    {"code":30018,
+0002ea00: 226d 7367 223a 2270 6865 6d65 782e 6461  "msg":"phemex.da
+0002ea10: 7461 2e73 697a 652e 7570 6c69 6d74 222c  ta.size.uplimt",
+0002ea20: 2264 6174 6122 3a6e 756c 6c7d 0a20 2020  "data":null}.   
+0002ea30: 2020 2020 2023 2020 2020 207b 2263 6f64       #     {"cod
+0002ea40: 6522 3a34 3132 2c22 6d73 6722 3a22 4d69  e":412,"msg":"Mi
+0002ea50: 7373 696e 6720 7061 7261 6d65 7465 7220  ssing parameter 
+0002ea60: 2d20 7265 736f 6c75 7469 6f6e 222c 2264  - resolution","d
+0002ea70: 6174 6122 3a6e 756c 6c7d 0a20 2020 2020  ata":null}.     
+0002ea80: 2020 2023 2020 2020 207b 2263 6f64 6522     #     {"code"
+0002ea90: 3a34 3132 2c22 6d73 6722 3a22 4d69 7373  :412,"msg":"Miss
+0002eaa0: 696e 6720 7061 7261 6d65 7465 7220 2d20  ing parameter - 
+0002eab0: 746f 222c 2264 6174 6122 3a6e 756c 6c7d  to","data":null}
+0002eac0: 0a20 2020 2020 2020 2023 2020 2020 207b  .        #     {
+0002ead0: 2265 7272 6f72 223a 7b22 636f 6465 223a  "error":{"code":
+0002eae0: 3630 3031 2c22 6d65 7373 6167 6522 3a22  6001,"message":"
+0002eaf0: 696e 7661 6c69 6420 6172 6775 6d65 6e74  invalid argument
+0002eb00: 227d 2c22 6964 223a 6e75 6c6c 2c22 7265  "},"id":null,"re
+0002eb10: 7375 6c74 223a 6e75 6c6c 7d0a 2020 2020  sult":null}.    
+0002eb20: 2020 2020 230a 2020 2020 2020 2020 6572      #.        er
+0002eb30: 726f 7220 3d20 7365 6c66 2e73 6166 655f  ror = self.safe_
+0002eb40: 7661 6c75 6528 7265 7370 6f6e 7365 2c20  value(response, 
+0002eb50: 2765 7272 6f72 272c 2072 6573 706f 6e73  'error', respons
+0002eb60: 6529 0a20 2020 2020 2020 2065 7272 6f72  e).        error
+0002eb70: 436f 6465 203d 2073 656c 662e 7361 6665  Code = self.safe
+0002eb80: 5f73 7472 696e 6728 6572 726f 722c 2027  _string(error, '
+0002eb90: 636f 6465 2729 0a20 2020 2020 2020 206d  code').        m
+0002eba0: 6573 7361 6765 203d 2073 656c 662e 7361  essage = self.sa
+0002ebb0: 6665 5f73 7472 696e 6728 6572 726f 722c  fe_string(error,
+0002ebc0: 2027 6d73 6727 290a 2020 2020 2020 2020   'msg').        
+0002ebd0: 6966 2028 6572 726f 7243 6f64 6520 6973  if (errorCode is
+0002ebe0: 206e 6f74 204e 6f6e 6529 2061 6e64 2028   not None) and (
+0002ebf0: 6572 726f 7243 6f64 6520 213d 2027 3027  errorCode != '0'
+0002ec00: 293a 0a20 2020 2020 2020 2020 2020 2066  ):.            f
+0002ec10: 6565 6462 6163 6b20 3d20 7365 6c66 2e69  eedback = self.i
+0002ec20: 6420 2b20 2720 2720 2b20 626f 6479 0a20  d + ' ' + body. 
+0002ec30: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0002ec40: 7468 726f 775f 6578 6163 746c 795f 6d61  throw_exactly_ma
+0002ec50: 7463 6865 645f 6578 6365 7074 696f 6e28  tched_exception(
+0002ec60: 7365 6c66 2e65 7863 6570 7469 6f6e 735b  self.exceptions[
+0002ec70: 2765 7861 6374 275d 2c20 6572 726f 7243  'exact'], errorC
+0002ec80: 6f64 652c 2066 6565 6462 6163 6b29 0a20  ode, feedback). 
+0002ec90: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0002eca0: 7468 726f 775f 6272 6f61 646c 795f 6d61  throw_broadly_ma
+0002ecb0: 7463 6865 645f 6578 6365 7074 696f 6e28  tched_exception(
+0002ecc0: 7365 6c66 2e65 7863 6570 7469 6f6e 735b  self.exceptions[
+0002ecd0: 2762 726f 6164 275d 2c20 6d65 7373 6167  'broad'], messag
+0002ece0: 652c 2066 6565 6462 6163 6b29 0a20 2020  e, feedback).   
+0002ecf0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0002ed00: 7863 6861 6e67 6545 7272 6f72 2866 6565  xchangeError(fee
+0002ed10: 6462 6163 6b29 2020 2320 756e 6b6e 6f77  dback)  # unknow
+0002ed20: 6e20 6d65 7373 6167 650a 2020 2020 2020  n message.      
+0002ed30: 2020 7265 7475 726e 204e 6f6e 650a         return None.
```

### Comparing `ccxt-3.0.97/ccxt/poloniex.py` & `ccxt-3.0.98/ccxt/poloniex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/poloniexfutures.py` & `ccxt-3.0.98/ccxt/poloniexfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/__init__.py` & `ccxt-3.0.98/ccxt/pro/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 # -*- coding: utf-8 -*-
 
 """CCXT: CryptoCurrency eXchange Trading Library (Async)"""
 
 # ----------------------------------------------------------------------------
 
-__version__ = '3.0.97'
+__version__ = '3.0.98'
 
 # ----------------------------------------------------------------------------
 
 from ccxt.base.exchange import Exchange  # noqa: F401
 
 # CCXT Pro exchanges (now this is mainly used for importing exchanges in WS tests)
```

### Comparing `ccxt-3.0.97/ccxt/pro/alpaca.py` & `ccxt-3.0.98/ccxt/pro/alpaca.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/ascendex.py` & `ccxt-3.0.98/ccxt/pro/ascendex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bequant.py` & `ccxt-3.0.98/ccxt/pro/bequant.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/binance.py` & `ccxt-3.0.98/ccxt/pro/binance.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/binancecoinm.py` & `ccxt-3.0.98/ccxt/pro/binancecoinm.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/binanceus.py` & `ccxt-3.0.98/ccxt/pro/binanceus.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/binanceusdm.py` & `ccxt-3.0.98/ccxt/pro/binanceusdm.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitcoincom.py` & `ccxt-3.0.98/ccxt/pro/bitcoincom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitfinex.py` & `ccxt-3.0.98/ccxt/pro/bitfinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitfinex2.py` & `ccxt-3.0.98/ccxt/pro/bitfinex2.py`

 * *Files 0% similar despite different names*

```diff
@@ -614,18 +614,22 @@
             return
         depth = 25  # covers the first 25 bids and asks
         stringArray = []
         bids = book['bids']
         asks = book['asks']
         # pepperoni pizza from bitfinex
         for i in range(0, depth):
-            stringArray.append(self.number_to_string(bids[i][0]))
-            stringArray.append(self.number_to_string(bids[i][1]))
-            stringArray.append(self.number_to_string(asks[i][0]))
-            stringArray.append(self.number_to_string(-asks[i][1]))
+            bid = self.safe_value(bids, i)
+            ask = self.safe_value(asks, i)
+            if bid is not None:
+                stringArray.append(self.number_to_string(bids[i][0]))
+                stringArray.append(self.number_to_string(bids[i][1]))
+            if ask is not None:
+                stringArray.append(self.number_to_string(asks[i][0]))
+                stringArray.append(self.number_to_string(-asks[i][1]))
         payload = ':'.join(stringArray)
         localChecksum = self.crc32(payload, True)
         responseChecksum = self.safe_integer(message, 2)
         if responseChecksum != localChecksum:
             error = InvalidNonce(self.id + ' invalid checksum')
             client.reject(error, messageHash)
```

### Comparing `ccxt-3.0.97/ccxt/pro/bitget.py` & `ccxt-3.0.98/ccxt/pro/bitget.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitmart.py` & `ccxt-3.0.98/ccxt/pro/bitmart.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitmex.py` & `ccxt-3.0.98/ccxt/pro/bitmex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitopro.py` & `ccxt-3.0.98/ccxt/pro/bitopro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitrue.py` & `ccxt-3.0.98/ccxt/pro/bitrue.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitstamp.py` & `ccxt-3.0.98/ccxt/pro/bitstamp.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bittrex.py` & `ccxt-3.0.98/ccxt/pro/bittrex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bitvavo.py` & `ccxt-3.0.98/ccxt/pro/bitvavo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/btcex.py` & `ccxt-3.0.98/ccxt/pro/btcex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/bybit.py` & `ccxt-3.0.98/ccxt/pro/bybit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/cex.py` & `ccxt-3.0.98/ccxt/pro/cex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/coinbaseprime.py` & `ccxt-3.0.98/ccxt/pro/coinbaseprime.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/coinbasepro.py` & `ccxt-3.0.98/ccxt/pro/coinbasepro.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/coinex.py` & `ccxt-3.0.98/ccxt/pro/coinex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/cryptocom.py` & `ccxt-3.0.98/ccxt/pro/cryptocom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/currencycom.py` & `ccxt-3.0.98/ccxt/pro/currencycom.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/deribit.py` & `ccxt-3.0.98/ccxt/pro/deribit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/exmo.py` & `ccxt-3.0.98/ccxt/pro/exmo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/gate.py` & `ccxt-3.0.98/ccxt/pro/gate.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/gemini.py` & `ccxt-3.0.98/ccxt/pro/gemini.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/hitbtc.py` & `ccxt-3.0.98/ccxt/pro/hitbtc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/hollaex.py` & `ccxt-3.0.98/ccxt/pro/hollaex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/huobi.py` & `ccxt-3.0.98/ccxt/pro/huobi.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/huobijp.py` & `ccxt-3.0.98/ccxt/pro/huobijp.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/idex.py` & `ccxt-3.0.98/ccxt/pro/idex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/independentreserve.py` & `ccxt-3.0.98/ccxt/pro/independentreserve.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/kraken.py` & `ccxt-3.0.98/ccxt/pro/kraken.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/krakenfutures.py` & `ccxt-3.0.98/ccxt/pro/krakenfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/kucoin.py` & `ccxt-3.0.98/ccxt/pro/kucoin.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/kucoinfutures.py` & `ccxt-3.0.98/ccxt/pro/kucoinfutures.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/luno.py` & `ccxt-3.0.98/ccxt/pro/luno.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/mexc.py` & `ccxt-3.0.98/ccxt/pro/mexc.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/ndax.py` & `ccxt-3.0.98/ccxt/pro/ndax.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/okcoin.py` & `ccxt-3.0.98/ccxt/pro/okcoin.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/okx.py` & `ccxt-3.0.98/ccxt/pro/okx.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/phemex.py` & `ccxt-3.0.98/ccxt/pro/phemex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/probit.py` & `ccxt-3.0.98/ccxt/pro/probit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/ripio.py` & `ccxt-3.0.98/ccxt/pro/ripio.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/upbit.py` & `ccxt-3.0.98/ccxt/pro/upbit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/wazirx.py` & `ccxt-3.0.98/ccxt/pro/wazirx.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/whitebit.py` & `ccxt-3.0.98/ccxt/pro/whitebit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/woo.py` & `ccxt-3.0.98/ccxt/pro/woo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/pro/zb.py` & `ccxt-3.0.98/ccxt/pro/zb.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/probit.py` & `ccxt-3.0.98/ccxt/probit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/ripio.py` & `ccxt-3.0.98/ccxt/ripio.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/__init__.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/__init__.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/_version.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/_version.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/curves.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/curves.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/der.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/der.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/ecdsa.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/ecdsa.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/ellipticcurve.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/ellipticcurve.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/keys.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/keys.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/numbertheory.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/numbertheory.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/rfc6979.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/rfc6979.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/ecdsa/util.py` & `ccxt-3.0.98/ccxt/static_dependencies/ecdsa/util.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/static_dependencies/keccak/keccak.py` & `ccxt-3.0.98/ccxt/static_dependencies/keccak/keccak.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/stex.py` & `ccxt-3.0.98/ccxt/stex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/__init__.py` & `ccxt-3.0.98/ccxt/test/base/__init__.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_account.py` & `ccxt-3.0.98/ccxt/test/base/test_account.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_balance.py` & `ccxt-3.0.98/ccxt/test/base/test_balance.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_borrow_interest.py` & `ccxt-3.0.98/ccxt/test/base/test_borrow_interest.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_borrow_rate.py` & `ccxt-3.0.98/ccxt/test/base/test_borrow_rate.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_calculate_fee.py` & `ccxt-3.0.98/ccxt/test/base/test_calculate_fee.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_crypto.py` & `ccxt-3.0.98/ccxt/test/base/test_crypto.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_currency.py` & `ccxt-3.0.98/ccxt/test/base/test_currency.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_datetime.py` & `ccxt-3.0.98/ccxt/test/base/test_datetime.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_decimal_to_precision.py` & `ccxt-3.0.98/ccxt/test/base/test_decimal_to_precision.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_deep_extend.py` & `ccxt-3.0.98/ccxt/test/base/test_deep_extend.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_deposit_withdrawal.py` & `ccxt-3.0.98/ccxt/test/base/test_deposit_withdrawal.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_exchange_datetime_functions.py` & `ccxt-3.0.98/ccxt/test/base/test_exchange_datetime_functions.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_funding_rate_history.py` & `ccxt-3.0.98/ccxt/test/base/test_funding_rate_history.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_ledger_entry.py` & `ccxt-3.0.98/ccxt/test/base/test_ledger_entry.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_ledger_item.py` & `ccxt-3.0.98/ccxt/test/base/test_ledger_item.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_leverage_tier.py` & `ccxt-3.0.98/ccxt/test/base/test_leverage_tier.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_margin_modification.py` & `ccxt-3.0.98/ccxt/test/base/test_margin_modification.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_market.py` & `ccxt-3.0.98/ccxt/test/base/test_market.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_number.py` & `ccxt-3.0.98/ccxt/test/base/test_number.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_ohlcv.py` & `ccxt-3.0.98/ccxt/test/base/test_ohlcv.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_open_interest.py` & `ccxt-3.0.98/ccxt/test/base/test_open_interest.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_order.py` & `ccxt-3.0.98/ccxt/test/base/test_order.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_order_book.py` & `ccxt-3.0.98/ccxt/test/base/test_order_book.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_position.py` & `ccxt-3.0.98/ccxt/test/base/test_position.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_shared_methods.py` & `ccxt-3.0.98/ccxt/test/base/test_shared_methods.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_status.py` & `ccxt-3.0.98/ccxt/test/base/test_status.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_throttle.py` & `ccxt-3.0.98/ccxt/test/base/test_throttle.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_ticker.py` & `ccxt-3.0.98/ccxt/test/base/test_ticker.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_trade.py` & `ccxt-3.0.98/ccxt/test/base/test_trade.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_trading_fee.py` & `ccxt-3.0.98/ccxt/test/base/test_trading_fee.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/base/test_transaction.py` & `ccxt-3.0.98/ccxt/test/base/test_transaction.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/test/test_async.py` & `ccxt-3.0.98/ccxt/test/test_async.py`

 * *Files 1% similar despite different names*

```diff
@@ -235,18 +235,14 @@
                     finalValue = None
                     if isinstance(exchangeSettings[key], dict):
                         existing = get_exchange_prop(exchange, key, {})
                         finalValue = exchange.deep_extend(existing, exchangeSettings[key])
                     else:
                         finalValue = exchangeSettings[key]
                     set_exchange_prop(exchange, key, finalValue)
-            # support simple proxy
-            proxy = get_exchange_prop(exchange, 'httpProxy')
-            if proxy:
-                add_proxy(exchange, proxy)
         # credentials
         reqCreds = get_exchange_prop(exchange, 're' + 'quiredCredentials')  # dont glue the r-e-q-u-i-r-e phrase, because leads to messed up transpilation
         objkeys = list(reqCreds.keys())
         for i in range(0, len(objkeys)):
             credential = objkeys[i]
             isRequired = reqCreds[credential]
             if isRequired and get_exchange_prop(exchange, credential) is None:
@@ -263,15 +259,17 @@
         skipReason = exchange.safe_value(skippedSettingsForExchange, 'skip')
         if skipReason is not None:
             dump('[SKIPPED] exchange', exchangeId, skipReason)
             exit_script()
         if exchange.alias:
             dump('[SKIPPED] Alias exchange. ', 'exchange', exchangeId, 'symbol', symbol)
             exit_script()
-        #
+        proxy = exchange.safe_string(skippedSettingsForExchange, 'httpProxy')
+        if proxy is not None:
+            add_proxy(exchange, proxy)
         self.skippedMethods = exchange.safe_value(skippedSettingsForExchange, 'skipMethods', {})
         self.checkedPublicTests = {}
 
     def add_padding(self, message, size):
         # has to be transpilable
         res = ''
         missingSpace = size - len(message) - 0  # - 0 is added just to trick transpile to treat the .length string for php
```

### Comparing `ccxt-3.0.97/ccxt/test/test_sync.py` & `ccxt-3.0.98/ccxt/test/test_sync.py`

 * *Files 0% similar despite different names*

```diff
@@ -234,18 +234,14 @@
                     finalValue = None
                     if isinstance(exchangeSettings[key], dict):
                         existing = get_exchange_prop(exchange, key, {})
                         finalValue = exchange.deep_extend(existing, exchangeSettings[key])
                     else:
                         finalValue = exchangeSettings[key]
                     set_exchange_prop(exchange, key, finalValue)
-            # support simple proxy
-            proxy = get_exchange_prop(exchange, 'httpProxy')
-            if proxy:
-                add_proxy(exchange, proxy)
         # credentials
         reqCreds = get_exchange_prop(exchange, 're' + 'quiredCredentials')  # dont glue the r-e-q-u-i-r-e phrase, because leads to messed up transpilation
         objkeys = list(reqCreds.keys())
         for i in range(0, len(objkeys)):
             credential = objkeys[i]
             isRequired = reqCreds[credential]
             if isRequired and get_exchange_prop(exchange, credential) is None:
@@ -262,15 +258,17 @@
         skipReason = exchange.safe_value(skippedSettingsForExchange, 'skip')
         if skipReason is not None:
             dump('[SKIPPED] exchange', exchangeId, skipReason)
             exit_script()
         if exchange.alias:
             dump('[SKIPPED] Alias exchange. ', 'exchange', exchangeId, 'symbol', symbol)
             exit_script()
-        #
+        proxy = exchange.safe_string(skippedSettingsForExchange, 'httpProxy')
+        if proxy is not None:
+            add_proxy(exchange, proxy)
         self.skippedMethods = exchange.safe_value(skippedSettingsForExchange, 'skipMethods', {})
         self.checkedPublicTests = {}
 
     def add_padding(self, message, size):
         # has to be transpilable
         res = ''
         missingSpace = size - len(message) - 0  # - 0 is added just to trick transpile to treat the .length string for php
```

### Comparing `ccxt-3.0.97/ccxt/tidex.py` & `ccxt-3.0.98/ccxt/tidex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/timex.py` & `ccxt-3.0.98/ccxt/timex.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/tokocrypto.py` & `ccxt-3.0.98/ccxt/tokocrypto.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/upbit.py` & `ccxt-3.0.98/ccxt/upbit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/wavesexchange.py` & `ccxt-3.0.98/ccxt/wavesexchange.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/wazirx.py` & `ccxt-3.0.98/ccxt/wazirx.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/whitebit.py` & `ccxt-3.0.98/ccxt/whitebit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/woo.py` & `ccxt-3.0.98/ccxt/woo.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/xt.py` & `ccxt-3.0.98/ccxt/xt.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/yobit.py` & `ccxt-3.0.98/ccxt/yobit.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/zaif.py` & `ccxt-3.0.98/ccxt/zaif.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/zb.py` & `ccxt-3.0.98/ccxt/zb.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt/zonda.py` & `ccxt-3.0.98/ccxt/zonda.py`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/ccxt.egg-info/PKG-INFO` & `ccxt-3.0.98/ccxt.egg-info/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: ccxt
-Version: 3.0.97
+Version: 3.0.98
 Summary: A JavaScript / Python / PHP cryptocurrency trading library with support for 130+ exchanges
 Home-page: https://ccxt.com
 Author: Igor Kroitor
 Author-email: igor.kroitor@gmail.com
 License: MIT
 Project-URL: Homepage, https://ccxt.com
 Project-URL: Documentation, https://docs.ccxt.com
@@ -227,21 +227,21 @@
         console.log(version, Object.keys(exchanges));
         ```
         
         ### JavaScript (for use with the `<script>` tag):
         
         All-in-one browser bundle (dependencies included), served from a CDN of your choice:
         
-        * jsDelivr: https://cdn.jsdelivr.net/npm/ccxt@3.0.97/dist/ccxt.browser.js
-        * unpkg: https://unpkg.com/ccxt@3.0.97/dist/ccxt.browser.js
+        * jsDelivr: https://cdn.jsdelivr.net/npm/ccxt@3.0.98/dist/ccxt.browser.js
+        * unpkg: https://unpkg.com/ccxt@3.0.98/dist/ccxt.browser.js
         
         CDNs are not updated in real-time and may have delays. Defaulting to the most recent version without specifying the version number is not recommended. Please, keep in mind that we are not responsible for the correct operation of those CDN servers.
         
         ```HTML
-        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ccxt@3.0.97/dist/ccxt.browser.js"></script>
+        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ccxt@3.0.98/dist/ccxt.browser.js"></script>
         ```
         
         Creates a global `ccxt` object:
         
         ```JavaScript
         console.log (ccxt.exchanges) // print all available exchanges
         ```
```

### Comparing `ccxt-3.0.97/ccxt.egg-info/SOURCES.txt` & `ccxt-3.0.98/ccxt.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `ccxt-3.0.97/package.json` & `ccxt-3.0.98/package.json`

 * *Files 0% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9761904761904762%*

 * *Differences: {"'version'": "'3.0.98'"}*

```diff
@@ -217,9 +217,9 @@
         "update-badges": "node build/update-badges",
         "update-links": "node build/update-links",
         "vss": "node build/vss"
     },
     "type": "module",
     "types": "./js/ccxt.d.ts",
     "unpkg": "dist/ccxt.browser.js",
-    "version": "3.0.97"
+    "version": "3.0.98"
 }
```

### Comparing `ccxt-3.0.97/setup.py` & `ccxt-3.0.98/setup.py`

 * *Files identical despite different names*

